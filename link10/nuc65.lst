MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1

     1                          OPCODELOAD 6500
     2                          NOSYM
     3                  ; NUC00 IS A VERSION OF NUC65 WHICH HAS BEEN MODIFIED TO 
     4                  ; SUPPORT THE NEW SEIKO Y-DRIVER CUSTOM CHIP.
     5                  
     6                  ;   EQUATES
     7                  
     8  0022            QMASK   EQU     22H
     9  0024            QL2NWDS EQU     24H
    10  0025            QCHECK  EQU     25H
    11  0026            QPHNO1  EQU     26H
    12  0028            QBKTMSK EQU     28H
    13  0029            QNROMWDS EQU    29H
    14  002C            QSPEED  EQU     2CH     ; *************????????????????***********
    15  002D            QCLTMSK EQU     2DH
    16  002E            QHFCTAB EQU     2EH
    17  0030            QHFTAB  EQU     30H
    18  0032            QFTAB   EQU     32H
    19  0034            QNLANGS EQU     34H
    20  0035            QL1TAB  EQU     35H
    21                  
    22  8B86            ACCESS  EQU     08B86H  ; **************************************
    23  8B9C            NACCESS EQU     08B9CH  ; **************************************
    24  A678            UIRQVC  EQU     0A678H  ; **************************************
    25  A67A            NMIVEC  EQU     0A67AH  ; **************************************
    26                  
    27  3E00            IOB63   EQU     3E00H   ; ADDRESS OF LOW I/O BLOCK
    28  3EFC            IOB0    EQU     3EFCH   ; ADDRESS OF HIGH I/O BLOCK
    29  3F00            KB      EQU     3F00H   ; KEYBOARD START
    30  3F00            DSPLY   EQU     KB      ; DISPLAY START
    31  3FFA            LOBAT   EQU     3FFAH   ; READ: 80 BIT ON = LO BAT
    32  3FFB            TLO     EQU     3FFBH   ; R/W: TIMER LO BYTE
    33  3FFC            TMID    EQU     TLO+1   ; R/W: TIMER MIDDLE BYTE
    34  3FFD            THI     EQU     TMID+1  ; R/W: TIMER HI BYTE
    35  3FFE            LATCH   EQU     3FFEH   ; WRITE: HARDWARE CTL LATCH
    36  0080            DMASK   EQU     80H     ; LATCH: DSPLY ENABLE/KB DISSABLE
    37  0040            CPUON   EQU     40H     ; LATCH: CPU LOCKED ON
    38  0020            BEEPER  EQU     20H     ; LATCH: BEEPER DRIVER
    39  0010            SLOMEM  EQU     10H     ; LATCH: ENABLE SLOW MEMORY
    40  0008            DISPON  EQU     08H     ; LATCH: ENABLE XDRIVER POWER
    41  0004            CAPOFF  EQU     04H     ; LATCH: DISABLE INTRINSIC CAPSULES
    42                  ;               02H     ; LATCH: INTRINSIC CAP ADDR(HI)
    43                  ;               01H     ; LATCH: INTRINSIC CAP ADDR(LO)
    44  3FFF            NMIOFF  EQU     3FFFH   ; WRITE: RESET NMI FLIPFLOP
    45                  
    46  4000            ROMADDR EQU     4000H   ; ADDRESS OF CAPSULE SPACE
    47  9000            CTROM   EQU     9000H   ; ADDRESS OF CONTROL ROM
    48  0040            ROMPAGE EQU     ROMADDR SHR 8
    49  00D0            INTPAGE EQU     0D0H
    50  4021            ROMDICT EQU     ROMADDR+21H
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-2

    51  4028            BKMASK  EQU     ROMADDR+QBKTMSK
    52  0001            ALARM   EQU     1       ; EVENT QUEUE CODE
    53  000F            EVQHI   EQU     15      ; SIZE OF EVENT QUEUE-1
    54  005E            EWDCH   EQU     5EH
    55  0000            VTAB    EQU     0
    56  0001            ATAB    EQU     1
    57  0002            DTAB    EQU     2
    58  0000            RAWCLR  EQU     00H     ; CLEAR KEY
    59  003D            RAWOFF  EQU     3DH     ; OFF KEY
    60  0030            RAWSHFT EQU     30H     ; SHIFT KEY
    61  0020            RAWFUN  EQU     20H     ; FUNCTION KEY
    62                  
    63                  
    64                  ;   RAM ALLOCATION
    65                  
    66  0000                    ORG     0
    67                  
    68  0000            CHAINV: DS      3       ; JMP CHAIN
    69  0003            NEXTV:  DS      3       ; JMP NEXT
    70  0006            IVECT:  DS      3       ; JMP (IDICT)
    71  0009            EVECT:  DS      2       ; A(EXTRINSIC VECTOR LIST)
    72  000B            TECB:   DS      1       ; TIMER ECB
    73  000C            XVECT:  DS      3       ; JMP  (XDICT)
    74  000F            KBVECT: DS      2       ; A(KEYBOARD PATTERN)
    75  0011            CHVECT: DS      2       ; A(CHARACTER GENERATOR)
    76  0013            ACVECT: DS      2       ; A(ACCENT GENERATOR)
    77  0015            IC:     DS      2       ; HIGH LEVEL INSTR CNTR
    78  0017            FREEMEM: DS     2       ; PTR TO FREE RAM
    79  0019            USERRAM: DS     2       ; PTR TO USER SPACE
    80  001B            LATCHS: DS      1       ; LATCH SHADOW- CUR SETTING IN LATCH
    81  001C            KBOFFSET: DS    1       ; DISP TO CURRENT KEYBOARD FROM KBVECT
    82  001D            TIME:   DS      4       ; TIME OF CENTURY IN MINUTES
    83                  ;                         BEGINNING AT 00:00:00 1-1-79
    84                  
    85  0021            APTR:   DS      2       ; A(NEXT ALARM TIME)
    86                  
    87  0023            PCH:    DS      1       ; PREV CHAR
    88  0024            CLRRAM  EQU     .       ; INIT CLEARS RAM FROM HERE ON
    89                  
    90  0024            CURROM: DS      1
    91  0025            T00:     DS      1
    92  0026            T01:     DS      1
    93  0027            T02:     DS      1
    94  0028            T03:     DS      1
    95  0029            T04:     DS      1       
    96  002A            T05:     DS      1
    97  002B            T06:     DS      1       
    98  002C            T07:     DS      1       
    99                  
   100  002D            IRQA:   DS      1
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-3

   101                  
   102  002E            NMI0:   DS      5       ; NMI SAVE AREA
   103                  
   104  0033            I0:     DS      1       
   105  0034            I1:     DS      1       
   106                  
   107  0035            ITBL:   DS      16      ; 8 INTERRUPT VECTORS
   108                  
   109  0045            STIME:  DS      2       ; COUNTER INCREMENTED EACH 62.5 MS (SEC/16)
   110  0047            DTIME:  DS      1       ; COUNTER DECREMENTED EACH 62.5 MS
   111  0048            DLYCON: DS      1       ; DTIME RESET VALUE
   112  0049            DLYCNT: DS      1       ; COUNT OF DTIME RESETS
   113                  
   114  004A            EVQPI:  DS      1       ; EVQ I/P PTR
   115  004B            EVQPO:  DS      1       ; EVQ O/P PTR
   116  004C            EVQ:    DS      16      ; EVENT QUEUE
   117                  
   118  005C            FLAG1:  DS      1       ; STATUS FLAGS
   119  0080            ROMBIT  EQU     80H     ; FLAG1- CURRENT ROM IS OLD FORMAT
   120  0040            ROLLBIT EQU     40H     ; FLAG1- PREV CHAR WAS ROLLOVER
   121  0020            SHFTB1  EQU     20H
   122  0010            SHFTB2  EQU     10H
   123  0008            SHFTLK  EQU     08H
   124  0004            ALTBIT  EQU     04H
   125  0002            FUNBIT  EQU     02H
   126  0001            STKBIT  EQU     01H
   127                  
   128  005D            BASE:   DS      1       ; CURRENT NUMBER BASE
   129  005E            CRYBIT: DS      1       ; 0 IF NO CARRY, 1 IF CARRY
   130  005F            KBX:    DS      1       ; KB WORK AREA
   131  0060            KBY:    DS      1       ; KB WORK AREA
   132  0061            CH:     DS      2       ; CUR CHAR(S)
   133  0063            CHCNT:  DS      1       ; CNT OF CUR CHARS
   134  0005            PATSZ   EQU     5       ; NO OF BYTES IN DOT PATTERN ********************
   135                  
   136  0064            CURSOR: DS      1       ; INDEX TO CURSOR, 80H=INACTIVE
   137                  
   138  0065            PSP:    DS      1       ; PARAMETER STACK POINTER
   139  0066            STKSAV: DS      1       ; RSTK SAVE AREA DURING PWR OFF
   140                  
   141  0067            ROMPTR: DS      2
   142  0025                    W0      EQU     T00
   143  0026                    W1      EQU     T01
   144  0069            PSTK:   DS      20H
   145                  
   146  0089            NMIFLAG: DS     1
   147                  
   148  008A            IRQY:   DS      1
   149  008B            CURBANK1: DS    1
   150  008C            CURBANK2: DS    1
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-4

   151  008D            IRQXV:  DS      3
   152                  
   153  0090            IPQI:   DS      1
   154  0091            IPQO:   DS      1
   155  0092            IPQ:    DS      8
   156                  
   157  009A            OPQI:   DS      1
   158  009B            OPQO:   DS      1
   159  009C            OPQ:    DS      8
   160                  
   161  00DD                    ORG     0DDH
   162  00DD            GETDOTX: DS     3
   163  00E0            PBUFPT: DS      1
   164  00E1            IRQCT:  DS      1
   165  00E2            DOTCTR1: DS     1
   166  00E3            DOTCTR2: DS     1
   167  00E4            PDOTS:  DS      2
   168                  
   169  00FE                    ORG     0FEH
   170  00FE            WARM0:  DS      1
   171  00FF            WARM1:  DS      1
   172  005A            WARMCODE EQU    5AH
   173                  
   174  0100                    ORG     100H
   175                  
   176  0100            P1      EQU     .
   177  0100                    DS      100     ; RSTK=100 BYTES
   178  0163            RSTK    EQU     .-1
   179  0164                    DS      2       ; PADDING**********************************
   180                  
   181  001A            DSIZE   EQU     26
   182  001B            DBUFL   EQU     DSIZE+1 ; DISPLAY BUFFER SIZE
   183  0166            DBUF:   DS      DBUFL   ; DISPLAY CHARACTER BUFFER
   184  0181            DBUF1:  DS      DBUFL   ; DBUF CHARACTER FLAGS
   185  0080            CNEG    EQU     80H     ; DBUF1: DISPLAY NEGATIVE CHAR
   186  0040            CFLSH   EQU     40H     ; DBUF1: FLASH CHAR
   187  0020            CQMK    EQU     20H     ; DBUF1: ALTERNATE CHAR WITH '?'
   188  0010            CALT    EQU     10H     ; DBUF1: USE ALT CHAR SET
   189                  ; DBUF1 10H IS UNASSIGNED.
   190                  ; DBUF1 BITS 0-3 INDICATE ONE OF 15 ACCENT MARKS.
   191  019C            ARRAYV  EQU     .       ; BEGINNING OF FREE SPACE
   192  019C            PBUF:   DS      18      ; PRINTER BUFFER
   193  0400            HIRAM   EQU     400H    ; END OF FREE SPACE
   194                  
   195                  
   196  F000                    ORG     0F000H
   197                  
   198  F000            IDICT   EQU     .
   199  0000            EOW     EQU     (.-IDICT)/2
   200  F000  F1F3              DW      EOWX
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-5

   201  0001            POP     EQU     (.-IDICT)/2
   202  F002  C4F4              DW      POPX
   203  0002            IFI     EQU     (.-IDICT)/2
   204  F004  8AF4              DW      IFX
   205  0003            ENDI    EQU     (.-IDICT)/2
   206  F006  A2F4              DW      ENDX
   207  0004            ELSE    EQU     (.-IDICT)/2
   208  F008  B4F4              DW      ELSEX
   209  0005            SWAP    EQU     (.-IDICT)/2
   210  F00A  0CF5              DW      SWAPX
   211  0006            DUP     EQU     (.-IDICT)/2
   212  F00C  21F5              DW      DUPX
   213  0007            OVER    EQU     (.-IDICT)/2
   214  F00E  2BF5              DW      OVERX
   215  0008            PLS1    EQU     (.-IDICT)/2
   216  F010  48F5              DW      PLS1X
   217  0009            MNS1    EQU     (.-IDICT)/2
   218  F012  4DF5              DW      MNS1X
   219  000A            PLUS    EQU     (.-IDICT)/2
   220  F014  52F5              DW      PLUSX
   221  000B            NOTI    EQU     (.-IDICT)/2
   222  F016  81F5              DW      NOTX
   223  000C            ANDI    EQU     (.-IDICT)/2
   224  F018  96F5              DW      ANDX
   225  000D            XORI    EQU     (.-IDICT)/2
   226  F01A  A9F5              DW      XORX
   227  000E            ORI     EQU     (.-IDICT)/2
   228  F01C  A2F5              DW      ORX
   229  000F            ROT     EQU     (.-IDICT)/2
   230  F01E  30F5              DW      ROTX
   231  0010            FSTK    EQU     (.-IDICT)/2
   232  F020  3BF5              DW      FSTKX
   233  0011            FRAM    EQU     (.-IDICT)/2
   234  F022  C0F5              DW      FRAMX
   235  0012            EQ      EQU     (.-IDICT)/2
   236  F024  D5F5              DW      EQX
   237  0013            NE      EQU     (.-IDICT)/2
   238  F026  E4F5              DW      NEX
   239  0014            GT      EQU     (.-IDICT)/2
   240  F028  EBF5              DW      GTX
   241  0015            GE      EQU     (.-IDICT)/2
   242  F02A  F4F5              DW      GEX
   243  0016            LE      EQU     (.-IDICT)/2
   244  F02C  FBF5              DW      LEX
   245  0017            LT      EQU     (.-IDICT)/2
   246  F02E  04F6              DW      LTX
   247  0018            SRAM    EQU     (.-IDICT)/2
   248  F030  CAF5              DW      SRAMX
   249  0019            FET     EQU     (.-IDICT)/2
   250  F032  39F6              DW      FETX
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-6

   251  001A            MOVE    EQU     (.-IDICT)/2
   252  F034  6EF6              DW      MOVEX
   253  001B            PSH1    EQU     (.-IDICT)/2
   254  F036  B0F6              DW      PSH1X
   255  001C            RSET    EQU     (.-IDICT)/2
   256  F038  B6F6              DW      RSETX
   257  001D            RSHF    EQU     (.-IDICT)/2
   258  F03A  C3F6              DW      RSHFX
   259  001E            LSHF    EQU     (.-IDICT)/2
   260  F03C  CFF6              DW      LSHFX
   261  001F            MAP     EQU     (.-IDICT)/2
   262  F03E  02F1              DW      MAPH    ;MAP
   263  0020            GETCHR  EQU     (.-IDICT)/2
   264  F040  02F1              DW      GNIX    ; GNI
   265  0021            SRCH    EQU     (.-IDICT)/2
   266  F042  02F1              DW      SEARCH  ; LLKUP
   267  0022            STEPWD  EQU     (.-IDICT)/2
   268  F044  02F1              DW      STPWDX  ; STPWD
   269  0023            STO     EQU     (.-IDICT)/2
   270  F046  4EF6              DW      STOX
   271  0024            PSET    EQU     (.-IDICT)/2
   272  F048  BCF6              DW      PSETX
   273  0025            XTND    EQU     (.-IDICT)/2
   274  F04A  58F4              DW      XTNDX
   275  0026            CASE    EQU     (.-IDICT)/2
   276  F04C  40F4              DW      CASEX
   277  0027            FORI    EQU     (.-IDICT)/2
   278  F04E  DBF6              DW      FORX
   279  0028            DO      EQU     (.-IDICT)/2
   280  F050  DEF6              DW      DOX
   281  0029            LOOP    EQU     (.-IDICT)/2
   282  F052  F1F6              DW      LOOPX
   283  002A            PLOOP   EQU     (.-IDICT)/2
   284  F054  F5F6              DW      PLOOPX
   285  002B            XLOOP   EQU     (.-IDICT)/2
   286  F056  13F7              DW      XLOOPX
   287  002C            LNDX    EQU     (.-IDICT)/2
   288  F058  1AF7              DW      LNDXX
   289  002D            GETKB   EQU     (.-IDICT)/2
   290  F05A  A8F3              DW      DEQ
   291  002E            CVB     EQU     (.-IDICT)/2
   292  F05C  1FF7              DW      CVBX
   293  002F            CVD     EQU     (.-IDICT)/2
   294  F05E  39F7              DW      CVDX
   295  0030            SETB    EQU     (.-IDICT)/2
   296  F060  67F7              DW      SETBX
   297  0031            HEX     EQU     (.-IDICT)/2
   298  F062  6EF7              DW      HEXX
   299  0032            DECIMAL EQU     (.-IDICT)/2
   300  F064  72F7              DW      DECX
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-7

   301  0033            OCTAL   EQU     (.-IDICT)/2
   302  F066  79F7              DW      OCTX
   303  0034            BINARY  EQU     (.-IDICT)/2
   304  F068  7DF7              DW      BINX
   305  0035            TRU     EQU     (.-IDICT)/2
   306  F06A  2DF6              DW      TRUE
   307  0036            FLS     EQU     (.-IDICT)/2
   308  F06C  34F6              DW      FALSE
   309  0037            OFET    EQU     (.-IDICT)/2
   310  F06E  3EF6              DW      OFETX
   311  0038            OSTO    EQU     (.-IDICT)/2
   312  F070  57F6              DW      OSTOX
   313  0039            PSTO    EQU     (.-IDICT)/2
   314  F072  74F5              DW      PSTOX
   315  003A            MIN     EQU     (.-IDICT)/2
   316  F074  B0F5              DW      MINX
   317  003B            MAX     EQU     (.-IDICT)/2
   318  F076  B8F5              DW      MAXX
   319  003C            COMP    EQU     (.-IDICT)/2
   320  F078  1CF6              DW      CMPX
   321  003D            PSH2    EQU     (.-IDICT)/2
   322  F07A  AAF6              DW      PSH2X
   323  003E            POP2    EQU     (.-IDICT)/2
   324  F07C  C2F4              DW      POP2X
   325  003F            DUP2    EQU     (.-IDICT)/2
   326  F07E  17F5              DW      DUP2X
   327  0040            SWAP2   EQU     (.-IDICT)/2
   328  F080  F9F4              DW      SWAP2X
   329  0041            DARRAY  EQU     (.-IDICT)/2
   330  F082  C9F4              DW      DARRAYX
   331  0042            ARRAY   EQU     (.-IDICT)/2
   332  F084  E8F4              DW      ARRAYX
   333  0043            ABS     EQU     (.-IDICT)/2
   334  F086  8AF5              DW      ABSX
   335  0044            RDBUF   EQU     (.-IDICT)/2
   336  F088  59FC              DW      RDBUFX
   337  0045            PRT     EQU     (.-IDICT)/2
   338  F08A  88FC              DW      PRTX
   339  0046            DOUT    EQU     (.-IDICT)/2
   340  F08C  B0FC              DW      DOUTX
   341  0047            WSRCH   EQU     (.-IDICT)/2
   342  F08E  0000              DW      0       ; **************************
   343  0048           D   EQU     (.-IDICT)/2
   344  F090  0000              DW      0       ; **************************
   345  0049            EXEC1   EQU     (.-IDICT)/2
   346  F092  0000              DW      0       ; **************************
   347  004A            EXEC9   EQU     (.-IDICT)/2
   348  F094  0000              DW      0       ; **************************
   349  004B            BSET    EQU     (.-IDICT)/2
   350  F096  93F6              DW      BSETX
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-8

   351  004C            MINUS   EQU     (.-IDICT)/2
   352  F098  61F5              DW      MINUSX
   353  004D            DADD    EQU     (.-IDICT)/2
   354  F09A  6AF5              DW      DADDX
   355  004E            DCHAR   EQU     (.-IDICT)/2
   356  F09C  81F7              DW      DCHARX
   357  004F            UPDISP  EQU     (.-IDICT)/2
   358  F09E  8BF7              DW      UPDISPX
   359  0050            PRTCHR  EQU     (.-IDICT)/2
   360  F0A0  A3F7              DW      PRTCHRX
   361  0051            RDCHR   EQU     (.-IDICT)/2
   362  F0A2  E9F7              DW      RDCHRX
   363  00A4            ENAB    EQU     (.-IDICT)
   364  F0A4  1FF2              DW      ENABX
   365  F0A6            X2:
   366                  
   367                  
   368                  ; INIT- INITIALIZE RAM & BEGIN HIGH LVL EXECUTION
   369                  
   370  F0A6  A040      INIT:   LDY     #CPUON
   371  F0A8  ADFD3F            LDA     THI     ; DID TIMER EXPIRE?
   372  F0AB  3002              BMI     .+4     ; BRANCH IF YES
   373  F0AD  A048              LDY     #CPUON+DISPON
   374  F0AF  8CFE3F            STY     LATCH
   375  F0B2  A95A              LDA     #WARMCODE ; TEST FOR WARM START
   376  F0B4  C5FE              CMP     WARM0
   377  F0B6  D01B              BNE     INIT1
   378  F0B8  0A                DB 0AH;ASLA
   379  F0B9  C5FF              CMP     WARM1
   380  F0BB  D016              BNE     INIT1
   381                  ;   WARM START: RESTORE REGS & DISPLAY.
   382  F0BD  A55C              LDA     FLAG1   ; TEST CONDITION OF STACK
   383  F0BF  2901              AND     #STKBIT ; *
   384  F0C1  F029              BEQ     CLEAR   ; BRANCH IF STK NOT SET
   385  F0C3  455C              EOR     FLAG1   ; RESET STK BIT
   386  F0C5  855C              STA     FLAG1   
   387  F0C7  A666              LDX     STKSAV
   388  F0C9  9A                TXS
   389  F0CA  98                TYA
   390  F0CB  2094F3            JSR     ORLATCH ; LATCH CPU,(DISPLAY), AND REST OF LATCH
   391  F0CE  E689              INC     NMIFLAG ; SIMULATE NMI
   392  F0D0  4C38F2            JMP     NMIEP1
   393                  
   394  F0D3  98        INIT1:  TYA
   395  F0D4  2908              AND     #DISPON ; IS ON SWITCH ON?
   396  F0D6  D008              BNE     INIT2   ; BRANCH IF YES
   397  F0D8  8DFD3F            STA     THI     ; RESET TIMER
   398  F0DB  8DFE3F            STA     LATCH   ; TURN POWER OFF
   399  F0DE  F0FE              BEQ     .       ; WAIT FOR SLEEP
   400  F0E0  A263      INIT2:  LDX     #(RSTK-P1)
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-9

   401  F0E2  9A                TXS             ; INIT RSTK
   402  F0E3  2006F1            JSR     INITMEM ; INIT RAM
   403  F0E6  2091F1            JSR     SETTIME ; GET TIME & DATE FROM USER
   404  F0E9  4CF2F0            JMP     CLR01
   405                  
   406  F0EC  A263      CLEAR:  LDX     #(RSTK-P1)
   407  F0EE  9A                TXS
   408  F0EF  2006F1            JSR     INITMEM
   409  F0F2  A900      CLR01:  LDA     #0
   410  F0F4  8DFC3F            STA     TMID;**********************************************
   411  F0F7  8DFF3F            STA     NMIOFF ;**************************************
   412  F0FA  2095F7            JSR     UPDISPL
   413  F0FD  A97F              LDA     #7FH;********************************
   414  F0FF  8DFD3F            STA     THI ;********************************
   415  F102            SEARCH:
   416  F102            GNIX:
   417  F102            MAPH:
   418  F102            STPWDX:
   419  F102  58                CLI
   420  F103  4CF7F3            JMP     NEXT
   421                  
   422  F106  78        INITMEM: SEI            ; DISSABLE IRQ
   423  F107  D8                CLD             ; CLR DEC FLG
   424  F108  A224              LDX     #CLRRAM
   425  F10A  A900              LDA     #0
   426  F10C  851C              STA     KBOFFSET ; USE ALPHA KB
   427  F10E  9500      INCLR:  STA     0,X     ; CLEAR RAM
   428  F110  E8                INX
   429  F111  D0FB              BNE     INCLR
   430  F113  A2FC              LDX     #(IOB0 MOD 256)
   431  F115  9D023E    INCLR1: STA     IOB63+2,X
   432  F118  CA                DEX
   433  F119  CA                DEX
   434  F11A  CA                DEX
   435  F11B  CA                DEX
   436  F11C  D0F7              BNE     INCLR1
   437  F11E  A21B              LDX     #DBUFL
   438  F120  A920      INCLR2: LDA     #' '    ; CLR DISPLAY TO BLANKS
   439  F122  9D6501            STA     DBUF-1,X
   440  F125  A900              LDA     #0      ; CLR CHAR FLAGS TO 0
   441  F127  9D8001            STA     DBUF1-1,X
   442  F12A  CA                DEX
   443  F12B  D0F3              BNE     INCLR2  ; CLEAR DISPLAY
   444  F12D  A94C              LDA     #CPUON+CAPOFF+DISPON ; INIT LATCH
   445  F12F  851B              STA     LATCHS
   446  F131  8DFE3F            STA     LATCH
   447  F134  A9F0              LDA     #(IDICT SHR 8)
   448  F136  8508              STA     IVECT+2 ; SET UP INTRINSIC VECTOR
   449  F138  A96C              LDA     #6CH    ; 6C=JMP INDIRECT INSTR
   450  F13A  8506              STA     IVECT   ; INIT IVECT
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-10

   451  F13C  850C              STA     XVECT   ; AND XVECT
   452  F13E  A942              LDA     #(KBSET MOD 256)
   453  F140  850F              STA     KBVECT  ; INIT KB VECTOR
   454  F142  A9F9              LDA     #(KBSET SHR 8)
   455  F144  8510              STA     KBVECT+1
   456  F146  A9A2              LDA     #((CHSET-0A0H) MOD 256)
   457  F148  8511              STA     CHVECT  ; INIT CHAR GEN VECTOR
   458  F14A  A9F9              LDA     #((CHSET-0A0H) SHR 8)
   459  F14C  8512              STA     CHVECT+1
   460  F14E  A93A              LDA     #(ACPAT MOD 256)
   461  F150  8513              STA     ACVECT  ; INIT ACCENT GEN VECTOR
   462  F152  A9F9              LDA     #(ACPAT SHR 8)
   463  F154  8514              STA     ACVECT+1
   464  F156  A900              LDA     #(HIRAM MOD 256)
   465  F158  8517              STA     FREEMEM
   466  F15A  A904              LDA     #(HIRAM SHR 8)
   467  F15C  8518              STA     FREEMEM+1
   468  F15E  A90A              LDA     #10     ; INIT BASE TO DECIMAL
   469  F160  855D              STA     BASE    ; *
   470                  ; INIT CHAIN AND NEXT VECTORS...
   471  F162  A94C              LDA     #4CH    ; JMP DIRECT OP CODE
   472  F164  858D              STA     IRQXV
   473  F166  85DD              STA     GETDOTX
   474  F168  8503              STA     NEXTV   ; STORE INTO NEXT VECTOR
   475  F16A  8500              STA     CHAINV  ; STORE INTO CHAIN VECTOR
   476  F16C  A92B              LDA     #(CHAIN MOD 256)
   477  F16E  8501              STA     CHAINV+1
   478  F170  A9F4              LDA     #(CHAIN SHR 8)
   479  F172  8502              STA     CHAINV+2
   480  F174  A9F7              LDA     #(NEXT MOD 256)
   481  F176  8504              STA     NEXTV+1
   482  F178  A9F3              LDA     #(NEXT SHR 8)
   483  F17A  8505              STA     NEXTV+2
   484  F17C  A990              LDA     #(CTROM SHR 8)
   485  F17E  858F              STA     IRQXV+2
   486  F180  A9F8              LDA     #(GETDOTS MOD 256)
   487  F182  85DE              STA     GETDOTX+1
   488  F184  A9F8              LDA     #(GETDOTS SHR 8)
   489  F186  85DF              STA     GETDOTX+2
   490                  ; INIT IC...
   491  F188  A93B              LDA     #(HILVL MOD 256)
   492  F18A  8515              STA     IC
   493  F18C  A9FC              LDA     #(HILVL SHR 8)
   494  F18E  8516              STA     IC+1
   495  F190  60                RTS
   496                  
   497  F191  60        SETTIME: RTS            ; GET TIME & DATE *******************
   498                  
   499  F192  4C72F2    BREAK:  JMP     RETINT  ; IGNORE BREAK FOR NOW********************
   500                  
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-11

   501                  ; IRQEP- ENTRY FOR I/O, AND BREAK INTERRUPTS
   502                  
   503  F195  48        IRQEP:  PHA             ; SAVE REGS
   504  F196  8A                TXA
   505  F197  48                PHA
   506  F198  98                TYA
   507  F199  48                PHA
   508  F19A  BA                TSX             ; TEST FOR BRK
   509  F19B  BD0401            LDA     P1+4,X  ; *
   510  F19E  2910              AND     #10H    ; *
   511  F1A0  D0F0              BNE     BREAK   ; BRANCH IF BREAK INSTR
   512                  
   513                  ; CODE GOES HERE TO RESOLVE I/O INTERRUPT
   514  F1A2  A910              LDA     #SLOMEM
   515  F1A4  2094F3            JSR     ORLATCH
   516  F1A7  A0FC              LDY     #(IOB0 MOD 256)
   517  F1A9  B9033E    IRQLP:  LDA     IOB63+3,Y ; TEST FOR INTERRUPT REQUEST
   518  F1AC  1009              BPL     IRQHIT  ; BRANCH IF GOT IT
   519  F1AE  88                DEY
   520  F1AF  88                DEY
   521  F1B0  88                DEY
   522  F1B1  88                DEY
   523  F1B2  D0F5              BNE     IRQLP   ; KEEP LOOKING
   524  F1B4  4C72F2            JMP     RETINT  ; EXIT IF UNSOLICITED
   525                  
   526  F1B7  A68B      IRQHIT: LDX     CURBANK1
   527  F1B9  A900              LDA     #0
   528  F1BB  9D023E            STA     IOB63+2,X ; DESELECT BANK
   529  F1BE  A901              LDA     #1      ; SELECT MEMORY BANK
   530  F1C0  99023E            STA     IOB63+2,Y
   531  F1C3  848A              STY     IRQY    ; SAVE I/O ADDR
   532  F1C5  AD0190            LDA     CTROM+1   ; CHECK FOR ROM
   533  F1C8  C943              CMP     #'C'    ; IS ROM HERE?
   534  F1CA  D01E              BNE     IRQSIMP ; BRANCH IF NO.
   535  F1CC  AD0090            LDA     CTROM   ; GET ENTRY VECTOR
   536  F1CF  858E              STA     IRQXV+1 ; SET UP ENTRY VECTOR
   537  F1D1  208D00            JSR     IRQXV   ; GO TO LOW LVL INT
   538  F1D4  A900      IRQHIT1: LDA    #0
   539  F1D6  A48A              LDY     IRQY
   540  F1D8  99023E            STA     IOB63+2,Y ; DISSABLE MEMORY BANK
   541  F1DB  A68B              LDX     CURBANK1
   542  F1DD  A58C              LDA     CURBANK2
   543  F1DF  9D023E            STA     IOB63+2,X ; RE-SELECT OLD BANK
   544  F1E2  A51B              LDA     LATCHS
   545  F1E4  8DFE3F            STA     LATCH   ; RESTORE LATCH
   546  F1E7  4C72F2            JMP     RETINT  ; RETURN FROM IRQ
   547                  
   548  F1EA  2CFF3E    IRQSIMP: BIT    IOB0+3  ; RCVE?
   549  F1ED  700B              BVS     SIMPXMIT ; BRANCH IF NO
   550  F1EF  ADFD3E            LDA     IOB0+1  ; READ DATA FROM UART
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-12

   551  F1F2  20C1F3            JSR     ENIP    ; PUT IT IN I/P QUEUE
   552  F1F5  2CFF3E            BIT     IOB0+3  ; IS TRANSMIT ACTIVE TOO?
   553  F1F8  30DA              BMI     IRQHIT1 ; BRANCH IF NO
   554  F1FA  A69B      SIMPXMIT: LDX   OPQO    ; IS ANYTHING IN O/P QUEUE?
   555  F1FC  E49A              CPX     OPQI    ; ?
   556  F1FE  D00C              BNE     SIMX2   ; BRANCH IF YES
   557  F200  A95C              LDA     #5CH    ; RESET TRANSMIT IRQ
   558  F202  8DFF3E            STA     IOB0+3  ; *
   559  F205  A97F              LDA     #7FH
   560  F207  8DFD3E            STA     IOB0+1  ; RESET IRQ
   561  F20A  D0C8              BNE     IRQHIT1
   562  F20C  20E5F3    SIMX2:  JSR     DEOP    ; GET O/P FROM QUEUE
   563  F20F  8DFD3E            STA     IOB0+1  ; SEND BYTE TO UART
   564  F212  A69A              LDX     OPQI
   565  F214  E49B              CPX     OPQO    ; ANY DATA TO XMIT?
   566  F216  D0BC              BNE     IRQHIT1 ; BRANCH IF YES
   567  F218  A95C              LDA     #5CH    ; RESET TRANS IRQ
   568  F21A  8DFF3E            STA     IOB0+3  ; *
   569  F21D  D0B5              BNE     IRQHIT1
   570                  
   571  F21F  A910      ENABX:  LDA     #SLOMEM
   572  F221  2094F3            JSR     ORLATCH
   573  F224  A93C              LDA     #3CH
   574  F226  8DFC3E            STA     IOB0    ; SET UP UART
   575  F229  A95C              LDA     #5CH
   576  F22B  8DFF3E            STA     IOB0+3  ; SET UP MODEM
   577  F22E  4CF7F3            JMP     NEXT
   578                  
   579                  
   580                  ; NMIEP- ENTRY FOR KEYBOARD AND TIMER INTERRUPTS
   581                  
   582  F231  E689      NMIEP:  INC     NMIFLAG ; INCREMENT NMI ENTRY COUNT
   583  F233  48                PHA
   584  F234  8A                TXA
   585  F235  48                PHA
   586  F236  98                TYA
   587  F237  48                PHA
   588  F238  A689      NMIEP1: LDX     NMIFLAG
   589  F23A  CA                DEX             ; 2ND ENTRY?
   590  F23B  F003              BEQ     NORMAL  ; BRANCH IF CURRENT ENTRY ONLY
   591  F23D  4CECF0            JMP     CLEAR   ; RESET SYSTEM IF PROBLEM
   592                  
   593  F240  ADFD3F    NORMAL: LDA     THI     ; TIMER INTERRUPT?
   594  F243  3035              BMI     TIMER   ; BRANCH IF YES
   595  F245  A51B      NMIKB:  LDA     LATCHS  ; RESET POSSIBLE MASK
   596  F247  297F              AND     #255-DMASK
   597  F249  8DFE3F            STA     LATCH
   598  F24C  ADFF3F            LDA     KB+255  ; IS KEY PRESSED?
   599  F24F  D033              BNE     KBHOT   ; BRANCH IF YES
   600                  
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-13

   601                  ; THIS PATH IS TAKEN AFTER A KEY HAS BEEN RELEASED...
   602                  
   603  F251  A9FF              LDA     #0FFH
   604  F253  8523              STA     PCH     ; INDICATE NO KEY PRESSED
   605  F255  A938              LDA     #SHFTB1+SHFTB2+SHFTLK
   606  F257  255C              AND     FLAG1
   607  F259  C930              CMP     #SHFTB1+SHFTB2 ; SHOULD SHIFT BE RESET?
   608  F25B  D004              BNE     NMIXIT  ; BRANCH IF NO
   609  F25D  455C              EOR     FLAG1   ; RESET SHIFT
   610  F25F  855C              STA     FLAG1
   611                  
   612  F261  A900      NMIXIT: LDA     #0
   613  F263  8589              STA     NMIFLAG ; RESET NMI COUNT
   614  F265  8DFF3F            STA     NMIOFF  ; RESET NMI
   615  F268  ADFD3F            LDA     THI     ; HAS TIMER EXPIRED?
   616  F26B  300B              BMI     TIMER1  ; BRANCH IF YES
   617  F26D  A51B              LDA     LATCHS
   618  F26F  8DFE3F            STA     LATCH   ; RESTORE POSSIBLE MASK
   619                  
   620  F272  68        RETINT: PLA             ; RESTORE REGS
   621  F273  A8                TAY
   622  F274  68                PLA
   623  F275  AA                TAX
   624  F276  68                PLA
   625  F277  40                RTI             ; RETURN FROM INTERRUPT
   626                  
   627  F278  E689      TIMER1: INC     NMIFLAG
   628  F27A  A940      TIMER:  LDA     #40H ;***********************************
   629  F27C  8DFD3F            STA     THI  ;***********************************
   630  F27F  E60B              INC     TECB ;***********************************
   631  F281  4C45F2            JMP     NMIKB ;**********************************
   632                  
   633  F284  A201      KBHOT:  LDX     #1      ; INIT ROW PTR
   634  F286  A000              LDY     #0      ; INIT CH CNT
   635  F288  8463              STY     CHCNT   ; *
   636  F28A  BD003F    KBLP1:  LDA     KB,X    ; READ KB ROW X
   637  F28D  D008              BNE     KBLP1Z  ; BRANCH IF HIT
   638  F28F  8A        KBLP1A: TXA             ; BMP TO NXT ROW
   639  F290  0A                DB 0AH;ASLA
   640  F291  B02A              BCS     KBDONE  ; BRANCH IF ALL ROWS READ
   641  F293  AA                TAX
   642  F294  C8                INY             ; BMP ROW CNTR
   643  F295  D0F3              BNE     KBLP1   ; ALWAYS BRANCH
   644                  
   645                  ; ROW HAS KEY PRESSED
   646  F297  865F      KBLP1Z: STX     KBX     ; SAVE X
   647  F299  8460              STY     KBY     ; SAVE Y
   648  F29B  AA                TAX             ; SAVE ROW DATA IN X
   649  F29C  98                TYA             ; A=ROW NO.
   650  F29D  0A                DB 0AH;ASLA            ; MPY ROW BY 8
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-14

   651  F29E  0A                DB 0AH;ASLA
   652  F29F  0A                DB 0AH;ASLA
   653  F2A0  A8                TAY
   654  F2A1  8A                TXA             ; GET ROW DATA BACK IN A
   655  F2A2  4A        KBLP2:  DB 4AH ;LSRA            ; SHIFT KEYS THRU CARRY
   656  F2A3  900A              BCC     KBLP2A  ; BRANCH IF KEY NOT PRESSED
   657  F2A5  A663              LDX     CHCNT   ; 2 CHARS ALREADY READ?
   658  F2A7  E002              CPX     #2      ; ?
   659  F2A9  F00F              BEQ     KBIGNX  ; BRANCH IF YES
   660  F2AB  9461              STY     CH,X    ; STORE NEW CHAR
   661  F2AD  E663              INC     CHCNT   ; BMP CHAR CNT
   662  F2AF  C8        KBLP2A: INY             ; ADD 1 TO CHAR
   663  F2B0  C900              CMP     #0      ; IS ACC EMPTY?
   664  F2B2  D0EE              BNE     KBLP2   ; BRANCH IF NO
   665  F2B4  A460              LDY     KBY     ; RESTORE X & Y
   666  F2B6  A65F              LDX     KBX     ; *
   667  F2B8  D0D5              BNE     KBLP1A  ; ALWAYS BRANCH
   668                  
   669  F2BA  4C51F3    KBIGNX: JMP     KBIGN
   670                  
   671                  ; CH(0), CH(1) CONTAIN RAW CHARS
   672  F2BD  A663      KBDONE: LDX     CHCNT   ; X=0,1,2
   673  F2BF  F0F9              BEQ     KBIGNX  ; EXIT IF NO KEY PRESSED
   674  F2C1  CA                DEX             ; IS 1 KEY PRESSED?
   675  F2C2  D044              BNE     KBROLL  ; BRANCH IF NO. 2.
   676  F2C4  A9BF              LDA     #255-ROLLBIT
   677  F2C6  255C              AND     FLAG1   ; INDICATE NO ROLLOVER
   678  F2C8  855C              STA     FLAG1   
   679  F2CA  A561      KPD1:   LDA     CH      ; A=CHAR
   680  F2CC  C523              CMP     PCH     ; SAME AS PREV CHAR?
   681  F2CE  F0EA              BEQ     KBIGNX  ; EXIT IF YES
   682  F2D0  A8                TAY             ; GET RAW CHAR IN Y
   683  F2D1  8423      KPD2:   STY     PCH     ; SAVE RAW CHAR
   684  F2D3  C000              CPY     #RAWCLR ; CLEAR KEY?
   685  F2D5  D003              BNE     .+5     ; BRANCH IF NO
   686  F2D7  4CECF0            JMP     CLEAR
   687  F2DA  C03D              CPY     #RAWOFF ; OFF KEY?
   688  F2DC  F076              BEQ     TURNOFF ; TURN OFF IF YES
   689  F2DE  A902              LDA     #FUNBIT
   690  F2E0  255C              AND     FLAG1   ; WORKING ON PREV FUNCTION?
   691  F2E2  D03F              BNE     KBFUN   ; BRANCH IF YES
   692  F2E4  C030              CPY     #RAWSHFT ; SHIFT KEY?
   693  F2E6  F063              BEQ     KBSHFT  ; BRANCH IF YES
   694  F2E8  C020              CPY     #RAWFUN ; FUNCTION KEY?
   695  F2EA  F05B              BEQ     KBFUNKY ; BRANCH IF YES
   696  F2EC  A928              LDA     #SHFTB1+SHFTLK ; SHIFTING THIS CHAR?
   697  F2EE  255C              AND     FLAG1
   698  F2F0  F008              BEQ     KBNOSH  ; BRANCH IF NO
   699  F2F2  A910              LDA     #SHFTB2 ; INDICATE THIS CHAR SHIFTED
   700  F2F4  055C              ORA     FLAG1
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-15

   701  F2F6  855C              STA     FLAG1
   702  F2F8  A940              LDA     #40H    ; ADD 64 IF YES
   703  F2FA  0523      KBNOSH: ORA     PCH     ; COMBINE WITH CHAR
   704  F2FC  18                CLC
   705  F2FD  651C              ADC     KBOFFSET ; ADD TO OFFSET
   706  F2FF  A8                TAY             ; GET DISP IN Y
   707  F300  B10F              LDA     (KBVECT),Y ; A=REAL CHAR
   708  F302  209CF3            JSR     ENQ     ; RECORD THE EVENT
   709  F305  4C51F3            JMP     KBXIT   ; CONTINUE
   710                  
   711  F308  A940      KBROLL: LDA     #ROLLBIT ; TEST PREV ROLLOVER
   712  F30A  245C              BIT     FLAG1   ; *
   713  F30C  D043              BNE     KBXIT   ; BRANCH IF PREV WAS ROLL
   714  F30E  A623              LDX     PCH     ; X=PREV CHAR
   715  F310  A462              LDY     CH+1    ; Y=CH2
   716  F312  E461              CPX     CH      ; IS CH1 SAME AS PREV?
   717  F314  F006              BEQ     KBR1    ; BRANCH IF YES
   718  F316  A461              LDY     CH      ; Y=CH1
   719  F318  E462              CPX     CH+1    ; IS CH2 SAME AS PREV?
   720  F31A  D0AE              BNE     KPD1    ; ACCEPT BOTH CHARS
   721  F31C  055C      KBR1:   ORA     FLAG1   ; TURN ON ROLL BIT
   722  F31E  855C              STA     FLAG1   ; *
   723  F320  4CD1F2            JMP     KPD2    ; CONTINUE
   724                  
   725  F323  A9FD      KBFUN:  LDA     #255-FUNBIT     ; RESET FUNCTION FLAG
   726  F325  255C              AND     FLAG1
   727  F327  855C              STA     FLAG1
   728  F329  C030              CPY     #RAWSHFT ; FUN-SHIFT? (SHIFT LOCK?)
   729  F32B  D009              BNE     KBFB    ; BRANCH IF NO
   730  F32D  4908              EOR     #SHFTLK
   731  F32F  29CF              AND     #255-SHFTB1-SHFTB2 ; RESET SHIFT
   732  F331  855C              STA     FLAG1   ; TOGGLE SHIFT LOCK
   733  F333  4C51F3            JMP     KBXIT
   734                  
   735  F336  C010      KBFB:   CPY     #10H    ; FUNCTION 10? (SHIFT TO/FROM KATA-KANA?)
   736  F338  D017              BNE     KBXIT   ; BRANCH IF NO
   737  F33A  A900              LDA     #0
   738  F33C  C51C              CMP     KBOFFSET ; IS OFFSET =0?
   739  F33E  D002              BNE     .+4     ; BRANCH IF NO
   740  F340  A980              LDA     #80H
   741  F342  851C              STA     KBOFFSET
   742  F344  4C51F3            JMP     KBXIT
   743                  
   744  F347  A902      KBFUNKY: LDA    #FUNBIT ; INDICATE FUNCTION KEY PRESSED
   745  F349  D002              BNE     KBSHFT1 ; ALWAYS BRANCH
   746                  
   747  F34B  A920      KBSHFT: LDA     #SHFTB1
   748  F34D  055C      KBSHFT1:ORA     FLAG1
   749  F34F  855C              STA     FLAG1
   750                  ;       FALL INTO KBXIT.....
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-16

   751                  
   752  F351            KBIGN   EQU     .
   753  F351  4C61F2    KBXIT:  JMP     NMIXIT
   754                  
   755  F354  A900      TURNOFF: LDA    #0
   756  F356  8589              STA     NMIFLAG
   757  F358  A9F7              LDA     #255-DISPON
   758  F35A  208FF3            JSR     ANDLATCH ; TURN OFF DISPLAY
   759  F35D  8DFF3F            STA     NMIOFF  ; RESET LATCH
   760  F360  BA                TSX             ; GET STK IN X
   761  F361  4C74F3            JMP     SLEEP1  ; CONTINUE
   762                  
   763  F364  08        SLEEP:  PHP             ; SAVE STATUS
   764  F365  78                SEI             ; DISSABLE IRQ
   765  F366  48                PHA
   766  F367  8A                TXA
   767  F368  48                PHA
   768  F369  98                TYA
   769  F36A  48                PHA
   770  F36B  BA                TSX
   771  F36C  FE0501            INC     P1+5,X  ; SIMULATE INTERRUPT
   772  F36F  D003              BNE     .+5
   773  F371  FE0601            INC     P1+6,X
   774  F374  8666      SLEEP1: STX     STKSAV  ; SAVE STACK PTR
   775  F376  A55C              LDA     FLAG1
   776  F378  0901              ORA     #STKBIT
   777  F37A  855C              STA     FLAG1
   778  F37C  A95A              LDA     #WARMCODE
   779  F37E  85FE              STA     WARM0
   780  F380  0A                DB 0AH;ASLA
   781  F381  85FF              STA     WARM1
   782  F383  A9BF              LDA     #255-CPUON
   783  F385  251B              AND     LATCHS
   784  F387  851B              STA     LATCHS
   785  F389  8DFE3F            STA     LATCH
   786  F38C  4C8CF3            JMP     .       ; WAIT FOR SLEEP TO COME...
   787                  
   788  F38F  251B      ANDLATCH: AND    LATCHS
   789  F391  4C96F3            JMP     DOLATCH
   790  F394  051B      ORLATCH: ORA    LATCHS
   791  F396  851B      DOLATCH: STA    LATCHS
   792  F398  8DFE3F            STA     LATCH
   793  F39B  60                RTS
   794                  
   795                  ; ENQ- ENQUEUE EVENT ON EVENT QUEUE
   796                  
   797  F39C  A64A      ENQ:    LDX     EVQPI
   798  F39E  954C              STA     EVQ,X
   799  F3A0  CA                DEX
   800  F3A1  1002              BPL     .+4
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-17

   801  F3A3  A20F              LDX     #EVQHI
   802  F3A5  864A              STX     EVQPI
   803  F3A7  60                RTS
   804                  
   805                  ; DEQ- DEQUEUE CHAR FROM EVENT QUEUE
   806                  
   807  F3A8  A44B      DEQ:    LDY     EVQPO
   808  F3AA  C44A              CPY     EVQPI
   809  F3AC  D006              BNE     DEQ01
   810  F3AE  2064F3            JSR     SLEEP   ; WAIT FOR KEY PRESS
   811  F3B1  4CA8F3            JMP     DEQ     ; TRY AGAIN
   812  F3B4  B94C00    DEQ01:  LDA     EVQ,Y
   813  F3B7  88                DEY
   814  F3B8  1002              BPL     .+4
   815  F3BA  A00F              LDY     #EVQHI
   816  F3BC  844B              STY     EVQPO
   817  F3BE  4C23F5            JMP     DUPX5
   818                  
   819  F3C1  A690      ENIP:   LDX     IPQI
   820  F3C3  9592              STA     IPQ,X
   821  F3C5  CA                DEX
   822  F3C6  1002              BPL     .+4
   823  F3C8  A207              LDX     #7
   824  F3CA  8690              STX     IPQI
   825  F3CC  60                RTS
   826                  
   827  F3CD  A691      DEIP:   LDX     IPQO
   828  F3CF  B592              LDA     IPQ,X
   829  F3D1  CA                DEX
   830  F3D2  1002              BPL     .+4
   831  F3D4  A207              LDX     #7
   832  F3D6  8691              STX     IPQO
   833  F3D8  60                RTS
   834                  
   835  F3D9  A69A      ENOP:   LDX     OPQI
   836  F3DB  959C              STA     OPQ,X
   837  F3DD  CA                DEX
   838  F3DE  1002              BPL     .+4
   839  F3E0  A207              LDX     #7
   840  F3E2  869A              STX     OPQI
   841  F3E4  60                RTS
   842                  
   843  F3E5  A69B      DEOP:   LDX     OPQO
   844  F3E7  B59C              LDA     OPQ,X
   845  F3E9  CA                DEX
   846  F3EA  1002              BPL     .+4
   847  F3EC  A207              LDX     #7
   848  F3EE  869B              STX     OPQO
   849  F3F0  60                RTS
   850                  
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-18

   851                  ; EOW- UN-CHAIN HIGH LEVEL WORDS
   852                  
   853  F3F1  68        EOWX:   PLA             ; REMOVE IC FROM STACK
   854  F3F2  8515              STA     IC      ; *
   855  F3F4  68                PLA             ; *
   856  F3F5  8516              STA     IC+1    ; *
   857                  ; FALL INTO NEXT....
   858                  
   859                  ; NEXT- FETCH THE NEXT TAG AND TRANSFER TO REQD WORD.
   860                  
   861  F3F7  EA        NEXT:   NOP             ; SET TO 00 FOR HL TRACE
   862  F3F8  A000              LDY     #0      ; SET INDEX=0
   863  F3FA  B115              LDA     (IC),Y  ; FETCH NEXT TAG
   864  F3FC  E615      NEXT1:  INC     IC      ; BUMP THE IC BY 1
   865  F3FE  D002              BNE     NEXT2   ; *
   866  F400  E616              INC     IC+1    ; *
   867  F402  A665      NEXT2:  LDX     PSP     ; INIT PSTK PTR
   868  F404  0A                DB 0AH;ASLA            ; OPCODE *2
   869  F405  B005              BCS     EXNEXT  ; BRANCH IF EXTRINSIC TAG
   870  F407  8507              STA     IVECT+1 ; STORE INTRINSIC VECTOR
   871  F409  4C0600            JMP     IVECT   ; JMP TO INDIR JMP
   872  F40C  A8        EXNEXT: TAY             ; Y=VECTOR INDEX
   873  F40D  C8                INY             ; POINT TO LO BYTE
   874  F40E  B109              LDA     (EVECT),Y ; A=LO BYTE OF DISP
   875  F410  18                CLC
   876  F411  6509              ADC     EVECT   ; ADD TO A(VECTOR TABLE)
   877  F413  8533              STA     I0      ; BUILD A(EP)
   878  F415  88                DEY             ; POINT TO HI BYTE
   879  F416  B109              LDA     (EVECT),Y ; A=HI BYTE OF DISP + FLAG
   880  F418  3007              BMI     ECHAIN  ; BRANCH IF EXTRINSIC WORD IS HIGH LVL
   881  F41A  650A      EXNXT1: ADC     EVECT+1 ; GET VECTOR
   882  F41C  8534              STA     I1
   883  F41E  6C3300            JMP     (I0)    ; GO TO EXTRINSIC LO LVL WORD
   884                  
   885  F421  297F      ECHAIN: AND     #7FH    ; STRIP HIGH LVL FLAG
   886  F423  650A              ADC     EVECT+1 ; GET A(HI LVL WORD)
   887  F425  AA                TAX             ; X=HI BYTE
   888  F426  A433              LDY     I0      ; Y=LO BYTE
   889  F428  4C33F4            JMP     CHAIN1  ; CONTINUE
   890                  
   891                  ; CHAIN- CHAIN HIGH LEVEL WORDS TOGETHER
   892                  
   893  F42B  68        CHAIN:  PLA
   894  F42C  A8                TAY             ; Y=LO ADDR
   895  F42D  68                PLA
   896  F42E  AA                TAX             ; X=HI ADDR
   897  F42F  C8                INY             ; BMP ADDR TO FIRST HL TAG
   898  F430  D001              BNE     CHAIN1
   899  F432  E8                INX
   900  F433  A516      CHAIN1: LDA     IC+1    ; PUT CURRENT IC ON STK
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-19

   901  F435  48                PHA
   902  F436  A515              LDA     IC
   903  F438  48                PHA
   904  F439  8415              STY     IC      ; STORE IC(LO)
   905  F43B  8616              STX     IC+1    ; STORE IC(HI)
   906  F43D  4CF7F3            JMP     NEXT    ; CONTINUE
   907                  
   908                  ; CASE- EXECUTE ONE WORD OF A LIST OF WORDS.
   909                  
   910  F440  B469      CASEX:  LDY     PSTK,X  ; GET PSTK TOP IN Y
   911  F442  C665              DEC     PSP
   912  F444  B115              LDA     (IC),Y  ; A=CASE TAG
   913  F446  AA                TAX             ; SAVE IT IN X
   914  F447  A000              LDY     #0
   915  F449  B115              LDA     (IC),Y  ; GET DISP TO ECASE
   916  F44B  18                CLC
   917  F44C  6515              ADC     IC      ; BMP IC TO ECASE
   918  F44E  8515              STA     IC      ; *
   919  F450  9002              BCC     .+4     ; *
   920  F452  E616              INC     IC+1    ; *
   921  F454  8A                TXA             ; GET CURRENT CASE IN A
   922  F455  4C02F4            JMP     NEXT2   ; CONTINUE
   923                  
   924                  ; XTND- EXTEND THE OPCODE BY 128. WORKS FOR INTRINSIC
   925                  ;               AND EXTRINSIC OP CODES.
   926                  
   927  F458  A200      XTNDX:  LDX     #0      ; INIT EXTEND ACCUMULATOR
   928  F45A  E8        XTNDLP: INX             ; ADD 1 TO ACCUM
   929  F45B  204FF8            JSR     FICW    ; FETCH NEXT BYTE
   930  F45E  C925              CMP     #XTND   ; ANOTHER EXTEND REQUEST?
   931  F460  F0F8              BEQ     XTNDLP  ; BRANCH IF YES
   932  F462  0A                DB 0AH;ASLA            ; CONVERT OP TO VECTOR(LO)
   933  F463  B00A              BCS     XTXT    ; BRANCH IF EXTRINSIC TAG
   934  F465  850D              STA     XVECT+1 ; STORE VECTOR(LO)
   935  F467  8A                TXA             ; GET ADDED DISP IN A
   936  F468  6508              ADC     IVECT+2 ; ADD TO INTRINSIC VECTOR(HI)
   937  F46A  850E              STA     XVECT+2 ; STORE VECTOR(HI)
   938  F46C  4C0C00            JMP     XVECT   ; GO TO REQD ROUTINE
   939                  
   940  F46F  18        XTXT:   CLC
   941  F470  6509              ADC     EVECT   ; SET UP XVECT TO POINT TO DISP
   942  F472  850D              STA     XVECT+1
   943  F474  8A                TXA
   944  F475  650A              ADC     EVECT+1
   945  F477  850E              STA     XVECT+2
   946  F479  A001              LDY     #1      ; PREPARE TO LOAD LO BYTE OF DISP
   947  F47B  B10D              LDA     (XVECT+1),Y ; A=LO DISP
   948  F47D  18                CLC
   949  F47E  6509              ADC     EVECT   ; SET I0, I1
   950  F480  8533              STA     I0
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-20

   951  F482  88                DEY             ; POINT TO HI BYTE OF DISP
   952  F483  B10D              LDA     (XVECT+1),Y ; A=HI DISP
   953  F485  309A              BMI     ECHAIN  ; BRANCH IF HI LVL
   954  F487  4C1AF4            JMP     EXNXT1  ; GO TO LO LVL
   955                  
   956                  ; IF- CONDITIONAL HIGH LEVEL JUMP
   957                  
   958  F48A  B569      IFX:    LDA     PSTK,X  ; A=TOP OF STK
   959  F48C  D00E              BNE     EX1     ; BRANCH IF TRUE
   960  F48E  B115              LDA     (IC),Y  ; A=FWD JMP DISP
   961  F490  18                CLC
   962  F491  6515              ADC     IC      ; BMP IC BY REQD AMT
   963  F493  8515              STA     IC      ; *
   964  F495  902D              BCC     POPX    ; CONTINUE IF DONE
   965  F497  E616      INCICH: INC     IC+1    ; INC IC(HI) IF CARRY
   966  F499  4CC4F4            JMP     POPX    ; CONTINUE
   967  F49C  E615      EX1:    INC     IC      ; BMP IC PAST FALSE VECTOR
   968  F49E  D024              BNE     POPX    ; BRANCH IF NOT NEW PAGE
   969  F4A0  F0F5              BEQ     INCICH  ; BRANCH IF NEW PAGE
   970                  
   971                  ; END- CONDITIONAL BACKWARD HIGH LEVEL JUMP
   972                  
   973  F4A2  B569      ENDX:   LDA     PSTK,X  ; A=TOP OF PSTK
   974  F4A4  D0F6              BNE     EX1     ; BRANCH IF TRUE
   975  F4A6  A515              LDA     IC      ; A=IC(LO)
   976  F4A8  38                SEC
   977  F4A9  F115              SBC     (IC),Y  ; A=IC-DISP
   978  F4AB  8515              STA     IC      ; STORE NEW IC
   979  F4AD  B015              BCS     POPX    ; BRANCH IF ON SAME PAGE
   980  F4AF  C616              DEC     IC+1    ; SET PREV PAGE
   981  F4B1  4CC4F4            JMP     POPX
   982                  
   983                  ; ELSE- UNCONDITIONAL FORWARD JUMP
   984                  
   985  F4B4  B115      ELSEX:  LDA     (IC),Y
   986  F4B6  18                CLC
   987  F4B7  6515              ADC     IC      ; ADD TO IC
   988  F4B9  8515              STA     IC      ; *
   989  F4BB  9002              BCC     .+4     ; JMP IF ON SAME PAGE
   990  F4BD  E616              INC     IC+1    ; BMP TO NXT PAGE
   991  F4BF  4CF7F3            JMP     NEXT    ; CONTINUE
   992                  
   993                  ; POP- POP TOP ENTRY FROM PSTK
   994                  ; POP2- POP TOP 2 BYTES FROM PSTK
   995                  
   996  F4C2  C665      POP2X:  DEC     PSP     ; DECREMENT PSTK PTR
   997  F4C4  C665      POPX:   DEC     PSP     ; DECREMENT PSTK PTR
   998  F4C6  4CF7F3            JMP     NEXT    ; CONTINUE
   999                  
  1000                  ; DARRAY- DEFINE ARRAY. (T)=SIZE, (FICW)=ARRAY ID.
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-21

  1001                  
  1002  F4C9  204FF8    DARRAYX: JSR    FICW    ; GET ARRAY ID
  1003  F4CC  0A                DB 0AH;ASLA            ; A=DISP INTO ARRAY VECTOR
  1004  F4CD  A8                TAY
  1005  F4CE  B569              LDA     PSTK,X  ; A=ARRAY SIZE
  1006  F4D0  C665              DEC     PSP
  1007  F4D2  49FF              EOR     #0FFH   ; SUB ARRAY SIZE FROM LAST LOC
  1008  F4D4  38                SEC
  1009  F4D5  6517              ADC     FREEMEM
  1010  F4D7  8517              STA     FREEMEM
  1011  F4D9  B002              BCS     .+4
  1012  F4DB  C618              DEC     FREEMEM+1 ; FREEMEM=A(NEW ARRAY)
  1013  F4DD  999C01            STA     ARRAYV,Y ; POINT TO ARRAY
  1014  F4E0  A518              LDA     FREEMEM+1
  1015  F4E2  999D01            STA     ARRAYV+1,Y
  1016  F4E5  4CF7F3            JMP     NEXT
  1017                  
  1018                  ; ARRAY- PUT ADDRESS OF ARRAY(FICW) ON PSTK
  1019                  
  1020  F4E8  204FF8    ARRAYX: JSR     FICW    ; GET ARRAY ID
  1021  F4EB  0A                DB 0AH;ASLA
  1022  F4EC  A8                TAY
  1023  F4ED  B99C01            LDA     ARRAYV,Y
  1024  F4F0  956A              STA     PSTK+1,X
  1025  F4F2  B99D01            LDA     ARRAYV+1,Y
  1026  F4F5  E8                INX
  1027  F4F6  4C23F5            JMP     DUPX5
  1028                  
  1029                  ; SWAP2- EXCHANGE ((T),(T-1)) WITH ((T-2),(T-3))
  1030                  
  1031  F4F9  B569      SWAP2X: LDA     PSTK,X
  1032  F4FB  B467              LDY     PSTK-2,X
  1033  F4FD  9469              STY     PSTK,X
  1034  F4FF  9567              STA     PSTK-2,X
  1035  F501  B568              LDA     PSTK-1,X
  1036  F503  B466              LDY     PSTK-3,X
  1037  F505  9468              STY     PSTK-1,X
  1038  F507  9566              STA     PSTK-3,X
  1039  F509  4CF7F3            JMP     NEXT
  1040                  
  1041                  ; SWAP- SWAP TOP OF PSTK WITH TOP-1
  1042                  
  1043  F50C  B569      SWAPX:  LDA     PSTK,X  ; A=(TOP)
  1044  F50E  B468              LDY     PSTK-1,X ; Y=(TOP-1)
  1045  F510  9568              STA     PSTK-1,X ; (TOP-1)=A
  1046  F512  9469              STY     PSTK,X  ; (TOP)=Y
  1047  F514  4CF7F3            JMP     NEXT    ; CONTINUE
  1048                  
  1049                  ; DUP2- DUPLICATE TOP 2 BYTES ON PSTK
  1050                  
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-22

  1051  F517  B568      DUP2X:  LDA     PSTK-1,X
  1052  F519  E8                INX
  1053  F51A  9569              STA     PSTK,X
  1054  F51C  B568              LDA     PSTK-1,X
  1055  F51E  4C23F5            JMP     DUPX5
  1056                  
  1057                  ; DUP- DUPLICATE TOP OF STACK
  1058                  
  1059  F521  B569      DUPX:   LDA     PSTK,X  ; A=(TOP)
  1060  F523  E8        DUPX5:  INX             ; INCR STK PTR
  1061  F524  9569      DUPX6:  STA     PSTK,X  ; (TOP+1)=A
  1062  F526  8665              STX     PSP     ; UPDATE PTR
  1063  F528  4CF7F3            JMP     NEXT    ; CONTINUE
  1064                  
  1065                  ; OVER- DUPLICATE (TOP-1) ON TOP OF STK
  1066                  
  1067  F52B  B568      OVERX:  LDA     PSTK-1,X ; A=(TOP-1)
  1068  F52D  4C23F5            JMP     DUPX5   ; CONTINUE
  1069                  
  1070                  ; ROT- EXCHANGE (TOP) WITH (TOP-2)
  1071                  
  1072  F530  B469      ROTX:   LDY     PSTK,X  ; Y=(TOP)
  1073  F532  B567              LDA     PSTK-2,X ;A=(TOP-2)
  1074  F534  9467              STY     PSTK-2,X
  1075  F536  9569              STA     PSTK,X
  1076  F538  4CF7F3            JMP     NEXT
  1077                  
  1078                  ; FSTK- FETCH STACK- REPLACE (TOP) WITH THE (TOP)TH STK ENTRY
  1079                  
  1080  F53B  8A        FSTKX:  TXA             ; A=PSP
  1081  F53C  38                SEC
  1082  F53D  F569              SBC     PSTK,X  ; A=PSP-(TOP)
  1083  F53F  A8                TAY
  1084  F540  B96900            LDA     PSTK,Y  ; A=(PSTK(TOP))
  1085  F543  9569              STA     PSTK,X
  1086  F545  4CF7F3            JMP     NEXT
  1087                  
  1088                  ; PLS1- ADD 1 TO (TOP)
  1089                  
  1090  F548  F669      PLS1X:  INC     PSTK,X  ; INC (TOP) BY 1
  1091  F54A  4CF7F3            JMP     NEXT    ; CONTINUE
  1092                  
  1093                  ; MNS1- SUB 1 FROM (TOP)
  1094                  
  1095  F54D  D669      MNS1X:  DEC     PSTK,X  ; DEC (TOP) BY 1
  1096  F54F  4CF7F3            JMP     NEXT    ; CONTINUE
  1097                  
  1098                  ; PLUS- ADD (TOP) TO (TOP-1)
  1099                  
  1100  F552  B569      PLUSX:  LDA     PSTK,X  ; A=(TOP)
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-23

  1101  F554  18                CLC
  1102  F555  7568              ADC     PSTK-1,X; ADD (TOP) TO (TOP-1)
  1103  F557  CA        PLUSX00: DEX            ; POINT TO TOP-1
  1104  F558  9569      PLUSX0: STA     PSTK,X
  1105  F55A  8665      PLUSX1: STX     PSP
  1106  F55C  265E              ROL     CRYBIT  ; SAVE CARRY
  1107  F55E  4CF7F3            JMP     NEXT
  1108                  
  1109                  ; MINUS- SUBTRACT (T) FROM (T-1)
  1110                  
  1111  F561  B568      MINUSX: LDA     PSTK-1,X
  1112  F563  38                SEC
  1113  F564  F569              SBC     PSTK,X
  1114  F566  CA                DEX
  1115  F567  4C58F5            JMP     PLUSX0
  1116                  
  1117                  ; DADD- DECIMAL ADD (T) TO (T-1)
  1118                  
  1119  F56A  B569      DADDX:  LDA     PSTK,X
  1120  F56C  18                CLC
  1121  F56D  F8                SED
  1122  F56E  7568              ADC     PSTK-1,X
  1123  F570  D8                CLD
  1124  F571  4C57F5            JMP     PLUSX00
  1125                  
  1126                  ; PSTO- PLUS STORE- ADD (TOP-2) TO ((TOP-1,TOP))
  1127                  
  1128  F574  B567      PSTOX:  LDA     PSTK-2,X
  1129  F576  18                CLC
  1130  F577  6168              ADC     (PSTK-1,X)
  1131  F579  8168              STA     (PSTK-1,X)
  1132  F57B  CA        PSTOX1: DEX
  1133  F57C  CA                DEX
  1134  F57D  CA                DEX
  1135  F57E  4C5AF5            JMP     PLUSX1
  1136                  
  1137                  ; NOT- ONES COMPLEMENT (TOP)
  1138                  
  1139  F581  A9FF      NOTX:   LDA     #0FFH   ; SET UP EOR
  1140  F583  5569              EOR     PSTK,X  ; A=NOT(TOP)
  1141  F585  9569              STA     PSTK,X  ; (TOP)=NOT(TOP)
  1142  F587  4CF7F3            JMP     NEXT
  1143                  
  1144                  ; ABS- (TOP)=ABS(TOP)
  1145                  
  1146  F58A  A900      ABSX:   LDA     #0
  1147  F58C  38                SEC
  1148  F58D  F569              SBC     PSTK,X  ; A=0-(TOP)
  1149  F58F  3002              BMI     .+4     ; BRANCH IF (TOP)>=0
  1150  F591  9569              STA     PSTK,X
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-24

  1151  F593  4CF7F3            JMP     NEXT
  1152                  
  1153                  ; AND- (TOP) AND (TOP-1)
  1154                  
  1155  F596  B569      ANDX:   LDA     PSTK,X  ; A=(TOP)
  1156  F598  3568              AND     PSTK-1,X
  1157  F59A  9568      DSTO:   STA     PSTK-1,X
  1158  F59C  CA        DSTO1:  DEX
  1159  F59D  8665              STX     PSP
  1160  F59F  4CF7F3            JMP     NEXT
  1161                  
  1162                  ; OR- (TOP) OR (TOP-1)
  1163                  
  1164  F5A2  B569      ORX:    LDA     PSTK,X  ; A=(TOP)
  1165  F5A4  1568              ORA     PSTK-1,X ; A=(TOP) OR (TOP-1)
  1166  F5A6  4C9AF5            JMP     DSTO    ; CONTINUE
  1167                  
  1168                  ; XORX- (TOP) XOR (TOP-1)
  1169                  
  1170  F5A9  B569      XORX:   LDA     PSTK,X  ; A=(TOP)
  1171  F5AB  5568              EOR     PSTK-1,X ; A=(TOP) XOR (TOP-1)
  1172  F5AD  4C9AF5            JMP     DSTO    ; CONTINUE
  1173                  
  1174                  ; MIN- PUT LESSOR OF (TOP) AND (TOP-1) IN (TOP)
  1175                  
  1176  F5B0  B569      MINX:   LDA     PSTK,X
  1177  F5B2  D568              CMP     PSTK-1,X
  1178  F5B4  B0E6              BCS     DSTO1   ; BRANCH IF (TOP-1) IS LESS
  1179  F5B6  90E2              BCC     DSTO
  1180                  
  1181                  ; MAX- PUT GREATER OF (TOP) AND (TOP-1) IN (TOP)
  1182                  
  1183  F5B8  B569      MAXX:   LDA     PSTK,X
  1184  F5BA  D568              CMP     PSTK-1,X
  1185  F5BC  B0DC              BCS     DSTO
  1186  F5BE  90DC              BCC     DSTO1
  1187                  
  1188                  ; FRAM- (TOP)=((TOP))
  1189                  
  1190  F5C0  B469      FRAMX:  LDY     PSTK,X  ; Y=RAM ADDR
  1191  F5C2  B90000            LDA     0,Y     ; A=DATA
  1192  F5C5  9569              STA     PSTK,X
  1193  F5C7  4CF7F3            JMP     NEXT
  1194                  
  1195                  ; SRAM- STORE (TOP-1) INTO ((TOP))
  1196                  
  1197  F5CA  B469      SRAMX:  LDY     PSTK,X  ; Y=RAM ADDR
  1198  F5CC  CA                DEX
  1199  F5CD  B569              LDA     PSTK,X  ; A=(TOP-1)
  1200  F5CF  990000            STA     0,Y     ; STORE (TOP-1) INTO ((TOP))
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-25

  1201  F5D2  4C9CF5            JMP     DSTO1
  1202                  
  1203                  ; EQ- (TOP-1):(TOP). RETURN TRUE IF EQUAL.
  1204                  
  1205  F5D5  2017F6    EQX:    JSR     ACOMP   ; COMPARE
  1206  F5D8  F005              BEQ     XTRUE
  1207                  
  1208  F5DA  A900      XFALSE: LDA     #0
  1209  F5DC  4C9AF5            JMP     DSTO
  1210  F5DF  A9FF      XTRUE:  LDA     #0FFH
  1211  F5E1  4C9AF5            JMP     DSTO
  1212                  
  1213                  ; NE- (TOP-1):(TOP). RETURN TRUE IF NOT EQUAL.
  1214                  
  1215  F5E4  2017F6    NEX:    JSR     ACOMP
  1216  F5E7  D0F6              BNE     XTRUE
  1217  F5E9  F0EF              BEQ     XFALSE
  1218                  
  1219                  ; GT- RETURN TRUE IF (TOP-1)>(TOP).
  1220                  
  1221  F5EB  200BF6    GTX:    JSR     SCOMP   ; DO SIGNED COMPARE
  1222  F5EE  F0EA              BEQ     XFALSE
  1223  F5F0  B0ED              BCS     XTRUE
  1224  F5F2  90E6              BCC     XFALSE
  1225                  ; GE- RETURN TRUE IF (TOP-1)>=(TOP).
  1226                  
  1227  F5F4  200BF6    GEX:    JSR     SCOMP
  1228  F5F7  B0E6              BCS     XTRUE
  1229  F5F9  90DF              BCC     XFALSE
  1230                  
  1231                  ; LE- RETURN TRUE IF (TOP-1)<=(TOP).
  1232                  
  1233  F5FB  200BF6    LEX:    JSR     SCOMP
  1234  F5FE  90DF              BCC     XTRUE
  1235  F600  F0DD              BEQ     XTRUE
  1236  F602  D0D6              BNE     XFALSE
  1237                  
  1238                  ; LT- RETURN TRUE IF (TOP-1)<(TOP).
  1239                  
  1240  F604  200BF6    LTX:    JSR     SCOMP
  1241  F607  90D6              BCC     XTRUE
  1242  F609  B0CF              BCS     XFALSE
  1243                  
  1244  F60B  A980      SCOMP:  LDA     #80H
  1245  F60D  5569              EOR     PSTK,X
  1246  F60F  9569              STA     PSTK,X
  1247  F611  A980              LDA     #80H
  1248  F613  5568              EOR     PSTK-1,X
  1249  F615  9568              STA     PSTK-1,X
  1250                  
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-26

  1251  F617  B568      ACOMP:  LDA     PSTK-1,X
  1252  F619  D569              CMP     PSTK,X
  1253  F61B  60                RTS
  1254                  
  1255                  ; CMP- COMPARE (TOP-1) TO (TOP). 1=LT, 2=EQ, 3=GT
  1256                  
  1257  F61C  B568      CMPX:   LDA     PSTK-1,X
  1258  F61E  C8                INY             ; Y=1
  1259  F61F  D569              CMP     PSTK,X  ; (TOP-1):(TOP)
  1260  F621  9004              BCC     CMP2    ; BRANCH IF Y SET
  1261  F623  F001              BEQ     CMP1
  1262  F625  C8                INY
  1263  F626  C8        CMP1:   INY
  1264  F627  98        CMP2:   TYA             ; GET CODE IN A
  1265  F628  4C9AF5            JMP     DSTO    ; CONTINUE
  1266                  
  1267                  ; TRUE- PUT FF ON PSTK
  1268                  
  1269  F62B  A665      PTRUE:  LDX     PSP
  1270  F62D  A9FF      TRUE:   LDA     #0FFH
  1271  F62F  4C23F5            JMP     DUPX5
  1272                  
  1273                  ; FALSE- PUT 00 ON PSTK
  1274                  
  1275  F632  A665      PFALSE: LDX     PSP
  1276  F634  A900      FALSE:  LDA     #00
  1277  F636  4C23F5            JMP     DUPX5
  1278                  
  1279                  ; FET- FETCH A BYTE FROM 64K MEMORY
  1280                  
  1281  F639  A168      FETX:   LDA     (PSTK-1,X) ; A=DATA
  1282  F63B  4C9AF5            JMP     DSTO
  1283                  
  1284                  ; OFET- OFFSET FETCH- FETCH BYTE FROM (TOP)+(TOP-2,TOP-1)
  1285                  
  1286  F63E  B469      OFETX:  LDY     PSTK,X  ; Y=DISP
  1287  F640  CA                DEX
  1288  F641  B569              LDA     PSTK,X
  1289  F643  8526              STA     T01      ; T01=ADDR(HI)
  1290  F645  B568              LDA     PSTK-1,X
  1291  F647  8525              STA     T00      ; T00=ADDR(LO)
  1292  F649  B125              LDA     (T00),Y  ; A=ARRAY(Y)
  1293  F64B  4C9AF5            JMP     DSTO    ; CONTINUE
  1294                  
  1295                  ; STO- STORE A BYTE INTO 64K MEMORY
  1296                  
  1297  F64E  B567      STOX:   LDA     PSTK-2,X ; A=DATA BYTE
  1298  F650  8168              STA     (PSTK-1,X) ; STORE INTO MEM
  1299  F652  CA                DEX
  1300  F653  CA                DEX
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-27

  1301  F654  4C9CF5            JMP     DSTO1
  1302                  
  1303                  ; OSTO- OFFSET STORE- STORE (TOP-3) INTO (TOP)+(TOP-2,TOP-1)
  1304                  
  1305  F657  B469      OSTOX:  LDY     PSTK,X  ; Y=DISP
  1306  F659  B568              LDA     PSTK-1,X
  1307  F65B  8526              STA     T01      ; T01=ADDR(HI)
  1308  F65D  B567              LDA     PSTK-2,X
  1309  F65F  8525              STA     T00      ; T00=ADDR(LO)
  1310  F661  B566              LDA     PSTK-3,X
  1311  F663  9125      OSTOX1: STA     (T00),Y  ; STORE (TOP-3)
  1312  F665  8A        POP4:   TXA
  1313  F666  38                SEC
  1314  F667  E904              SBC     #4      ; ADJUST PSP
  1315  F669  8565              STA     PSP
  1316  F66B  4CF7F3            JMP     NEXT
  1317                  
  1318                  ; MOVE- MOVE (TOP) BYTES TO (TOP-1,TOP-2) FROM (TOP-3,TOP-4)
  1319                  
  1320  F66E  B568      MOVEX:  LDA     PSTK-1,X
  1321  F670  8528              STA     T03      ; T03=TO(HI)
  1322  F672  B567              LDA     PSTK-2,X
  1323  F674  8527              STA     T02      ; T02=TO(LO)
  1324  F676  B566              LDA     PSTK-3,X
  1325  F678  8526              STA     T01      ; T01=FROM(HI)
  1326  F67A  B565              LDA     PSTK-4,X
  1327  F67C  8525              STA     T00      ; T00=FROM(LO)
  1328  F67E  B569              LDA     PSTK,X
  1329  F680  AA                TAX             ; X=LOOP CNT
  1330  F681  B125      MVLP:   LDA     (T00),Y
  1331  F683  9127              STA     (T02),Y
  1332  F685  C8                INY
  1333  F686  CA                DEX
  1334  F687  D0F8              BNE     MVLP    ; BRANCH IF MORE
  1335  F689  A565      POP5:   LDA     PSP     ; POP STK
  1336  F68B  38                SEC
  1337  F68C  E905              SBC     #5
  1338  F68E  8565              STA     PSP
  1339  F690  4CF7F3            JMP     NEXT
  1340                  
  1341                  ; BSET- SET ((T-2),(T-1)) FOR (T) BYTES TO (T-3)
  1342                  
  1343  F693  B567      BSETX:  LDA     PSTK-2,X
  1344  F695  8525              STA     T00
  1345  F697  B568              LDA     PSTK-1,X
  1346  F699  8526              STA     T01
  1347  F69B  B469              LDY     PSTK,X
  1348  F69D  88                DEY
  1349  F69E  B566              LDA     PSTK-3,X
  1350  F6A0  9125      BSLP:   STA     (T00),Y
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-28

  1351  F6A2  88                DEY
  1352  F6A3  C0FF              CPY     #0FFH
  1353  F6A5  D0F9              BNE     BSLP
  1354  F6A7  4C65F6            JMP     POP4
  1355                  
  1356                  ; PSH2- PUSH NEXT TWO BYTES ONTO PSTK
  1357                  ; PSH1- PUSH NEXT BYTE ONTO PSTK
  1358                  
  1359  F6AA  204FF8    PSH2X:  JSR     FICW    ; FETCH NEXT BYTE
  1360  F6AD  E8                INX
  1361  F6AE  9569              STA     PSTK,X
  1362  F6B0  204FF8    PSH1X:  JSR     FICW    ; GET NEXT BYTE
  1363  F6B3  4C23F5            JMP     DUPX5   ; CONTINUE
  1364                  
  1365                  ; RSET- RESET RETURN STACK PTR
  1366                  
  1367  F6B6  A263      RSETX:  LDX     #(RSTK-P1)
  1368  F6B8  9A                TXS             ; SET STK PTR
  1369  F6B9  4CF7F3            JMP     NEXT    ; CONTINUE
  1370                  
  1371                  ; PSET- RESET PARM STACK PTR
  1372                  
  1373  F6BC  A200      PSETX:  LDX     #0
  1374  F6BE  8665              STX     PSP
  1375  F6C0  4CF7F3            JMP     NEXT
  1376                  
  1377                  ; RSHF- RIGHT SHIFT (TOP-1) BY (TOP) BITS
  1378                  
  1379  F6C3  B469      RSHFX:  LDY     PSTK,X  ; Y=SHIFT CNT
  1380  F6C5  5668      RSHFLP: LSR     PSTK-1,X ; SHIFT RT 1 BIT
  1381  F6C7  88                DEY             ; DEC CTR
  1382  F6C8  D0FB              BNE     RSHFLP  ; BRANCH IF MORE
  1383  F6CA  C665              DEC     PSP
  1384  F6CC  4CF7F3            JMP     NEXT
  1385                  
  1386                  ; LSHF- LEFT SHIFT (TOP-1) BY (TOP) BITS
  1387                  
  1388  F6CF  B469      LSHFX:  LDY     PSTK,X  ; Y=SHIFT CNT
  1389  F6D1  1668      LSHFLP: ASL     PSTK-1,X ; SHIFT LFT 1 BIT
  1390  F6D3  88                DEY             ; DEC CTR
  1391  F6D4  D0FB              BNE     LSHFLP  ; BRANCH IF MORE
  1392  F6D6  C665              DEC     PSP
  1393  F6D8  4CF7F3            JMP     NEXT
  1394                  
  1395                  ; FOR/DO- INITIALIZE LOOP
  1396                  
  1397  F6DB  E8        FORX:   INX             ; PSH INIT VAL ONTO PSTK
  1398  F6DC  9469              STY     PSTK,X  ; *
  1399  F6DE  A516      DOX:    LDA     IC+1    ; PUSH CURRENT IC ONTO RET STK
  1400  F6E0  48                PHA             ; *
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-29

  1401  F6E1  A515              LDA     IC      ; *
  1402  F6E3  48                PHA             ; *
  1403  F6E4  B568              LDA     PSTK-1,X ; A=LOOP LIMIT
  1404  F6E6  48                PHA
  1405  F6E7  B569              LDA     PSTK,X  ; START VALUE
  1406  F6E9  48                PHA
  1407  F6EA  CA                DEX             ; ADJUST PSTK
  1408  F6EB  CA                DEX
  1409  F6EC  8665              STX     PSP     ; *
  1410  F6EE  4CF7F3            JMP     NEXT    ; CONTINUE
  1411                  
  1412                  ; LOOP- CONTROL LOOPING BASED ON VALUES ON RET STK
  1413                  ; PLOOP- ADD (TOP) TO LOOP INDEX
  1414                  
  1415  F6F1  A901      LOOPX:  LDA     #1      ; A=LOOP INDEX INCREMENT
  1416  F6F3  D004              BNE     LOOPX1  ; ALWAYS BRANCH
  1417  F6F5  B569      PLOOPX: LDA     PSTK,X  ; A=LOOP INDEX INCREMENT
  1418  F6F7  C665              DEC     PSP     ; ADJUST PSTK
  1419  F6F9  BA        LOOPX1: TSX             ; X=CURRENT RET STK INDEX
  1420  F6FA  18                CLC
  1421  F6FB  7D0101            ADC     P1+1,X  ; ADD INCREMENT TO INDEX
  1422  F6FE  9D0101            STA     P1+1,X  ; *
  1423  F701  DD0201            CMP     P1+2,X  ; AT LIMIT YET?
  1424  F704  B00D              BCS     XLOOPX  ; BRANCH IF YES
  1425  F706  BD0301            LDA     P1+3,X  ; A=IC(LO)
  1426  F709  8515              STA     IC      ; *
  1427  F70B  BD0401            LDA     P1+4,X  ; A=IC(HI)
  1428  F70E  8516              STA     IC+1    ; *
  1429  F710  4CF7F3            JMP     NEXT    ; GO THRU LOOP AGAIN
  1430                  
  1431                  ; XLOOP- EXIT LOOP
  1432                  
  1433  F713  68        XLOOPX: PLA
  1434  F714  68                PLA
  1435  F715  68                PLA             ; STRT IC LO
  1436  F716  68                PLA             ; STRT IC HI
  1437  F717  4CF7F3            JMP     NEXT
  1438                  
  1439                  ; LNDX- PUT LOOP INDEX ON PTOP.
  1440                  
  1441  F71A  68        LNDXX:  PLA             ; A=LOOP INDEX
  1442  F71B  48                PHA             ; RETURN IT TO RSTK
  1443  F71C  4C23F5            JMP     DUPX5   ; PUT IT ON PSTK AND EXIT
  1444                  
  1445                  ; CVB- CONVERT CHAR ON PSTK TO BINARY
  1446                  
  1447  F71F  B569      CVBX:   LDA     PSTK,X  ; A=CHAR
  1448  F721  A65D              LDX     BASE    ; X=LOOP CTL
  1449  F723  D957F7    CVBL1:  CMP     BTBL,Y  ; IS THIS THE DIGIT?
  1450  F726  F00A              BEQ     CVBE1   ; BR IF YES
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-30

  1451  F728  C8                INY             ; BMP CT
  1452  F729  CA                DEX             ; DEC CTL
  1453  F72A  D0F7              BNE     CVBL1   ; CONTINUE
  1454  F72C  A665              LDX     PSP     ; CHAR NOT VALID
  1455  F72E  CA                DEX
  1456  F72F  4C34F6            JMP     FALSE   ; RETURN FALSE
  1457  F732  A665      CVBE1:  LDX     PSP     ; SET PSTK PTR
  1458  F734  9469              STY     PSTK,X  ; REPLACE CHAR WITH BINARY
  1459  F736  4C2DF6            JMP     TRUE    ; RETURN TRUE
  1460                  
  1461                  ; CVD- CONVERT NUMBER ON PSTK TO CHAR.
  1462                  ;      (TOP),(TOP-1) IS DIVIDED BY BASE.
  1463                  ;      QUOTIENT AND REMAINDER(IN CHAR FORM) IS RETURNED.
  1464                  
  1465  F739  B569      CVDX:   LDA     PSTK,X  ; PUT DIVIDEND INTO T00,T01
  1466  F73B  8526              STA     T01
  1467  F73D  B568              LDA     PSTK-1,X
  1468  F73F  8525              STA     T00
  1469  F741  A55D              LDA     BASE    ; PUT CURRENT BASE INTO T02
  1470  F743  8527              STA     T02
  1471  F745  2027F9            JSR     IDIV    ; RETURN QUOTIENT IN T00,T01, ACC=REM
  1472  F748  A8                TAY             ; Y=REMAINDER
  1473  F749  A525              LDA     T00
  1474  F74B  9568              STA     PSTK-1,X
  1475  F74D  A526              LDA     T01
  1476  F74F  9569              STA     PSTK,X
  1477  F751  B957F7            LDA     BTBL,Y  ; GET CHAR
  1478  F754  4C23F5            JMP     DUPX5   ; GO PUT CHAR ON PSTK
  1479                  
  1480  F757  30313233  BTBL:   DB      '0123456789ABCDEF'
  1481        34353637
  1482        38394142
  1483        43444546
  1484                  
  1485                  ; SETB- SET NUMBER BASE
  1486                  
  1487  F767  B569      SETBX:  LDA     PSTK,X  ; GET BASE FROM PSTK
  1488  F769  C665              DEC     PSP     ; ADJ PSTK
  1489  F76B  4C74F7            JMP     DECX1
  1490                  
  1491                  ; HEX- SET BASE 16
  1492                  
  1493  F76E  A910      HEXX:   LDA     #16
  1494  F770  D002              BNE     DECX1
  1495                  
  1496                  ; DECIMAL- SET BASE 10
  1497                  
  1498  F772  A90A      DECX:   LDA     #10
  1499  F774  855D      DECX1:  STA     BASE
  1500  F776  4CF7F3            JMP     NEXT
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-31

  1501                  
  1502                  ; OCTAL- SET BASE 8
  1503                  
  1504  F779  A908      OCTX:   LDA     #8
  1505  F77B  D0F7              BNE     DECX1
  1506                  
  1507                  ; BIN- SET BASE 2
  1508                  
  1509  F77D  A902      BINX:   LDA     #2
  1510  F77F  D0F3              BNE     DECX1
  1511                  
  1512                  ; DCHAR- DISPLAY DBUF((T))
  1513                  
  1514  F781  B569      DCHARX: LDA     PSTK,X  ; A=CHAR INDEX
  1515  F783  C665              DEC     PSP     ; ADJUST PSTK
  1516  F785  205AF8            JSR     ENCODE  ; DO CHAR
  1517  F788  4CF7F3            JMP     NEXT
  1518                  
  1519                  ; UPDISP- UPDATE DISPLAY FROM DBUF((T)) TO END
  1520                  
  1521  F78B  B569      UPDISPX: LDA    PSTK,X
  1522  F78D  C665              DEC     PSP
  1523  F78F  2095F7            JSR     UPDISPL
  1524  F792  4CF7F3            JMP     NEXT
  1525                  
  1526  F795  852A      UPDISPL: STA    T05      ; SAVE START INDEX
  1527  F797  205AF8    UPDLP1: JSR     ENCODE
  1528  F79A  E62A              INC     T05
  1529  F79C  A52A              LDA     T05
  1530  F79E  C91A              CMP     #DSIZE
  1531  F7A0  30F5              BMI     UPDLP1
  1532  F7A2  60                RTS
  1533                  
  1534  F7A3  A910      PRTCHRX: LDA    #SLOMEM
  1535  F7A5  2094F3            JSR     ORLATCH
  1536  F7A8  A0FC              LDY     #(IOB0 MOD 256)
  1537  F7AA  A901              LDA     #1
  1538  F7AC  8DFE3E            STA     IOB0+2  ; SELECT CTL ROM
  1539  F7AF  848B              STY     CURBANK1
  1540  F7B1  858C              STA     CURBANK2
  1541  F7B3  AD0190            LDA     CTROM+1
  1542  F7B6  C943              CMP     #'C'
  1543  F7B8  D018              BNE     PRTX2   ; BRANCH IF NO CTL ROM
  1544  F7BA  AD0090            LDA     CTROM   ; GET DISP TO VECTORS
  1545  F7BD  6905              ADC     #5      ; CRRY=1 FROM CMP=
  1546  F7BF  8501              STA     CHAINV+1
  1547  F7C1  A990              LDA     #(CTROM SHR 8)
  1548  F7C3  8502              STA     CHAINV+2
  1549  F7C5  200000            JSR     CHAINV
  1550  F7C8  49FF      PRTX1:  EOR     #0FFH
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-32

  1551  F7CA  38                SEC
  1552  F7CB  6565              ADC     PSP
  1553  F7CD  8565              STA     PSP
  1554  F7CF  4CF7F3            JMP     NEXT
  1555                  
  1556  F7D2  ADFC3E    PRTX2:  LDA     IOB0    ; ID BYTE
  1557  F7D5  2920              AND     #20H    ; COMPLEX?
  1558  F7D7  D003              BNE     PRTX3   ; BRANCH IF NO
  1559  F7D9  4CC4F4            JMP     POPX    ; IGNORE IF YES
  1560  F7DC  B569      PRTX3:  LDA     PSTK,X  ; GET CHAR FROM PSTK
  1561  F7DE  20D9F3            JSR     ENOP    ; ENQUEUE OUTPUT
  1562  F7E1  A97C              LDA     #7CH    ; ENABLE TRANSMIT IRQ
  1563  F7E3  8DFF3E            STA     IOB0+3  ; *
  1564  F7E6  4CC4F4            JMP     POPX    ; POP CHAR FROM PSTK
  1565                  
  1566  F7E9  98        RDCHRX: TYA             ; CLR ACC
  1567  F7EA  A490              LDY     IPQI    ; ANYTHINE IN I/P QUEUE?
  1568  F7EC  C491              CPY     IPQO    ; ?
  1569  F7EE  F00C              BEQ     RDFLS   ; RETURN FALSE IF NO
  1570  F7F0  20CDF3            JSR     DEIP    ; GET CHAR IF YES
  1571  F7F3  297F              AND     #7FH    ; STRIP HI BIT
  1572  F7F5  A665              LDX     PSP     ; RESTORE X
  1573  F7F7  E8                INX             ; ADJUST PSTK
  1574  F7F8  9569              STA     PSTK,X  ; PUT CHAR ON PSTK
  1575  F7FA  A9FF              LDA     #0FFH   ; RETURN TRUE
  1576  F7FC  4C23F5    RDFLS:  JMP     DUPX5   ; EXIT
  1577                  
  1578                  
  1579                  ;       SUBROUTINES
  1580                  
  1581                  ;       SETROM
  1582                  
  1583  F7FF  2960      SETROM: AND     #060H
  1584  F801  8524      SETROM1: STA    CURROM
  1585  F803  0A                DB 0AH;ASLA
  1586  F804  2A                DB 2AH;ROLA
  1587  F805  2A                DB 2AH;ROLA
  1588  F806  2A                DB 2AH;ROLA            ; ACC=CAPSULE ADDR
  1589  F807  8525              STA     T00
  1590  F809  A51B              LDA     LATCHS  ; ACC=SHADOW LATCH
  1591  F80B  29F8              AND     #0F8H   ; RESET PREV CAPSULE
  1592  F80D  0525              ORA     T00     ; SET CURRENT CAPSULE
  1593  F80F  851B              STA     LATCHS
  1594  F811  8DFE3F            STA     LATCH
  1595  F814  60                RTS
  1596                  
  1597                  ;       RDROM
  1598                  
  1599  F815  A000      RDROM:  LDY     #0
  1600  F817  B167              LDA     (ROMPTR),Y
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-33

  1601  F819  E667              INC     ROMPTR
  1602  F81B  D002              BNE     .+4
  1603  F81D  E668              INC     ROMPTR+1
  1604  F81F  AA                TAX             ; SET FLAGS
  1605  F820  60                RTS
  1606                  
  1607                  
  1608                  ;       TWOCMP
  1609                  
  1610  F821  A900      TWOCMP: LDA     #0
  1611  F823  38                SEC
  1612  F824  F500              SBC     0,X
  1613  F826  8525              STA     W0
  1614  F828  A900              LDA     #0
  1615  F82A  F501              SBC     1,X
  1616  F82C  8526              STA     W1
  1617  F82E  60                RTS
  1618                  
  1619                  ;       SUB2
  1620                  
  1621  F82F  B500      SUB2:   LDA     0,X
  1622  F831  38                SEC
  1623  F832  F90000            SBC     0,Y
  1624  F835  9500              STA     0,X
  1625  F837  B501              LDA     1,X
  1626  F839  F90100            SBC     1,Y
  1627  F83C  9501              STA     1,X
  1628  F83E  60                RTS
  1629                  
  1630                  ;       ADD2
  1631                  
  1632  F83F  B500      ADD2:   LDA     0,X
  1633  F841  18                CLC
  1634  F842  790000            ADC     0,Y
  1635  F845  9500              STA     0,X
  1636  F847  B501              LDA     1,X
  1637  F849  790100            ADC     1,Y
  1638  F84C  9501              STA     1,X
  1639  F84E  60                RTS
  1640                  
  1641                  ; FICW- FETCH IC WORD
  1642                  
  1643  F84F  A000      FICW:   LDY     #0
  1644  F851  B115              LDA     (IC),Y  ; A=NXT BYTE
  1645  F853  E615      INCIC:  INC     IC      ; BMP IC BY 1
  1646  F855  D002              BNE     .+4
  1647  F857  E616              INC     IC+1
  1648  F859  60                RTS             ; RETURN
  1649                  
  1650                  ; ENCODE- CONVERT DBUF(ACC) TO DOTS ON DISPLAY
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-34

  1651                  
  1652  F85A  A8        ENCODE: TAY             ; Y=DBUF INDEX
  1653                  ;       STA     T00      ; FOR NONCONTINUOUS DISPLAY
  1654  F85B  0A                DB 0AH;ASLA
  1655  F85C  8525              STA     T00      ; FOR CONTINUOUS DISPLAY
  1656  F85E  0A                DB 0AH;ASLA
  1657  F85F  6525              ADC     T00
  1658  F861  AA                TAX             ; X=DISPLAY INDEX
  1659  F862  B98101            LDA     DBUF1,Y ; A=CHAR FLAGS
  1660  F865  8529              STA     T04      ; SAVE FOR LATER
  1661  F867  4CB0F8            JMP     ENCMP   ; SKIP TIMER STUFF FOR NOW*****************
  1662  F86A  C464              CPY     CURSOR  ; IS THIS THE CURSOR?
  1663  F86C  D00A              BNE     ENDORT  ; BRANCH IF NO
  1664  F86E  A910              LDA     #10H
  1665  F870  2545              AND     STIME   ; IS CURSOR ON?
  1666  F872  F004              BEQ     ENDORT  ; BRANCH IF NO
  1667  F874  A9FF              LDA     #0FFH
  1668  F876  D00E              BNE     ENCOM   ; GO FLASH CURSOR
  1669  F878  A529      ENDORT: LDA     T04
  1670  F87A  2940              AND     #CFLSH  ; FLASHING CHAR?
  1671  F87C  F022              BEQ     ENFLRT  ; BRANCH IF NO
  1672  F87E  A910              LDA     #10H
  1673  F880  2545              AND     STIME   ; TIME TO FLSH CHAR?
  1674  F882  F01C              BEQ     ENFLRT  ; BRANCH IF YES
  1675  F884  A900              LDA     #0      ; FLASH BLANK OTHERWISE
  1676  F886  A8        ENCOM:  TAY
  1677  F887  A51B              LDA     LATCHS
  1678  F889  0980              ORA     #DMASK
  1679  F88B  8DFE3F            STA     LATCH
  1680  F88E  98                TYA
  1681  F88F  A429              LDY     T04
  1682  F891  1002              BPL     .+4     ; BRANCH IF CHAR POSITIVE
  1683  F893  49FF              EOR     #0FFH   ; NEGATE PATTERN
  1684  F895  A005              LDY     #PATSZ
  1685  F897  9D003F    ENLP1:  STA     DSPLY,X
  1686  F89A  E8                INX
  1687  F89B  88                DEY
  1688  F89C  D0F9              BNE     ENLP1
  1689  F89E  F052              BEQ     ENXIT   ; BRANCH IF DONE
  1690  F8A0  A529      ENFLRT: LDA     T04
  1691  F8A2  2920              AND     #CQMK   ; ALT WITH '?' ?
  1692  F8A4  F00A              BEQ     ENCMP   ; BRANCH IF NO
  1693  F8A6  A910              LDA     #10H
  1694  F8A8  2545              AND     STIME
  1695  F8AA  F004              BEQ     ENCMP   ; BRANCH IF TIME TO DSPLY CHAR
  1696  F8AC  A93F              LDA     #'?'
  1697  F8AE  D003              BNE     ENCMP1  ; DSPLY '?'
  1698                  ; COMPUTE A(DOT PATTERN) & PUT IT IN (T00,T01)
  1699  F8B0  B96601    ENCMP:  LDA     DBUF,Y  ; A=CHAR
  1700  F8B3  20F8F8    ENCMP1: JSR     GETDOTS ; GET DOTS FOR CHAR
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-35

  1701                  ; NOW SET UP ACCENT VECTOR...
  1702  F8B6  A90F              LDA     #0FH
  1703  F8B8  2529              AND     T04      ; A=ACCENT INDEX
  1704  F8BA  8527              STA     T02
  1705  F8BC  0A                DB 0AH;ASLA
  1706  F8BD  0A                DB 0AH;ASLA
  1707  F8BE  6527              ADC     T02
  1708  F8C0  6513              ADC     ACVECT  ; LOCATE ACCENT PATTERN
  1709  F8C2  8527              STA     T02
  1710  F8C4  A900              LDA     #0
  1711  F8C6  6514              ADC     ACVECT+1
  1712  F8C8  8528              STA     T03
  1713                  ; (T02,T03)=A(ACCENT PATTERN). SET T04=REVERSE MASK...
  1714  F8CA  A000              LDY     #0
  1715  F8CC  2429              BIT     T04      ; TEST CNEG (80H)
  1716  F8CE  1001              BPL     .+3     ; BRANCH IF POS
  1717  F8D0  88                DEY             ; SET Y=FF
  1718  F8D1  8429              STY     T04      ; T04=MASK
  1719                  ; NOW WRITE CHAR TO DISPLAY...
  1720  F8D3  A000              LDY     #0
  1721  F8D5  A51B              LDA     LATCHS
  1722  F8D7  0980              ORA     #DMASK
  1723  F8D9  8DFE3F            STA     LATCH
  1724  F8DC  B125      ENLP2:  LDA     (T00),Y  ; A=CHAR PATTERN
  1725  F8DE  1127              ORA     (T02),Y  ; A=CHAR+ACCENT PATTERN
  1726  F8E0  4529              EOR     T04      ; NEGATE IF REQD
  1727  F8E2  9D003F            STA     DSPLY,X ; STORE INTO DISPLAY
  1728  F8E5  E8                INX
  1729  F8E6  C8                INY
  1730  F8E7  C005              CPY     #PATSZ
  1731  F8E9  D0F1              BNE     ENLP2   ; BRANCH IF MORE
  1732  F8EB  A900              LDA     #0      ; FOR CONTINUOUS DISPLAY
  1733  F8ED  4529              EOR     T04      ; FOR CONTINUOUS DISPLAY
  1734  F8EF  9D003F            STA     DSPLY,X ; FOR CONTINUOUS DISPLAY
  1735  F8F2  A97F      ENXIT:  LDA     #255-DMASK
  1736  F8F4  208FF3            JSR     ANDLATCH ; RESET MASK
  1737  F8F7  60                RTS
  1738                  
  1739                  ; GETDOTS- SET T00,T01 = A(DOT PATTERN) OF CHAR IN A
  1740                  
  1741  F8F8  8527      GETDOTS: STA    T02
  1742  F8FA  A905              LDA     #PATSZ  ; A=PATTERN SIZE
  1743  F8FC  8525              STA     T00
  1744  F8FE  200DF9            JSR     IMPY    ; (T0,T01)=T00*T02
  1745  F901  18                CLC
  1746  F902  6511              ADC     CHVECT  ; ADD T00,T01 TO A(CHAR SET)
  1747  F904  8525              STA     T00
  1748  F906  A526              LDA     T01
  1749  F908  6512              ADC     CHVECT+1
  1750  F90A  8526              STA     T01
MICRO-SYMBOL 13-APR-1980   NUC65   PAGE 1-36

  1751  F90C  60                RTS
  1752                  
  1753                  ; IMPY- INTEGER MULTIPLY: SET (T00,T01)=T00*T02
  1754                  
  1755  F90D  A900      IMPY:   LDA     #0
  1756  F90F  8526              STA     T01      ; T01,ACC IS ACCUM
  1757  F911  A008              LDY     #8      ; Y=LOOP CNTRL
  1758  F913  0A        IMLP1:  DB 0AH;ASLA
  1759  F914  2626              ROL     T01
  1760  F916  2625              ROL     T00
  1761  F918  9007              BCC     IMLP1E
  1762  F91A  18                CLC
  1763  F91B  6527              ADC     T02
  1764  F91D  9002              BCC     IMLP1E
  1765  F91F  E626              INC     T01
  1766  F921  88        IMLP1E: DEY
  1767  F922  D0EF              BNE     IMLP1
  1768  F924  8525              STA     T00
  1769  F926  60                RTS
  1770                  
  1771                  ; IDIV- INTEGER DIVIDE. DIVIDE T00,T01 BY T02`. LEAVE QUOTIENT
  1772                  ;         IN T00,T01, REMAINDER IN ACC.
  1773                  
  1774  F927  A900      IDIV:   LDA     #0      ; CLR ACC
  1775  F929  A010              LDY     #16     ; INIT LOOP CTL
  1776                  
  1777  F92B  C527      IDIVLP: CMP     T02      ; CAN DIVISOR BE SUBTRACTED?
  1778  F92D  9002              BCC     .+4     ; BRANCH IF NO
  1779  F92F  E527              SBC     T02      ; SUBTRACT IT IF YES
  1780  F931  2625              ROL     T00      ; ROTATE CARRY INTO QUOTIENT
  1781  F933  2626              ROL     T01      ; *
  1782  F935  2A                DB 2AH;ROLA            ; AND DIVIDEND INTO ACC
  1783  F936  88                DEY
  1784  F937  D0F2              BNE     IDIVLP  ; CONTINUE IF MORE
  1785  F939  60                RTS             ; RETURN IF DONE
  1786                  
  1787  F93A            X3:
  1788                  
  1789  F93A  00000000  ACPAT:  DB      0,0,0,0,0,0,0,0 ; ACCENT(0)=BLANK
  1790        00000000
  1791                  
  1792  F942            KBSET   EQU     .
  1793                          INCLUDE CHARS.MIC(KBSET)
  1794  000B            SHK     EQU     0BH
  1795  000A            CLK     EQU     0AH
  1796  0009            PHK     EQU     09H
  1797  0007            LNK     EQU     07H
  1798  0020            SP      EQU     ' '
  1799  000C            FSK     EQU     0CH
  1800  000D            ROK     EQU     0DH
MICRO-SYMBOL 13-APR-1980   CHARS   PAGE 1-37

  1801  000E            SRK     EQU     0EH
  1802  0022            HOK     EQU     22H
  1803  0006            BSK     EQU     06H
  1804  0008            CLR     EQU     08H
  1805  0005            BWK     EQU     05H
  1806  0010            ONK     EQU     10H
  1807  0011            OFFK    EQU     11H
  1808  0012            FUNK    EQU     12H
  1809                  
  1810  F942  00313233  LCA:    DB      0,'1234567890+-X/',01 ; LOWER CASE ALPHA
  1811        34353637
  1812        3839302B
  1813        2D582F01
  1814  F952  11616263          DB      OFFK,'abcdefghijklm=',02
  1815        64656667
  1816        68696A6B
  1817        6C6D3D02
  1818  F962  126E6F70          DB      FUNK,'nopqrstuvwxyz;',03
  1819        71727374
  1820        75767778
  1821        797A3B03
  1822  F972  0B0A0907          DB      SHK,CLK,PHK,LNK,SP,SP,FSK,ROK,SRK,HOK,BWK,BSK,CLR,',.',04
  1823        20200C0D
  1824        0E220506
  1825        082C2E04
  1826  F982  00214023  UCA:    DB      0,'!@#$%^&*()[]=?',01 ; UPPER CASE ALPHA
  1827        24255E26
  1828        2A28295B
  1829        5D3D3F01
  1830  F992  11414243          DB      OFFK,'ABCDEFGHIJKLM:',02
  1831        44454647
  1832        48494A4B
  1833        4C4D3A02
  1834  F9A2  124E4F50          DB      FUNK,'NOPQRSTUVWXYZ"',03
  1835        51525354
  1836        55565758
  1837        595A2203
  1838  F9B2  0B0A0907          DB      SHK,CLK,PHK,LNK,SP,SP,FSK,ROK,SRK,HOK,BWK,BSK,CLR,'<>',04
  1839        20200C0D
  1840        0E220506
  1841        083C3E04
  1842                  
  1843  F9C2  00313233  LCK:    DB      0,'1234567890+-X/',01 ; LOWER CASE KATAKANA
  1844        34353637
  1845        3839302B
  1846        2D582F01
  1847                  
  1848  F9D2  11858687          DB      OFFK,85H,86H,87H,88H,89H,8AH,8BH
  1849        88898A8B
  1850  F9DA  8C8D8E8F          DB      8CH,8DH,8EH,8FH,90H,91H,92H,02
MICRO-SYMBOL 13-APR-1980   CHARS   PAGE 1-38

  1851        90919202
  1852                  
  1853  F9E2  12939495          DB      FUNK,93H,94H,95H,96H,97H,98H,99H
  1854        96979899
  1855  F9EA  9A9B9C9D          DB      9AH,9BH,9CH,9DH,9EH,9FH,0A0H,03
  1856        9E9FA003
  1857                  
  1858  F9F2  0BA1A2A3          DB      SHK,0A1H,0A2H,0A3H,SP,SP,0A3H,0A4H
  1859        2020A3A4
  1860  F9FA  A5A6A7A8          DB      0A5H,0A6H,0A7H,0A8H,0A9H,0AAH,0ABH,04
  1861        A9AAAB04
  1862                  
  1863  FA02  00214023  UCK:    DB      0,'!@#$%^&*()[]=?',01 ; UPPER CASE KATAKANA
  1864        24255E26
  1865        2A28295B
  1866        5D3D3F01
  1867                  
  1868  FA12  11ACADAE          DB      OFFK,0ACH,0ADH,0AEH,0AFH,0B0H,0B1H,0B2H
  1869        AFB0B1B2
  1870  FA1A  B3B4B5B6          DB      0B3H,0B4H,0B5H,0B6H,0B7H,0B8H,0B9H,02
  1871        B7B8B902
  1872                  
  1873  FA22  12BABBBC          DB      FUNK,0BAH,0BBH,0BCH,0BDH,0BEH,0BFH,0C0H
  1874        BDBEBFC0
  1875  FA2A  C1C2C3C4          DB      0C1H,0C2H,0C3H,0C4H,'YZ''',03
  1876        595A2703
  1877                  
  1878  FA32  0B0A0907          DB      SHK,CLK,PHK,LNK,SP,SP,FSK,ROK,SRK,HOK,BWK,BSK,CLR,'_/',04
  1879        20200C0D
  1880        0E220506
  1881        085F2F04
  1882                  
  1883                            FINISH KBSET
  1884                  
  1885  FA42            CHSET   EQU     .
  1886                          INCLUDE CHARS.MIC(CHAR1)
  1887  FA42  00000000          DB      000H, 000H, 000H, 000H, 000H;   20
  1888        00
  1889  FA47  00DEDE00          DB      000H, 0DEH, 0DEH, 000H, 000H; ! 21
  1890        00
  1891  FA4C  00060006          DB      000H, 006H, 000H, 006H, 000H; " 22
  1892        00
  1893  FA51  28FE28FE          DB      028H, 0FEH, 028H, 0FEH, 028H; # 23
  1894        28
  1895  FA56  4854FE54          DB      048H, 054H, 0FEH, 054H, 024H; $ 24
  1896        24
  1897  FA5B  462610C8          DB      046H, 026H, 010H, 0C8H, 0C4H; % 25
  1898        C4
  1899  FA60  6C92AC40          DB      06CH, 092H, 0ACH, 040H, 0A0H; & 26
  1900        A0
MICRO-SYMBOL 13-APR-1980   CHARS   PAGE 1-39

  1901  FA65  00000E00          DB      000H, 000H, 00EH, 000H, 000H; ' 27
  1902        00
  1903  FA6A  00384482          DB      000H, 038H, 044H, 082H, 000H; ( 28
  1904        00
  1905  FA6F  00824438          DB      000H, 082H, 044H, 038H, 000H; ) 29
  1906        00
  1907  FA74  54387C38          DB      054H, 038H, 07CH, 038H, 054H; * 2A
  1908        54
  1909  FA79  10107C10          DB      010H, 010H, 07CH, 010H, 010H; + 2B
  1910        10
  1911  FA7E  00806000          DB      000H, 080H, 060H, 000H, 000H; , 2C
  1912        00
  1913  FA83  10101010          DB      010H, 010H, 010H, 010H, 010H; - 2D
  1914        10
  1915  FA88  00C0C000          DB      000H, 0C0H, 0C0H, 000H, 000H; . 2E
  1916        00
  1917  FA8D  40201008          DB      040H, 020H, 010H, 008H, 004H; / 2F
  1918        04
  1919  FA92  7CA2928A          DB      07CH, 0A2H, 092H, 08AH, 07CH; 0 30
  1920        7C
  1921  FA97  0084FE80          DB      000H, 084H, 0FEH, 080H, 000H; 1 31
  1922        00
  1923  FA9C  C4A29292          DB      0C4H, 0A2H, 092H, 092H, 08CH; 2 32
  1924        8C
  1925  FAA1  44829292          DB      044H, 082H, 092H, 092H, 06CH; 3 33
  1926        6C
  1927  FAA6  302824FE          DB      030H, 028H, 024H, 0FEH, 020H; 4 34
  1928        20
  1929  FAAB  4E8A8A8A          DB      04EH, 08AH, 08AH, 08AH, 072H; 5 35
  1930        72
  1931  FAB0  78949292          DB      078H, 094H, 092H, 092H, 060H; 6 36
  1932        60
  1933  FAB5  02E2120A          DB      002H, 0E2H, 012H, 00AH, 006H; 7 37
  1934        06
  1935  FABA  6C929292          DB      06CH, 092H, 092H, 092H, 06CH; 8 38
  1936        6C
  1937  FABF  0C929252          DB      00CH, 092H, 092H, 052H, 03CH; 9 39
  1938        3C
  1939  FAC4  006C6C00          DB      000H, 06CH, 06CH, 000H, 000H; : 3A
  1940        00
  1941  FAC9  00B67600          DB      000H, 0B6H, 076H, 000H, 000H; ; 3B
  1942        00
  1943  FACE  00102844          DB      000H, 010H, 028H, 044H, 082H; < 3C
  1944        82
  1945  FAD3  28282828          DB      028H, 028H, 028H, 028H, 028H; = 3D
  1946        28
  1947  FAD8  82442810          DB      082H, 044H, 028H, 010H, 000H; > 3E
  1948        00
  1949  FADD  0402B20A          DB      004H, 002H, 0B2H, 00AH, 004H; ? 3F
  1950        04
MICRO-SYMBOL 13-APR-1980   CHARS   PAGE 1-40

  1951  FAE2  6492F242          DB      064H, 092H, 0F2H, 042H, 03CH; @ 40
  1952        3C
  1953  FAE7  F8242224          DB      0F8H, 024H, 022H, 024H, 0F8H; A 41
  1954        F8
  1955  FAEC  82FE9292          DB      082H, 0FEH, 092H, 092H, 06CH; B 42
  1956        6C
  1957  FAF1  7C828282          DB      07CH, 082H, 082H, 082H, 044H; C 43
  1958        44
  1959  FAF6  82FE8282          DB      082H, 0FEH, 082H, 082H, 07CH; D 44
  1960        7C
  1961  FAFB  FE929292          DB      0FEH, 092H, 092H, 092H, 082H; E 45
  1962        82
  1963  FB00  FE121212          DB      0FEH, 012H, 012H, 012H, 002H; F 46
  1964        02
  1965  FB05  7C8282A2          DB      07CH, 082H, 082H, 0A2H, 0E2H; G 47
  1966        E2
  1967  FB0A  FE101010          DB      0FEH, 010H, 010H, 010H, 0FEH; H 48
  1968        FE
  1969  FB0F  0082FE82          DB      000H, 082H, 0FEH, 082H, 000H; I 49
  1970        00
  1971  FB14  6080827E          DB      060H, 080H, 082H, 07EH, 002H; J 4A
  1972        02
  1973  FB19  FE102844          DB      0FEH, 010H, 028H, 044H, 082H; K 4B
  1974        82
  1975  FB1E  FE808080          DB      0FEH, 080H, 080H, 080H, 080H; L 4C
  1976        80
  1977  FB23  FE041804          DB      0FEH, 004H, 018H, 004H, 0FEH; M 4D
  1978        FE
  1979  FB28  FE081020          DB      0FEH, 008H, 010H, 020H, 0FEH; N 4E
  1980        FE
  1981  FB2D  7C828282          DB      07CH, 082H, 082H, 082H, 07CH; O 4F
  1982        7C
  1983  FB32  FE121212          DB      0FEH, 012H, 012H, 012H, 00CH; P 50
  1984        0C
  1985  FB37  7C82A242          DB      07CH, 082H, 0A2H, 042H, 0BCH; Q 51
  1986        BC
  1987  FB3C  FE123252          DB      0FEH, 012H, 032H, 052H, 08CH; R 52
  1988        8C
  1989  FB41  4C929292          DB      04CH, 092H, 092H, 092H, 064H; S 53
  1990        64
  1991  FB46  0202FE02          DB      002H, 002H, 0FEH, 002H, 002H; T 54
  1992        02
  1993  FB4B  7E808080          DB      07EH, 080H, 080H, 080H, 07EH; U 55
  1994        7E
  1995  FB50  1E608060          DB      01EH, 060H, 080H, 060H, 01EH; V 56
  1996        1E
  1997  FB55  7E807080          DB      07EH, 080H, 070H, 080H, 07EH; W 57
  1998        7E
  1999  FB5A  C6281028          DB      0C6H, 028H, 010H, 028H, 0C6H; X 58
  2000        C6
MICRO-SYMBOL 13-APR-1980   CHARS   PAGE 1-41

  2001  FB5F  0E10E010          DB      00EH, 010H, 0E0H, 010H, 00EH; Y 59
  2002        0E
  2003  FB64  C2A2928A          DB      0C2H, 0A2H, 092H, 08AH, 086H; Z 5A
  2004        86
  2005  FB69  FEFE8282          DB      0FEH, 0FEH, 082H, 082H, 082H; [ 5B
  2006        82
  2007  FB6E  04081020          DB      004H, 008H, 010H, 020H, 040H; / 5C
  2008        40
  2009  FB73  828282FE          DB      082H, 082H, 082H, 0FEH, 0FEH; ] 5D
  2010        FE
  2011  FB78  20100810          DB      020H, 010H, 008H, 010H, 020H; ^ 5E
  2012        20
  2013  FB7D  80808080          DB      080H, 080H, 080H, 080H, 080H; _ 5F
  2014        80
  2015  FB82  00060006          DB      000H, 006H, 000H, 006H, 000H; " 60
  2016        00
  2017  FB87  F0282828          DB      0F0H, 028H, 028H, 028H, 0F0H; A 61
  2018        F0
  2019  FB8C  88F8A8A8          DB      088H, 0F8H, 0A8H, 0A8H, 050H; B 62
  2020        50
  2021  FB91  70888888          DB      070H, 088H, 088H, 088H, 088H; C 63
  2022        88
  2023  FB96  88F88888          DB      088H, 0F8H, 088H, 088H, 070H; D 64
  2024        70
  2025  FB9B  F8A8A888          DB      0F8H, 0A8H, 0A8H, 088H, 088H; E 65
  2026        88
  2027  FBA0  F8282808          DB      0F8H, 028H, 028H, 008H, 008H; F 66
  2028        08
  2029  FBA5  7088A8A8          DB      070H, 088H, 0A8H, 0A8H, 048H; G 67
  2030        48
  2031  FBAA  F8202020          DB      0F8H, 020H, 020H, 020H, 0F8H; H 68
  2032        F8
  2033  FBAF  0088F888          DB      000H, 088H, 0F8H, 088H, 000H; I 69
  2034        00
  2035  FBB4  C08088F8          DB      0C0H, 080H, 088H, 0F8H, 008H; J 6A
  2036        08
  2037  FBB9  F8202050          DB      0F8H, 020H, 020H, 050H, 088H; K 6B
  2038        88
  2039  FBBE  F8808080          DB      0F8H, 080H, 080H, 080H, 080H; L 6C
  2040        80
  2041  FBC3  F8102010          DB      0F8H, 010H, 020H, 010H, 0F8H; M 6D
  2042        F8
  2043  FBC8  F8102040          DB      0F8H, 010H, 020H, 040H, 0F8H; N 6E
  2044        F8
  2045  FBCD  F8888888          DB      0F8H, 088H, 088H, 088H, 0F8H; O 6F
  2046        F8
  2047  FBD2  F8282828          DB      0F8H, 028H, 028H, 028H, 010H; P 70
  2048        10
  2049  FBD7  F888A848          DB      0F8H, 088H, 0A8H, 048H, 0B8H; Q 71
  2050        B8
MICRO-SYMBOL 13-APR-1980   CHARS   PAGE 1-42

  2051  FBDC  F8282868          DB      0F8H, 028H, 028H, 068H, 0B8H; R 72
  2052        B8
  2053  FBE1  90A8A8A8          DB      090H, 0A8H, 0A8H, 0A8H, 048H; S 73
  2054        48
  2055  FBE6  0808F808          DB      008H, 008H, 0F8H, 008H, 008H; T 74
  2056        08
  2057  FBEB  78808080          DB      078H, 080H, 080H, 080H, 078H; U 75
  2058        78
  2059  FBF0  78804020          DB      078H, 080H, 040H, 020H, 018H; V 76
  2060        18
  2061  FBF5  F8402040          DB      0F8H, 040H, 020H, 040H, 0F8H; W 77
  2062        F8
  2063  FBFA  88502050          DB      088H, 050H, 020H, 050H, 088H; X 78
  2064        88
  2065  FBFF  0810E010          DB      008H, 010H, 0E0H, 010H, 008H; Y 79
  2066        08
  2067  FC04  88C8A898          DB      088H, 0C8H, 0A8H, 098H, 088H; Z 7A
  2068        88
  2069  FC09  00106C82          DB      000H, 010H, 06CH, 082H, 082H; { 7B
  2070        82
  2071  FC0E  0000EE00          DB      000H, 000H, 0EEH, 000H, 000H; | 7C
  2072        00
  2073  FC13  82826C10          DB      082H, 082H, 06CH, 010H, 000H; ] 7D
  2074        00
  2075  FC18  02010204          DB      002H, 001H, 002H, 004H, 002H;   7E
  2076        02
  2077  FC1D  00010204          DB      000H, 001H, 002H, 004H, 000H; ` 7F
  2078        00
  2079  FC22  00040201          DB      000H, 004H, 002H, 001H, 000H; ' 80
  2080        00
  2081  FC27  1EA16121          DB      01EH, 0A1H, 061H, 021H, 012H; C 81
  2082        12
  2083  FC2C  00010101          DB      000H, 001H, 001H, 001H, 000H; _ 82
  2084        00
  2085  FC31  10101010          DB      010H, 010H, 010H, 010H, 010H;-- 83
  2086        10
  2087  FC36  00010001          DB      000H, 001H, 000H, 001H, 000H;.. 84
  2088        00
  2089                            FINISH CHAR1
  2090                  ;       INCLUDE CHARS.MIC(CHAR2)
  2091                  
  2092                          INCLUDE HITEST.MIC(HILVL)
  2093                  
  2094  FC3B  361B6418  HILVL:  DB      FLS,PSH1,CURSOR,SRAM,PSH1,80,DARRAY,2,PSH1,1,DARRAY,1
  2095        1B504102
  2096        1B014101
  2097  FC47  1B0A4104          DB      PSH1,10,DARRAY,4,PSH1,1,DARRAY,3
  2098        1B014103
  2099  FC4F  3D                DB      PSH2
  2100  FC50  C8FC              DW      EDICT
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-43

  2101  FC52  1B0A181B          DB      PSH1,EVECT+1,SRAM,PSH1,EVECT,SRAM,TEST
  2102        091880
  2103                  
  2104  FC59  202BF4    RDBUFX: JSR     CHAIN   ; READ 1 LINE AND DISPLAY IT
  2105  FC5C  36420123          DB      FLS,ARRAY,1,STO
  2106  FC60  2D061B04  RD01:   DB      GETKB,DUP,PSH1,04,EQ ; EOB?
  2107        12
  2108  FC65  020A011B          DB      IFI,(RD02-.),POP,PSH1,3,FORI,PSH1,' ',PRT,LOOP,EOW
  2109        03271B20
  2110        452900
  2111  FC70  06420242  RD02:   DB      DUP,ARRAY,2,ARRAY,1,FET,OSTO  ; CHAR TO BUF
  2112        011938
  2113  FC77  45420119          DB      PRT,ARRAY,1,FET,PLS1,ARRAY,1,STO
  2114        08420123
  2115  FC7F  4201191B          DB      ARRAY,1,FET,PSH1,80,GE
  2116        5015
  2117  FC85  032600            DB      ENDI,(.-RD01),EOW
  2118                  
  2119  FC88  202BF4    PRTX:   JSR     CHAIN   ; PRINT CHAR TO DISPLAY
  2120  FC8B  1B64111B          DB      PSH1,CURSOR,FRAM,PSH1,DSIZE,GE  ; IS DSPLY FULL
  2121        1A15
  2122  FC91  02133D            DB      IFI,(EIF1-.),PSH2
  2123  FC94  6701              DW      DBUF+1
  2124  FC96  3D                DB      PSH2
  2125  FC97  6601              DW      DBUF
  2126  FC99  1B191A36          DB      PSH1,DSIZE-1,MOVE,FLS,UPDISP  ; SHIFT DISPLY
  2127        4F
  2128  FC9E  1B641109          DB      PSH1,CURSOR,FRAM,MNS1,PSH1,CURSOR,SRAM  ; SUB 1 FROM CNT
  2129        1B6418
  2130  FCA5  461B6411  EIF1:   DB      DOUT,PSH1,CURSOR,FRAM,DUP,PLS1,PSH1,CURSOR,SRAM,DCHAR,EOW
  2131        06081B64
  2132        184E00
  2133                  
  2134  FCB0  202BF4    DOUTX:  JSR     CHAIN   ; PUT CHAR ON PSTK INTO DBUF(CURSOR)
  2135  FCB3  67111B44          DB      ROMPTR,FRAM,PSH1,'D',EQ,IFI,(DOUTX9-.),DUP,PRTCHR
  2136        12020306
  2137        50
  2138  FCBC  3D        DOUTX9: DB      PSH2
  2139  FCBD  6601              DW      DBUF
  2140  FCBF  1B641138          DB      PSH1,CURSOR,FRAM,OSTO,PSH1,CURSOR,FRAM,DCHAR,EOW
  2141        1B64114E
  2142        00
  2143                  
  2144                  ; EXTRINSIC DICTIONARY
  2145                  
  2146  FCC8            EDICT   EQU     .
  2147  0080            TEST    EQU     (.-EDICT)/2+128
  2148  FCC8  81A5              DB      ((TESTX-EDICT+8000H) SHR 8),((TESTX-EDICT) MOD 256)
  2149  0081            NLAT    EQU     (.-EDICT)/2+128
  2150  FCCA  001E              DB      ((NLATX-EDICT) SHR 8),((NLATX-EDICT) MOD 256)
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-44

  2151  0082            OLAT    EQU     (.-EDICT)/2+128
  2152  FCCC  0028              DB      ((OLATX-EDICT) SHR 8),((OLATX-EDICT) MOD 256)
  2153  0083            DOLAT   EQU     (.-EDICT)/2+128
  2154  FCCE  0044              DB      ((DOLATX-EDICT) SHR 8),((DOLATX-EDICT) MOD 256)
  2155  0084            SLOLP   EQU     (.-EDICT)/2+128
  2156  FCD0  0032              DB      ((SLOLPX-EDICT) SHR 8),((SLOLPX-EDICT) MOD 256)
  2157  0085            WAITSEC EQU     (.-EDICT)/2+128
  2158  FCD2  004E              DB      ((WAITSECX-EDICT) SHR 8),((WAITSECX-EDICT) MOD 256)
  2159  0086            DUP3    EQU     (.-EDICT)/2+128
  2160  FCD4  817E              DB      ((DUP3X-EDICT+8000H) SHR 8),((DUP3X-EDICT) MOD 256)
  2161  0087            INCASC  EQU     (.-EDICT)/2+128
  2162  FCD6  8186              DB      ((INCASCX-EDICT+8000H) SHR 8),((INCASCX-EDICT) MOD 256)
  2163  0088            PAWS    EQU     (.-EDICT)/2+128
  2164  FCD8  819C              DB      ((PAWSX-EDICT+8000H) SHR 8),((PAWSX-EDICT) MOD 256)
  2165  0089            CD      EQU     (.-EDICT)/2+128
  2166  FCDA  8121              DB      ((CDX-EDICT+8000H) SHR 8),((CDX-EDICT) MOD 256)
  2167  008A            DMSG    EQU     (.-EDICT)/2+128
  2168  FCDC  8137              DB      ((DMSGX-EDICT+8000H) SHR 8),((DMSGX-EDICT) MOD 256)
  2169  008B            CNVT    EQU     (.-EDICT)/2+128
  2170  FCDE  815C              DB      ((CNVTX-EDICT+8000H) SHR 8),((CNVTX-EDICT) MOD 256)
  2171  008C            BEXP    EQU     (.-EDICT)/2+128
  2172  FCE0  0074              DB      ((BEXPX-EDICT) SHR 8),((BEXPX-EDICT) MOD 256)
  2173  008D            DOTIME  EQU     (.-EDICT)/2+128
  2174  FCE2  009D              DB      ((DOTIMEX-EDICT) SHR 8),((DOTIMEX-EDICT) MOD 256)
  2175  008E            DPLUS   EQU     (.-EDICT)/2+128
  2176  FCE4  0063              DB      ((DPLUSX-EDICT) SHR 8),((DPLUSX-EDICT) MOD 256)
  2177                  
  2178  FCE6  B569      NLATX:  LDA     PSTK,X
  2179  FCE8  C665              DEC     PSP
  2180  FCEA  208FF3            JSR     ANDLATCH
  2181  FCED  4CF7F3            JMP     NEXT
  2182                  
  2183  FCF0  B569      OLATX:  LDA     PSTK,X
  2184  FCF2  C665              DEC     PSP
  2185  FCF4  2094F3            JSR     ORLATCH
  2186  FCF7  4CF7F3            JMP     NEXT
  2187                  
  2188  FCFA  B569      SLOLPX: LDA     PSTK,X
  2189  FCFC  C665              DEC     PSP
  2190  FCFE  AA                TAX
  2191  FCFF  A8        SLP1:   TAY
  2192  FD00  2C0040    SLP2:   BIT     4000H
  2193  FD03  88                DEY
  2194  FD04  D0FA              BNE     SLP2
  2195  FD06  CA                DEX
  2196  FD07  D0F6              BNE     SLP1
  2197  FD09  4CF7F3            JMP     NEXT
  2198                  
  2199  FD0C  B569      DOLATX: LDA     PSTK,X
  2200  FD0E  C665              DEC     PSP
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-45

  2201  FD10  2096F3            JSR     DOLATCH
  2202  FD13  4CF7F3            JMP     NEXT
  2203                  
  2204  FD16  A900      WAITSECX: LDA   #0
  2205  FD18  8DFC3F            STA     TMID
  2206  FD1B  EA                NOP             ; PATCH FOR UP CTR *********************
  2207  FD1C  8DFD3F            STA     THI
  2208  FD1F  850B              STA     TECB
  2209  FD21  2064F3    WTSLP:  JSR     SLEEP   ; WAIT FOR INTERRUPT
  2210  FD24  C50B              CMP     TECB
  2211  FD26  F0F9              BEQ     WTSLP
  2212  FD28  4CF7F3            JMP     NEXT
  2213                  
  2214  FD2B  B568      DPLUSX: LDA     PSTK-1,X
  2215  FD2D  18                CLC
  2216  FD2E  7566              ADC     PSTK-3,X
  2217  FD30  9566              STA     PSTK-3,X
  2218  FD32  B569              LDA     PSTK,X
  2219  FD34  7567              ADC     PSTK-2,X
  2220  FD36  9567              STA     PSTK-2,X
  2221  FD38  CA                DEX
  2222  FD39  4C9CF5            JMP     DSTO1
  2223                  
  2224  FD3C  B569      BEXPX:  LDA     PSTK,X  ; BINARY DIGIT
  2225  FD3E  8525              STA     T00
  2226  FD40  A900              LDA     #0
  2227  FD42  8526              STA     T01
  2228  FD44  B568              LDA     PSTK-1,X
  2229  FD46  F00D              BEQ     BEXP2   ; BRANCH IF EXP=0
  2230  FD48  8528              STA     T03
  2231  FD4A  A55D              LDA     BASE
  2232  FD4C  8527              STA     T02
  2233  FD4E  200DF9    BEXP1:  JSR     IMPY    ; DIGIT X BASE
  2234  FD51  C628              DEC     T03     ; DEC EXPON.
  2235  FD53  D0F9              BNE     BEXP1   ; BR IF MORE
  2236  FD55  A525      BEXP2:  LDA     T00     ; ADD NUM TO ACCUM
  2237  FD57  18                CLC
  2238  FD58  7566              ADC     PSTK-3,X
  2239  FD5A  9566              STA     PSTK-3,X
  2240  FD5C  A526              LDA     T01
  2241  FD5E  7567              ADC     PSTK-2,X
  2242  FD60  9567              STA     PSTK-2,X
  2243  FD62  4C9CF5            JMP     DSTO1   ; LEAVE ACCUM & EXP ON PSTK
  2244                  
  2245  FD65  A9FF      DOTIMEX: LDA    #-1
  2246  FD67  D666              DEC     PSTK-3,X ; ADJUST TIME
  2247  FD69  D566              CMP     PSTK-3,X ; ROLL UNDER?
  2248  FD6B  D002              BNE     DT1     ; BRANCH IF NO
  2249  FD6D  D667              DEC     PSTK-2,X
  2250  FD6F  D668      DT1:    DEC     PSTK-1,X
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-46

  2251  FD71  D568              CMP     PSTK-1,X
  2252  FD73  D002              BNE     DTLOOPA
  2253  FD75  D669              DEC     PSTK,X
  2254                  
  2255  FD77  A9FF      DTLOOPA: LDA    #-1
  2256  FD79  D566              CMP     PSTK-3,X
  2257  FD7B  D004              BNE     DTLP1
  2258  FD7D  D567              CMP     PSTK-2,X
  2259  FD7F  F01A              BEQ     DTLOOPB ; BRANCH IF ONTIME=0
  2260  FD81  B566      DTLP1:  LDA     PSTK-3,X ; ONTIME-LO
  2261  FD83  B467              LDY     PSTK-2,X ; ONTIME-HI
  2262  FD85  8DFB3F            STA     TLO     ; TO TIMER
  2263  FD88  8CFC3F            STY     TMID
  2264  FD8B  A000              LDY     #0
  2265  FD8D  850B              STA     TECB
  2266  FD8F  8CFD3F            STY     THI
  2267  FD92  CDFB3F            CMP     TLO     ; DID TIMER ROLL OVER?
  2268  FD95  D0EA              BNE     DTLP1   ; BRANCH IF YES
  2269  FD97  C50B      DTLP1A: CMP     TECB    ; TIMER EXPIRE YET?
  2270  FD99  F0FC              BEQ     DTLP1A  ; BRANCH IF NO
  2271                  
  2272  FD9B  A9FF      DTLOOPB: LDA    #-1
  2273  FD9D  D568              CMP     PSTK-1,X
  2274  FD9F  D004              BNE     DTLP2
  2275  FDA1  D569              CMP     PSTK,X
  2276  FDA3  F0D2              BEQ     DTLOOPA
  2277  FDA5  B568      DTLP2:  LDA     PSTK-1,X ; OFFTIME-LO
  2278  FDA7  B469              LDY     PSTK,X  ; OFFTIME-HI
  2279  FDA9  8DFB3F            STA     TLO
  2280  FDAC  8CFC3F            STY     TMID
  2281  FDAF  A000              LDY     #0
  2282  FDB1  850B              STA     TECB
  2283  FDB3  8CFD3F            STY     THI
  2284  FDB6  CDFB3F            CMP     TLO
  2285  FDB9  D0EA              BNE     DTLP2
  2286  FDBB  2064F3    DTLP2A: JSR     SLEEP   ; SHUT DOWN CPU
  2287  FDBE  C50B              CMP     TECB    ; OUR INTERRUPT?
  2288  FDC0  F0F9              BEQ     DTLP2A  ; BRANCH IF NO
  2289  FDC2  D0B3              BNE     DTLOOPA ; BRANCH IF YES
  2290                  
  2291  FDC4  11454E54  ONMSG:  DB      17,'ENTER "ON" TIME: '
  2292        45522022
  2293        4F4E2220
  2294        54494D45
  2295        3A20
  2296  FDD6  12454E54  OFFMSG: DB      18,'ENTER "OFF" TIME: '
  2297        45522022
  2298        4F464622
  2299        2054494D
  2300        453A20
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-47

  2301                  
  2302  FDE9  1B203D    CDX:    DB      PSH1,' ',PSH2
  2303  FDEC  6601              DW      DBUF
  2304  FDEE  233D              DB      STO,PSH2
  2305  FDF0  6601              DW      DBUF
  2306  FDF2  3D                DB      PSH2
  2307  FDF3  6701              DW      DBUF+1
  2308  FDF5  1B191A36          DB      PSH1,DSIZE-1,MOVE,FLS,UPDISP,FLS,PSH1,CURSOR,SRAM,EOW
  2309        4F361B64
  2310        1800
  2311                  
  2312  FDFF  3F050805  DMSGX:  DB      DUP2,SWAP,PLS1,SWAP,OVER,FLS,EQ,IFI,(DMSG1-.),PLS1
  2313        07361202
  2314        0208
  2315  FE09  3D        DMSG1:  DB      PSH2
  2316  FE0A  6601              DW      DBUF
  2317  FE0C  1B641136          DB      PSH1,CURSOR,FRAM,FLS,DPLUS
  2318        8E
  2319  FE11  1B06101B          DB      PSH1,6,FSTK,PSH1,6,FSTK,FET,MOVE ; MOV MSG TO DBUF
  2320        0610191A
  2321  FE19  364F              DB      FLS,UPDISP
  2322  FE1B  191B6411          DB      FET,PSH1,CURSOR,FRAM,PLUS,PSH1,CURSOR,SRAM,EOW
  2323        0A1B6418
  2324        00
  2325                  
  2326  FE24  42011906  CNVTX:  DB      ARRAY,1,FET,DUP,FLS,EQ,IFI,(CVGO-.),EOW
  2327        36120202
  2328        00
  2329  FE2D  36360F06  CVGO:   DB      FLS,FLS,ROT,DUP,MNS1,SWAP
  2330        0905
  2331  FE33  2742022C          DB      FORI,ARRAY,2,LNDX,OFET,CVB,IFI,(CVER1-.)
  2332        372E0207
  2333  FE3B  8C092901          DB      BEXP,MNS1,LOOP,POP,TRU,EOW
  2334        3500
  2335  FE41  2B013E36  CVER1:  DB      XLOOP,POP,POP2,FLS,EOW
  2336        00
  2337                  
  2338                  
  2339  FE46  1B03271B  DUP3X:  DB      PSH1,3,FORI,PSH1,3,FSTK,LOOP,EOW
  2340        03102900
  2341                  
  2342  FE4E  3F190806  INCASCX:DB      DUP2,FET,PLS1,DUP,PSH1,3AH,LT,IFI,(INCA-.)
  2343        1B3A1702
  2344        06
  2345  FE57  0F052336          DB      ROT,SWAP,STO,FLS,EOW
  2346        00
  2347  FE5C  011B300F  INCA:   DB      POP,PSH1,30H,ROT,SWAP,STO,TRU,EOW
  2348        05233500
  2349                  
  2350  FE64  1BFF271B  PAWSX:  DB      PSH1,255,FORI,PSH1,5,FORI,LOOP,LOOP,EOW
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-48

  2351        05272929
  2352        00
  2353                  
  2354  FE6D  2D066718  TESTX:  DB      GETKB,DUP,ROMPTR,SRAM,DUP,PRT
  2355        0645
  2356  FE73  061B4112          DB      DUP,PSH1,'A',EQ,IFI,(TSTB-.),POP
  2357        021101
  2358                  ; TEST A : PULSE STRETCHER- FLIP STRETCH BIT WHILE ACCESSING LOC 4000H
  2359  FE7A  1BEF811B  HLPA:   DB      PSH1,(255-SLOMEM),NLAT,PSH1,100,SLOLP
  2360        6484
  2361  FE80  1B10821B          DB      PSH1,SLOMEM,OLAT,PSH1,71,SLOLP,FLS,ENDI,(.-HLPA)
  2362        47843603
  2363        0E
  2364                  
  2365  FE89  061B4212  TSTB:   DB      DUP,PSH1,'B',EQ,IFI,(TSTC-.),POP
  2366        021601
  2367                  ; TEST B : LATCH TEST- CYCLE THRU CAPSULE ADDRESSES AND BEEPER
  2368  FE90  1B1B111B  HLPB:   DB      PSH1,LATCHS,FRAM,PSH1,255-7,ANDI
  2369        F80C
  2370  FE96  1B200D1B  HLPB1:  DB      PSH1,BEEPER,XORI,PSH1,8,FORI,DUP,LNDX,ORI,DOLAT,LOOP
  2371        0827062C
  2372        0E8329
  2373  FEA1  36030D            DB      FLS,ENDI,(.-HLPB1)
  2374                  
  2375  FEA4  061B4312  TSTC:   DB      DUP,PSH1,'C',EQ,IFI,(TSTD-.),POP
  2376        021E01
  2377                  ; TEST C : DISPLAY TEST- ROTATE ALL BINARY CODES THRU DISPLAY
  2378  FEAB  1B8082    HLPC:   DB      PSH1,DMASK,OLAT
  2379  FEAE  3D013F3D          DB      PSH2,01,3FH,PSH2,00,3FH,PSH1,159,MOVE
  2380        003F1B9F
  2381        1A
  2382  FEB7  3D9F3F19          DB      PSH2,159,3FH,FET,MNS1,PSH2,159,3FH,STO
  2383        093D9F3F
  2384        23
  2385  FEC0  1B7F81            DB      PSH1,255-DMASK,NLAT
  2386  FEC3  8836031B          DB      PAWS,FLS,ENDI,(.-HLPC)
  2387                  
  2388  FEC7  061B4412  TSTD:   DB      DUP,PSH1,'D',EQ,IFI,(TSTE-.),POP
  2389        020801
  2390                  ; TEST D : KEYBOARD TEST- KEYS PRESSED APPEAR ON DISPLAY
  2391  FECE  241C4436  HLPD:   DB      PSET,RSET,RDBUF,FLS,ENDI,(.-HLPD)
  2392        0305
  2393                  
  2394  FED4  061B4512  TSTE:   DB      DUP,PSH1,'E',EQ,IFI,(TSTF-.),POP
  2395        022601
  2396                  ; TEST E : TIMER INTERRUPT- DISPLAY TIME IN SECS FROM START
  2397  FEDB  1B303D    HLPE:   DB      PSH1,'0',PSH2
  2398  FEDE  7101              DW      DBUF+11
  2399  FEE0  1B032786          DB      PSH1,3,FORI,DUP3,LNDX,OSTO,LOOP,PSET
  2400        2C382924
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-49

  2401  FEE8  36854F3D  HLPE1:  DB      FLS,WAITSEC,UPDISP,PSH2
  2402  FEEC  7301              DW      DBUF+13
  2403  FEEE  8703083D          DB      INCASC,ENDI,(.-HLPE1),PSH2
  2404  FEF2  7201              DW      DBUF+12
  2405  FEF4  87030E3D          DB      INCASC,ENDI,(.-HLPE1),PSH2
  2406  FEF8  7101              DW      DBUF+11
  2407  FEFA  87013603          DB      INCASC,POP,FLS,ENDI,(.-HLPE1)
  2408        16
  2409                  
  2410  FEFF  061B4612  TSTF:   DB      DUP,PSH1,'F',EQ,IFI,(TSTG-.),POP
  2411        022601
  2412                  ; TEST F : BATTERY CHECK- DISPLAY 'B' IF BAT BIT SET
  2413  FF06  3D        HLPF:   DB      PSH2
  2414  FF07  FA3F              DW      LOBAT
  2415  FF09  191B800C          DB      FET,PSH1,80H,ANDI,IFI,(HLPF1-.)
  2416        0205
  2417  FF0F  1B420403          DB      PSH1,'B',ELSE,(HLPF2-.)
  2418  FF13  1B20      HLPF1:  DB      PSH1,' '
  2419  FF15  3D        HLPF2:  DB      PSH2
  2420  FF16  6801              DW      DBUF+2
  2421  FF18  19071302          DB      FET,OVER,NE,IFI,(HLPF3-.),PSH2
  2422        0A3D
  2423  FF1E  6801              DW      DBUF+2
  2424  FF20  231B024E          DB      STO,PSH1,2,DCHAR,ELSE,(HLPF4-.)
  2425        0402
  2426  FF26  01        HLPF3:  DB      POP
  2427  FF27  360323    HLPF4:  DB      FLS,ENDI,(.-HLPF)
  2428                  
  2429  FF2A  061B4712  TSTG:   DB      DUP,PSH1,'G',EQ,IFI,(TSTH-.),POP
  2430        022201
  2431                  ; TEST G : STORE AND READ TIMER
  2432  FF31  1B413DFB          DB      PSH1,'A',PSH2,0FBH,03FH
  2433        3F
  2434  FF36  1B032786          DB      PSH1,3,FORI,DUP3,LNDX,OSTO,LOOP,PSET
  2435        2C382924
  2436  FF3E  1B8082    HLPG:   DB      PSH1,DMASK,OLAT
  2437  FF41  3DFB3F3D          DB      PSH2,0FBH,03FH,PSH2,15,3FH,PSH1,3,MOVE
  2438        0F3F1B03
  2439        1A
  2440  FF4A  1B7F81            DB      PSH1,255-DMASK,NLAT
  2441  FF4D  88360312          DB      PAWS,FLS,ENDI,(.-HLPG)
  2442                  
  2443  FF51  061B4812  TSTH:   DB      DUP,PSH1,'H',EQ,IFI,(TSTI-.),POP
  2444        023401
  2445                  ; TEST H : TEST POWER CONSUMPTION
  2446  FF58  3D        HLPH:   DB      PSH2
  2447  FF59  C4FD              DW      ONMSG
  2448  FF5B  898A448B          DB      CD,DMSG,RDBUF,CNVT,IFI,(HLPH1-.) ; READ 'ON' TIME
  2449        0225
  2450  FF61  42024204          DB      ARRAY,2,ARRAY,4,ARRAY,1,FET,DUP,ARRAY,3,STO,MOVE,PSH2
MICRO-SYMBOL 13-APR-1980   HITEST   PAGE 1-50

  2451        42011906
  2452        4203231A
  2453        3D
  2454  FF6E  D6FD              DW      OFFMSG
  2455  FF70  898A448B          DB      CD,DMSG,RDBUF,CNVT,IFI,(HLPH1-.) ; READ 'OFF' TIME
  2456        0210
  2457  FF76  4203898A          DB      ARRAY,3,CD,DMSG,PSH1,'/',PRT,ARRAY,1,DMSG ; DSPLY TIMES
  2458        1B2F4542
  2459        018A
  2460  FF80  351B6418          DB      TRU,PSH1,CURSOR,SRAM,DOTIME
  2461        8D
  2462  FF85  241C3603  HLPH1:  DB      PSET,RSET,FLS,ENDI,(.-HLPH)
  2463        31
  2464                  
  2465  FF8A            TSTI    EQU     .
  2466  FF8A  061B4912          DB      DUP,PSH1,'I',EQ,IFI,(TSTJ-.),POP
  2467        022A01
  2468                  ; TEST I : DUMB TERMINAL UART TEST
  2469  FF91  A4                DB      ENAB    ; ENABLE UART & MODEM
  2470  FF92  510217    HLPI:   DB      RDCHR,IFI,(HLPI3-.)
  2471  FF95  061B0A12          DB      DUP,PSH1,10,EQ
  2472  FF99  0204011B          DB       IFI,(HLPI1-.),POP,PSH1,3EH
  2473        3E
  2474  FF9E  061B0D12  HLPI1:  DB      DUP,PSH1,13,EQ,IFI,(HLPI2-.),POP,PSH1,3CH
  2475        0204011B
  2476        3C
  2477  FFA7  45360318  HLPI2:  DB      PRT,FLS,ENDI,(.-HLPI)
  2478  FFAB  1B4A111B  HLPI3:  DB      PSH1,EVQPI,FRAM,PSH1,EVQPO,FRAM,NE,ENDI,(.-HLPI)
  2479        4B111303
  2480        21
  2481  FFB4  2D503603          DB      GETKB,PRTCHR,FLS,ENDI,(.-HLPI)
  2482        26
  2483                  
  2484  FFB9            TSTJ    EQU     .
  2485  FFB9  3603ED            DB      FLS,ENDI,(.-HLPD)
  2486                  
  2487                          FINISH  HILVL
  2488                  
  2489  FFFA                    ORG     IDICT+0FFAH
  2490  FFFA  31F2      NMIVECT:DW      NMIEP   ; NMI
  2491  FFFC  A6F0      RSTVECT:DW      INIT    ; RESTART
  2492  FFFE  95F1      IRQVECT: DW     IRQEP   ; IRQ
  2493                  
  2494                          END

NO ERRORS DETECTED

PROGRAM BREAK IS 0000
MICRO-SYMBOL 13-APR-1980   SYMBOL TABLE   PAGE 1

ABS       0043     CLR01     F0F2     DOLATCH  F396     ENLP2    F8DC
ABSX      F58A     CLRRAM    0024     DOLATX   FD0C     ENOP     F3D9
ACCESS    8B86     CMP1      F626     DOTCTR1  00E2     ENQ      F39C
ACOMP     F617     CMP2      F627     DOTCTR2  00E3     ENXIT    F8F2
ACPAT     F93A     CMPX      F61C     DOTIME   008D     EOW      0000
ACVECT    0013     CNEG      0080     DOTIMEX  FD65     EOWX     F3F1
ADD2      F83F     CNVT      008B     DOUT     0046     EQ       0012
ALARM     0001     CNVTX     FE24     DOUTX    FCB0     EQX      F5D5
ALTBIT    0004     COMP      003C     DOUTX9   FCBC     EVECT    0009
ANDI      000C     CPUON     0040     DOX      F6DE     EVQ      004C
ANDLATCH  F38F     CQMK      0020     DPLUS    008E     EVQHI    000F
ANDX      F596     CRYBIT    005E     DPLUSX   FD2B     EVQPI    004A
APTR      0021     CTROM     9000     DSIZE    001A     EVQPO    004B
ARRAY     0042     CURBANK1  008B     DSPLY    3F00     EWDCH    005E
ARRAYV    019C     CURBANK2  008C     DSTO     F59A     EX1      F49C
ARRAYX    F4E8     CURROM    0024     DSTO1    F59C     EXEC1    0049
ATAB      0001     CURSOR    0064     DT1      FD6F     EXEC9    004A
BASE      005D     CVB       002E     DTAB     0002     EXNEXT   F40C
BEEPER    0020     CVBE1     F732     DTIME    0047     EXNXT1   F41A
BEXP      008C     CVBL1     F723     DTLOOPA  FD77     FALSE    F634
BEXP1     FD4E     CVBX      F71F     DTLOOPB  FD9B     FET      0019
BEXP2     FD55     CVD       002F     DTLP1    FD81     FETX     F639
BEXPX     FD3C     CVDX      F739     DTLP1A   FD97     FICW     F84F
BINARY    0034     CVER1     FE41     DTLP2    FDA5     FLAG1    005C
BINX      F77D     CVGO      FE2D     DTLP2A   FDBB     FLS      0036
BKMASK    4028     DADD      004D     DUP      0006     FORI     0027
BREAK     F192     DADDX     F56A     DUP2     003F     FORX     F6DB
BSET      004B     DARRAY    0041     DUP2X    F517     FRAM     0011
BSETX     F693     DARRAYX   F4C9     DUP3     0086     FRAMX    F5C0
BSK       0006     DBUF      0166     DUP3X    FE46     FREEMEM  0017
BSLP      F6A0     DBUF1     0181     DUPX     F521     FSK      000C
BTBL      F757     DBUFL     001B     DUPX5    F523     FSTK     0010
BWK       0005     DCHAR     004E     DUPX6    F524     FSTKX    F53B
CALT      0010     DCHARX    F781     ECHAIN   F421     FUNBIT   0002
CAPOFF    0004     DECIMAL   0032     EDICT    FCC8     FUNK     0012
CASE      0026     DECX      F772     EIF1     FCA5     GE       0015
CASEX     F440     DECX1     F774     ELSE     0004     GETCHR   0020
CD        0089     DEIP      F3CD     ELSEX    F4B4     GETDOTS  F8F8
CDX       FDE9     DEOP      F3E5     ENAB     00A4     GETDOTX  00DD
CFLSH     0040     DEQ       F3A8     ENABX    F21F     GETKB    002D
CH        0061     DEQ01     F3B4     ENCMP    F8B0     GEX      F5F4
CHAIN     F42B     DISPON    0008     ENCMP1   F8B3     GNIX     F102
CHAIN1    F433     DLYCNT    0049     ENCODE   F85A     GT       0014
CHAINV    0000     DLYCON    0048     ENCOM    F886     GTX      F5EB
CHCNT     0063     DMASK     0080     ENDI     0003     HEX      0031
CHSET     FA42     DMSG      008A     ENDORT   F878     HEXX     F76E
CHVECT    0011     DMSG1     FE09     ENDX     F4A2     HILVL    FC3B
CLEAR     F0EC     DMSGX     FDFF     ENFLRT   F8A0     HIRAM    0400
CLK       000A     DO        0028     ENIP     F3C1     HLPA     FE7A
CLR       0008     DOLAT     0083     ENLP1    F897     HLPB     FE90
MICRO-SYMBOL 13-APR-1980   SYMBOL TABLE   PAGE 2

HLPB1    FE96     IRQHIT    F1B7     LSHFX    F6CF     OPQO     009B
HLPC     FEAB     IRQHIT1   F1D4     LT       0017     ORI      000E
HLPD     FECE     IRQLP     F1A9     LTX      F604     ORLATCH  F394
HLPE     FEDB     IRQSIMP   F1EA     MAP      001F     ORX      F5A2
HLPE1    FEE8     IRQVECT   FFFE     MAPH     F102     OSTO     0038
HLPF     FF06     IRQXV     008D     MAX      003B     OSTOX    F657
HLPF1    FF13     IRQY      008A     MAXX     F5B8     OSTOX1   F663
HLPF2    FF15     ITBL      0035     MIN      003A     OVER     0007
HLPF3    FF26     IVECT     0006     MINUS    004C     OVERX    F52B
HLPF4    FF27     KB        3F00     MINUSX   F561     P1       0100
HLPG     FF3E     KBDONE    F2BD     MINX     F5B0     PATSZ    0005
HLPH     FF58     KBFB      F336     MNS1     0009     PAWS     0088
HLPH1    FF85     KBFUN     F323     MNS1X    F54D     PAWSX    FE64
HLPI     FF92     KBFUNKY   F347     MOVE     001A     PBUF     019C
HLPI1    FF9E     KBHOT     F284     MOVEX    F66E     PBUFPT   00E0
HLPI2    FFA7     KBIGN     F351     MVLP     F681     PCH      0023
HLPI3    FFAB     KBIGNX    F2BA     NACCESS  8B9C     PDOTS    00E4
HOK      0022     KBLP1     F28A     NE       0013     PFALSE   F632
I0       0033     KBLP1A    F28F     NEX      F5E4     PHK      0009
I1       0034     KBLP1Z    F297     NEXT     F3F7     PLOOP    002A
IC       0015     KBLP2     F2A2     NEXT1    F3FC     PLOOPX   F6F5
IDICT    F000     KBLP2A    F2AF     NEXT2    F402     PLS1     0008
IDIV     F927     KBNOSH    F2FA     NEXTV    0003     PLS1X    F548
IDIVLP   F92B     KBOFFSET  001C     NLAT     0081     PLUS     000A
IFI      0002     KBR1      F31C     NLATX    FCE6     PLUSX    F552
IFX      F48A     KBROLL    F308     NMI0     002E     PLUSX0   F558
IMLP1    F913     KBSET     F942     NMIEP    F231     PLUSX00  F557
IMLP1E   F921     KBSHFT    F34B     NMIEP1   F238     PLUSX1   F55A
IMPY     F90D     KBSHFT1   F34D     NMIFLAG  0089     POP      0001
INCA     FE5C     KBVECT    000F     NMIKB    F245     POP2     003E
INCASC   0087     KBX       005F     NMIOFF   3FFF     POP2X    F4C2
INCASCX  FE4E     KBXIT     F351     NMIVEC   A67A     POP4     F665
INCIC    F853     KBY       0060     NMIVECT  FFFA     POP5     F689
INCICH   F497     KPD1      F2CA     NMIXIT   F261     POPX     F4C4
INCLR    F10E     KPD2      F2D1     NORMAL   F240     PRT      0045
INCLR1   F115     LATCH     3FFE     NOTI     000B     PRTCHR   0050
INCLR2   F120     LATCHS    001B     NOTX     F581     PRTCHRX  F7A3
INIT     F0A6     LCA       F942     NOWRD    0048     PRTX     FC88
INIT1    F0D3     LCK       F9C2     OCTAL    0033     PRTX1    F7C8
INIT2    F0E0     LE        0016     OCTX     F779     PRTX2    F7D2
INITMEM  F106     LEX       F5FB     OFET     0037     PRTX3    F7DC
INTPAGE  00D0     LNDX      002C     OFETX    F63E     PSET     0024
IOB0     3EFC     LNDXX     F71A     OFFK     0011     PSETX    F6BC
IOB63    3E00     LNK       0007     OFFMSG   FDD6     PSH1     001B
IPQ      0092     LOBAT     3FFA     OLAT     0082     PSH1X    F6B0
IPQI     0090     LOOP      0029     OLATX    FCF0     PSH2     003D
IPQO     0091     LOOPX     F6F1     ONK      0010     PSH2X    F6AA
IRQA     002D     LOOPX1    F6F9     ONMSG    FDC4     PSP      0065
IRQCT    00E1     LSHF      001E     OPQ      009C     PSTK     0069
IRQEP    F195     LSHFLP    F6D1     OPQI     009A     PSTO     0039
MICRO-SYMBOL 13-APR-1980   SYMBOL TABLE   PAGE 3

PSTOX     F574     SETROM1   F801     TRUE      F62D
PSTOX1    F57B     SETTIME   F191     TSTB      FE89
PTRUE     F62B     SHFTB1    0020     TSTC      FEA4
QBKTMSK   0028     SHFTB2    0010     TSTD      FEC7
QCHECK    0025     SHFTLK    0008     TSTE      FED4
QCLTMSK   002D     SHK       000B     TSTF      FEFF
QFTAB     0032     SIMPXMIT  F1FA     TSTG      FF2A
QHFCTAB   002E     SIMX2     F20C     TSTH      FF51
QHFTAB    0030     SLEEP     F364     TSTI      FF8A
QL1TAB    0035     SLEEP1    F374     TSTJ      FFB9
QL2NWDS   0024     SLOLP     0084     TURNOFF   F354
QMASK     0022     SLOLPX    FCFA     TWOCMP    F821
QNLANGS   0034     SLOMEM    0010     UCA       F982
QNROMWDS  0029     SLP1      FCFF     UCK       FA02
QPHNO1    0026     SLP2      FD00     UIRQVC    A678
QSPEED    002C     SP        0020     UPDISP    004F
RAWCLR    0000     SRAM      0018     UPDISPL   F795
RAWFUN    0020     SRAMX     F5CA     UPDISPX   F78B
RAWOFF    003D     SRCH      0021     UPDLP1    F797
RAWSHFT   0030     SRK       000E     USERRAM   0019
RD01      FC60     STEPWD    0022     VTAB      0000
RD02      FC70     STIME     0045     W0        0025
RDBUF     0044     STKBIT    0001     W1        0026
RDBUFX    FC59     STKSAV    0066     WAITSEC   0085
RDCHR     0051     STO       0023     WAITSECX  FD16
RDCHRX    F7E9     STOX      F64E     WARM0     00FE
RDFLS     F7FC     STPWDX    F102     WARM1     00FF
RDROM     F815     SUB2      F82F     WARMCODE  005A
RETINT    F272     SWAP      0005     WSRCH     0047
ROK       000D     SWAP2     0040     WTSLP     FD21
ROLLBIT   0040     SWAP2X    F4F9     X2        F0A6
ROMADDR   4000     SWAPX     F50C     X3        F93A
ROMBIT    0080     T00       0025     XFALSE    F5DA
ROMDICT   4021     T01       0026     XLOOP     002B
ROMPAGE   0040     T02       0027     XLOOPX    F713
ROMPTR    0067     T03       0028     XORI      000D
ROT       000F     T04       0029     XORX      F5A9
ROTX      F530     T05       002A     XTND      0025
RSET      001C     T06       002B     XTNDLP    F45A
RSETX     F6B6     T07       002C     XTNDX     F458
RSHF      001D     TECB      000B     XTRUE     F5DF
RSHFLP    F6C5     TEST      0080     XTXT      F46F
RSHFX     F6C3     TESTX     FE6D     XVECT     000C
RSTK      0163     THI       3FFD
RSTVECT   FFFC     TIME      001D
SCOMP     F60B     TIMER     F27A
SEARCH    F102     TIMER1    F278
SETB      0030     TLO       3FFB
SETBX     F767     TMID      3FFC
SETROM    F7FF     TRU       0035

MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

ABS	   333#
ABSX	   334	  1146#
ACCESS	    22#
ACOMP	  1205	  1215	  1251#
ACPAT	   460	   462	  1789#
ACVECT	    76#	   461	   463	  1708	  1711
ADD2	  1632#
ALARM	    52#
ALTBIT	   124#
ANDI	   223#	  2368	  2415
ANDLAT	   758	   788#	  1736	  2180
ANDX	   224	  1155#
APTR	    85#
ARRAY	   331#	  2105	  2111	  2113	  2115	  2326	  2331	  2450	  2457
ARRAYV	   191#	  1013	  1015	  1023	  1025
ARRAYX	   332	  1020#
ATAB	    56#
BASE	   128#	   469	  1448	  1469	  1499	  2231
BEEPER	    38#	  2370
BEXP	  2171#	  2333
BEXP1	  2233#	  2235
BEXP2	  2229	  2236#
BEXPX	  2172	  2224#
BINARY	   303#
BINX	   304	  1509#
BKMASK	    51#
BREAK	   499#	   511
BSET	   349#
BSETX	   350	  1343#
BSK	  1803#	  1822	  1838	  1878
BSLP	  1350#	  1353
BTBL	  1449	  1477	  1480#
BWK	  1805#	  1822	  1838	  1878
CALT	   188#
CAPOFF	    41#	   444
CASE	   275#
CASEX	   276	   910#
CD	  2165#	  2448	  2455	  2457
CDX	  2166	  2302#
CFLSH	   186#	  1670
CH	   132#	   660	   679	   715	   716	   718	   719
CHAIN	   476	   478	   893#	  2104	  2119	  2134
CHAIN1	   889	   898	   900#
CHAINV	    68#	   475	   477	   479	  1546	  1548	  1549
CHCNT	   133#	   635	   657	   661	   672
CHSET	   456	   458	  1885#
CHVECT	    75#	   457	   459	  1746	  1749
CLEAR	   384	   406#	   591	   686
CLK	  1795#	  1822	  1838	  1878
CLR	  1804#	  1822	  1838	  1878
CLR01	   404	   409#
CLRRAM	    88#	   424
CMP1	  1261	  1263#
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

CMP2	  1260	  1264#
CMPX	   320	  1257#
CNEG	   185#
CNVT	  2169#	  2448	  2455
CNVTX	  2170	  2326#
COMP	   319#
CPUON	    37#	   370	   373	   444	   782
CQMK	   187#	  1691
CRYBIT	   129#	  1106
CTROM	    47#	   484	   532	   535	  1541	  1544	  1547
CURBAN	DSK	   150#	   542	  1540
CURBAN	DSK	   149#	   526	   541	  1539
CURROM	    90#	  1584
CURSOR	   136#	  1662	  2094	  2120	  2128	  2130	  2140	  2308	  2317	  2322	  2460
CVB	   291#	  2331
CVBE1	  1450	  1457#
CVBL1	  1449#	  1453
CVBX	   292	  1447#
CVD	   293#
CVDX	   294	  1465#
CVER1	  2331	  2335#
CVGO	  2326	  2329#
DADD	   353#
DADDX	   354	  1119#
DARRAY	DSK	   330	  1002#
DARRAY	DSK	   329#	  2094	  2097
DBUF	   183#	   439	  1699	  2123	  2125	  2139	  2303	  2305	  2307	  2316	  2398	  2402	  2404	  2406
	  2420	  2423
DBUF1	   184#	   441	  1659
DBUFL	   182#	   183	   184	   437
DCHAR	   355#	  2130	  2140	  2424
DCHARX	   356	  1514#
DECIMA	   299#
DECX	   300	  1498#
DECX1	  1489	  1494	  1499#	  1505	  1510
DEIP	   827#	  1570
DEOP	   562	   843#
DEQ	   290	   807#	   811
DEQ01	   809	   812#
DISPON	    40#	   373	   395	   444	   757
DLYCNT	   112#
DLYCON	   111#
DMASK	    36#	   596	  1678	  1722	  1735	  2378	  2385	  2436	  2440
DMSG	  2167#	  2448	  2455	  2457
DMSG1	  2312	  2315#
DMSGX	  2168	  2312#
DO	   279#
DOLAT	  2153#	  2370
DOLATC	   789	   791#	  2201
DOLATX	  2154	  2199#
DOTCTR	DSK	   166#
DOTCTR	DSK	   165#
DOTIME	DSK	  2173#	  2460
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

DOTIME	DSK	  2174	  2245#
DOUT	   339#	  2130
DOUTX	   340	  2134#
DOUTX9	  2135	  2138#
DOX	   280	  1399#
DPLUS	  2175#	  2317
DPLUSX	  2176	  2214#
DSIZE	   181#	   182	  1530	  2120	  2126	  2308
DSPLY	    30#	  1685	  1727	  1734
DSTO	  1157#	  1166	  1172	  1179	  1185	  1209	  1211	  1265	  1282	  1293
DSTO1	  1158#	  1178	  1186	  1201	  1301	  2222	  2243
DT1	  2248	  2250#
DTAB	    57#
DTIME	   110#
DTLOOP	DSK	  2259	  2272#
DTLOOP	DSK	  2252	  2255#	  2276	  2289
DTLP1	  2257	  2260#	  2268
DTLP1A	  2269#	  2270
DTLP2	  2274	  2277#	  2285
DTLP2A	  2286#	  2288
DUP	   211#	  2106	  2111	  2130	  2135	  2326	  2329	  2342	  2354	  2356	  2365	  2370	  2375	  2388
	  2394	  2410	  2429	  2443	  2450	  2466	  2471	  2474
DUP2	   325#	  2312	  2342
DUP2X	   326	  1051#
DUP3	  2159#	  2399	  2434
DUP3X	  2160	  2339#
DUPX	   212	  1059#
DUPX5	   817	  1027	  1055	  1060#	  1068	  1271	  1277	  1363	  1443	  1478	  1576
DUPX6	  1061#
ECHAIN	   880	   885#	   953
EDICT	  2100	  2146#	  2147	  2148	  2149	  2150	  2151	  2152	  2153	  2154	  2155	  2156	  2157	  2158
	  2159	  2160	  2161	  2162	  2163	  2164	  2165	  2166	  2167	  2168	  2169	  2170	  2171	  2172
	  2173	  2174	  2175	  2176
EIF1	  2122	  2130#
ELSE	   207#	  2417	  2424
ELSEX	   208	   985#
ENAB	   363#	  2469
ENABX	   364	   571#
ENCMP	  1661	  1692	  1695	  1699#
ENCMP1	  1697	  1700#
ENCODE	  1516	  1527	  1652#
ENCOM	  1668	  1676#
ENDI	   205#	  2117	  2361	  2373	  2386	  2391	  2403	  2405	  2407	  2427	  2441	  2462	  2477	  2478
	  2481	  2485
ENDORT	  1663	  1666	  1669#
ENDX	   206	   973#
ENFLRT	  1671	  1674	  1690#
ENIP	   551	   819#
ENLP1	  1685#	  1688
ENLP2	  1724#	  1731
ENOP	   835#	  1561
ENQ	   708	   797#
ENXIT	  1689	  1735#
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

EOW	   199#	  2108	  2117	  2130	  2140	  2308	  2322	  2326	  2333	  2335	  2339	  2345	  2347	  2350
EOWX	   200	   853#
EQ	   235#	  2106	  2135	  2312	  2326	  2356	  2365	  2375	  2388	  2394	  2410	  2429	  2443	  2466
	  2471	  2474
EQX	   236	  1205#
EVECT	    71#	   874	   876	   879	   881	   886	   941	   944	   949	  2101
EVQ	   116#	   798	   812
EVQHI	    53#	   801	   815
EVQPI	   114#	   797	   802	   808	  2478
EVQPO	   115#	   807	   816	  2478
EWDCH	    54#
EX1	   959	   967#	   974
EXEC1	   345#
EXEC9	   347#
EXNEXT	   869	   872#
EXNXT1	   881#	   954
FALSE	   308	  1276#	  1456
FET	   249#	  2111	  2113	  2115	  2319	  2322	  2326	  2342	  2382	  2415	  2421	  2450
FETX	   250	  1281#
FICW	   929	  1002	  1020	  1359	  1362	  1643#
FLAG1	   118#	   382	   385	   386	   606	   609	   610	   677	   678	   690	   697	   700	   701	   712
	   721	   722	   726	   727	   732	   748	   749	   775	   777
FLS	   307#	  2094	  2105	  2126	  2308	  2312	  2317	  2321	  2326	  2329	  2335	  2345	  2361	  2373
	  2386	  2391	  2401	  2407	  2427	  2441	  2462	  2477	  2481	  2485
FORI	   277#	  2108	  2331	  2339	  2350	  2370	  2399	  2434
FORX	   278	  1397#
FRAM	   233#	  2120	  2128	  2130	  2135	  2140	  2317	  2322	  2368	  2478
FRAMX	   234	  1190#
FREEME	    78#	   465	   467	  1009	  1010	  1012	  1014
FSK	  1799#	  1822	  1838	  1878
FSTK	   231#	  2319	  2339
FSTKX	   232	  1080#
FUNBIT	   125#	   689	   725	   744
FUNK	  1808#	  1818	  1834	  1853	  1873
GE	   241#	  2115	  2120
GETCHR	   263#
GETDOT	DSK	   162#	   473	   487	   489
GETDOT	DSK	   486	   488	  1700	  1741#
GETKB	   289#	  2106	  2354	  2481
GEX	   242	  1227#
GNIX	   264	   416#
GT	   239#
GTX	   240	  1221#
HEX	   297#
HEXX	   298	  1493#
HILVL	   491	   493	  2094#
HIRAM	   193#	   464	   466
HLPA	  2359#	  2361
HLPB	  2368#
HLPB1	  2370#	  2373
HLPC	  2378#	  2386
HLPD	  2391#	  2391	  2485
HLPE	  2397#
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

HLPE1	  2401#	  2403	  2405	  2407
HLPF	  2413#	  2427
HLPF1	  2415	  2418#
HLPF2	  2417	  2419#
HLPF3	  2421	  2426#
HLPF4	  2424	  2427#
HLPG	  2436#	  2441
HLPH	  2446#	  2462
HLPH1	  2448	  2455	  2462#
HLPI	  2470#	  2477	  2478	  2481
HLPI1	  2472	  2474#
HLPI2	  2474	  2477#
HLPI3	  2470	  2478#
HOK	  1802#	  1822	  1838	  1878
I0	   104#	   877	   883	   888	   950
I1	   105#	   882
IC	    77#	   492	   494	   854	   856	   863	   864	   866	   900	   902	   904	   905	   912	   915
	   917	   918	   920	   960	   962	   963	   965	   967	   975	   977	   978	   980	   985	   987
	   988	   990	  1399	  1401	  1426	  1428	  1644	  1645	  1647
IDICT	   198#	   199	   201	   203	   205	   207	   209	   211	   213	   215	   217	   219	   221	   223
	   225	   227	   229	   231	   233	   235	   237	   239	   241	   243	   245	   247	   249	   251
	   253	   255	   257	   259	   261	   263	   265	   267	   269	   271	   273	   275	   277	   279
	   281	   283	   285	   287	   289	   291	   293	   295	   297	   299	   301	   303	   305	   307
	   309	   311	   313	   315	   317	   319	   321	   323	   325	   327	   329	   331	   333	   335
	   337	   339	   341	   343	   345	   347	   349	   351	   353	   355	   357	   359	   361	   363
	   447	  2489
IDIV	  1471	  1774#
IDIVLP	  1777#	  1784
IFI	   203#	  2108	  2122	  2135	  2312	  2326	  2331	  2342	  2356	  2365	  2375	  2388	  2394	  2410
	  2415	  2421	  2429	  2443	  2448	  2455	  2466	  2470	  2472	  2474
IFX	   204	   958#
IMLP1	  1758#	  1767
IMLP1E	  1761	  1764	  1766#
IMPY	  1744	  1755#	  2233
INCA	  2342	  2347#
INCASC	DSK	  2162	  2342#
INCASC	DSK	  2161#	  2403	  2405	  2407
INCIC	  1645#
INCICH	   965#	   969
INCLR	   427#	   429
INCLR1	   431#	   436
INCLR2	   438#	   443
INIT	   370#	  2491
INIT1	   377	   380	   394#
INIT2	   396	   400#
INITME	   402	   408	   422#
INTPAG	    49#
IOB0	    28#	   430	   516	   548	   550	   552	   558	   560	   563	   568	   574	   576	  1536	  1538
	  1556	  1563
IOB63	    27#	   431	   517	   528	   530	   540	   543
IPQ	   155#	   820	   828
IPQI	   153#	   819	   824	  1567
IPQO	   154#	   827	   832	  1568
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

IRQA	   100#
IRQCT	   164#
IRQEP	   503#	  2492
IRQHIT	DSK	   518	   526#
IRQHIT	DSK	   538#	   553	   561	   566	   569
IRQLP	   517#	   523
IRQSIM	   534	   548#
IRQVEC	  2492#
IRQXV	   151#	   472	   485	   536	   537
IRQY	   148#	   531	   539
ITBL	   107#
IVECT	    70#	   448	   450	   870	   871	   936
KB	    29#	    30	   598	   636
KBDONE	   640	   672#
KBFB	   729	   735#
KBFUN	   691	   725#
KBFUNK	   695	   744#
KBHOT	   599	   633#
KBIGN	   669	   752#
KBIGNX	   659	   669#	   673	   681
KBLP1	   636#	   643
KBLP1A	   638#	   667
KBLP1Z	   637	   646#
KBLP2	   655#	   664
KBLP2A	   656	   662#
KBNOSH	   698	   703#
KBOFFS	    81#	   426	   705	   738	   741
KBR1	   717	   721#
KBROLL	   675	   711#
KBSET	   452	   454	  1792#
KBSHFT	DSK	   693	   747#
KBSHFT	DSK	   745	   748#
KBVECT	    74#	   453	   455	   707
KBX	   130#	   646	   666
KBXIT	   709	   713	   733	   736	   742	   753#
KBY	   131#	   647	   665
KPD1	   679#	   720
KPD2	   683#	   723
LATCH	    35#	   374	   398	   446	   545	   597	   618	   785	   792	  1594	  1679	  1723
LATCHS	    80#	   445	   544	   595	   617	   783	   784	   788	   790	   791	  1590	  1593	  1677	  1721
	  2368
LCA	  1810#
LCK	  1843#
LE	   243#
LEX	   244	  1233#
LNDX	   287#	  2331	  2370	  2399	  2434
LNDXX	   288	  1441#
LNK	  1797#	  1822	  1838	  1878
LOBAT	    31#	  2414
LOOP	   281#	  2108	  2333	  2339	  2350	  2370	  2399	  2434
LOOPX	   282	  1415#
LOOPX1	  1416	  1419#
LSHF	   259#
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

LSHFLP	  1389#	  1391
LSHFX	   260	  1388#
LT	   245#	  2342
LTX	   246	  1240#
MAP	   261#
MAPH	   262	   417#
MAX	   317#
MAXX	   318	  1183#
MIN	   315#
MINUS	   351#
MINUSX	   352	  1111#
MINX	   316	  1176#
MNS1	   217#	  2128	  2329	  2333	  2382
MNS1X	   218	  1095#
MOVE	   251#	  2126	  2308	  2319	  2379	  2437	  2450
MOVEX	   252	  1320#
MVLP	  1330#	  1334
NACCES	    23#
NE	   237#	  2421	  2478
NEX	   238	  1215#
NEXT	   420	   480	   482	   577	   861#	   906	   991	   998	  1016	  1039	  1047	  1063	  1076	  1086
	  1091	  1096	  1107	  1142	  1151	  1160	  1193	  1316	  1339	  1369	  1375	  1384	  1393	  1410
	  1429	  1437	  1500	  1517	  1524	  1554	  2181	  2186	  2197	  2202	  2212
NEXT1	   864#
NEXT2	   865	   867#	   922
NEXTV	    69#	   474	   481	   483
NLAT	  2149#	  2359	  2385	  2440
NLATX	  2150	  2178#
NMI0	   102#
NMIEP	   582#	  2490
NMIEP1	   392	   588#
NMIFLA	   146#	   391	   582	   588	   613	   627	   756
NMIKB	   595#	   631
NMIOFF	    44#	   411	   614	   759
NMIVEC	DSK	  2490#
NMIVEC	DSK	    25#
NMIXIT	   608	   612#	   753
NORMAL	   590	   593#
NOTI	   221#
NOTX	   222	  1139#
NOWRD	   343#
OCTAL	   301#
OCTX	   302	  1504#
OFET	   309#	  2331
OFETX	   310	  1286#
OFFK	  1807#	  1814	  1830	  1848	  1868
OFFMSG	  2296#	  2454
OLAT	  2151#	  2361	  2378	  2436
OLATX	  2152	  2183#
ONK	  1806#
ONMSG	  2291#	  2447
OPQ	   159#	   836	   844
OPQI	   157#	   555	   564	   835	   840
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

OPQO	   158#	   554	   565	   843	   848
ORI	   227#	  2370
ORLATC	   390	   515	   572	   790#	  1535	  2185
ORX	   228	  1164#
OSTO	   311#	  2111	  2140	  2399	  2434
OSTOX	   312	  1305#
OSTOX1	  1311#
OVER	   213#	  2312	  2421
OVERX	   214	  1067#
P1	   176#	   400	   406	   509	   771	   773	  1367	  1421	  1422	  1423	  1425	  1427
PATSZ	   134#	  1684	  1730	  1742
PAWS	  2163#	  2386	  2441
PAWSX	  2164	  2350#
PBUF	   192#
PBUFPT	   163#
PCH	    87#	   604	   680	   683	   703	   714
PDOTS	   167#
PFALSE	  1275#
PHK	  1796#	  1822	  1838	  1878
PLOOP	   283#
PLOOPX	   284	  1417#
PLS1	   215#	  2113	  2130	  2312	  2342
PLS1X	   216	  1090#
PLUS	   219#	  2322
PLUSX	   220	  1100#
PLUSX0	DSK	  1104#	  1115
PLUSX0	DSK	  1103#	  1124
PLUSX1	  1105#	  1135
POP	   201#	  2108	  2333	  2335	  2347	  2356	  2365	  2375	  2388	  2394	  2407	  2410	  2426	  2429
	  2443	  2466	  2472	  2474
POP2	   323#	  2335
POP2X	   324	   996#
POP4	  1312#	  1354
POP5	  1335#
POPX	   202	   964	   966	   968	   979	   981	   997#	  1559	  1564
PRT	   337#	  2108	  2113	  2354	  2457	  2477
PRTCHR	DSK	   360	  1534#
PRTCHR	DSK	   359#	  2135	  2481
PRTX	   338	  2119#
PRTX1	  1550#
PRTX2	  1543	  1556#
PRTX3	  1558	  1560#
PSET	   271#	  2391	  2399	  2434	  2462
PSETX	   272	  1373#
PSH1	   253#	  2094	  2097	  2101	  2106	  2108	  2115	  2120	  2126	  2128	  2130	  2135	  2140	  2302
	  2308	  2317	  2319	  2322	  2339	  2342	  2347	  2350	  2356	  2359	  2361	  2365	  2368	  2370
	  2375	  2378	  2379	  2385	  2388	  2394	  2397	  2399	  2410	  2415	  2417	  2418	  2424	  2429
	  2432	  2434	  2436	  2437	  2440	  2443	  2457	  2460	  2466	  2471	  2472	  2474	  2478
PSH1X	   254	  1362#
PSH2	   321#	  2099	  2122	  2124	  2138	  2302	  2304	  2306	  2315	  2379	  2382	  2397	  2401	  2403
	  2405	  2413	  2419	  2421	  2432	  2437	  2446	  2450
PSH2X	   322	  1359#
PSP	   138#	   867	   911	   996	   997	  1006	  1062	  1105	  1159	  1269	  1275	  1315	  1335	  1338
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

	  1374	  1383	  1392	  1409	  1418	  1454	  1457	  1488	  1515	  1522	  1552	  1553	  1572	  2179	  2184
	  2189	  2200
PSTK	   144#	   910	   958	   973	  1005	  1024	  1031	  1032	  1033	  1034	  1035	  1036	  1037	  1038
	  1043	  1044	  1045	  1046	  1051	  1053	  1054	  1059	  1061	  1067	  1072	  1073	  1074	  1075
	  1082	  1084	  1085	  1090	  1095	  1100	  1102	  1104	  1111	  1113	  1119	  1122	  1128	  1130
	  1131	  1140	  1141	  1148	  1150	  1155	  1156	  1157	  1164	  1165	  1170	  1171	  1176	  1177
	  1183	  1184	  1190	  1192	  1197	  1199	  1245	  1246	  1248	  1249	  1251	  1252	  1257	  1259
	  1281	  1286	  1288	  1290	  1297	  1298	  1305	  1306	  1308	  1310	  1320	  1322	  1324	  1326
	  1328	  1343	  1345	  1347	  1349	  1361	  1379	  1380	  1388	  1389	  1398	  1403	  1405	  1417
	  1447	  1458	  1465	  1467	  1474	  1476	  1487	  1514	  1521	  1560	  1574	  2178	  2183	  2188
	  2199	  2214	  2216	  2217	  2218	  2219	  2220	  2224	  2228	  2238	  2239	  2241	  2242	  2246
	  2247	  2249	  2250	  2251	  2253	  2256	  2258	  2260	  2261	  2273	  2275	  2277	  2278
PSTO	   313#
PSTOX	   314	  1128#
PSTOX1	  1132#
PTRUE	  1269#
QBKTMS	    12#	    51
QCHECK	    10#
QCLTMS	    15#
QFTAB	    18#
QHFCTA	    16#
QHFTAB	    17#
QL1TAB	    20#
QL2NWD	     9#
QMASK	     8#
QNLANG	    19#
QNROMW	    13#
QPHNO1	    11#
QSPEED	    14#
RAWCLR	    58#	   684
RAWFUN	    61#	   694
RAWOFF	    59#	   687
RAWSHF	    60#	   692	   728
RD01	  2106#	  2117
RD02	  2108	  2111#
RDBUF	   335#	  2391	  2448	  2455
RDBUFX	   336	  2104#
RDCHR	   361#	  2470
RDCHRX	   362	  1566#
RDFLS	  1569	  1576#
RDROM	  1599#
RETINT	   499	   524	   546	   620#
ROK	  1800#	  1822	  1838	  1878
ROLLBI	   120#	   676	   711
ROMADD	    46#	    48	    50	    51
ROMBIT	   119#
ROMDIC	    50#
ROMPAG	    48#
ROMPTR	   141#	  1600	  1601	  1603	  2135	  2354
ROT	   229#	  2329	  2345	  2347
ROTX	   230	  1072#
RSET	   255#	  2391	  2462
RSETX	   256	  1367#
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

RSHF	   257#
RSHFLP	  1380#	  1382
RSHFX	   258	  1379#
RSTK	   178#	   400	   406	  1367
RSTVEC	  2491#
SCOMP	  1221	  1227	  1233	  1240	  1244#
SEARCH	   266	   415#
SETB	   295#
SETBX	   296	  1487#
SETROM	DSK	  1584#
SETROM	DSK	  1583#
SETTIM	   403	   497#
SHFTB1	   121#	   605	   607	   696	   731	   747
SHFTB2	   122#	   605	   607	   699	   731
SHFTLK	   123#	   605	   696	   730
SHK	  1794#	  1822	  1838	  1858	  1878
SIMPXM	   549	   554#
SIMX2	   556	   562#
SLEEP	   763#	   810	  2209	  2286
SLEEP1	   761	   774#
SLOLP	  2155#	  2359	  2361
SLOLPX	  2156	  2188#
SLOMEM	    39#	   514	   571	  1534	  2359	  2361
SLP1	  2191#	  2196
SLP2	  2192#	  2194
SP	  1798#	  1822	  1838	  1858	  1878
SRAM	   247#	  2094	  2101	  2128	  2130	  2308	  2322	  2354	  2460
SRAMX	   248	  1197#
SRCH	   265#
SRK	  1801#	  1822	  1838	  1878
STEPWD	   267#
STIME	   109#	  1665	  1673	  1694
STKBIT	   126#	   383	   776
STKSAV	   139#	   387	   774
STO	   269#	  2105	  2113	  2304	  2345	  2347	  2382	  2424	  2450
STOX	   270	  1297#
STPWDX	   268	   418#
SUB2	  1621#
SWAP	   209#	  2312	  2329	  2345	  2347
SWAP2	   327#
SWAP2X	   328	  1031#
SWAPX	   210	  1043#
T00	    91#	   142	  1291	  1292	  1309	  1311	  1327	  1330	  1344	  1350	  1468	  1473	  1589	  1592
	  1655	  1657	  1724	  1743	  1747	  1760	  1768	  1780	  2225	  2236
T01	    92#	   143	  1289	  1307	  1325	  1346	  1466	  1475	  1748	  1750	  1756	  1759	  1765	  1781
	  2227	  2240
T02	    93#	  1323	  1331	  1470	  1704	  1707	  1709	  1725	  1741	  1763	  1777	  1779	  2232
T03	    94#	  1321	  1712	  2230	  2234
T04	    95#	  1660	  1669	  1681	  1690	  1703	  1715	  1718	  1726	  1733
T05	    96#	  1526	  1528	  1529
T06	    97#
T07	    98#
TECB	    72#	   630	  2208	  2210	  2265	  2269	  2282	  2287
MICRO-SYMBOL 13-APR-1980   NUC65
Symbol cross reference

TEST	  2101	  2147#
TESTX	  2148	  2354#
THI	    34#	   371	   397	   414	   593	   615	   629	  2207	  2266	  2283
TIME	    82#
TIMER	   594	   628#
TIMER1	   616	   627#
TLO	    32#	    33	  2262	  2267	  2279	  2284
TMID	    33#	    34	   410	  2205	  2263	  2280
TRU	   305#	  2333	  2347	  2460
TRUE	   306	  1270#	  1459
TSTB	  2356	  2365#
TSTC	  2365	  2375#
TSTD	  2375	  2388#
TSTE	  2388	  2394#
TSTF	  2394	  2410#
TSTG	  2410	  2429#
TSTH	  2429	  2443#
TSTI	  2443	  2465#
TSTJ	  2466	  2484#
TURNOF	   688	   755#
TWOCMP	  1610#
UCA	  1826#
UCK	  1863#
UIRQVC	    24#
UPDISP	DSK	   358	  1521#
UPDISP	DSK	   357#	  2126	  2308	  2321	  2401
UPDISP	DSK	   412	  1523	  1526#
UPDLP1	  1527#	  1531
USERRA	    79#
VTAB	    55#
W0	   142#	  1613
W1	   143#	  1616
WAITSE	DSK	  2157#	  2401
WAITSE	DSK	  2158	  2204#
WARM0	   170#	   376	   779
WARM1	   171#	   379	   781
WARMCO	   172#	   375	   778
WSRCH	   341#
WTSLP	  2209#	  2211
X2	   365#
X3	  1787#
XFALSE	  1208#	  1217	  1222	  1224	  1229	  1236	  1242
XLOOP	   285#	  2335
XLOOPX	   286	  1424	  1433#
XORI	   225#	  2370
XORX	   226	  1170#
XTND	   273#	   930
XTNDLP	   928#	   931
XTNDX	   274	   927#
XTRUE	  1206	  1210#	  1216	  1223	  1228	  1234	  1235	  1241
XTXT	   933	   940#
XVECT	    73#	   451	   934	   937	   938	   942	   945	   947	   952 tAV#