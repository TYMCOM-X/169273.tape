.journal;
.single space;
.blankline;
.<<.odd heading (,,)>>
.<<.even heading (DCP Programmers Guide,,);>>
.every heading ("DCP Programmers Guide",,);
.every footing ("TYMSHARE Network Technology Division, Cupertino, Ca.",,{page!});
.<<.odd footing ("TYMSHARE Distributed Systems Group, Cupertino, Ca.",,{page!});>>
.<<.even footing ({page!},,"TYMSHARE Distributed Systems Group, Cupertino, Ca.");>>
.MarginHeadings_True
.Titlepage $(
.Group skip 20 apart;
.begin center
DCP Programmers Guide
    May 24, 1982

TYMSHARE Netwokr Technology Division
Cupertino, Ca.
.end
.)$
.<<.odd heading (,,{secname})>>
.every heading ("DCP Programmers Guide",,{secname})
.skip to column 1;
. <<.P 5,1,3>>
.indent 3;
.preface 1;
.SEC Introduction

     This document contains the complete DCP-PDP11 software
interface specification.  The DCP is controlled by receiving
transmit functions from a LSI-11 and responds by sending the LSI-11
receive
functions.  To send a function to the DCP the LSI-11 must
wait for the TXFUN byte to become zero indicating that the
DCP is ready for another function.  Then the necessary data
must be loaded into the transmit data registers.  The
function code must be loaded after the rest of the message
has been loaded.  There is no interrupt generated by the DCP
when a transmit function is accepted.  A new receive function
will be sent to the LSI-11 when the last receive function
byte has been cleared by the LSI-11.  Upon receiving a
function from the DCP the entire function must be copied
from the DCP registers before zeroing the DCP receive function byte.
Interrupts to the LSI-11 will be generated only after the
EXECUT function has been sent to the DCP.  In CRC mode using
DDCMP the node speaking to the DCP (not the one the DCP is
plugged into) must idle sync or flag characters between messages.
This is necessary to flush the character hold-off buffer in
the DCP.

.skip to column 1
.SEC DCP register definitions
.BYHAND

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   RXPORT      |  RXFUNCTION   |       162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         RECEIVE DATA          |       162002
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        (RECEIVE DATA)         |       162004
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        (RECEIVE DATA)         |       162006
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    TXPORT     |  TXFUNCTION   |       162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        TRANSMIT DATA          |       162012
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       (TRANSMIT DATA)         |       162014
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       (TRANSMIT DATA)         |       162016
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
.ENDHAND

.skip to column 1
.SEC Receive function definitions
.SS CARDET - Carrier detect
.BYHAND

FUNCTION:  Carrier detect

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |            2  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Carrier detected.  The physical line DCD on the SIO has gone to
the active state.

.skip to column 1
.SS CARLOS - Carrier loss
.BYHAND

FUNCTION:    Carrier loss detected

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |            4  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     The carrier detect signal has been lost.

.skip to column 1
.SS DSRSET - DSR set
.BYHAND

FUNCTION:       DSRSET - DSR set
15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |            6  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Data set ready signal to the SIO has been turned on.

.skip to column 1
.SS DSRCLR - DSR clear
.BYHAND

FUNCTION:       DSRCLR - DSR clear

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           10  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Data set ready signal has been cleared.

.skip to column 1
.SS RXVDAT - Receive data character
.BYHAND

FUNCTION:       RXVDAT - Receive data character

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           12  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|a|b|c|d|///////|   DATA BYTE   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Receive data character.  The following error and status bits
are possible.
.list (-6,10,,"a =>")
.item
Receiver error.  This bit is the inclusive  or
         of all the other receiver error bits.
.item
Framing error (asynchronous mode) / CRC  result non-zero
         (synchronous mode; this is not an error bit).
.item
Overrun error.
.item
Parity error.
.endlist

.skip to column 1
.SS XMTDON - Transmit done
.BYHAND

FUNCTION:       XMTDON - Transmit done

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           14  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     The DCP transmit buffer is empty and ready to accept
more data.  A command to send another character can be issued.
If no other command is issued thee transmitter will go into
its idle state.

.skip to column 1
.SS DCPOK - DCP passed internal diagnostics
.BYHAND

FUNCTION:       DCPOK - DCP passed internal diagnostics

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|           16  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This  function  is  returned   in   response   to   the
initialization   function   EXDIAG   upon   the   successful
completion of DCP  internal  diagnostics.   See  EXDIAG  for
further details.

.skip to column 1
.ss PORTOK - Port vector initialized ok
.BYHAND

FUNCTION:       PORTOK - Port vector initialized ok

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           20  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This  port  has  been  initialized  properly  and   the
hardware for the port really exists.

.skip to column 1
.SS EOMDET - Transmit underrun
.BYHAND

FUNCTION:       EOMDET - Transmit underrun

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           22  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Transmit underrun occurs when the CRC is being transmitted in
response to a TXEOM request.  The LSI-11 may send another character
at this point and it will be transmitted after the CRC has been
completely sent.  The CRC is reset after the CRC has been sent.  It
is not correct to send a TXSOM if the next message is to be
concatenated to the first.  Any pad characters must be sent after
the under run is received, because the next interrupt (transmit buffer
empty) is sent after idle syncs have been sent.

.skip to column 1
.SS DSPMEM - Display memory word
.BYHAND

FUNCTION:       DSPMEM - Display memory word

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|           40  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        MEMORY ADDRESS         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          DATA WORD            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          DATA WORD            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This debug function displays two words from the DCP's
internal  memory  in response to the EXMMEM function.

.skip to column 1
.SS REGDMP - Register dump
.BYHAND

FUNCTION:       REGDMP - Register dump

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|           42  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           REGISTER            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           REGISTER            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           REGISTER            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Three register dump functions are received in  response
to a single DMPREG function.  The register fields return the
values as follows:
.list (-4)
.item
AX,BX,CX
.item
DX, SP, BP
.item
SI, DI, Status flags
.endlist

.skip to column 1
.SS ROMERR - DCP EPROM checksum error
.BYHAND

FUNCTION:       ROMERR - DCP EPROM checksum error

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|          376  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| EPROM CHKSUM  |  CALC CHKSUM  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This is a fatal hardware error.  The  EPROM'S  checksum
does  not agree with the calculated checksum.  This function
will only be returned in response to a EXDIAG function.

.skip to column 1
.SS MEMERR - Memory diagnostic error
.BYHAND

FUNCTION:       MEMERR - Memory diagnostic error

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|          374  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       FAILING ADDRESS         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        EXPECTED DATA          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        RETURNED DATA          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This is a  fatal  hardware  error.   The  DCP  internal
memory  diagnostic  failed.   This  function  is returned in
response to a EXDIAG function during initialization.

.skip to column 1
.SS FUNERR - Invalid transmit function
.BYHAND

FUNCTION:       FUNERR - Invalid transmit function

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |          372  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|  BAD FUNCTION |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This function is returned in  response  to  an  invalid
number in the transmit  function field of a transmit function.
An incorreect  DCP  driver in the LSI-11 can cause this.

.skip to column 1
.SS PRTERR - Invalid port number
.BYHAND

FUNCTION:       PRTERR - Invalid port number

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |          370  |   162000
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     A transmit function with an out-of-range port number will
cause  this  error.   During initialization this function is
returned to indicate that an attempt was made to  initialize
an SIO port that does not really exist.

.skip to column 1
.SEC Transmit function definitions
.SS EXDIAG - EXECUTE INTERNAL DIAGNOSTICS
.BYHAND

FUNCTION:       EXDIAG - EXECUTE INTERNAL DIAGNOSTICS

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|            2  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This function resets  the  DCP  and  executes  internal
diagnostics  to  verify  that  the  internal  RAM,  ROM  and
registers are good.  The proper initialization  protocol  is
to  send  the  EXDIAG  function,  set  a  timer and pole the
receive function register until a DCPOK is returned.  If the
timer  goes  off an error message should have been returned.
The LSI-11 driver must not  write  into  the  DCP  registers
while  diagnostics  are being executed because the registers
are also tested.

.skip to column 1
.SS BOOT11 - Copy bootstrap to LSI-11
.BYHAND

FUNCTION:       BOOT11 - Reserved!

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|            4  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This function is reserved for  use  by  the  bootstrap.
This  causes  the DCP to load the LSI-11 bootstrap into LSI-11
memory at location 1000.  To reboot the LSI-11  the  program
must  disable  interrupts  and  jump to location 173000.  No
program should ever send this function!

.skip to column 1
.SS EXMMEM - Examine DCP memory 
.BYHAND

FUNCTION:       EXMMEM - Examine DCP memory 

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|            6  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          DCP ADDRESS          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This debug function is used to examine four DCP memory
bytes.   The  address  does  not  have  to be on a word
boundary.

.skip to column 1
.SS DEPMEM - Deposit into DCP memory
.BYHAND

FUNCTION:       DEPMEM - Deposit a word into DCP memory

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|           10  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          DCP ADDRESS          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             DATA              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This debug function is used to deposit a word into  DCP
memory.  The address does not have to be on an even byte boundary.

.skip to column 1
.SS DMPREG - Dump DCP internal registers
.BYHAND

FUNCTION:       DMPREG - Dump DCP internal registers

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|           12  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This debug function returns three REGDMP functions with
the  contents  of  some  DCP  internal registers (see DMPREG
description).

.skip to column 1
.SS ZAPALL - Reinitialize all ports
.BYHAND

FUNCTION:       ZAPALL - Reinitialize all ports

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|           14  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This function disables all ports, both synchronous  and
asynchronous.

.skip to column 1
.SS EXECUT - Enable SIO scanning
.BYHAND

FUNCTION:       EXECUT - Enable SIO scanning

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|           16  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     This function  enables  interrupts  on  all  subsequent
receive  functions  from the DCP and causes the DCP to begin
scanning the ports.

.skip to column 1
.SS ASYPAR - Initialize an asynchronous port
.BYHAND

FUNCTION:       ASYPAR - Initialize an asynchronous port

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           20  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////| a |b|c| d |///////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   BAUD RATE VALUE FROM TABLE  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:

    a => Stop bits
         01 - One stop bit
         10 - One and a half stop bits
         11 - Two stop bits

    b => Parity sense select
         0 - Odd parity
         1 - Even parity

    c => Parity enable
         0 - No parity
         1 - Parity enable

    d => Character size not including any parity bits
         00 - 5 bits
         01 - 6 bits
         10 - 7 bits
         11 - 8 bits


Baud rate value table:

Baud rate       Decimal value   Octal value
   50           2304            4400
   75           1536            3000
  110           1047            2027
  134.5          857            1531
  150            768            1400
  200            576            1100
  300            384             600
  400            288             440
  600            192             300
 1000            115             163
 1200             96             140
 1800             64             100
 2000             58              72
 2200             52              64
 2400             48              60
 3600             32              40
 4800             24              30
 7200             16              20
 9600             12              14
19200              6               6
38400              3               3
.ENDHAND

.skip to column 1
.SS TXDATA - Transmit data
.BYHAND

FUNCTION:       TXDATA - Transmit data

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           22  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|   DATA BYTE   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Transmit one data byte.

.skip to column 1
.SS SETDTR - Set data terminal ready
.BYHAND

FUNCTION:       SETDTR - Set data terminal ready

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           24  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Turn on the data terminal ready signal.

.skip to column 1
.SS CLRDTR - Clear data terminal ready
.BYHAND

FUNCTION:       CLRDTR - Clear data terminal ready

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           26  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

Clear data terminal ready.

.skip to column 1
.SS BREAK - Break line
.BYHAND

FUNCTION:       BREAK - Break line

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           30  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Initiate a break condition (marking state) on the line.

.skip to column 1
.SS ENDBRK - End break
.BYHAND

FUNCTION:       ENDBRK - End break

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           32  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     End break condition on line.

.skip to column 1
.SS CFGPRT - Configure port vector
.BYHAND

FUNCTION:       CFGPRT - Configure port vector

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           34  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       INTERRUPT VECTOR        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Initialize the interrupt vector for this port and check
to   see  that  the  hardware  really  exists  and  responds
properly.   A  simple  hardware  verification   routine   is
executed  by  this function.  This function returns a PORTOK
if sucessful.  PRTERR is returned if the hardware  does  not
exist or the Z80-SIO fails to pass the diagnostic.

.skip to column 1
.SS TXSOM - Transmit start of messagge
.BYHAND

FUNCTION:       TXSOM - Transmit start of messagge

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           36  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|   DATA BYTE   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Transmit start of synchronous message.   This  function
initializes the CRC (if enabled) and terminates the idle state.

.skip to column 1
.SS TXEOM - Transmit end of message
.BYHAND

FUNCTION:       TXEOM - Transmit end of message

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           40  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|   DATA BYTE   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Transmit  end  of  synchronous  data   message.    This
function  sends the last data character, sends the CRC bytes
(if CRC transmit is enabled) and causes the line to idle synch
characters  or
mark (as selected during port initialization).

.skip to column 1
.SS SYNPAR - Initialize synchronous port
.BYHAND

FUNCTION:       SYNPAR - Initialize synchronous port

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           42  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////|a|b|c|d|  SYNCH CHAR   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Initialize a synchronous port.  The following bits enable various
options.
.list (-6,10,,"a =>")
.item
Transmit CRC enable.
.item
Search and idle single synch = 0, double synch = 1.
.item
Idle synch character = 0, idle mark = 1.
.item
Receive CRC enable.
.endlist

.skip to column 1
.SS SRCHSY - Enter search synch mode
.BYHAND

FUNCTION:       SRCHSY - Enter search synch mode

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           44  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|/////////////|a|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Enter search synch mode.  This  function  allows  strip
synch  mode  to  be entered simultaneously with search synch
mode to eliminate a race condition.
.BYHAND

OPTIONS:

      a => Strip synch enable = 1
.ENDHAND

.skip to column 1
.SS STRPSY - Select strip synch mode
.BYHAND

FUNCTION:       STRPSY - Select strip synch mode

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           46  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|/////////////|a|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

     Select strip synch mode.
.BYHAND

OPTIONS:

        a => Strip synch enable = 1
.ENDHAND

.skip to column 1
.SS Transmit data without CRC
.BYHAND

FUNCTION:      Transmit data without CRC

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           50  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|   DATA BYTE   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

Transmit data in CRC mode without CRC on the data byte.

.skip to column 1
.SS Transmit two data bytes
.BYHAND

FUNCTION:      Transmit two data bytes

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           52  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  DATA BYTE 2  |  DATA BYTE 1  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

Transmit two data bytes (low byte first).

.skip to column 1
.SS Initialize SDLC port
.BYHAND

FUNCTION:     Initialize SDLC port

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           54  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

Initialize port in SDLC mode.

.skip to column 1
.SS Configure high priority port
.BYHAND

FUNCTION:     Configure high priority port

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           56  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|///////////////|///////////////|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

This function is the same as function 34 except that the
port is put on the high priority scan list.  This function
should be used with synchronous ports only.

.skip to column 1
.SS Start DMA output
.BYHAND

FUNCTION:     Start DMA output

15             8 7             0
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  PORT NUMBER  |           60  |   162010
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  ADDRESS EXT. |  BYTE COUNT   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             DATA  ADDRESS     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

DESCRIPTION:
.ENDHAND

Send a block of data starting at the physical memory 
address supplied (may be odd).
The positive byte count specifies thee number of bytes to send.
The address extension contains bits 21-17 the physical memory address.
This function may be useed in asynchronous, synchronous and SDLC
modes.
.STANDARD BACK
  yOUn 