














			   TUMS-X

		     r
	       Tymnet  Universal Mail System
		      Reference	Manual


		     September 9, 1985


		      _______ _	 _____                      William R. Soley
			Tymnet,	NTD
		      10261 Bubb Road
		    Cupertino, CA  95014












































     Tymnet - McDonnell	Douglas	Network	Systems	Company






















































TUMS-X Reference Manual	   - 1 -September 9, 1985 version 30










			 CHAPTER  1


		    Introduction to TUMS




	 ______	__________ _______ ______     The Tymnet	Unofficial Message System (TUMS) is  a	dis-
						   |  ______tributed message handling system based on the  ARPA-  Simple
____  ________ ________		       ________	___ ___	____Mail  Transfer Protocol	[1] (SMTP) and Standard	for the	For-
___ __ ____ ________ ____ ________mat of ARPA Internet Text Messages [2] documents.

     This system allows	users to  exchange  electronic	mail
with  other users on the same system, as well as other,	dis-
similar	systems	connected to  Tymnetr  either  directly,  or
through	 a  gateway.  In particular, at	the time of publica-
tion, a	user on	a Tymcom-X can	send  a	 message  using	 the
TUMS-X	program,  to  other  users  on	that  host, users on
another	Tymcom-X, users	on Ontyme, users on almost any Unixr
system,	 or  users on any ARPA-NET system.  The	advantage of
such a system is that it does not require users	to have	com-
mon  access  to	 any  one  host	(such as Ontyme) in order to
exchange mail.

_ _   _______ ______1.1.  Message Format


     A message consists	of header fields and, optionally,  a
body.	Header	fields each begin with a label followed	by a
colon, some data, and a	CRLF.  A long header  field  may  be
continued  by  beginning  the next line	with a blank or	tab.
The body is simply a  sequence	of  lines  containing  ASCII
characters.  It	is separated from the headers by a null	line
(i.e., a line with nothing preceding the CRLF).

		____	 __     The fields	From and To are	required.  Other fields	 are
optional.   Below  is  a  partial  list	 of standard fields.
Non-standard fields are	allowed, but discouraged.










   _   | ____ ______ ___ ________ ________ ________	 _________-_ARPA_stands_for Advanced Research Projects	 Agency,  an
	      __________ __ _______agency of the Department of Defense.




TUMS-X Reference Manual	   - 2 -September 9, 1985 version 30







Chapter	0



       _____	_	       ___________	       _   _____________________________________________________  |____field____|______________description_____________|
		_				       _  |_____________|______________________________________|
       _____	_  ____	___ ____ ____		       _  |____Date:____|__date_and_time_sent__________________|
  |    From:	|  address of message originator       |
		_				       _  |_____________|______________________________________|
	___	_  _______ _________ ____	       _  |_____To:_____|__primary_recipient_list______________|
  |	Cc:	|  secondary recipient list	       |
		_				       _  |_____________|______________________________________|
	____	_  _____ ________ _________ ____       _  |_____Bcc:____|__blind_(secret)_recipient_list_______|
  |   Subject:	|  brief description of	message	subject|
		_				       _  |_____________|______________________________________|
  _ _____________  ____	__ _______ _____ _______ __    _  |_In-reply-to:|__date_of_message_being_replied_to____|


			 ____  __  __	   ___     The address fields, From, To, Cc, and Bcc,	are used  by
the  system to direct the message and its replies.  The	for-
mat of data in the fields must be of  the  proper  structure
for  message  integrity	 to  be	 preserved.   Each  of these
	       ____fields,	except From,  may  contain  more  than	one  address
separated  by  commas.	 Blanks	 and  case are not important
except inside of quotes.  Each address must conform  to	 the
address	syntax described below.

_ _   __________1.2.  Addressing


	      __________     The term addressing, here,	 refers	 to  the  method  of
expressing the recipient of a message as a character string.
The issue of addressing	can become quite involved.  [3]	 The
description  of	 addressing presented below is very abbrevi-
ated and makes several assumptions about  operation  in	 the
TUMS environment.  It should be	adequate for the TUMS-X	user
in most	every case.

			      _____ ____     An	address	consists of a local-part optionally followed
		    ______by an at-sign and a domain.

_ _ _	_____ ____1.2.1.	Local-Part


     In	the case of a Tymcom-X (and most other	hosts),	 the
_____ ____local-part  is simply the user's login name.  In the case of
	    _____ ____Ontyme,	the local-part always contains the account name	fol-
lowed  by a dot	and the	id.  If	the message is being sent to
a user on the same host	as the sender, it is  not  necessary
			       _____ ____to specify anything beyond the local-part.

_ _ _	______1.2.2.	Domain


     _______     Domains usually name a host  within  an  administrative
			    ______	  ____ ____hierarchy.   For  Tymnet, a domain is the host-name followed


TUMS-X Reference Manual	   - 3 -September 9, 1985 version 30







Chapter	0


		      ______by a dot and the name TYMNET.  Tymcom-X	hosts are  addressed
by  using  the	system	name which is displayed	by the SYSNO
command.  This consists	of a single letter designating which
	       |computer center- the host is located  in,  followed  by	 the
decimal	host number.  For example,

     JDoe@C39.Tymnet

			  ____will address the username JDoe on Tymnet host 39.  Users  of
one  of	 the  inter-Ontyme  systems may	be addressed using a
	     ______ ______host name of Ontyme.Tymnet.  For example,

     Corp.Smith@Ontyme.Tymnet

will address the user  id  Smith  in  account  Corp  in	 the
					      _____inter-Ontyme  system.	Other  hosts, such as tymix (the NTD
VAX), or any  of  the  Augment	Office	systems	 are  simply
addressed as in	the following examples:

     roguer@tymix.Tymnet
     ident@Office-2.Tymnet

     If	both the sender	and recipient share a  part  of	 the
domain hierarchy, then the common portion need not be speci-
fied.  For example, a Tymnet user addressing another  Tymnet
			    ____ ____user may simply	specify	the host-name:

     JDoe@C39

						      _____Further, if the	user is	on the same host,  only	 the  local-
____part need be specified:

     JDoe

_ _ _	________1.2.3.	Comments


     Addresses may  contain  comments  in  parenthesis,	 for
example, in

     JDoe@FunnyHost (John Q. Doe)

the name in parenthesis	is ignored by the system, but  makes
the  address more user friendly.  Another form of comment is
followed by the	actual address in angle-brackets:



   _   | ___ ________ _____-_The_computer_center  designator  is  required  only  to
			      ___ _______satisfy	 the restriction that sub-domains may not begin	with
a digit.  Within TUMS, this character is  optional,  and  if
present	is ignored (so it doesn't have to be correct).



TUMS-X Reference Manual	   - 4 -September 9, 1985 version 30







Chapter	0


     John Q. Doe <JDoe@FunnyHost>

_ _   ________ _______1.3.  Assigned Domains


		   _______     The following domains are assigned	at  this  time.	  An
attempt	 to  send  a  message  to a non-existent domain	will
result in the message (eventually)  being  returned  to	 the
sender.


_	______	      _		     ___________	    ______________________________________________________________|_______domain________|______________description____________|
_		      _					    _|_____________________|_____________________________________|
_   _______________   _	 _________ ________ ____ __	    _|___user@C26.Tymnet___|__Cupertino_Tymcom-X_host_26_________|
|   user@C33.Tymnet   |	 Cupertino Tymcom-X host 33	    |
_		      _					    _|_____________________|_____________________________________|
_   _______________   _	 _________ ________ ____ __	    _|___user@C36.Tymnet___|__Cupertino_Tymcom-X_host_36_________|
|   user@C39.Tymnet   |	 Cupertino Tymcom-X host 39	    |
_		      _					    _|_____________________|_____________________________________|
_   _______________   _	 _________ ________ ____ __	    _|___user@C57.Tymnet___|__Cupertino_Tymcom-X_host_57_________|
|  user@C897.Tymnet   |	 Cupertino Tymcom-X host 897	    |
_		      _					    _|_____________________|_____________________________________|
_  ________________   _	 ____________ ________ ____ ___	    _|__user@X930.Tymnet___|__Experimental_Tymcom-X_host_930_____|
|  user@tymix.Tymnet  |	 NTD Vax/Unix system		    |
_		      _					    _|_____________________|_____________________________________|
_ ___________________ _	 ___ _______ _____		    _|_ident@Office.Tymnet_|__all_Augment_hosts__________________|
|acct.id@Ontyme.Tymnet|	 all internal inter-Ontyme hosts    |
_		      _					    _|_____________________|_____________________________________|
_ __________________  _	 ___ ________ _____ ____ ____________|_user@hostname.Arpa__|__all_ARPA-Net_hosts_(old_addressing)|


     Note that when sending messages to	Usenet	sites,	they
				    _____should be addressed relative to	the tymix system:

     hosta!hostb!...!hostz!user@tymix.Tymnet

      _____ _____     _____			_____where hosta!hostb!...!hostz is the routing from	tymix to the
		  _____	     ____		     _____destination host, hostz, and user is a user known to hostz.

















TUMS-X Reference Manual	   - 5 -September 9, 1985 version 30










			 CHAPTER  2


		       Running TUMS-X




     The  TUMS-X  program  is  only  installed	on   certain
Tymcom-X hosts.	 On these hosts, it may	be run with the	com-
mand

     -R	TUMS

					       _______	____or, if the user	has an INIT program which sets Special	Com-
____ ____mand Mode, it may be run simply	as

     -TUMS

     TUMS will respond with a welcome message containing the
version	 and  the  date	it was compiled.  If it	is the first
time the user has  run	TUMS,  it  will	 create	 two  files,
TUMS.MSG  and  TUMS.TIX,  which	 will always remain present.
Further, if the	user has any mail in the file MAIL, it	will
be  copied  into  TUMS.MSG  and	deleted.  This may take	some
time.

     The default prompt	is a greater than symbol which indi-
cates  it  is  ready  to  accept a command.  Commands may be
abbreviated to their point of uniqueness.  If the  user	 has
defined	any command macros, they may not be abbreviated, and
they take precedence over a command with the same name.

_ _   _____2.1.  Files


     Several files are used by TUMS-X to maintain  the	mes-
sage  database.	 In most cases,	the user has no	control	over
the names used for these files.	 The files always reside  in
the logged in directory	to allow the user the freedom to GFD
free of	concern	over the mail database.

_ _ _	____ ___2.1.1.	TUMS.MSG


     This file contains	the headers and	bodys  of  all	mes-
sages.	 Since	the character position of each field of	each
message	is known by TUMS, this file must not  be  edited  or
otherwise  tampered  with.   Each message in this file has a
message	number which is	assigned sequentially  as  the	mes-
sages  arrive.	 As  messages  are  deleted  and their space
reclaimed, the message numbers are reused.  Each message has
associated with	it a set of status flags:


TUMS-X Reference Manual	   - 6 -September 9, 1985 version 30







Chapter	0



_  ____	 _		      ___________		    ______________________________________________________________|__flag__|____________________description___________________|
_	 _						    _|________|__________________________________________________|
________ _  ____ _______ __ ______ __ __ _______	    _|Deleted_|__this_message_is_marked_to_be_deleted____________|
|  New	 |  this message arrived since the last	TUMS session|
_	 _						    _|________|__________________________________________________|
_  ____	 _  ____ _______ ___ ____ ____			    _|__Read__|__this_message_has_been_read______________________|
|Answered|  a reply has	been sent to this message	    |
_	 _						    _|________|__________________________________________________|
_ ______ _  ____ ____ ___________ __ ___________ _______    _|_Marked_|__memo_flag_set/cleared_by_MARK/UNMARK_command____|


_ _ _	____ ___2.1.2.	TUMS.TIX


     This file contains	pointers and selected  fields  along
with  some  bookkeeping	information.  This file	is in binary
format and must	not be edited or  otherwise  tampered  with.
If  this  file is damaged, it can be reconstructed, but	mes-
sage status will be lost.

_ _ _	____ ___2.1.3.	TUMS.INI


     This file contains	profile	 initialization	 information
in the form of arguments to the	SET command.  It is normally
created	with the PROFILE command, but it is an ordinary	text
file and may be	edited directly.

_ _ _	____2.1.4.	MAIL


     Mail which	is read	by RDMAIL is placed  in	 this  file.
At  initialization,  TUMS  will	 copy  these  messages	into
TUMS.MSG and then delete MAIL.	Since  these  messages	were
put  in	MAIL as	a result of being read,	TUMS will mark these
messages READ when they	are copied.

_ _   _______ ___________2.2.  Message Expressions


							____     Many commands in TUMS take	an argument which is a	mes-
____  __________sage  expression.  This	specifies which	messages the command
is to operate on.  A message expression	may be a simple	mes-
sage number or a complex infix expression.

     The syntax	of message expressions is  described  below.
A  similar  message  can  be  displayed	online by entering a
question mark anywhere	a  message  expression	is  expected
(i.e., LIST ?).





TUMS-X Reference Manual	   - 7 -September 9, 1985 version 30







Chapter	0



____ __	___ __ __________					__________________________________________________________________|ele_is_one_of_following:_______________________________________|
_	   _							_|__________|____________________________________________________|
_    _	   _  _______ ______ _					_|____n_____|__message_number_n__________________________________|
    _ _				_	  _|   n:m	   |  messages numbered	n through m			|
_	   _							_|__________|____________________________________________________|
_   ___	   _  ________ ________	_ __ _______			_|___n:*____|__messages_numbered_n_or_greater____________________|
    _ _	      _					       _|   n#m	   |  m	messages beginning with	message	number n	|
_	   _							_|__________|____________________________________________________|
_    __	   _  ___ ____ _ ________				_|____#n____|__the_last_n_messages_______________________________|
|    *	   |  all messages					|
_	   _							_|__________|____________________________________________________|
_ _______  _  ___ _______ ________				_|_DELETED__|__all_deleted_messages______________________________|
|   NEW	   |  all messages since last QUIT			|
_	   _							_|__________|____________________________________________________|
_   ____   _  ___ ________ ____	____ ____ ____			_|___READ___|__all_messages_that_have_been_read__________________|
| ANSWERED |  all messages that	have been answered		|
_	   _							_|__________|____________________________________________________|
_  ______  _  ___ ________ ____	____ ____ ______ __ _______	_|__MARKED__|__all_messages_that_have_been_marked_by_command_____|
|UNDELETED |  all messages not deleted				|
_	   _							_|__________|____________________________________________________|
_   ___	   _  ___ ________ ______ ____ ____			_|___OLD____|__all_messages_before_last_QUIT_____________________|
|  UNREAD  |  all messages not read				|
_	   _							_|__________|____________________________________________________|
____________  ___ ________ ___ ________				_|UNANSWERED|__all_messages_not_answered_________________________|
| UNMARKED |  all messages not marked				|
_	   _							_|__________|____________________________________________________|
_   ____   _  _______ _______ _____ ________ _____		_|___CMSG___|__current_message_(most_recently_read)______________|
			      ____|    .	   |  abbreviation of CMSG				|
_	   _							_|__________|____________________________________________________|
_   ____   _  _______ ___________ _____	________ _________	_|___CSET___|__current_message-set_(most_recently_selected)______|
			      ____|    $	   |  abbreviation of CSET				|
_	   _							_|__________|____________________________________________________|
_   ____   _  ____ _______					_|___LAST___|__last_message______________________________________|
			      ____|    %	   |  abbreviation of LAST				|
_	   _							_|__________|____________________________________________________|
_   __ _   _  ___ ________ __________ ______ _ __ __ _____	_|___TO_x___|__all_messages_containing_string_x_in_TO_field______|
|  TO ME   |  all messages sent	to current user			|
_	   _							_|__________|____________________________________________________|
_  ____	_  _  ___ ________ __________ ______ _ __ ____ _____	_|__FROM_x__|__all_messages_containing_string_x_in_FROM_field____|
| FROM ME  |  all messages sent	from current user		|
_	   _							_|__________|____________________________________________________|
_  ___ _   _  ___ ________ __________ ______ _ __ ________ ______|__KEY_x___|__all_messages_containing_string_x_in_KEYWORDS_field|
	  _				     _|KEYWORDS x|  all messages containing string x in KEYWORDS field|
_	   _							_|__________|____________________________________________________|
________ _ _  ___ ________ __________ ______ _ __ _______ _____	_|SUBJECT_x_|__all_messages_containing_string_x_in_SUBJECT_field_|
	_				     _|  TEXT	x  |  all messages containing string x in TEXT field	|
_	   _							_|__________|____________________________________________________|
_  ___ _   _  ___ ________ __________ ______ _ __ ___ _____	_|__ANY_x___|__all_messages_containing_string_x_in_any_field_____|
    ___| ( exp	)  |  a	parenthesized expression			|
_	   _							_|__________|____________________________________________________|
_ ___ ___  _  ___ ___ ___ _________ __ ___			_|_NOT_ele__|__all_messages_not_specified_by_ele_________________|



TUMS-X Reference Manual	   - 8 -September 9, 1985 version 30







Chapter	0



	    ____ __ ___	__ ___ __________      _           _____________________________________          |_term_is_one_of_the_following:______|
		      _			       _          |___________|________________________|
	       ___    _	 _ ______ _______      _          |____ele____|__a_single_element______|
	    ____   ___          | term & ele|	 set intersection (and)|
		      _			       _          |___________|________________________|


___ __ ___ __ ___ __________exp_is_one_of_the_following:_
   ___			     ___   trm	    a trivial expression_
 ___ ___			 _ _________ exp trm    set	union (or) implied_operation
___   ___exp + trm   set	union (or)
___   ___exp - trm   set	subtraction (and not)
     ___ ALL exp    include deleted messages


_ _   _______ _____2.3.  Address Lists


     When TUMS-X expects an address list  to  specify  reci-
pients	for  a	message,  the  list  may include aliases and
labels.

_ _ _	_______2.3.1.	Aliases


     An	alias is defined by the	command

	       ____  _______ ____     SET ALIAS name "address-list"

and behaves like a macro  when	encountered  in	 an  address
list.	Aliases	 may  contain  other  aliases.	Recursion is
detected and gracefully	suppressed.

_ _ _	_______	______2.3.2.	Address	Labels


     An	address	 label	is  one	 of  the  following  special
tokens:

     TO:
     CC:
     BCC:

     An	address	label may be included  in  an  address	list
(only  within  TUMS)  to force the address to appear under a
particular heading field in the	draft.	For example,

     SEND BOB, TOM, CC:	GREG, PAUL; HARRY

will produce a draft with the fields:




TUMS-X Reference Manual	   - 9 -September 9, 1985 version 30







Chapter	0


     To: BOB, TOM, HARRY
     Cc: GREG, PAUL

     The semicolon may be used to cancel the effect  of	 the
last  label.   That is,	only the addresses between the label
and the	next semicolon (if any)	are affected by	the label.

_ _   ____ _____ ____ ____2.4.  Text Input/Edit Mode


     When creating a message draft to be sent, or editing an
					    ____ _____ ____existing  draft, the user will be placed in text input mode.
This is	signified by the message

     Enter text	(~? for	help):

The following commands may be entered while  entering  text.
They must begin	with the tilde in column one.


_________			___________			 ___________________________________________________________________|command|_______________________description______________________|
_	_							 _|_______|________________________________________________________|
_  __	_  ____	_ _____	____ _______				 _|__~?___|__help_-_print_this_message_____________________________|
    ___			    ___	   ___|~b adr	|  blind copy -	add adr	to Bcc field			 |
_	_							 _|_______|________________________________________________________|
___ ___	_  ____	_ ___ ___ __ __	_____				 _|~c_adr_|__copy_-_add_adr_to_Cc_field____________________________|
|  ~e	|  invoke EDITOR on message				 |
_	_							 _|_______|________________________________________________________|
_  __	_  ______ ________ _______ __ _____ ____ __ ______________|__~i___|__append_original_message_to_draft_(use_in_ANSWER/REPLY)|
    ___|~i exp	|  append specified messages to	draft			 |
_	_							 _|_______|________________________________________________________|
_  __	_  _______ _______ _____				 _|__~p___|__display_message_draft_________________________________|
|  ~q	|  quit, leave message in draft				 |
_	_							 _|_______|________________________________________________________|
___ _____  ______ ________ __ ____ __ _______			 _|~r_file|__append_contents_of_file_to_message____________________|
    ___		    ___	   __|~t adr	|  to -	add adr	to To field				 |
_	_							 _|_______|________________________________________________________|
_  __	_  ______ ____ __ _______				 _|__~v___|__invoke_PEAK_on_message________________________________|
    ____			  ____|~w file|  write message draft to file				 |
_	_							 _|_______|________________________________________________________|
_ _____	_  ____	___ __ ______ _________	______ _____		 _|_~~xxx_|__puts_xxx_in_buffer_following_single_tilde_____________|
   |			 _______ _  ___	__ ____|  ^D	|  finish input	(Control-D, end	of text)		 |
_	_							 _|_______|________________________________________________________|


						  _______ _     When text input mode is terminated	 with  a  Control-D,
the  operation	originally  specified  by  the command which
invoked	text input mode	is performed.	Alternatively,	when
				   _____ _text input mode	is terminated with tilde-Q, the	operation is
not performed, and the message draft is	retained.





				-TUMS-X Reference Manual	   - 10	September 9, 1985 version 30










			 CHAPTER  3


		      TUMS-X Commands




     The following commands are	valid in the current version
of  TUMS-X.   An online	list with a brief description may be
obtained with the HELP command.

_ _   ______ _______3.1.  ANSWER Command


     The ANSWER	command	is the same as the REPLY command.  A
message	 is prepared to	be sent	as a reply to the message(s)
specified in the argument.  If no  argument  is	 given,	 the
current	message	is assumed.

     Certain fields in	the  draft  are	 setup	with  values
derived	from the original message(s):


	   _____    _		 ________	    _       ______________________________________________      |____field____|____________contents___________|
		    _				    _      |_____________|_______________________________|
	   _____    _  _______ ____ ___	____	    _      |____Date:____|__current_date_and_time________|
      |	   From:    |  value of	variable SEND.FROM  |
		    _				    _      |_____________|_______________________________|
	    ___	    _  ________	____		    _      |_____To:_____|__original_From________________|
				__     __      |	    Cc:	    |  original	To and Cc	    |
		    _				    _      |_____________|_______________________________|
	    ____    _  _____ __	________ ________   _      |_____Bcc:____|__value_of_variable_AUTO.BCC___|
				_______      |	  Subject:  |  original	Subject		    |
		    _				    _      |_____________|_______________________________|
      _	_____________  ____ _______ __ ________	_____      |_In-reply-to:|__your_message_of_original_Date|


_ _   ___ _______3.2.  BUG Command


     This command allows a suggestion or bug  report  to  be
sent to	the program maintainer.

_ _   _____ _______3.3.  CHECK Command


     This command checks for new messages.  This function is
automatically performed	before each command prompt.






				-TUMS-X Reference Manual	   - 11	September 9, 1985 version 30







Chapter	0


_ _   ________ _______3.4.  CONTINUE Command


							____     If	no argument is present,	the user is placed  in	text
_____  ____input  mode  and  allowed to edit the current message draft.
If an argument is present, it should be	the name of  a	file
to  load  the  draft  from.  The draft could have been saved
	 _____ _	    ____ _____	____with the tilde-W command in text input	mode,  or  the	SAVE
command	in TUMS	command	mode.  The edited draft	will then be
sent.

_ _   ____ _______3.5.  COPY Command


     The first argument	is the name of a file to append	mes-
sages  to.   The  second  argument  is	a message expression
specifying which messages to copy.  If no message expression
is present, the	current	message	is assumed.

_ _   _____ _______3.6.  COUNT Command


     This command prints the number of messages	specified by
the message expression in its argument.

_ _   _______ _______3.7.  DAYTIME Command


     The current date and time is displayed.

_ _   ______ _______3.8.  DELETE Command


     The specified messages are	marked	for  deletion.	 The
messages are not actually expunged until an EXPUNGE, EXIT or
LOGOUT command is given.  Until	then,  they  may  be  listed
with the command

     LIST DELETED

or recovered with the UNDELETE command.

_ _   ____ _______3.9.  EDIT Command


     This command takes	 a  message  expression	 which	must
specify	 exactly  one  message.	  The  message	specified is
			____ _____ ____			____placed in the draft and	text input mode	is entered.  If	text
_____  ____			  _______ _input  mode  is	terminated with	a Control-D, the edited	mes-
sage will replace the original.





				-TUMS-X Reference Manual	   - 12	September 9, 1985 version 30







Chapter	0


_ __   _____ _______3.10.  ERASE Command


     This command erases the message draft.

_ __   ____ _______3.11.  EXIT Command


     This command performs an EXPUNGE operation,  reclaiming
the space for all deleted messages, then returns the user to
the operating system.

_ __   _______ _______3.12.  EXPUNGE Command


     This command rebuilds the files TUMS.TIX and  TUMS.MSG,
reclaiming  all	 space occupied	by messages marked for dele-
tion.

_ __   _______ _______3.13.  FORWARD Command


     The message(s) specified by the argument are  forwarded
to  a  new list	of recipients supplied by the user.  Certain
fields in the draft are	setup with values derived  from	 the
original message(s):


	  _____	 _	       ________		   _        ____________________________________________       |__field__|_____________contents____________|
		 _				   _       |_________|_________________________________|
	  _____	 _  _______ ____ ___ ____	   _       |__Date:__|__current_date_and_time__________|
       |  From:	 |  value of variable SEND.FROM	   |
		 _				   _       |_________|_________________________________|
	   ___	 _  ________ ___		   _       |___To:___|__prompted_for___________________|
       |   Bcc:	 |  value of variable AUTO.BCC	   |
		 _				   _       |_________|_________________________________|
	 _________  ________ _______		   _       |_Subject:|__original_Subject_______________|
       |  Text:	 |  contents of	original message(s)|
		 _				   _       |_________|_________________________________|


     The messages are  included	 with  their  full  headings
intact.	  The  forwarded  message  text	 takes the following
form:

     (begin forwarded messages)
     ------------------------------------------
	 ________ ___ ____ __ ___ _______         headings and body of 1st message
     ------------------------------------------
	 ________ ___ ____ __ ___ _______         headings and body of 2nd message
	     o             +
	     o             +
	     o             +


				-TUMS-X Reference Manual	   - 13	September 9, 1985 version 30







Chapter	0


	 ________ ___ ____ __ ___ _______         headings and body of Nth message
     ------------------------------------------
     (end forwarded messages)

			    ____  _____	 ____     The user is placed	in  text  input	 mode  in  order  to
append	comments  (if  any) to the text	field or to edit the
draft.

     The dashed	line seperator may be specified	by the	user
to  be	any  string by setting the INCLUDE.SEP profile vari-
able.

_ __   ____ _______3.14.  HELP Command


     The help command (also a question mark) produces a	list
of commands with a brief description of	each one.

_ __   ________	_______3.15.  KEYWORDS	Command


     The specified keywords are	added to the Keywords  field
of  the	 specified  messages.	Keywords  should  be  single
tokens,	with hyphens for word seperators if necessary.	TUMS
converts  all keywords to upper	case to	facilitate matching.
The syntax is

	      _______ ____ _______ __________     KEYWORDS keyword-list message-expression

where the keyword list is a comma seperated list of  tokens.
If  the	message	expression is omited, it will default to the
current	message.

_ __   ____ _______3.16.  LIST Command


     The messages specified in the argument  are  listed  on
the   terminal	in  a  format  determined  by  the  variable
LIST.FORMAT.  The default format is "#!DAS" which produces a
table  with  one  line	per message and	the columns: message
number,	message	status,	date, to/from address, and subject.

_ __ _	 ________ ____ ______3.16.1.	 Variable LIST.FORMAT


     The LIST.FORMAT variable specifies	the  format  of	 the
output	from  the  LIST	command.  Each non-numeric character
specifies a column in the output.  The column width  may  be
altered	 from those shown in the table by preceding the	for-
mat character with the desired width in	decimal.





				-TUMS-X Reference Manual	   - 14	September 9, 1985 version 30







Chapter	0



	____ _	______		___________	    _       ______________________________________________      |_form_|__width|__________description_________|
      |	  #  |	  3  |	message	number		    |
	     _	     _				    _      |______|_______|______________________________|
	  _  _	  _  _	_______	______		    _      |___!__|____5__|__message_status______________|
      |	  A  |	 22  |	From unless from me, then To|
	     _	     _				    _      |______|_______|______________________________|
	  _  _	 __  _	____			    _      |___D__|___15__|__Date________________________|
      |	  F  |	 22  |	From			    |
	     _	     _				    _      |______|_______|______________________________|
	  _  _	  _  _	______ __ _____	___ _________      |___L__|____4__|__length_in_chars_(or_k-chars)|
      |	  S  |	 30  |	Subject			    |
	     _	     _				    _      |______|_______|______________________________|
	  _  _	 __  _	__			    _      |___T__|___22__|__To__________________________|
	_____      |	blank|	  1  |	white space		    |
	     _	     _				    _      |______|_______|______________________________|
      _	  _  _	     _	____			    _      |___/__|_______|__CRLF________________________|


_ __   ______ _______3.17.  LOGOUT Command


     This  command  detaches  the  terminal,   performs	  an
expunge, then logs out.

_ __   ____ _______3.18.  MARK Command


     The messages specified  in	 the  argument	are  marked.
This  can  been	 seen  in the status on	the LIST command and
used in	selecting messages  with  the  MARKED  and  UNMARKED
selectors  in  message expressions.  The meaning of the	mark
is left	to the user to define.	One possible  use  is  as  a
memo  to  indicate further action is required on the subject
described by the message.

_ __   ____ _______3.19.  MOVE Command


     This behaves like the COPY	command	except	the  message
is marked for deletion after it	is copied.

_ __   _______ _______3.20.  NETMAIL Command


     This forces the network mail deamon to run	and possibly
process	 some undelivered mail.	 This is normally not neces-
sary since the program is started automatically	 whenever  a
message	requiring network transport is sent.  This may cause
other people's mail to be processed at your expense.





				-TUMS-X Reference Manual	   - 15	September 9, 1985 version 30







Chapter	0


_ __   ____ _______3.21.  NEWS Command


     This command displays notes about changes to TUMS-X  in
reverse	 version  order.   Version  numbers  are octal.	 The
first time a user runs a new version of	TUMS-X,	the news for
that version is	automatically displayed	at initialization.

_ __   ____ _______3.22.  NEXT Command


     This command reads	the next message in  the  read	set.
The  read set is the group of messages specified in the	last
READ command.  If the read set is  empty,  this	 command  is
				  |   _______ _identical  to  READ.   The  macro ^N (Control-N) is normally
bound to this command.

_ __ _	 ____ ______ _______3.22.1.	 NEXT DELETE Command


     This variation of the NEXT	command	deletes	the  current
							  |message	 before	 displaying  the next message.	The macro ^K
 _______ _(Control-K) is normally	bound to this command.

_ __   ________	_______3.23.  PREVIOUS	Command


     This command displays the previous	message	in the	read
set.  The read set is the group	of messages specified in the
			       |    _______ _last READ command.  The	macro  ^P  (Control-P)	is  normally
bound to this command.

_ __   _____ _______3.24.  PRINT Command


     This command may take two forms:

	   ___     PRINT exp
		____ ___     PRINT FILE	file exp

The first form prints the specified message(s) on  the	file
TUMS.PRT,  while  the second form allows the user to specify
the file name.

_ __   _______ _______3.25.  PROFILE Command


     The file TUMS.INI is written with	the  values  of	 all
variables which	have been changed from their default values.
The SHOW command indicates variables which have	been changed
with an	asterisk.




				-TUMS-X Reference Manual	   - 16	September 9, 1985 version 30







Chapter	0


_ __   ____ _______3.26.  QUIT Command


     This returns the user to the operating system.  Deleted
messages are not expunged.

_ __   ____ _______3.27.  READ Command


     The messages specified by the argument are	put  in	 the
read  set.   The first message in the set is then displayed.
One may	step forward and backward through the set  with	 the
NEXT and PREVIOUS commands.

_ __   _____ _______3.28.  REPLY Command


     This is a synonym for the ANSWER command.

_ __   ______ _______3.29.  RESEND Command


     As	an alternative to FORWARD, this	 command  resends  a
message	 to a new set of recipients.  The original header is
preserved and there is no opportunity to edit the message or
add comments.  Each message being resent is sent separately.
The fields are setup as	follows:


	    _____    _		 ________	   _        ____________________________________________       |____field____|___________contents__________|
		     _				   _       |_____________|_____________________________|
	    _____    _	________ ____		   _       |____Date:____|__original_Date______________|
				 ____       |    From:    |	original From		   |
		     _				   _       |_____________|_____________________________|
	     ___     _	________ __		   _       |_____To:_____|__original_To________________|
				 __       |     Cc:     |	original Cc		   |
		     _				   _       |_____________|_____________________________|
	     ____    _	_____ __ ________ ________ _       |_____Bcc:____|__value_of_variable_AUTO.BCC_|
				 _______       |   Subject:  |	original Subject	   |
		     _				   _       |_____________|_____________________________|
	 _____________	_______	____ ___ ____	   _       |_Resent-Date:|__current_date_and_time______|
       | Resent-From:|	value of variable SEND.FROM|
		     _				   _       |_____________|_____________________________|
	  __________ _	________ ___		   _       |__Resent-To:_|__prompted_for_______________|
				 ____       |    Text:    |	contents Text		   |
		     _				   _       |_____________|_____________________________|


_ __   ____ _______3.30.  SAVE Command


     A copy of the current message draft  is  saved  in	 the
file  specified	 by the	argument.  It may be continued later


				-TUMS-X Reference Manual	   - 17	September 9, 1985 version 30







Chapter	0


by the CONTINUE	command.

_ __   ____ _______3.31.  SEND Command


     A message draft is	prepared to be sent to the addresses
given  in  the argument.  Alias	names may be used as defined
with the SET ALIAS command.  The tokens	CC: and	BCC: may  be
included  in the address list to indicate that all addresses
following these	tokens are to appear  in  that	field.	 The
message	fields are setup as follows:


	    _____  _	       ________		 _          ________________________________________         |__field__|___________contents__________|
		   _				 _         |_________|_____________________________|
	    _____  _  _______ ____ ___ ____	 _         |__Date:__|__current_date_and_time______|
	 |  From:  |  value of variable	SEND.FROM|
		   _				 _         |_________|_____________________________|
	     ___   _  ________ ___ ________ ____ _         |___To:___|__argument_(or_prompted_for)_|
	 |   Bcc:  |  value of variable	AUTO.BCC |
		   _				 _         |_________|_____________________________|
	 _ _________  ________ ___		 _         |_Subject:|__prompted_for_______________|


_ __   ___ _______3.32.  SET Command


     This command is used to modify profile variables  which
control	 various  options  within  the	program.  SET ?	will
display	a list of variables which may be set.  The SHOW	com-
mand will display the current values of	all variables.


   ________			       _____________________________________________________variable____________________________usage_

    _____	______ ___ _______ __________________________________________________ALIAS_______macros_for_address_lists_
					     __	________                                             ____________                                         ________________                                         ________________ ARCHIVE.FILE	name of	file for saving	expunge_messages_

							  ____ _____                                                         ____________                                                         ____________                                                         ____________   ________	____ __	_________ __ _____________ ___ ______________________________________________________________________________________AUTO.BCC_____list_of_addresses_to_automatically_put_in_Bcc:_field_
 INCLUDE.SEP	string used to separate	included messages

     ____	____ __	________ __ _______ __ ____ ______________________________________________________________________________________INIT_______list_of_commands_to_execute_at_TUMS_initialization_
 LIST.FORMAT	format control string for LIST command

    _____	_______	_________________________________________MACRO_______command_macros_
			       _ __________ __ ________                               _________________________  MACRO.ECHO	on to echo macro_expansions_on_terminal_

  _________	____ __	____ ________________________________________MAIL.FILE_____name_of_mail_file_
				  __ _______ ______                                  __________________    PROMPT	string used for	main_command_prompt_

						    __                                                    ___ ___________	______ ____ ___	____ _____ ____	_______________________________________________________________PROMPT.TEXT____string_used_for_text_input_mode_prompt_
  PSEUDONYMS	list of	other names user is known by



							_ __                                                        _____                                                       ______                                                       ______                                                       ______                                -		       ______TUMS-X Reference Manual	   - 18	September 9, 1985 version_30_







Chapter	0



  _________	_______	__ __ ____ __ _____ _________________________________________________________SEND.FROM_____address_to_be_used_in_From:_field_
								    _                                                                   __                                                                   __                                                             ________                                                             ________                                                             ________                                                             ________                                                             ________                                                             ________                                                  ___________________|	     |					  __________________|
|	     |							    |
_	     _| __   ____ _|_____3.33.  SHOW Command						    |
|	     |							    |
|	     |							    |
	     ||    Display the current value of profile variables.   Vari-	    |
|ables  which |have been	changed	from their default value are	    |
|	     |indicated with an asterisk.  The syntax	is:			    |
|	     |							    |
|    SHOW    |							    |
|    SHOW ?  |							    |
	     _          ___|____ ____|    SHOW variable-name						    |
|	     |							    |
	     ||    If	no variable name is given, all variables are  shown.	    |
|	     |A  question  mark  argument  causes the	variable names to be	    |
|listed.	     |							    |
|	     |							    |
_	     _| __   ______|___ _______3.34.  STATISTICS Command					    |
|	     |							    |
|	     |							    |
	     ||    This command provides certain information which is	use-	    |
|	     |ful for	performance analysis and debugging.			    |
|	     |							    |
_	     _| __   ____ _|_____3.35.  TYPE Command						    |
|	     |							    |
|	     |							    |
	     ||    All messages specified by the argument are	displayed.	    |
|	     |							    |
_	     _| __   ______|_	_______3.36.  UNANSWER	Command						    |
|	     |							    |
|	     |							    |
     Clears the	ANSWERED status	bit for	the  specified	mes-
sages.

_ __   ________	_______3.37.  UNDELETE	Command


     Clears the	DELETED	status bit for	the  specified	mes-
sages.	Remember to use	the qualifier ALL in message expres-
sions dealing with deleted messages, for example

     UNDELETE ALL FROM "Bob"

_ __   __________ _______3.38.  UNKEYWORDS Command


     Clears the	specified keywords from	the  Keywords  field
of  the	 specified  messages.	Keywords  being	removed	must
match exactly.	The syntax is




				-TUMS-X Reference Manual	   - 19	September 9, 1985 version 30







Chapter	0


		_______	_______	__________     UNKEYWORDS	keyword	message-expression

_ __   ______ _______3.39.  UNMARK Command


     Clears the	MARKED status bit  for	the  specified	mes-
sages.

_ __   ______ _______3.40.  UNREAD Command


     Clears the	READ status bit	for the	specified messages.

_ __   ______ _______3.41.  VERIFY Command


     This verifys the integrity	of TUMS.TIX and	the  in-core
data base.  This command is only useful	for debugging.

_ __   _______ _______3.42.  VERSION Command


     Displays the current program  version  and	 compilation
date.































				-TUMS-X Reference Manual	   - 20	September 9, 1985 version 30










			 CHAPTER  4


		    Automatic Forwarding




     Most message systems allow	a mechanism to automatically
redirect  messages addressed to	a user to another address or
list of	addresses.  This is particularly useful	 if  a	user
has  accounts  on  multiple  systems, but wishes to have all
messages collected on one particular system.

     On	Tymcom-X systems this is accomplished by creating  a
file named "MAIL.FWD" on each system that mail is to be	for-
warded from.  The file should contain a	valid  TUMS  address
list.	The mail can be	forwarded to any (reasonable) number
of recipients at any site accessible to	TUMS.

     On	Unixr systems, this is accomplished  by	 creating  a
file  named  ".forward"	 containing  a similar list.  Notice
that files whose name begin with  a  dot  are  not  normally
	     __displayed by ls.

     In	order to allow extra flexibility, on Tymcom-X  hosts
only, the user name may	be preceded with an exclamation	mark
(!) to indicate	that no	further	forwarding  is	to  be	per-
formed.	  Such	an  address  will  not be forwarded due	to a
MAIL.FWD file.	It is recommended  that	 users	wishing	 all
their  mail  be	 forwarded to a	particular Tymcom-X create a
MAIL.FWD file such as

     !JDoe@C39.Tymnet

and  distribute	 it  to	 all  systems  using   the   utility
(SPL)COPY.  The	exclamation mark will prevent recursion	that
would otherwise	result from  a	system	forwarding  mail  to
itself.
















				-TUMS-X Reference Manual	   - 21	September 9, 1985 version 30










			 CHAPTER  5


		      Ontyme Interface




     At	this time, Ontyme does not support any host to	host
protocols  that	would allow exchange of	messages with a	non-
Ontyme host.  In order to work	around	this  limitation,  a
temporary  Ontyme  interface has been built which logs in to
each users' account on Ontyme and exchanges messages on	that
user's	behalf.	 There are two programs	to handle transport,
one to send and	one to receive.

     Since the interface must log in  as  the  user,  it  is
necessary for all users	wishing	to have	Ontyme messages	for-
warded through TUMS to register	their  Ontyme  ID,  Key	 and
forwarding  address  with  the	postmaster.   This is accom-
					 __________plished	by sending a  TUMS  message  to	 POSTMASTER,  or  an
	    ____ ___Ontyme	to  TUMS.SUP,  containing  the required	information.
The Ontyme Key should be different from	any  other  keys  or
passwords the user may have.

     Every hour, a process  is	started	 which	sequentially
logs in	to every registered TUMS/Ontyme	user ID	and forwards
all  unread  messages  to  the	specified  TUMS	  forwarding
address.   The	forwarding  address  may  be  any valid	TUMS
address	at any site.

     Similarly,	once each hour,	a TUMS	process	 will  check
					  ____ _______for  messages  sent  to	 the  Ontyme name TUMS.GATEWAY.	 The
first non-blank	line of	a message sent	to  this  Ontyme  ID
must  contain a	list of	valid TUMS addresses followed at the
				      ____end of the  line  with	the  string  (TUMS).   This  special
address	line may optionally begin with a field label such as
__     __		      ____To: or Cc: in which case the (TUMS) suffix is not  required.
In  this  manner,  an  Ontyme  user can	send a message to an
arbitrary TUMS address without the  need  for  registration.
			 ____ _______Any  messages  sent  to	 TUMS.GATEWAY which do not contain a
valid auxiliary	address	line will be returned to the sender.

     Messages sent from	TUMS to	an Ontyme  system  are	pro-
cessed	as  soon  as  a	connection can be established to the
							____Ontyme system.	If the sender (name contained  in  the	From
field)	is a registered	TUMS/Ontyme user, the interface	will
log in to that Ontyme ID when sending the  message.   Other-
					       ____ _______wise,  the interface will use the generic name TUMS.GATEWAY.
The use	of the generic name may	be confusing to	 the  Ontyme
recipient not familiar with the	operation of the TUMS/Ontyme
interface.



				-TUMS-X Reference Manual	   - 22	September 9, 1985 version 30







Chapter	0


Caveats:

     The interim  Ontyme  interface  has  several  drawbacks
which the user should be aware of:

1.   To	obtain the  kind  of  direct  addressability  Ontyme
     users  are	used to, a TUMS	user must maintain an Ontyme
					    __________     account, and register it with the TUMS Postmaster.

2.   Due to the	lack of	a host to  host	 protocol,  delivery
     reliability is less than that for either TUMS or Ontyme
     when used independently.  Severe overloading of Ontyme,
     or	a crash	may result in message truncation or duplica-
     tion.  There have been no reports of  a  message  being
     lost in either direction.

3.   The effect	of registration	on security is dubious.






































				-TUMS-X Reference Manual	   - 23	September 9, 1985 version 30










			 CHAPTER  6


		     Arpanet Interface




     At	this time, the Arpanet interface  utilizes  Office-2
as  a  gateway.	  Arpanet messages may be sent by specifying
the full ARPA domain address.

Caveats:

     The Arpanet interface has	several	 drawbacks  at	this
time which the user should be aware of:

1.   The host tables are not always complete due to lack  of
     table space in the	Office-2 monitor.  As a	result,	some
     mail may be returned as undeliverable even	though it is
     sent to a valid host because that host has	been deleted
     to	conserve table space.

2.   There is no naming	convention for traffic	coming	from
     Arpanet into Tymnet.  Therefor, any non-Office destina-
     tion will be unable to reply to your messages.

3.   Use of this interface  is	strongly  discouraged  until
     these problems can	be resolved.


























				-TUMS-X Reference Manual	   - 24	September 9, 1985 version 30










			 CHAPTER  7


		      Usenet Interface




     At	this time, the Usenet gateway service  for  TUMS  is
provided  by  tymix,  the NTD Vax/Unixr	system.	 In order to
						       _____send a Usenet message, the user	must know a path from  tymix
to the destination host.

Caveats:

1.   Not all sites handle  domain  transformations  properly
					  ______ ____     which   sometimes	results	 in  the  return-path  being
     invalid.  As a result, you	may not	 be  notified  of  a
     delivery failure.

2.   Usenet is more of a conspiracy than a  network  and  is
     therefor inherently unreliable.

































				-TUMS-X Reference Manual	   - 25	September 9, 1985 version 30










			 CHAPTER  8


			 References




1.   J.	Postel,	"Simple	Mail  Transfer	Protocol,"  RFC-821,
     Network Information Center,  Menlo	Park, CA (Aug 1982).

2.   D.	Crocker, "Standard for the Format of  ARPA  Internet
     Text  Messages,"  RFC-822,	 Network Information Center,
     Menlo Park, CA (Aug 1982).

3.   Rosen, "Issues in	Internetting  Part  3:	Addressing,"
     IEN-188,	Network	 Information Center,  Menlo Park, CA
     (Jun 1981).





































				-TUMS-X Reference Manual	   - 26	September 9, 1985 version 30












		     Table of Contents



_______	  ___________					____section	  description					page

Chapter	1 Introduction to TUMS
     1.1       Message Format .........................	   2
     1.2       Addressing .............................	   3
     1.2.1     Local-Part .............................	   3
     1.2.2     Domain .................................	   3
     1.2.3     Comments	...............................	   4
     1.3       Assigned	Domains	.......................	   5
Chapter	2 Running TUMS-X
     2.1       Files ..................................	   6
     2.1.1     TUMS.MSG	...............................	   6
     2.1.2     TUMS.TIX	...............................	   7
     2.1.3     TUMS.INI	...............................	   7
     2.1.4     MAIL ...................................	   7
     2.2       Message Expressions ....................	   7
     2.3       Address Lists ..........................	   9
     2.3.1     Aliases ................................	   9
     2.3.2     Address Labels .........................	   9
     2.4       Text Input/Edit Mode ...................	  10
Chapter	3 TUMS-X Commands
     3.1       ANSWER Command .........................	  11
     3.2       BUG Command ............................	  11
     3.3       CHECK Command ..........................	  11
     3.4       CONTINUE	Command	.......................	  12
     3.5       COPY Command ...........................	  12
     3.6       COUNT Command ..........................	  12
     3.7       DAYTIME Command ........................	  12
     3.8       DELETE Command .........................	  12
     3.9       EDIT Command ...........................	  12
     3.10      ERASE Command ..........................	  13
     3.11      EXIT Command ...........................	  13
     3.12      EXPUNGE Command ........................	  13
     3.13      FORWARD Command ........................	  13
     3.14      HELP Command ...........................	  14
     3.15      KEYWORDS	Command	.......................	  14
     3.16      LIST Command ...........................	  14
     3.16.1    Variable	LIST.FORMAT ...................	  14
     3.17      LOGOUT Command .........................	  15
     3.18      MARK Command ...........................	  15
     3.19      MOVE Command ...........................	  15
     3.20      NETMAIL Command ........................	  15
     3.21      NEWS Command ...........................	  16
     3.22      NEXT Command ...........................	  16
     3.22.1    NEXT DELETE Command ....................	  16
     3.23      PREVIOUS	Command	.......................	  16
     3.24      PRINT Command ..........................	  16













     3.25      PROFILE Command ........................	  16
     3.26      QUIT Command ...........................	  17
     3.27      READ Command ...........................	  17
     3.28      REPLY Command ..........................	  17
     3.29      RESEND Command .........................	  17
     3.30      SAVE Command ...........................	  17
     3.31      SEND Command ...........................	  18
     3.32      SET Command ............................	  18
     3.33      SHOW Command ...........................	  19
     3.34      STATISTICS Command .....................	  19
     3.35      TYPE Command ...........................	  19
     3.36      UNANSWER	Command	.......................	  19
     3.37      UNDELETE	Command	.......................	  19
     3.38      UNKEYWORDS Command .....................	  19
     3.39      UNMARK Command .........................	  20
     3.40      UNREAD Command .........................	  20
     3.41      VERIFY Command .........................	  20
     3.42      VERSION Command ........................	  20
Chapter	4 Automatic Forwarding
Chapter	5 Ontyme Interface
Chapter	6 Arpanet Interface
Chapter	7 Usenet Interface
Chapter	8 References
































				-TUMS-X Reference Manual	   - ii	September 9, 1985 version 30   nzd}