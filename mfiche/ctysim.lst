CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 1
S.MAC	13-JAN-88 11:55		S.MAC - with system parameter file for P035/D, January 1988

     1				SUBTTL	S.MAC - with system parameter file for P035/D, January 1988
     2
     3				IF2,<IFNDEF LISTSN,<TAPE>>	;Skip to PASS2 in all but COMMON.LST
     4				;THIS MODULE ASSEMBLED WITH KL-10 PARAMETER FILE - KLSYM.MAC
     5
     6					IF2,<IFNDEF LISTSN,<		;LIST KLSYM.MAC IN COMMON ONLY
     7								TAPE>>
     8				TITLE CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE
     9
    10					STOPCD(,ENTRY,CTYSIM)^
    11					ENTRY	CTYSIM		;For library searches
    12	000000'	260040	000000*	CTYSIM::PUSHJ	P,DIE		;**** Default stopcode for "CTYSIM" ****
    13	000001'	436471	635155		SIXBIT	/CTYSIM/  	;Title of module
    14	000002'	000000	000000		S$NONAME,,0		;?NONAME stopcode "CTYSIM+nnn(nnnnnn)"
    15			000000'	S$NAME==CTYSIM			;For STOPCDs with no arguments
    16					SALL>
    17				^
    18
    19				IFKMC<	BYP1==^D9	;RIGHTMOST BIT POSITION OF FIRST BYTE
    20					BYP2==^D17	;      SECOND BYTE OF A BUFFER RING WORD
    21					BYP3==^D27	;      THIRD BYTE
    22					BYP4==^D35	;      LAST BYTE POSITION IN A BUF RING WORD
    23					OPDEF	UUILDB	[101000,,0]	;KMC ILDB
    24					OPDEF	UUIDPB	[102000,,0]	;KMC IDPB
    25					DEFINE	TYPI(TYPE)		;FOR LOADING TYPES WITH A
    26					<TYPE_^D8>			;	MOVSI INSTR
    27				>;END IFKMC
    28			000007	IFNKMC<	BYP1==^D7	;RIGHTMOST BIT POSITION OF FIRST BYTE
    29			000017		BYP2==^D15	;      SECOND BYTE OF A BUFFER RING WORD
    30			000027		BYP3==^D23	;      THIRD BYTE
    31			000037		BYP4==^D31	;      LAST BYTE POSITION IN A BUF RING WD
    32					OPDEF	UUILDB	[ILDB 0]	;NORMAL ILDB
    33					OPDEF	UUIDPB	[IDPB 0]	;NORMAL IDPB
    34					DEFINE	TYPI(TYPE)		;FOR LOADING TYPES WITH A
    35					<TYPE_^D10>			;	MOVSI INSTR
    36				>;END IFNKMC
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 2
CTYSIM.MAC	20-SEP-87 13:00		S.MAC - with system parameter file for P035/D, January 1988

    37				;THIS ROUTINE IS LINKED INTO THE CHANNEL 7 CODE TO MAKE
    38				;SURE THAT THE CTY IS STARTED ON OUTPUT
    39
    40	000003'	332000	001014'	CH7LK::	SKIPE	CTYACT		;IS THE CTY ACTUALLY DOING OUTPUT
    41	000004'	254000	000004'		 JRST	.		;YES, CONTINUE DOWN CHAIN (FIXUP DONE LATER)
    42	000005'	202300	001015'		MOVEM	T1,CH7SVT	;A PLACE TO SAVE AN AC
    43	000006'	200300	000000*		MOVE	T1,ORPPDP
    44	000007'	312300	000000*		CAME	T1,ORP620
    45				IFCPU (<KS,KL>),<
    46					JRST	[SETOM CTYSTF	;SET SOFTWARE FLAG FOR "CONSO"
    47						 WRPI LI.REQ+<1B35>_<7-6> ;REQUEST IRP ON CH6
    48	000010'	254000	001053'			 JRST .+1]
    49				>;KSKL
    50				IFCPU (<KI,F3>),<CONO TTY,TT.SOD+6>	;TTY INACTIVE AND OUTPUT RING NON-
    51								;EMPTY. START TTY. CAUSE INTERRUPT
    52	000011'	200300	001015'		MOVE	T1,CH7SVT
    53	000012'	254000	000004'		JRST	CH7LK+1		;AND CONTINUE
    54
    55				;THIS ROUTINE IS LINKED INTO CH6 TO HANDLE TTY INTERUPTS
    56
    57				IFCPU (<KI,F3>),<
    58				CH6LK::	CONSO	TTY,TT.OD!TT.ID	;IS EITHER OUTPUT OR INPUT DONE?
    59					 JRST	.
    60					MOVEM	T4,CTSV+T4	;Save S,P,T1-T4
    61					MOVEI	T4,CTSV
    62					BLT	T4,CTSV+T4-1	;SAVE ACS
    63					MOVE	P,[-20,,RETCTP]	;AND SET PUSHDOWN POINTER
    64					CONSO	TTY,TT.ID	;IS IT INPUT
    65					 JRST	CTYOUT		;NO, HANDLE OUTPUT
    66					DATAI	TTY,T1		;READ
    67					PFALL	CH6LK1
    68				>;END IFCPU (<KI,F3>)
    69
    70				IFCPU (KL),<
    71	000013'	720340	001000	CH6LK::	CONSO	DTE,TO10DB	;DOORBELL FROM -11?
    72	000014'	254000	000014'		 JRST	.		;NO, NEXT  PLEASE.
    73					CONO	DTE,CL11PT	;CLEAR IT NOW SO DON'T MISS ANOTHER (KLDCP DOESNT WAIT FOR IT T
    74	000015'	720200	001000	O CLEAR)
    75	000016'	202440	001031'		MOVEM	T4,CTSV+T4	;SAVE AC'S
    76	000017'	201440	001020'		MOVEI	T4,CTSV
    77	000020'	251440	001030'		BLT	T4,CTSV+T4-1
    78	000021'	200040	001056'		MOVE	P,[-20,,RETCTP]
    79	000022'	400300	000000		SETZ	T1,		;NOW CHECK FOR INPUT
    80	000023'	250300	000456*		EXCH	T1,EPT+SPCMTI
    81	000024'	322300	000030'		JUMPE	T1,CH6LK0	;NO INPUT, TRY OUTPUT
    82	000025'	200300	000450*		MOVE	T1,EPT+SPCF11	;PICK UP INPUT CHAR
    83	000026'	405300	000377		ANDI	T1,377
    84	000027'	260040	000033'		PUSHJ	P,CH6LK1	;DO INPUT PROCESSING
    85	000030'	332300	000455*	CH6LK0:	SKIPE	T1,EPT+SPCMTD	;OUTPUT DONE?
    86	000031'	254000	000223'		 JRST	CTYOUT		;GO IF YES
    87	000032'	263040	000000		POPJ	P,		;ELSE RETURN.
    88				>;END IFCPU (KL)
    89
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 2-2
CTYSIM.MAC	20-SEP-87 13:00		S.MAC - with system parameter file for P035/D, January 1988

    90				IFCPU (KS),<
    91				CH6LK::	SKIPN	CTYINF		;DID FRONT END INTERRUPT?
    92					 JRST	.		;NO,NEXT PLEASE
    93					WRPI	LI.CPP+<1B35>_<7-6>	;CLEAR INTERRUPT ON CHANNEL 6
    94					MOVEM	T4,CTSV+T4	;SAVE ACS
    95					MOVEI	T4,CTSV
    96					BLT	T4,CTSV+T4-1
    97					MOVE	P,[-20,,RETCTP]	;AND SET PUSH DOWN POINTER
    98					SETZM	CTYINF		;CLEAR SOFTWARE FLAG
    99					SETZ	T1,
   100					EXCH	T1,CTYIWD##	;SEE IF ANY INPUT
   101					TRNN	T1,CTYIVL	;SKIP IF VALID CHAR
   102					 JRST	CH6LK0		;IF NOT GO CHECK FOR VALID OUTPUT
   103					ANDI	T1,CTYICH	;GET CHAR ONLY
   104					PUSHJ	P,CH6LK1	;DO INPUT PROCESSING
   105				CH6LK0:	SKIPN	T1,CTYOWD##	;CHECK IF OUTPUT DONE
   106					 JRST	CTYOUT		;YES,GO CHECK FOR MORE OUTPUT
   107					POPJ	P,
   108				
   109				CTYINF::0			;CTY INTERRUPT FLAG
   110				>;END IFCPU (KS)
   111
   112	000033'	332000	001007'	CH6LK1:	SKIPE	CTLZFL		;IS THIS THE CHR AFTER ^Z
   113	000034'	254000	000105'		 JRST	CTLZH		;YES, SPECIAL ACTION
   114	000035'	302300	000032		CAIE	T1,"Z"-100	;IS IT ^Z
   115	000036'	306300	000232		CAIN	T1,"Z"-100+200	;OTHER PARITY CONTROL Z
   116	000037'	254000	000133'		 JRST	CTLZN		;YES
   117	000040'	336000	001004'	NRMCH:	SKIPN	NOWIN		;IS THIS PORT LOGGED IN
   118	000041'	263040	000000		 POPJ	P,		;NO, RETURN
   119	000042'	201240	000000*		MOVEI	U,CTYLDB##	;ALWAYS PORT 0
   120	000043'	135340	000000*		LDB	T2,LDSRXE##	;ENABLED FOR REVERSE XON?
   121	000044'	322340	000053'		JUMPE	T2,NRMCH1	;JUMP IF NOT.
   122	000045'	200340	000006		MOVE	T2,T1		;YES, MUST CHECK FOR ^Q OR ^S
   123	000046'	405340	000177		ANDI	T2,177
   124	000047'	306340	000021		CAIN	T2,"Q"-100
   125	000050'	254000	000171'		 JRST	BKPOFF
   126	000051'	306340	000023		CAIN	T2,"S"-100
   127	000052'	254000	000200'		 JRST	BKPON
   128	000053'	205340	402040	NRMCH1:	MOVSI	T2,(BYTE (8)201,10)
   129	000054'	137300	001057'		DPB	T1,[POINT 8,T2,23]	;PUT IN THE CHR
   130	000055'	260040	000207'		PUSHJ	P,DEPO		;STORE IN INPUT RING
   131	000056'	263040	000000		  POPJ	P,		;COULD NOT STORE, IGNORE
   132	000057'	263040	000000		POPJ	P,		;FINISHED WITH INTERUPT
   133
   134				IFCPU (<KS,KL>),<
   135	000060'	336000	000071'	CH6KST::SKIPN	CTYSTF		;CH7 WANT US TO LOOK AT OUTPUT RING?
   136	000061'	254000	000061'		 JRST	.		;NO.
   137	000062'	700600	020002		WRPI	LI.CPP+<1B35>_<7-6> ;YES. CLEAR PROGRAM REQUEST
   138	000063'	402000	000071'		SETZM	CTYSTF		;AND SOFTWARE FLAG
   139	000064'	202440	001031'		MOVEM	T4,CTSV+T4	;SAVE T4
   140	000065'	201440	001020'		MOVEI	T4,CTSV
   141	000066'	251440	001030'		BLT	T4,CTSV+T4-1
   142	000067'	200040	001056'		MOVE	P,[-20,,RETCTP]
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 2-3
CTYSIM.MAC	20-SEP-87 13:00		S.MAC - with system parameter file for P035/D, January 1988

   143	000070'	254000	000223'		JRST	CTYOUT		;GO DO OUTPUT RING PROCESSING.
   144
   145	000071'	000000	000000	CTYSTF:0
   146				>;END IFCPU (<KS,KL>)
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 3
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   147				SUBTTL	Special input from the CTY routines
   148
   149	000072'	332000	001006'	CTYINP::SKIPE	CTYDO		;If CTY is a normal port
   150	000073'	263040	000000		 POPJ	P,		; then let CTLZH do the checking
   151				IFCPU (<KI,F3>),<
   152					CONSO	TTY,TT.ID	;KI,KA,F3 - test for input done
   153					 POPJ	P,		;Nothing there
   154					DATAI	TTY,T3
   155				>
   156				IFCPU (KL),<
   157	000074'	400400	000000		SETZ	T3,		;Check for secondary protocol input
   158	000075'	250400	000456*		EXCH	T3,EPT+SPCMTI	;Get flag and zero it
   159	000076'	322400	000000*		JUMPE	T3,CPOPJ	;Nothing there
   160	000077'	200400	000450*		MOVE	T3,EPT+SPCF11	;Pick up input character
   161				>
   162				IFCPU (KS),<
   163					SETZ	T3,		;KS test for input
   164					EXCH	T3,CTYIWD	;Get character and zero it
   165					TRNN	T3,CTYIVL	;Check if input valid is set
   166					 POPJ	P,		;Nothing there
   167				>
   168	000100'	405400	000377		ANDI	T3,377		;8 bits of character
   169	000101'	302400	000032		CAIE	T3,"Z"-100	;Check for Control-Z when not in CONSOLE mode
   170	000102'	306400	000232		CAIN	T3,"Z"-100+200	;Either parity
   171	000103'	254000	000111'		 JRST	CTYBRK		;Go to the break point
   172	000104'	254000	000000*		JRST	CPOPJ1		;Got a character in T3
   173
   174				;Control-Z handler (when in CONSOLE mode)
   175
   176	000105'	405300	000177	CTLZH:	ANDI	T1,177		;Get the character that followed ^Z
   177	000106'	402000	001007'		SETZM	CTLZFL
   178	000107'	302300	000142		CAIE	T1,"b"		; accept upper and lower case!
   179	000110'	306300	000102		CAIN	T1,"B"
   180	000111'	263040	000000	CTYBRK::  POPJ	P,		;Use 1^B in EDDT to set breakpoint here
   181	000112'	306300	000077		CAIN	T1,"?"		; needs help?
   182					 JRST	[MOVE T1,[POINT 7,[ASCIZ /
   183				
   184				CTYSIM commands (prefix with CTRL-Z)
   185				
   186				    ?   This message
   187				    B   Break-point
   188				    H   Hangup
   189				    L   Login
   190				    O   Toggle ^O
   191				    1   Set fill
   192				
   193				/]]
   194						MOVEM	T1,STRFLG
   195	000113'	254000	001121'			PJRST	CTYOUT]
   196	000114'	302300	000157		CAIE	T1,"o"
   197	000115'	306300	000117		CAIN	T1,"O"
   198					 PJRST	[SETCMM CTLOFG
   199	000116'	324740	001124'			POPJ P,]
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 3-2
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   200	000117'	302300	000154		CAIE	T1,"l"
   201	000120'	306300	000114		CAIN	T1,"L"
   202	000121'	324740	000140'		 PJRST	LOGIN		;SIMULATE A LOGIN
   203	000122'	302300	000150		CAIE	T1,"h"
   204	000123'	306300	000110		CAIN	T1,"H"
   205	000124'	324740	000164'		 PJRST	HNGUP		;SIMULATE A HANGUP
   206	000125'	301300	000060		CAIL	T1,"0"
   207	000126'	303300	000071		CAILE	T1,"9"
   208	000127'	324740	000040'		 PJRST	NRMCH		;JUST INPUT CHR
   209	000130'	275300	000060		SUBI	T1,"0"
   210	000131'	202300	001017'		MOVEM	T1,CTYFIL	;USE FOR FILL
   211	000132'	263040	000000		POPJ	P,
   212
   213	000133'	476000	001007'	CTLZN:	SETOM	CTLZFL		;JUST SET FLAG
   214	000134'	263040	000000		POPJ	P,
   215
   216	000135'	205440	001020'	RETCT:	MOVSI	T4,CTSV
   217	000136'	251440	000011		BLT	T4,T4
   218	000137'	254000	000014'		JRST	CH6LK+1		;THIS IS THE INTERUPT DISMISS
   219
   220	000140'	332000	001004'	LOGIN:	SKIPE	NOWIN		;IS IT ALREADY LOGGED IN?
   221	000141'	263040	000000		 POPJ	P,		;YES, IGNORE
   222	000142'	205340	014040		MOVSI	T2,(BYTE (8) 6,10)	; LOGIN TO PORT 10
   223	000143'	200300	000000*		MOVE	T1,SYSNUM##	;Our host number
   224	000144'	242300	000004		LSH	T1,4		;Put in 3rd and 4th byte position
   225	000145'	434340	000006		IOR	T2,T1
   226	000146'	260040	000207'		PUSHJ	P,DEPO
   227	000147'	256000	000000'		 STOPCD
   228	000150'	200340	001126'		MOVE	T2,[BYTE (8)204,10,14,00]	; TIC = 14
   229	000151'	550300	000000*		HRRZ	T1,.CPLOG##	;Get base node number
   230	000152'	242300	777776		LSH	T1,4-6		;High order 6 bits
   231	000153'	434340	000006		IOR	T2,T1
   232	000154'	260040	000207'		PUSHJ	P,DEPO
   233	000155'	256000	000000'		 STOPCD
   234	000156'	135340	001127'		LDB	T2,[POINT 6,.CPLOG##,35]
   235	000157'	242340	000034		LSH	T2,^D<3*8+4>	;Low 6 bits of node number, line 0
   236	000160'	260040	000207'		PUSHJ	P,DEPO
   237	000161'	256000	000000'		 STOPCD
   238	000162'	476000	001004'		SETOM	NOWIN		;NOW ITS IN
   239	000163'	263040	000000		POPJ	P,
   240
   241	000164'	205340	026040	HNGUP:	MOVSI	T2,(BYTE (8) 13,10)
   242	000165'	332000	001004'		SKIPE	NOWIN		;IGNORE IF NOT LOGGED IN
   243	000166'	260040	000207'		 PUSHJ	P,DEPO		;ELSE TRY TO PUT IN INPUT RING
   244	000167'	255000	000000		  JFCL
   245	000170'	263040	000000		POPJ	P,
   246
   247	000171'	336000	001005'	BKPOFF:	SKIPN	BKPFLG		;IF ALREADY OFF,
   248	000172'	254000	000053'		 JRST	NRMCH1		;TREAT AS NORMAL CHAR.
   249	000173'	205340	022040		MOVSI	T2,(BYTE (8)11,10)
   250	000174'	260040	000207'		PUSHJ	P,DEPO
   251	000175'	263040	000000		  POPJ	P,		;DIDN'T TAKE.
   252	000176'	402000	001005'		SETZM	BKPFLG		;OK, TELL OUTPUT ROUTINE OK TO START AGAIN.
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 3-3
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   253	000177'	324740	000223'		PJRST	CTYOUT		;GET OUTPUT STARTED AGAIN IF IN PROGRESS.
   254
   255	000200'	332000	001005'	BKPON:	SKIPE	BKPFLG		;IF ALREADY ON,
   256	000201'	254000	000053'		 JRST	NRMCH1		;TREAT AS NORMAL CHAR.
   257	000202'	205340	020040		MOVSI	T2,(BYTE (8)10,10)
   258	000203'	260040	000207'		PUSHJ	P,DEPO
   259	000204'	263040	000000		  POPJ	P,		;DIDN'T WORK
   260	000205'	476000	001005'		SETOM	BKPFLG		;TELL OUTPUT ROUTINE TO STOP
   261	000206'	263040	000000		POPJ	P,		;OK.
   262
   263	000207'	200400	000000*	DEPO:	MOVE	T3,IRP620
   264	000210'	271400	000001	DEPOC:	ADDI	T3,1
   265	000211'	405400	000000*		ANDI	T3,MSKIRG	;WE ENTER AT DEPOC WITH T3 SET
   266	000212'	316400	000207*		CAMN	T3,IRP620	;RING IS FULL IF SAME
   267	000213'	263040	000000		 POPJ	P,		;NON-SKIP RETURN IF FULL
   268				IFKMC<
   269					LSH	T2,-2		;SHIFT RIGHT 2
   270					HRRZ	T3,T2		;T3 = RIGHT HALF
   271					LSH	T3,-2		;SHIFT RIGHT HALF RIGHT 2 MORE BITS
   272					HRR	T2,T3		;T2 GETS NEW RIGHT HALF
   273				>;END IFKMC
   274	000214'	200400	000212*		MOVE	T3,IRP620
   275	000215'	202350	000000*		MOVEM	T2,IRING(T3)
   276	000216'	271400	000001		ADDI	T3,1
   277	000217'	405400	000211*		ANDI	T3,MSKIRG
   278	000220'	202400	000214*		MOVEM	T3,IRP620
   279	000221'	350001	000000		AOS	(P)
   280	000222'	263040	000000		POPJ	P,
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 4
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   281				;Read from SCNSER's ORING and send to the CTY
   282	000223'	332000	001011'	CTYOUT:	SKIPE	STRFLG		;In the middle of a string?
   283	000224'	254000	000305'		 JRST	STRFIL
   284	000225'	332000	001012'		SKIPE	CTOPNT		;ARE WE PROCESSING A STRING OF CHRS?
   285	000226'	254000	000253'		 JRST	OSTCNT		;YES
   286	000227'	200440	000007*		MOVE	T4,ORP620	;GET OUTPUT RING POINTER
   287	000230'	405440	000000*	CTOLP:	ANDI	T4,MSKORG	;THIS IS THE CONTINUE POINT
   288	000231'	316440	000006*		CAMN	T4,ORPPDP
   289	000232'	254000	000275'		 JRST	CTDNO		;OUTPUT IS DONE, RING EMPTY
   290	000233'	135300	001130'		LDB	T1,[POINT 8,ORING(T4),BYP1]	;GET TYPE
   291	000234'	307300	000043		CAIG	T1,SZODS	;SEE IF A DISPATCH TYPE
   292	000235'	256006	000323'		 XCT	CTOSPC(T1)	;YES, EXECUTE ON TYPE
   293	000236'	626300	000200		TRZN	T1,200		;SHOULD BE A DATA TYPE THEN
   294	000237'	256000	001131'	CTYBMT:: STOPCD (.,STOP,CTYBMT,PRTIRG##,<Bad message type to CTY>)
   295	000240'	135340	001135'		LDB	T2,[POINT 8,ORING(T4),BYP2]
   296	000241'	302340	000010		CAIE	T2,10
   297	000242'	254000	000576'		 JRST	SKPSTR		;NOT FOR US, SKIP THIS STRING
   298	000243'	332000	001010'		SKIPE	CTLOFG
   299	000244'	254000	000637'		 JRST	SKPST2		;IGNORE STRING
   300	000245'	202300	001013'		MOVEM	T1,CTOCNT
   301	000246'	201311	000000*		MOVEI	T1,ORING(T4)
   302	000247'	505300	241000		HRLI	T1,(POINT 8,0,BYP2)
   303	000250'	202300	001012'		MOVEM	T1,CTOPNT	;SET UP THE POINTER
   304	000251'	476000	001014'		SETOM	CTYACT		;SET ACTIVE
   305	000252'	254000	000261'		JRST	CTYSTR		;AND GO
   306
   307	000253'	332000	001005'	OSTCNT:	SKIPE	BKPFLG		;IF REVERSE BACKPRESSURE IS ON,
   308	000254'	263040	000000		 POPJ	P,		;JUST FORGET IT TILL ITS TAKEN OFF.
   309	000255'	332000	001016'		SKIPE	CTYRFL
   310	000256'	254000	000301'		 JRST	OSTFIL		;SEND FILL CHRS
   311	000257'	377000	001013'		SOSG	CTOCNT
   312	000260'	254000	000271'		 JRST	STRDON		;FINISHED IF OUT OF COUNT
   313	000261'	134300	001012'	CTYSTR:	UUILDB	T1,CTOPNT	;ENTER HERE TO START
   314	000262'	260040	000314'	CTYCH1:	PUSHJ	P,SPCOUT
   315	000263'	405300	000177		ANDI	T1,177
   316	000264'	306300	000015		CAIN	T1,15		;IS IT RETURN
   317	000265'	336300	001017'		SKIPN	T1,CTYFIL	;AND IS THERE A FILL NUMBER SET?
   318	000266'	263040	000000		 POPJ	P,		;FINISHED. (IGNORE CR DELAY)
   319	000267'	202300	001016'		MOVEM	T1,CTYRFL	;YES, SET UP
   320	000270'	263040	000000		POPJ	P,
   321
   322	000271'	550440	001012'	STRDON:	HRRZ	T4,CTOPNT
   323	000272'	275440	000246*		SUBI	T4,ORING
   324	000273'	402000	001012'		SETZM	CTOPNT		;CLEAR THE POINTER
   325	000274'	344440	000230'	SKT3:	AOJA	T4,CTOLP	;CONTINUE
   326
   327	000275'	202440	000227*	CTDNO:	MOVEM	T4,ORP620	;PUT IT BACK
   328				IFCPU (<KI,F3>),<CONO TTY,TT.COD+6>	;CLEAR OUTPUT DONE INTERUPT
   329	000276'	402000	001014'		SETZM	CTYACT
   330	000277'	402000	001010'		SETZM	CTLOFG
   331	000300'	263040	000000		POPJ	P,		;NOT ACTIVE AND DONE
   332
   333	000301'	370000	001016'	OSTFIL:	SOS	CTYRFL		;FOR NEXT TIME
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 4-2
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   334	000302'	201300	000377		MOVEI	T1,377
   335	000303'	260040	000314'		PUSHJ	P,SPCOUT
   336	000304'	263040	000000		POPJ	P,
   337
   338	000305'	332000	001016'	STRFIL:	SKIPE	CTYRFL		;ARE THERE FILL CHRS TO DO
   339	000306'00	000301'		 JRST	OSTFIL		;YES
   340	000307'	134300	001011'		ILDB	T1,STRFLG	;GET CHR
   341	000310'	476000	001014'		SETOM	CTYACT
   342	000311'	326300	000262'		JUMPN	T1,CTYCH1	;AND GO
   343	000312'	402000	001011'		SETZM	STRFLG		;FINISHED
   344	000313'	324740	000223'		PJRST	CTYOUT
   345
   346	000314'	261040	000010	SPCOUT:	PUSH	P,T3		;Routine to output character in T1 to CTY
   347	000315'	200400	000006		MOVE	T3,T1		;SCNSER wants char in T3
   348	000316'	260040	000000*		PUSHJ	P,CTYCHR##	;Output to the CTY
   349	000317'	200400	000000*		MOVE	T3,JFYSC2##	;Tell OPRCTY to not output messages
   350	000320'	202400	000000*		MOVEM	T3,OPRTIC##	; for 1/2 second after this char goes out
   351	000321'	262040	000010		POP	P,T3
   352	000322'	263040	000000		POPJ	P,
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 5
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   353				SUBTTL	CTYSIM Dispatch table for messages SCNSER put into the ORING
   354	000323'	256000	000237'	CTOSPC:  STOPCD (,XCT,CTYBMT)
   355					; 0 Illegal
   356	000324'	344440	000230'		AOJA	T4,CTOLP	; 1 Open
   357	000325'	344440	000230'		AOJA	T4,CTOLP	; 2 Shut
   358	000326'	344440	000230'		AOJA	T4,CTOLP	; 3 Reset interface
   359	000327'	344440	000230'		AOJA	T4,CTOLP	; 4 Reset acknowlege
   360	000330'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   361					; 5 (supervisor takeover)
   362	000331'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   363					; 6 (login from network)
   364	000332'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   365					; 7 (aux circuit complete)
   366	000333'	254000	000644'		JRST	BAKTRN		;10 Backpressure on
   367	000334'	254000	000644'		JRST	BAKTRN		;11 Backpressure off
   368	000335'	254000	000702'		JRST	GOBTRN		;12 Character gobbler
   369	000336'	254000	000663'		JRST	ZAPTRN		;13 Circuit zapper
   370	000337'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   371					;14 Enter deferred echo mode
   372	000340'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   373					;15 Leave deferred echo mode
   374	000341'	344440	000230'		AOJA	T4,CTOLP	;16 Green ball
   375	000342'	344440	000230'		AOJA	T4,CTOLP	;17 Red ball
   376	000343'	254000	000657'		JRST	YELTRN		;20 Yellow ball
   377	000344'	254000	000706'		JRST	ORGTRN		;21 Orange ball
   378	000345'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   379					;22 Hang character
   380	000346'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   381					;23 (enter transparency mode)
   382	000347'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   383					;24 (leave transparency mode)
   384	000350'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   385					;25 (gray ball / black ball)
   386	000351'	254000	000410'		JRST	SUPINI		;26 Supervisor request
   387	000352'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   388					;27 (supervisor response)
   389	000353'	254000	000426'		JRST	SUPCHR		;30 Character to supervisor
   390	000354'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   391					;31 Test pattern to base
   392	000355'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   393					;32 (test pattern response)
   394	000356'	344440	000274'		AOJA	T4,SKT3		;33 Host sad (2 words)
   395	000357'	344440	000230'		AOJA	T4,CTOLP	;34 Echo on
   396	000360'	344440	000230'		AOJA	T4,CTOLP	;35 Echo off
   397	000361'	344440	000230'		AOJA	T4,CTOLP	;36 Set terminal characteristics
   398	000362'	344440	000230'		AOJA	T4,CTOLP	;37 Terminal characteristics probe
   399	000363'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   400					;40 (terminal characteristics response)
   401	000364'	344440	000230'		AOJA	T4,CTOLP	;41 Set host and number of ports
   402	000365'	344440	000230'		AOJA	T4,CTOLP	;42 Request clock from supervisor
   403	000366'	256000	000237'		 STOPCD (,XCT,CTYBMT)
   404					;43 (clock response from supervistor)
   405				REPEAT 0,<;Code not yet finished, in both CTYSIM and DZKON.
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 5-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   406					JRST	P.IBMO	;44 Initiate block mode output
   407					STOPCD		;45 Block mode output complete
   408					JRST	P.IBMI	;46 Initiate block mode input
   409					STOPCD		;47 Block mode input terminated--out of buffer space
   410					STOPCD		;50 Block mode input terminated--end of transmission
   411					STOPCD		;51 Block mode input terminated--timeout by base
   412					JRST	P.RBIT	;52 Request block mode input termination
   413					STOPCD		;53 Block mode input terminated by host request
   414					JRST	P.RBOT	;54 Request block mode output termination
   415					STOPCD		;55 Block mode output terminated by host request
   416					JRST	P.NBIP	;56 Negotiate for number of block I/O ports
   417				>;REPEAT 0,
   418			000043	SZODS==.-CTOSPC-1
   419
   420	000367'	135300	001135'	ZAPCIR:	LDB	T1,[POINT 8,ORING(T4),BYP2]	;GET PORT
   421	000370'	302300	000010		CAIE	T1,10
   422	000371'	344440	000230'		 AOJA	T4,CTOLP	;FORGET IT
   423					MOVE	T1,[POINT 7,[ASCIZ /
   424	000372'	200300	001142'	please log in:  /]]
   425	000373'	202300	001011'		MOVEM	T1,STRFLG
   426	000374'	271440	000001		ADDI	T4,1		;TO SKIP THE ZAPPER
   427	000375'	405440	000230*		ANDI	T4,MSKORG
   428	000376'	202440	000275*		MOVEM	T4,ORP620
   429	000377'	402000	001004'		SETZM	NOWIN
   430	000400'	324740	000223'		PJRST	CTYOUT		;GO
   431
   432					;GET ORING WORD IN NON-KMC FORMAT TO T2
   433	000401'	200351	000272*	GORING:	MOVE	T2,ORING(T4)	;T2 <- NEXT WORD IN ORING
   434				IFKMC<
   435					LSH	T2,2		;SHIFT LEFT 2
   436					HLL	T2,ORING(T4)	;LAY IN THE LEFT HALF AGAIN
   437					LSH	T2,2		;NOW T2 LOOKS LIKE KL's ORING WORD
   438				>;END IFKMC
   439	000402'	263040	000000		POPJ	P,
   440
   441	000403'	260040	000401'	RSPORG:	PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   442	000404'	661340	002000		TLO	T2,(BYTE (8) 1)
   443	000405'	260040	000207'	RSPOUT:	PUSHJ	P,DEPO		;CONVERT TO ORANGE AND RET
   444	000406'	344440	000230'		  AOJA	T4,CTOLP
   445	000407'	344440	000230'		AOJA	T4,CTOLP
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 6
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   446				;Fake AUX circuit
   447	000410'	332000	000775'	SUPINI:	SKIPE	AXINP		;IS BUILDING ALREADY IN PROGRESS?
   448	000411'	254000	000423'		  JRST	SUPBAD		;YES, SEND ERROR
   449	000412'	476000	000775'		SETOM	AXINP		;YES, SET IT
   450	000413'	200300	001143'		MOVE	T1,[POINT 7,AXSTR]
   451	000414'	202300	000776'		MOVEM	T1,AXSTRP	;POINTER FOR STRING
   452	000415'	201300	000014		MOVEI	T1,^D12
   453	000416'	202300	001002'		MOVEM	T1,AXCNT	;COUNT FOR USER NAME
   454	000417'	476000	001003'		SETOM	AXNUM		;NOT GETTING SYSTEM NUMBER YET
   455	000420'	260040	000401'		PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   456	000421'	661340	002000		TLO	T2,(BYTE (8) 1)	;TURN IT INTO GOOD RESPONSE
   457	000422'	254000	000405'		JRST	RSPOUT
   458
   459	000423'	260040	000401'	SUPBAD:	PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   460	000424'	670340	001144'		TDO	T2,[BYTE (8) 1,0,1]
   461	000425'	254000	000405'		JRST	RSPOUT		;TURN IT INTO AN ERROR
   462
   463	000426'	135300	001145'	SUPCHR:	LDB	T1,[POINT 7,ORING(T4),BYP3]	;GET CHR
   464	000427'	302300	000015		CAIE	T1,15
   465	000430'	306300	000073		CAIN	T1,";"
   466	000431'	254000	000453'		 JRST	SUPFIN		;FINISH UP
   467	000432'	331000	001003'		SKIPL	AXNUM
   468	000433'	254000	000443'		 JRST	SUPNUM		;GETTING SYSEM NUMBER
   469	000434'	306300	000072		CAIN	T1,":"
   470	000435'	254000	000441'		 JRST	SUPSYS		;STARTING SYSTEM NUMBER
   471	000436'	371000	001002'		SOSL	AXCNT
   472	000437'	136300	000776'		IDPB	T1,AXSTRP	;SAVE PART OF USER NAME IF ROOM
   473	000440'	344440	000230'		AOJA	T4,CTOLP
   474
   475	000441'	402000	001003'	SUPSYS:	SETZM	AXNUM
   476	000442'	344440	000230'		AOJA	T4,CTOLP
   477
   478	000443'	307300	000071	SUPNUM:	CAIG	T1,"9"
   479	000444'	305300	000060		CAIGE	T1,"0"
   480	000445'	344440	000230'		 AOJA	T4,CTOLP	;IGNORE STRANGE CHR
   481	000446'	200340	001003'		MOVE	T2,AXNUM
   482	000447'	221340	000012		IMULI	T2,^D10
   483	000450'	271346	777720		ADDI	T2,-"0"(T1)
   484	000451'	202340	001003'		MOVEM	T2,AXNUM
   485	000452'	344440	000230'		AOJA	T4,CTOLP
   486
   487	000453'	135300	001146'	SUPFIN:	LDB	T1,[POINT 7,CONFIG##,13]
   488	000454'	135340	001147'		LDB	T2,[POINT 7,CONFIG##,20] ;GET THIS SYSTEM NUMBER
   489	000455'	275300	000060		SUBI	T1,"0"
   490	000456'	221300	000012		IMULI	T1,^D10
   491	000457'	271307	777720		ADDI	T1,-"0"(T2)
   492	000460'	312300	001003'		CAME	T1,AXNUM
   493	000461'	254000	000552'		 JRST	SUPSYW		;WRONG SYSTEM
   494	000462'	201300	000015		MOVEI	T1,^D13
   495	000463'	274300	001002'		SUB	T1,AXCNT
   496	000464'	242300	777777		LSH	T1,-1
   497	000465'	271300	000005		ADDI	T1,5		;GET SPACE IN INPUT RING REQUIRED
   498	000466'	260040	000566'		PUSHJ	P,ISZCK		;CHECK SIZE
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 6-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   499	000467'	254000	000275'		 JRST	CTDNO		;NO, SAY FINISHED, WILL REENTER
   500	000470'	201300	000000		MOVEI	T1,0
   501	000471'	136300	000776'		IDPB	T1,AXSTRP
   502	000472'	260040	000561'		PUSHJ	P,GETPRT	;GET A PORT NUMBER
   503	000473'	254000	000552'		 JRST	SUPSYW		;CAN NOT, SAY SYSTEM UNAVAIL
   504	000474'	201406	000011		MOVEI	T3,11(T1)
   505	000475'	261040	000010		PUSH	P,T3
   506	000476'	260040	000564'		PUSHJ	P,GETPRC	;AND ANOTHER
   507	000477'	254000	000551'		 JRST	SUPSWP		;CAN NOT GET 2
   508	000500'	201306	000011		MOVEI	T1,11(T1)
   509	000501'	262040	000010		POP	P,T3
   510	000502'	202406	000724'		MOVEM	T3,PTRNTB-11(T1)
   511	000503'	202310	000724'		MOVEM	T1,PTRNTB-11(T3)
   512	000504'	205340	016000		MOVSI	T2,(BYTE (8) 7)
   513	000505'	137400	001150'		DPB	T3,[POINT 8,T2,15]
   514	000506'	135400	001135'		LDB	T3,[POINT 8,ORING(T4),BYP2]	;GET PORT OF REQUESTER
   515	000507'	137400	001057'		DPB	T3,[POINT 8,T2,23]	;AND PUT IN PORT REQUEST
   516	000510'	260040	000207'		PUSHJ	P,DEPO			;SAY WHICH PORT
   517	000511'	256000	000000'		  STOPCD
   518	000512'	205340	056000		MOVSI	T2,(BYTE (8) 27)
   519	000513'	135400	001135'		LDB	T3,[POINT 8,ORING(T4),BYP2]
   520	000514'	137400	001150'		DPB	T3,[POINT 8,T2,15]
   521	000515'	260040	000207'		PUSHJ	P,DEPO			;AND NO ERROR
   522	000516'	256000	000000'		  STOPCD
   523	000517'	205340	014000		MOVSI	T2,(BYTE (8) 6)
   524	000520'	137300	001150'		DPB	T1,[POINT 8,T2,15]	;NOW LOG IN NEW PORT
   525	000521'	260040	000207'		PUSHJ	P,DEPO
   526	000522'	256000	000000'		  STOPCD
   527	000523'	205340	404000		MOVSI	T2,(BYTE (8) 202)
   528	000524'	137300	001150'		DPB	T1,[POINT 8,T2,15]
   529	000525'	260040	000207'		PUSHJ	P,DEPO
   530	000526'	256000	000000'		  STOPCD
   531	000527'	260040	000207'		PUSHJ	P,DEPO
   532	000530'	256000	000000'		  STOPCD
   533	000531'	200400	001143'		MOVE	T3,[POINT 7,AXSTR]
   534	000532'	202400	000776'		MOVEM	T3,AXSTRP
   535	000533'	134400	000776'	STRLP:	ILDB	T3,AXSTRP
   536	000534'	322400	000547'		JUMPE	T3,STRLP2
   537	000535'	137400	001057'		DPB	T3,[POINT 8,T2,23]
   538	000536'	134400	000776'		ILDB	T3,AXSTRP
   539	000537'	322400	000544'		JUMPE	T3,STRLP3
   540	000540'	137400	001151'		DPB	T3,[POINT 8,T2,31]
   541	000541'	260040	000207'		PUSHJ	P,DEPO
   542	000542'	256000	000000'		  STOPCD
   543	000543'	254000	000533'		JRST	STRLP
   544
   545	000544'	641340	006000	STRLP3:	TLC	T2,(BYTE (8) 3)	;CHANGE TO 1 CHR
   546	000545'	260040	000207'		PUSHJ	P,DEPO
   547	000546'	256000	000000'		  STOPCD
   548	000547'	402000	000775'	STRLP2:	SETZM	AXINP
   549	000550'	344440	000230'		AOJA	T4,CTOLP
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 7
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   550	000551'	262040	000010	SUPSWP:	POP	P,T3
   551	000552'	135300	001135'	SUPSYW:	LDB	T1,[POINT 8,ORING(T4),BYP2]
   552	000553'	200340	001152'		MOVE	T2,[BYTE (8) 27,0,4]
   553	000554'	137300	001150'		DPB	T1,[POINT 8,T2,15]
   554	000555'	260040	000207'		PUSHJ	P,DEPO
   555	000556'	254000	000275'		  JRST	CTDNO
   556	000557'	402000	000775'		SETZM	AXINP
   557	000560'	344440	000230'		AOJA	T4,CTOLP
   558
   559	000561'	205300	777740	GETPRT:	MOVSI	T1,-40
   560	000562'	336006	000735'		SKIPN	PTRNTB(T1)
   561	000563'	254000	000104*		 JRST	CPOPJ1
   562	000564'	253300	000562'	GETPRC:	AOBJN	T1,.-2
   563	000565'	263040	000000		POPJ	P,
   564
   565	000566'	200340	000000*	ISZCK:	MOVE	T2,IRPPDP
   566	000567'	274340	000220*		SUB	T2,IRP620
   567	000570'	362340	000076*		SOJE	T2,CPOPJ	;NOT ENOUGH ROOM (0)
   568	000571'	335000	000007		SKIPGE	T2
   569	000572'	271340	000001*		 ADDI	T2,MSKIRG+1
   570	000573'	311340	000006		CAML	T2,T1
   571	000574'	350001	000000		 AOS	(P)
   572	000575'	263040	000000		POPJ	P,
   573
   574	000576'	301340	000010	SKPSTR:	CAIL	T2,10
   575	000577'	303340	000050		CAILE	T2,50
   576	000600'	254000	000637'		 JRST	SKPST2		;REALLY SKIP IT
   577	000601'	336007	000724'		SKIPN	PTRNTB-11(T2)
   578	000602'	254000	000637'		 JRST	SKPST2		;PORT NOT IN USE
   579
   580	000603'	202300	001013'		MOVEM	T1,CTOCNT
   581	000604'	201311	000401*		MOVEI	T1,ORING(T4)
   582	000605'	505300	241000		HRLI	T1,(POINT 8,0,BYP2)
   583	000606'	202300	001012'		MOVEM	T1,CTOPNT
   584	000607'	200300	001013'		MOVE	T1,CTOCNT
   585	000610'	271300	000001		ADDI	T1,1
   586	000611'	242300	777777		LSH	T1,-1
   587	000612'	260040	000566'		PUSHJ	P,ISZCK
   588	000613'	254000	000275'		  JRST	CTDNO
   589	000614'	135300	001135'		LDB	T1,[POINT 8,ORING(T4),BYP2]
   590	000615'	200306	000724'		MOVE	T1,PTRNTB-11(T1)
   591	000616'	205340	404000		MOVSI	T2,(BYTE (8) 202)
   592	000617'	137300	001150'		DPB	T1,[POINT 8,T2,15]
   593	000620'	375000	001013'	ATRLP:	SOSGE	CTOCNT
   594	000621'	254000	000636'		 JRST	ATRLP1
   595	000622'	134300	001012'		UUILDB	T1,CTOPNT
   596	000623'	137300	001057'		DPB	T1,[POINT 8,T2,23]
   597	000624'	375000	001013'		SOSGE	CTOCNT
   598	000625'	254000	000633'		 JRST	ATRLP2
   599	000626'	134300	001012'		UUILDB	T1,CTOPNT
   600	000627'	137300	001151'		DPB	T1,[POINT 8,T2,31]
   601	000630'	260040	000207'		PUSHJ	P,DEPO
   602	000631'	256000	000000'		  STOPCD
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 7-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   603	000632'	254000	000620'		JRST	ATRLP
   604
   605	000633'	641340	006000	ATRLP2:	TLC	T2,(BYTE (8) 3)
   606	000634'	260040	000207'		PUSHJ	P,DEPO
   607	000635'	256000	000000'		  STOPCD
   608	000636'	254000	000271'	ATRLP1:	JRST	STRDON
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 8
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   609	000637'	275300	000002	SKPST2:	SUBI	T1,2
   610	000640'	361300	000274'		SOJL	T1,SKT3
   611	000641'	242300	777776		LSH	T1,-2
   612	000642'	270440	000006		ADD	T4,T1
   613	000643'	344440	000274'		AOJA	T4,SKT3
   614
   615	000644'	260040	000401'	BAKTRN:	PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   616	000645'	135300	001150'		LDB	T1,[POINT 8,T2,15]
   617	000646'	303300	000010		CAILE	T1,10
   618	000647'	303300	000050		CAILE	T1,50
   619	000650'	344440	000230'		 AOJA	T4,CTOLP
   620	000651'	336306	000724'		SKIPN	T1,PTRNTB-11(T1)
   621	000652'	344440	000230'		 AOJA	T4,CTOLP
   622	000653'	137300	001150'		DPB	T1,[POINT 8,T2,15]
   623	000654'	260040	000207'		PUSHJ	P,DEPO
   624	000655'	254000	000275'		  JRST	CTDNO
   625	000656'	344440	000230'		AOJA	T4,CTOLP
   626
   627	000657'	135300	001135'	YELTRN:	LDB	T1,[POINT 8,ORING(T4),BYP2]
   628	000660'	302300	000010		CAIE	T1,10
   629	000661'	254000	000644'		 JRST	BAKTRN
   630	000662'	254000	000403'		JRST	RSPORG
   631
   632	000663'	135300	001135'	ZAPTRN:	LDB	T1,[POINT 8,ORING(T4),BYP2]
   633	000664'	306300	000010		CAIN	T1,10
   634	000665'	254000	000367'		 JRST	ZAPCIR
   635	000666'	301300	000010		CAIL	T1,10
   636	000667'	303300	000050		CAILE	T1,50
   637	000670'	344440	000230'		 AOJA	T4,CTOLP
   638	000671'	336346	000724'		SKIPN	T2,PTRNTB-11(T1)
   639	000672'	344440	000230'		 AOJA	T4,CTOLP
   640	000673'	200400	000007		MOVE	T3,T2
   641	000674'	260040	000401'		PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   642	000675'	137400	001150'		DPB	T3,[POINT 8,T2,15]
   643	000676'	260040	000207'		PUSHJ	P,DEPO
   644	000677'	254000	000275'		  JRST	CTDNO
   645	000700'	402006	000724'		SETZM	PTRNTB-11(T1)
   646	000701'	344440	000230'		AOJA	T4,CTOLP
   647
   648	000702'	135340	001135'	GOBTRN:	LDB	T2,[POINT 8,ORING(T4),BYP2]
   649	000703'	306340	000010		CAIN	T2,10
   650	000704'	402000	001010'		 SETZM	CTLOFG
   651	000705'	254000	000644'		JRST	BAKTRN
   652
   653	000706'	254000	000644'	ORGTRN:	JRST	BAKTRN
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 9
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   654				;Called from ONCE to set up CTY
   655	000707'	336000	001006'	CTYSET::SKIPN	CTYDO
   656	000710'	263040	000000		 POPJ	P,		;DO NOT SET UP
   657				IFCPU (<KI,KL>),<
   658	000711'	205300	334000		MOVSI	T1,(SKIPA)
   659	000712'	202300	000000*		MOVEM	T1,CRSCHK##	;Disable check for nonzero in 30
   660				>; END IFCPU (<KI,KL>)
   661	000713'	205300	255000		MOVSI	T1,(JFCL)
   662	000714'	202300	000000*		MOVEM	T1,KEYSET##	;Disable updating the key
   663	000715'	200300	001153'		MOVE	T1,[JEN @CH6]
   664	000716'	202300	000014'		MOVEM	T1,CH6LK+1
   665	000717'	200300	001154'		MOVE	T1,[JRST CH6LK]
   666				IFCPU (<KS,KL>),<
   667	000720'	202300	000061'		MOVEM	T1,CH6KST+1	;IF KL OR KS MAKE OUTPUT RING STARTER FIRST
   668	000721'	200300	001155'		MOVE	T1,[JRST CH6KST]
   669				>;END IFCPU (<KS,KL>)
   670	000722'	202300	000001*		MOVEM	T1,CH6+1
   671	000723'	200300	000001*		MOVE	T1,CH7+1
   672	000724'	202300	000004'		MOVEM	T1,CH7LK+1
   673	000725'	200300	001156'		MOVE	T1,[JRST CH7LK]
   674	000726'	202300	000001*		MOVEM	T1,CH7+1
   675				IFCPU (KL),<
   676	000727'	200300	001157'		MOVE	T1,[JSR CH6]	;DTE INTERRUPT INSTRUCTION
   677	000730'	202300	000142*		MOVEM	T1,EPT+EPTDT0+DTEDII
   678	000731'	720200	000026		CONO	DTE,PILDEN+6	;PI load enable - channel 6
   679				>;END IFCPU (KL)
   680				IFCPU (<KI,F3>),<CONO TTY,TT.COD!TT.CID+6>
   681				IFCPU (KS),<WRAPR LP.ESF+LP.80C+APRCHN##>	;ENABLE THE CTY INTERRUPT
   682					MOVE	T1,[POINT 7,[ASCIZ /
   683				
   684				Type CTRL-Z ? for help
   685				
   686	000732'	200300	001172'	please log in:  /]]
   687	000733'	202300	001011'		MOVEM	T1,STRFLG	;Set pointer for initial LOGIN
   688	000734'	324740	000223'		PJRST	CTYOUT		;Print the msg on the CTY (NOW!)
   689
   690				EXTERNAL MSKORG,MSKIRG,IRING,ORING,ORP620,IRP620
   691				EXTERNAL ORPPDP,IRPPDP,CH6,CH7
   692				EXTERNAL CPOPJ,CPOPJ1,EPT
   693
   694	000735'			PTRNTB:	BLOCK	40	;Translation table for ports 11-50
   695	000775'	000000	000000	AXINP:	0
   696	000776'	000000	000000	AXSTRP:	0
   697	000777'			AXSTR:	BLOCK	3
   698	001002'	000000	000000	AXCNT:	0
   699	001003'	000000	000000	AXNUM:	0
   700
   701	001004'	000000	000000	NOWIN::	0		;NON-ZERO IF LOGGED IN
   702	001005'	000000	000000	BKPFLG:	0		;NON-ZERO IF "REMOTE" IS APPLYING BACKPRESSURE.
   703				IFNDEF CTYVAL,<CTYVAL==0>
   704	001006'	000000	000000	CTYDO:: CTYVAL
   705	001007'	000000	000000	CTLZFL:	0		;CONTROL Z FLAG
   706	001010'	000000	000000	CTLOFG:	0
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 9-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   707	001011'	000000	000000	STRFLG:	0		;HERE IF GENERATING A STRING (LIKE PLEASE LOG IN)
   708	001012'	000000	000000	CTOPNT:	0		;OUTPUT POINTER
   709	001013'	000000	000000	CTOCNT:	0		;AND COUNT
   710	001014'	000000	000000	CTYACT:	0		;CTY OUTPUT ACTIVE
   711	001015'	000000	000000	CH7SVT:	0		;SAVE LOC FOR CH7
   712	001016'	000000	000000	CTYRFL:	0
   713	001017'	000000	000000	CTYFIL:	0
   714	001020'			CTSV:	BLOCK T4+1	;Up to and including T4
   715	001032'	000000	000135'	RETCTP:	RETCT
   716	001033'				BLOCK 20	;PDL
   717
   718	001053'	476000	000071'		$END	(CTY)

   719	001054'	700600	004002

   720	001055'	254000	000011'

   721	001056'	777760	001032'

   722	001057'	141000	000007

   723	001060'	064241	505206

   724	001061'	522632	344632

   725	001062'	203075	766732

   726	001063'	607354	471500

   727	001064'	243416	262714

   728	001065'	647604	073722

   729	001066'	723204	041650

   730	001067'	512305	555122

   731	001070'	064241	505100

   732	001071'	201004	037500

   733	001072'	201012	464322

   734	001073'	715015	562746

   735	001074'	717034	762432

   736	001075'	051004	020100

   737	001076'	411004	020204

   738	001077'	713134	165532

CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 9-3
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   739	001100'	703375	167350

   740	001101'	064244	020100

   741	001102'	202204	020100

   742	001103'	443035	663752

   743	001104'	700321	220100

   744	001105'	201011	420100

   745	001106'	202315	763722

   746	001107'	670321	220100

   747	001110'	201011	720100

   748	001111'	202515	763716

   749	001112'	663124	057236

   750	001113'	064244	020100

   751	001114'	201424	020100

   752	001115'	517136	420314

   753	001116'	647315	406424

   754	001117'	064240	000000

   755	001120'	440700	001060'

   756	001121'	200300	001120'

   757	001122'	202300	001011'

   758	001123'	324740	000223'

   759	001124'	462000	001010'

   760	001125'	263040	000000

   761	001126'	410040	140000

   762	001127'	000600	000151*

   763	001130'	341011	000604*

   764	001131'	260040	000000*

   765	001132'	436471	425564
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 9-4
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING


   766	001133'	400001	000000

   767	001134'	000000	000000*

   768	001135'	241011	001130*

   769	001136'	064256	066312

   770	001137'	607474	520330

   771	001140'	677164	064734

   772	001141'	351004	000000

   773	001142'	440700	001136'

   774	001143'	440700	000777'

   775	001144'	002000	010000

   776	001145'	140711	001135*

   777	001146'	260700	000000*

   778	001147'	170700	001146*

   779	001150'	241000	000007

   780	001151'	041000	000007

   781	001152'	056000	040000

   782	001153'	254520	000000*

   783	001154'	254000	000013'

   784	001155'	254000	000060'

   785	001156'	254000	000003'

   786	001157'	264000	001153*

   787	001160'	064241	505250

   788	001161'	747414	520206

   789	001162'	522451	426664

   790	001163'	201764	063336

   791	001164'	711015	062730

CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 9-5
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   792	001165'	700321	206424

   793	001166'	703314	560746

   794	001167'	625015	467716

   795	001170'	203235	635100

   796	001171'	200000	000000

   797	001172'	440700	001160'

   798						;End of CTYSIM (CTYLIT: CTYEND:)
   799
NO ERRORS DETECTED
PROGRAM BREAK IS 001205
7K CORE USED
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88 PAGE 10
CTYSIM.MAC	20-SEP-87 13:00		SYMBOL TABLE

ATRLP		000620'		CTYINP		000072'	INT	RSPORG		000403'		
ATRLP1		000636'		CTYLDB		000042'	EXT	RSPOUT		000405'		
ATRLP2		000633'		CTYLIT		001053'	INT	S$ENTR	777777	777775	SIN	
AXCNT		001002'		CTYOUT		000223'		S$EVEN		000006	SIN	
AXINP		000775'		CTYRFL		001016'		S$HALT	777777	777777	SIN	
AXNUM		001003'		CTYSET		000707'	INT	S$INFO		000005	SIN	
AXSTR		000777'		CTYSIM		000000'	ENT	S$NAME		000000'	SPD	
AXSTRP		000776'		CTYSTF		000071'		S$NONA		000000	SIN	
BAKTRN		000644'		CTYSTR		000261'		S$PATC		000007	SIN	
BKPFLG		001005'		CTYVAL		000000	SPD	S$STOP		000001	SIN	
BKPOFF		000171'		DEPO		000207'		S$TEMP		000000	SPD	
BKPON		000200'		DEPOC		000210'		S$XCT	777777	777776	SIN	
BYP1		000007	SPD	DIE		001131'	EXT	SKPST2		000637'		
BYP2		000017	SPD	DTE		000200	SPD	SKPSTR		000576'		
BYP3		000027	SPD	DTEDII		000002	SIN	SKT3		000274'		
BYP4		000037	SPD	EPT		000000	EXT	SPCF11		000450	SIN	
CH6		001157'	EXT	EPTDT0		000140	SIN	SPCMTD		000455	SIN	
CH6KST		000060'	INT	GETPRC		000564'		SPCMTI		000456	SIN	
CH6LK		000013'	INT	GETPRT		000561'		SPCOUT		000314'		
CH6LK0		000030'		GOBTRN		000702'		STRDON		000271'		
CH6LK1		000033'		GORING		000401'		STRFIL		000305'		
CH7		000000	EXT	HNGUP		000164'		STRFLG		001011'		
CH7LK		000003'	INT	IRING		000215'	EXT	STRLP		000533'		
CH7SVT		001015'		IRP620		000567'	EXT	STRLP2		000547'		
CL11PT		001000	SPD	IRPPDP		000566'	EXT	STRLP3		000544'		
CONFIG		001147'	EXT	ISZCK		000566'		SUPBAD		000423'		
CPOPJ		000570'	EXT	JFYSC2		000317'	EXT	SUPCHR		000426'		
CPOPJ1		000563'	EXT	KEYSET		000714'	EXT	SUPFIN		000453'		
CPUF3		000004	SPD	LDSRXE		000043'	EXT	SUPINI		000410'		
CPUKI		000001	SPD	LI.CPP		020000	SPD	SUPNUM		000443'		
CPUKL		000002	SPD	LI.REQ		004000	SPD	SUPSWP		000551'		
CPUKS		000003	SPD	LOGIN		000140'		SUPSYS		000441'		
CPUTYP		000002	SPD	MSKIRG		000217'	EXT	SUPSYW		000552'		
CPZZ		000000	SPD	MSKORG		000375'	EXT	SYSNUM		000143'	EXT	
CRSCHK		000712'	EXT	NODIE		000000	EXT	SZODS		000043	SPD	
CTDNO		000275'		NOWIN		001004'	INT	T1		000006	INT	
CTLOFG		001010'		NRMCH		000040'		T2		000007	INT	
CTLZFL		001007'		NRMCH1		000053'		T3		000010	INT	
CTLZH		000105'		OPRTIC		000320'	EXT	T4		000011	INT	
CTLZN		000133'		ORGTRN		000706'		TO10DB		001000	SPD	
CTOCNT		001013'		ORING		001145'	EXT	U		000005	INT	
CTOLP		000230'		ORP620		000376'	EXT	UUIDPB	136000	000000		
CTOPNT		001012'		ORPPDP		000231'	EXT	UUILDB	134000	000000		
CTOSPC		000323'		OSTCNT		000253'		WRPI	700600	000000		
CTSV		001020'		OSTFIL		000301'		YELTRN		000657'		
CTYACT		001014'		P		000001	INT	ZAPCIR		000367'		
CTYBMT		000237'	INT	PILDEN		000020	SPD	ZAPTRN		000663'		
CTYBRK		000111'	INT	PJRST	324740	000000		.CPLOG		001127'	EXT	
CTYCH1		000262'		PRTIRG		001134'	EXT	
CTYCHR		000316'	EXT	PTRNTB		000735'		
CTYDO		001006'	INT	RETCT		000135'		
CTYEND		001204'	INT	RETCTP		001032'		
CTYFIL		001017'		

CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

ATRLP	   593#	   603
ATRLP1	   594	   608#
ATRLP2	   598	   605#
AXCNT	   453	   471	   495	   698#
AXINP	   447	   449	   548	   556	   695#
AXNUM	   454	   467	   475	   481	   484	   492	   699#
AXSTR	   450	   533	   697#
AXSTRP	   451	   472	   501	   534	   535	   538	   696#
BAKTRN	   366	   367	   615#	   629	   651	   653
BKPFLG	   247	   252	   255	   260	   307	   702#
BKPOFF	   125	   247#
BKPON	   127	   255#
BYP1	    28#	   290
BYP2	    29#	   295	   302	   420	   514	   519	   551	   582	   589	   627	   632	   648
BYP3	    30#	   463
BYP4	    31#
CH6	   663	   670	   676	   691%
CH6KST	   135#	   667	   668
CH6LK	    71#	   218	   664	   665
CH6LK0	    81	    85#
CH6LK1	    84	   112#
CH7	   671	   674	   691%
CH7LK	    40#	    53	   672	   673
CH7SVT	    42	    52	   711#
CL11PT	    73
CONFIG	   487%	   487	   488%	   488
CPOPJ	   159	   567	   692%
CPOPJ1	   172	   561	   692%
CPUF3	    50	    57	   151	   328	   680
CPUKI	    50	    57	   151	   328	   657	   680
CPUKL	    45	    70	   134	   156	   657	   666	   675
CPUKS	    45	    90	   134	   162	   666	   681
CPUTYP	    45	    50	    57	    70	    90	   134	   151	   156	   162	   328	   657	   666	   675	   680
	   681
CPZZ	    45#	    45	    50#	    50	    57#	    57	    70#	    70	    90#	    90	   134#	   134	   151#	   151
	   156#	   156	   162#	   162	   328#	   328	   657#	   657	   666#	   666	   675#	   675	   680#	   680
	   681#	   681
CRSCHK	   659%	   659
CTDNO	   289	   327#	   499	   555	   588	   624	   644
CTLOFG	   198	   298	   330	   650	   706#
CTLZFL	   112	   177	   213	   705#
CTLZH	   113	   176#
CTLZN	   116	   213#
CTOCNT	   300	   311	   580	   584	   593	   597	   709#
CTOLP	   287#	   325	   356	   357	   358	   359	   374	   375	   395	   396	   397	   398	   401	   402
	   422	   444	   445	   473	   476	   480	   485	   549	   557	   619	   621	   625	   637	   639
	   646
CTOPNT	   284	   303	   313	   322	   324	   583	   595	   599	   708#
CTOSPC	   292	   354#	   418
CTSV	    75	    76	    77	   139	   140	   141	   216	   714#
CTYACT	    40	   304	   329	   341	   710#
CTYBMT	   294#	   354	   360	   362	   364	   370	   372	   378	   380	   382	   384	   387	   390	   392
	   399	   403
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

CTYBRK	   171	   180#
CTYCH1	   314#	   342
CTYCHR	   348%	   348
CTYDO	   149	   655	   704#
CTYEND	   798#
CTYFIL	   210	   317	   713#
CTYINP	   149#
CTYLDB	   119%	   119
CTYLIT	   718#
CTYOUT	    86	   143	   195	   253	   282#	   344	   430	   688
CTYRFL	   309	   319	   333	   338	   712#
CTYSET	   655#
CTYSIM	    11	    12#	    15
CTYSTF	    46	   135	   138	   145#
CTYSTR	   305	   313#
CTYVAL	   703	   704
DEPO	   130	   226	   232	   236	   243	   250	   258	   263#	   443	   516	   521	   525	   529	   531
	   541	   546	   554	   601	   606	   623	   643
DEPOC	   264#
DIE	    11	    11%	    12	   294
DTE	    71	    73	   678
DTEDII	   677
EPT	    80	    82	    85	   158	   160	   677	   692%
EPTDT0	   677
GETPRC	   506	   562#
GETPRT	   502	   559#
GOBTRN	   368	   648#
GORING	   433#	   441	   455	   459	   615	   641
HNGUP	   205	   241#
IRING	   275	   690%
IRP620	   263	   266	   274	   278	   566	   690%
IRPPDP	   565	   691%
ISZCK	   498	   565#	   587
JFYSC2	   349%	   349
KEYSET	   662%	   662
LDSRXE	   120%	   120
LI.CPP	   137
LI.REQ	    47
LISTSN	     3	     6
LOGIN	   202	   220#
MSKIRG	   265	   277	   569	   690%
MSKORG	   287	   427	   690%
NODIE	    11%
NOWIN	   117	   220	   238	   242	   429	   701#
NRMCH	   117#	   208
NRMCH1	   121	   128#	   248	   256
OPRTIC	   350%	   350
ORGTRN	   377	   653#
ORING	   290	   295	   301	   323	   420	   433	   463	   514	   519	   551	   581	   589	   627	   632
	   648	   690%
ORP620	    44	   286	   327	   428	   690%
ORPPDP	    43	   288	   691%
OSTCNT	   285	   307#
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

OSTFIL	   310	   333#	   339
P	    12	    78	    84	    87	   118	   130	   131	   132	   142	   150	   180	   199	   211	   214
	   221	   226	   232	   236	   239	   243	   245	   250	   251	   258	   259	   261	   267	   279
	   280	   294	   308	   314	   318	   320	   331	   335	   336	   346	   348	   351	   352	   439
	   441	   443	   455	   459	   498	   502	   505	   506	   509	   516	   521	   525	   529	   531
	   541	   546	   550	   554	   563	   571	   572	   587	   601	   606	   615	   623	   641	   643
	   656
PILDEN	   678
PRTIRG	   294%	   294
PTRNTB	   510	   511	   560	   577	   590	   620	   638	   645	   694#
RETCT	   216#	   715
RETCTP	    78	   142	   715#
RSPORG	   441#	   630
RSPOUT	   443#	   457	   461
S$ENTR	    11	    17	   227	   233	   237	   295	   354	   360	   362	   364	   370	   372	   378	   380
	   382	   384	   387	   390	   392	   399	   403	   517	   522	   526	   530	   532	   542	   547
	   602	   607
S$EVEN	   294
S$HALT	    11	   227	   233	   237	   294	   354	   360	   362	   364	   370	   372	   378	   380	   382
	   384	   387	   390	   392	   399	   403	   517	   522	   526	   530	   532	   542	   547	   602
	   607
S$INFO	   294
S$NAME	    15#	   227	   233	   237	   517	   522	   526	   530	   532	   542	   547	   602	   607
S$NONA	    14	    17	   227	   233	   237	   295	   355	   361	   363	   365	   371	   373	   379	   381
	   383	   385	   388	   391	   393	   400	   404	   517	   522	   526	   530	   532	   542	   547
	   602	   607
S$PATC	   294
S$STOP	   294	   295
S$TEMP	    11#	    11	   227#	   227	   233#	   233	   237#	   237	   294#	   294	   354#	   354	   360#	   360
	   362#	   362	   364#	   364	   370#	   370	   372#	   372	   378#	   378	   380#	   380	   382#	   382
	   384#	   384	   387#	   387	   390#	   390	   392#	   392	   399#	   399	   403#	   403	   517#	   517
	   522#	   522	   526#	   526	   530#	   530	   532#	   532	   542#	   542	   547#	   547	   602#	   602
	   607#	   607
S$XCT	    17	   227	   233	   237	   295	   354	   355	   360	   361	   362	   363	   364	   365	   370
	   371	   372	   373	   378	   379	   380	   381	   382	   383	   384	   385	   387	   388	   390
	   391	   392	   393	   399	   400	   403	   404	   517	   522	   526	   530	   532	   542	   547
	   602	   607
SKPST2	   299	   576	   578	   609#
SKPSTR	   297	   574#
SKT3	   325#	   394	   610	   613
SPCF11	    82	   160
SPCMTD	    85
SPCMTI	    80	   158
SPCOUT	   314	   335	   346#
STRDON	   312	   322#	   608
STRFIL	   283	   338#
STRFLG	   194	   282	   340	   343	   425	   687	   707#
STRLP	   535#	   543
STRLP2	   536	   548#
STRLP3	   539	   545#
SUPBAD	   448	   459#
SUPCHR	   389	   463#
SUPFIN	   466	   487#
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

SUPINI	   386	   447#
SUPNUM	   468	   478#
SUPSWP	   507	   550#
SUPSYS	   470	   475#
SUPSYW	   493	   503	   551#
SYSNUM	   223%	   223
SZODS	   291	   418#
T1	    42	    43	    44	    52	    79	    80	    81	    82	    83	    85	   114	   115	   122	   129
	   176	   178	   179	   181	   182	   194	   196	   197	   200	   201	   203	   204	   206	   207
	   209	   210	   223	   224	   225	   229	   230	   231	   290	   291	   292	   293	   300	   301
	   302	   303	   313	   315	   316	   317	   319	   334	   340	   342	   347	   420	   421	   423
	   425	   450	   451	   452	   453	   463	   464	   465	   469	   472	   478	   479	   483	   487
	   489	   490	   491	   492	   494	   495	   496	   497	   500	   501	   504	   508	   510	   511
	   524	   528	   551	   553	   559	   560	   562	   570	   580	   581	   582	   583	   584	   585
	   586	   589	   590	   592	   595	   596	   599	   600	   609	   610	   611	   612	   616	   617
	   618	   620	   622	   627	   628	   632	   633	   635	   636	   638	   645	   658	   659	   661
	   662	   663	   664	   665	   667	   668	   670	   671	   672	   673	   674	   676	   677	   682
	   687
T2	   120	   121	   122	   123	   124	   126	   128	   129	   222	   225	   228	   231	   234	   235
	   241	   249	   257	   275	   295	   296	   433	   442	   456	   460	   481	   482	   483	   484
	   488	   491	   512	   513	   515	   518	   520	   523	   524	   527	   528	   537	   540	   545
	   552	   553	   565	   566	   567	   568	   569	   570	   574	   575	   577	   591	   592	   596
	   600	   605	   616	   622	   638	   640	   642	   648	   649
T3	   157	   158	   159	   160	   168	   169	   170	   263	   264	   265	   266	   274	   275	   276
	   277	   278	   346	   347	   349	   350	   351	   504	   505	   509	   510	   511	   513	   514
	   515	   519	   520	   533	   534	   535	   536	   537	   538	   539	   540	   550	   640	   642
T4	    75	    76	    77	   139	   140	   141	   216	   217	   286	   287	   288	   290	   295	   301
	   322	   323	   325	   327	   356	   357	   358	   359	   374	   375	   394	   395	   396	   397
	   398	   401	   402	   420	   422	   426	   427	   428	   433	   444	   445	   463	   473	   476
	   480	   485	   514	   519	   549	   551	   557	   581	   589	   612	   613	   619	   621	   625
	   627	   632	   637	   639	   646	   648	   714
TO10DB	    71
U	   119
YELTRN	   376	   627#
ZAPCIR	   420#	   634
ZAPTRN	   369	   632#
.CPLOG	   229%	   229	   234%	   234
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:37 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Macro/Opdef cross reference

IFCPU	    45	    50	    57	    70	    90	   134	   151	   156	   162	   328	   657	   666	   675	   680
	   681
IFKMC	    19	   268	   434
IFNKMC	    28
PJRST	   195	   198	   202	   205	   208	   253	   344	   430	   688
STOPCD	    10	   227	   233	   237	   294	   354	   360	   362	   364	   370	   372	   378	   380	   382
	   384	   387	   390	   392	   399	   403	   517	   522	   526	   530	   532	   542	   547	   602
	   607
TYPI	    35#
UUIDPB	    33#
UUILDB	    32#	   313	   595	   599
WRPI	    47	   137
$END	   718   V=c