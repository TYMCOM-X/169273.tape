BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 1
S.MAC	13-JAN-88 11:55		S.MAC - with system parameter file for P035/D, January 1988

     1				SUBTTL	S.MAC - with system parameter file for P035/D, January 1988
     2
     3				IF2,<IFNDEF LISTSN,<TAPE>>	;Skip to PASS2 in all but COMMON.LST
     4				;THIS MODULE ASSEMBLED WITH KL-10 PARAMETER FILE - KLSYM.MAC
     5
     6					IF2,<IFNDEF LISTSN,<		;LIST KLSYM.MAC IN COMMON ONLY
     7								TAPE>>
     8				SUBTTL	Program to load BOOTS from IBM disks on an SA10 channel
     9				;Note that this routine runs on both the KI and the KL, no CPU dependencies.
    10
    11				IF1,<IFNDEF P,<UBTLOD==-1;>UBTLOD==0>	;Set UBTLOD if P defined via S.MAC
    12				IFE UBTLOD,<TITLE BOTLOD - Load BOOTS from disk on a 146 restart>
    13				IFN UBTLOD,<TITLE UBTLOD - Create DSK:BOTLOD.KL and PTP:BOTLOD.KI>
    14
    15				COMMENT ~	Revision history for BOTLOD.
    16
    17				V20  ??-???-??	Loads from KI paper tape, relocates itself into physical
    18				BOTLOD.M00	addresses 774000-777777 on KI's with at least 256K of core.
    19						BOOTS is 6 blocks long, starting at record 13 of track 0 cyl 0,
    20						going to record 18 of track 0 cylinder 0.
    21
    22				V20  24-JUN-76	BOOTS is now 7 blocks long, the 7th block is on record 0 of
    23				BOTLOD.M01	track 1 cylinder 0 (an imbedded SEEK and SEARCH ID= was added).
    24
    25				V20   2-JUN-78	No change in KI version, the KL version is loaded by KLCDP into
    26				BOTLOD.M02	locations 334000-337000 (last 2K of unmapped core).
    27
    28				xxx  10-DEC-85	Converted BOTLOD.M02 to use IFCPU macros.
    29				BOTLOD.M03	(Just to get a CREF listing.)
    30
    31				V21  20-JAN-86	Rewrote BOTLOD for the 3650 project (7 pages per track).
    32				BOTLOD.M04	Make KI and KL versions exactly the same, load into page 334.
    33						Read all 3 pages (12 blocks) reserved for BOOTS into pages
    34						335-337, using READ MULTITRACK commands.
    35
    36				V22  16-Feb-86	READ MULTITRACK appears to read R0, which is not wanted.  Moved
    37				BOTLOD.M05	BOTLOD to page 333, BOOTS to pages 334-336, data in 337.  Three
    38						different command lists are tried: 3650 with 7 pages per track,
    39						3675 with 5 pages per track, 3675 with 18 blocks per track.
    40
    41				V23  27-Mar-86	Change the timing in the STRTIT routine.  Make it match the
    42				BOTLOD.M06	algorithm used in COMMON.MAC.
    43
    44				V24   7-Aug-86	Put BOTLOD in MON##.CMD so it is part of the monitor.  If
    45				BOTLOD.MAC	assembled without S.MAC, user-mode BOTLOD is created.
    46
    47				~  ;End of COMMENT
    48			000024		VERSIO==24
    49
    50				IFN UBTLOD,<	;Define ACs same as S.MAC
    51					U=1+<F=1+<PG=1+<J=1+<P=1+<S=0>>>>>	;5,4,3,2,1,0
    52					W=1+<T4=1+<T3=1+<T2=1+<T1=1+U>>>>	;12,11,10,7,6
    53					P4=1+<P3=1+<P2=1+<P1=1+<M=1+W>>>>	;17,16,15,14,13
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 1
BOTLOD.MAC	20-SEP-87 12:52		Program to load BOOTS from IBM disks on an SA10 channel

    54					LOC	137
    55				JOBVER::EXP	VERSIO		;Version number of BOTLOD
    56					RELOC
    57				>  ;End IFN UBTLOD
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 2
BOTLOD.MAC	20-SEP-87 12:52		Definitions

    58				SUBTTL	Definitions
    59
    60				;Disk Page Number 1 is Head 0 Records 5-8 on 3330-II or 3675B  (block format)
    61				;Disk Page Number 1 is Head 0 Record 2 on 3650 or 3675P        (page format)
    62				;
    63				;DPN    3330      3650    Use
    64				; 0   H0R01-R04   H0R1    IPL     IBM Initial Program Load, KS/8080 boot pointer
    65				; 1   H0R05-R08   H0R2    HOM1    Primary HOM page
    66				; 2   H0R09-R12   H0R3    BAT1    Primary BAT page
    67				; 3   H0R13-R18   H0R4    BOOT1   First 4 blocks of BOOTS
    68				; 4  H0R17/H1R2   H0R5    BOOT2   Two blocks on 1st track, two on 2nd track
    69				; 5   H1R03-R06   H0R6    BOOT3   Last 4 blocks of BOOTS    (H1R1 on 3675P)
    70				; 6   H1R07-R10   H0R7    HOM2    Secondary HOM page        (H1R2 on 3675P)
    71				; 7   H1R11-R14   H1R1    BAT2    Secondary BAT page        (H1R3 on 3675P)
    72				; 8   H1R15-R18   H1R2    SATRIB  RIB for SAT.SYS on DSKB0:
    73
    74			000002		J=J		;SA-10 number, 0 or 1
    75			000004		F=F		;Channel number, 0 to 3
    76			000005		U=U		;Disk unit, X'C0' to X'FF'
    77			000014		P1=P1		;Pointer to SABASE
    78			000015		P2=P2		;Pointer to command list
    79			000001		P=P		;Stack
    80			000006		T1=T1		;Temp
    81			000007		T2=T2		;Used for CONI status input
    82			000010		T3=T3		;Used for CONO command output
    83			000011		T4=T4		;Temp
    84
    85			000000		APR== 000	;CPU Arithmetic processor
    86			000004		PI==  004	;Priority interrupt system
    87			000010		PAG== 010	;Pager
    88
    89			010000		PC.USR==(1B5)	;User mode bit in PC flags
    90
    91				;BOTLOD - Called via 146 restart, or when ONCE wants to reload BOOTS from disk
    92				;  BOTLOD is BLT'ed to the first half of page 334 and executed from there.
    93				;  Pages 335,336,337 are undisturbed (COMMON puts context pages there).
    94				;  BOOTS is read in to pages 774 + 775 + 776, and uses page 777.
    95
    96	000000'	205000	254001	BOTLOD::MOVSI	0,(JRST (1))	;Return instruction
    97	000001'	265040	000000		JSP	1,0		;Get PC and flags
    98	000002'	275040	000002'		SUBI	1,.		;Set for relocation
    99				IFN UBTLOD,<
   100					TLNE	1,PC.USR	;In user mode?  (1B5)
   101					 JRST	USERM		;Yes, write BOTLOD to PTP or DSK
   102				>  ;End IFN UBTLOD
   103	000003'	701200	000000		CONO	PAG,0		;Disable paging on KL,KS,F3, turn off cache
   104	000004'	201000	400000		MOVEI	0,400000	;Load right for KI (do not update accts others)
   105	000005'	701140	000000		DATAO	PAG,0		;Disable paging on KI
   106	000006'	515001	000013'		HRLZI	0,BTS001(1)	;Source (position independent)
   107	000007'	541000	334000		HRRI	0,BOOTFI	;Destination (fixed at 334000)
   108	000010'	251000	334432		BLT	0,BTSEND	;Put where paper-tape or DECtape puts BOTLOD
   109	000011'	254000	334000		JRST	BOOTFI		;Go to BOOT First Instruction
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 3
BOTLOD.MAC	20-SEP-87 12:52		Program to load BOOTS from IBM disks on an SA10 channel

   110				SUBTTL	Program to load BOOTS from IBM disks on an SA10 channel
   111
   112			774000		BOOTS=774000			;CRASH code copies UPT to pages 335-337
   113	000012'	777367	333777	BTS000:	IOWD	BOTLEN,BOOTFI		;1st word of SAV file and paper tape
   114	334000			BTS001:	PHASE	334000			;Put this below 112K boundry for KLDCP
   115
   116	000013'	700200	200000	BOOTFI::CONO	APR,200000		;BOOTS First Instruction = Reset I/O bus
   117	000014'	700600	011577		CONO	PI,10400+1177		;Clear PI, off PI, off selected PI
   118	000015'	200040	334404		MOVE	P,[IOWD PDLLEN,EPDL]	;Set up stack
   119	000016'	200300	334013		MOVE	T1,NOSA10		;Set up HALT instruction
   120	000017'	202300	774000		MOVEM	T1,BOOTS		; if nothing can be read
   121
   122				;Try both SA10 device codes
   123
   124	000020'	205100	777776		MOVSI	J,-SAXN			;AOBJN for two SA10's
   125	000021'	256002	334032	SALOOP:	XCT	BPCNI1(J)		;Do CONI into T1
   126	000022'	332000	000006		SKIPE	T1			;Bit 17 always set on a working SA10
   127	000023'	260040	334015		 PUSHJ	P,SAFND			;Go check out this I/O device
   128	000024'	253100	334006		AOBJN	J,SALOOP		;Try next SA10
   129	000025'	336000	774000		SKIPN	BOOTS			;Was nonzero data read in?
   130	000026'	254200	334013	NOSA10:: HALT	NOSA10			;Could not find BOOTS anywhere
   131	000027'	254000	774000		JRST	BOOTS			;*HACK* Yes, go to it anyway
   132
   133				;Found an SA10, try all 4 channels on it
   134
   135				;J/ SAX number, 0 or 1
   136				;F/ channel number, 0 to 3
   137				;P1/ pointer to 4-word block in SABASE
   138
   139	000030'	205200	777774	SAFND:	MOVSI	F,-CHANN		;AOBJN to do 4 channels on each SA10
   140	000031'	201300	303240	SAFND1:	MOVEI	T1,^D100000		;Loop counter
   141	000032'	200404	334044		MOVE	T3,REQSTS(F)		;Request status be stored
   142	000033'	256002	334036		XCT	BPCNO3(J)		;  CONO SA,540     (550,560,570)
   143	000034'	200344	334070		MOVE	T2,SSBITS(F)		;Check if SS bit has come on yet
   144	000035'	256002	334034		XCT	BPCNS2(J)		;  CONSO SA,100       (40,20,10)
   145	000036'	367300	334022		 SOJG	T1,.-1			;Not yet, wait a while
   146	000037'	332000	000006		SKIPE	T1			;If we did not time out,
   147	000040'	260040	334074		 PUSHJ	P,CHFND			;Go investigate this channel
   148	000041'	253200	334016		AOBJN	F,SAFND1		;Try all 4 channels
   149	000042'	263040	000000		POPJ	P,			;Done all, try next SA10
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 4
BOTLOD.MAC	20-SEP-87 12:52		CONO and CONI bits for SA10

   150				SUBTTL	CONO and CONI bits for SA10
   151
   152			000002		SAXN==2		;Up to 2 SA10 devices per CPU
   153			000274		SAX1==274	;First SA10 device code
   154			000400		SAX2==400	;Second SA10 device code
   155
   156	000043'	000000	000300	SABASE:	EXP	300		;Base of block in absolute low core for channels
   157	000044'	000000	000320		EXP	320		; (Set by DIP switches on the SA10)
   158	000045'	727640	000006	BPCNI1:	CONI	SAX1,T1		;Check if device responds
   159	000046'	740240	000006		CONI	SAX2,T1
   160	000047'	727747	000000	BPCNS2:	CONSO	SAX1,(T2)	;Skip if status stored
   161	000050'	740347	000000		CONSO	SAX2,(T2)
   162	000051'	727610	000000	BPCNO3:	CONO	SAX1,(T3)	;Set GO, STATUS, etc
   163	000052'	740210	000000		CONO	SAX2,(T3)
   164
   165				;CONO commands to SA10
   166			400000		SA.RST==400000	;Reset SA10 and all 4 channels on it
   167			000640		SSTS==     640	;Set STATUS STORED bit for channel
   168			000600		CSTS==     600	;Clear STATUS STORED bit for channel
   169			000540		SREQ==     540	;Request status for channel
   170			000440		BUSY==     440	;Set GO flag for channel
   171			000000		CHN0==      00	;This command is for channel 0 (tape on TYMCOM-X)
   172			000010		CHN1==      10	;This command is for channel 1 (disk on TYMCOM-X)
   173			000020		CHN2==      20	;This command is for channel 2 (not used by TYMCOM-X)
   174			000030		CHN3==      30	;This command is for channel 3 (not used by TYMCOM-X)
   175			000007		PIA==        7	;Set PI Assignment
   176
   177			000004		CHANN==4	;4 channels, index by F
   178	000053'	000000	000440	SETBSY:	EXP BUSY+CHN0,BUSY+CHN1,BUSY+CHN2,BUSY+CHN3	;Set BUSY (GO)
	000054'	000000	000450
	000055'	000000	000460
	000056'	000000	000470
   179	000057'	000000	000540	REQSTS:	EXP SREQ+CHN0,SREQ+CHN1,SREQ+CHN2,SREQ+CHN3	;Request status
	000060'	000000	000550
	000061'	000000	000560
	000062'	000000	000570
   180	000063'	000000	000600	CLRSTS:	EXP CSTS+CHN0,CSTS+CHN1,CSTS+CHN2,CSTS+CHN3	;Clear status-stored
	000064'	000000	000610
	000065'	000000	000620
	000066'	000000	000630
   181	000067'	000000	000640	SETSTS:	EXP SSTS+CHN0,SSTS+CHN1,SSTS+CHN2,SSTS+CHN3	;Set status-stored
	000070'	000000	000650
	000071'	000000	000660
	000072'	000000	000670
   182
   183				;CONI bits from SA10		;Bit 17 always on for CONI and SKIPE
   184	000073'	000000	040000	IEBITS:	EXP	40000,20000,10000,04000		;Chan interrupt enabled
	000074'	000000	020000
	000075'	000000	010000
	000076'	000000	004000
   185	000077'	000000	002000	GOBITS:	EXP	02000,01000,00400,00200		;GO flag is set for channel
	000100'	000000	001000
	000101'	000000	000400
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 4-2
BOTLOD.MAC	20-SEP-87 12:52		CONO and CONI bits for SA10

	000102'	000000	000200
   186	000103'	000000	000100	SSBITS:	EXP	00100,00040,00020,00010		;Status has been Stored
	000104'	000000	000040
	000105'	000000	000020
	000106'	000000	000010
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 5
BOTLOD.MAC	20-SEP-87 12:52		Found a working SA10 channel

   187				SUBTTL	Found a working SA10 channel
   188
   189				;J/ SAX number, 0 or 1
   190				;F/ channel number, 0 to 3
   191				;U/ disk unit number in 3rd byte
   192				;P1/ pointer to 4-word block in SABASE
   193
   194	000107'	550600	000004	CHFND:	HRRZ	P1,F			;Channel number
   195	000110'	221600	000004		IMULI	P1,4			;4 words per channel
   196	000111'	270602	334030		ADD	P1,SABASE(J)		;Set initial command address
   197	000112'	200300	334405		MOVE	T1,[TIC,,NOPCMD]	;Transfer to no-op command
   198	000113'	202314	000000		MOVEM	T1,(P1)			;Set CCW for this channel
   199	000114'	200240	334214		MOVE	U,NOOPD0		;NO-OP to first disk on this channel
   200	000115'	202240	334402	CHFN1:	MOVEM	U,NOPCMD		;Store command
   201	000116'	260040	334141		PUSHJ	P,STRTIT		;Start device
   202	000117'	254000	334106		  JRST	CHFN2			;Device not responding (U modified)
   203	000120'	260040	334112		PUSHJ	P,UTFND			;Found working unit, read from it
   204	000121'	311240	334215	CHFN2:	CAML	U,MAXDEV		;Last device?
   205	000122'	263040	000000		 POPJ	P,			;Done, try next channel
   206	000123'	271240	010000		ADDI	U,<BYTE(8)0,0,1>	;No, increment unit number in 3rd byte
   207	000124'	254000	334102		JRST	CHFN1			;Try next disk unit
   208
   209				;Found a working disk unit.  Third byte of DU has unit number
   210				;J/SAX#, F/Channel #, P1/Channel base, P2/Command list
   211
   212	000125'	135300	334406	UTFND:	LDB	T1,[POINT 8,U,23]	;Get device/controller address
   213	000126'	201640	334230		MOVEI	P2,LIST0		;Start of command lists
   214
   215				;Modify all occurrances of FDISKA to be current device address
   216
   217	000127'	554355	000000	UTFND0:	HLRZ	T2,(P2)			;Get LH of command
   218	000130'	306340	200000		CAIN	T2,TIC			;Transfer in channel?
   219	000131'	271640	000001		 ADDI	P2,1			;Yes, skip over it
   220	000132'	137300	334407		DPB	T1,[POINT 8,0(P2),23]	;No, store new device address
   221	000133'	271640	000002		ADDI	P2,2			;Point to next pair
   222	000134'	305640	334404		CAIGE	P2,LIST9		;Hit end of last list?
   223	000135'	254000	334114		 JRST	UTFND0			;No, do more commands
   224
   225				;Tell SA10 to look at command list and read BOOTS from the disk
   226
   227	000136'	205640	777774		MOVSI	P2,-NLISTS		;Try all supported formats
   228	000137'	200315	334135	READIT:	MOVE	T1,LISTS(P2)		;Point to a command list
   229	000140'	202314	000000		MOVEM	T1,(P1)			;Tell channel where to go
   230	000141'	260040	334141		PUSHJ	P,STRTIT		;Start channel and device
   231	000142'	254000	334133		  JRST	NOREAD			;Some sort of error
   232	000143'	200300	774000		MOVE	T1,BOOTS		;Check first word
   233	000144'	316300	334000		CAMN	T1,BOOTFI		;Is it CONO APR,200000 ?
   234	000145'	254000	774000		 JRST	BOOTS			;All good.  Go start it
   235	000146'	253640	334124	NOREAD:	AOBJN	P2,READIT		;Try the next one
   236	000147'	263040	000000		POPJ	P,			;All tries to read failed
   237
   238	000150'	200000	334230	LISTS:	TIC,,LIST1			;3650 in blocks
   239	000151'	200000	334274		TIC,,LIST2			;3675 in blocks
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 5-2
BOTLOD.MAC	20-SEP-87 12:52		Found a working SA10 channel

   240	000152'	200000	334340		TIC,,LIST3			;3650 in pages
   241	000153'	200000	334362		TIC,,LIST4			;3675 in pages
   242			000004	NLISTS==.-LISTS
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 6
BOTLOD.MAC	20-SEP-87 12:52		Routine to start I/O on the channel and device

   243				SUBTTL	Routine to start I/O on the channel and device
   244
   245				;Bits returned from channel in SABASE+1
   246					;     ==(3B1)		;Type of status 0=end,1=init,2=async,3=requested
   247			100000		SELERR==(1B2)		;Select error - no control unit at this address
   248					;     ==(1B3)		;Bus In Parity Error
   249					;     ==(1B4)		;Control error
   250					;     ==(0B5)		; always zero
   251			004000		LENERR==(1B6)		;Length error - count does not match
   252					;     ==(1B7)		;Program requested interrupt
   253					;  ==(BYTE (8)0,200)	;Attention
   254			000400		SM== (BYTE (8)0,100)	;Status modifier
   255			000200		CUE==(BYTE (8)0,040)	;Control unit end
   256			000100		BSY==(BYTE (8)0,020)	;Control unit busy (SM=1) or string busy (SM=0)
   257			000040		CE== (BYTE (8)0,010)	;Channel end
   258			000020		DE== (BYTE (8)0,004)	;Device end
   259					;  ==(BYTE (8)0,002)	;Unit check
   260					;  ==(BYTE (8)0,001)	;Unit exception
   261					;   ==BYTE (8)0,000,377	;Device address
   262
   263				;Here to start I/O on an IBM disk, skip return if successful
   264				;J/SAX#, F/Channel #, P1/300,304,310,314, 320,324,330,334
   265
   266	000154'	201300	141520	STRTIT:	MOVEI	T1,^D50000		;Wait for previous activity to stop
   267	000155'	367300	334142		SOJG	T1,.			;*HACK*
   268	000156'	200404	334054	STRT1:	MOVE	T3,SETSTS(F)		;Tell channel to store status now
   269	000157'	256002	334036		XCT	BPCNO3(J)		;  CONO SA,640
   270	000160'	200404	334040		MOVE	T3,SETBSY(F)		;Set the GO flag
   271	000161'	256002	334036		XCT	BPCNO3(J)		;  CONO SA,440
   272	000162'	200404	334050		MOVE	T3,CLRSTS(F)		;Clear the Status Stored bit
   273	000163'	256002	334036		XCT	BPCNO3(J)		;  CONO SA,600
   274
   275	000164'	201300	303240		MOVEI	T1,^D100000		;Time out loop
   276	000165'	200344	334070		MOVE	T2,SSBITS(F)		;Wait for Status Stored bit to set
   277	000166'	256002	334034		XCT	BPCNS2(J)		;  CONSO SA,100
   278	000167'	367300	334153		 SOJG	T1,.-1
   279	000170'	322300	334176		JUMPE	T1,STRT4		;Timed out, channel is not working
   280	000171'	200354	000001		MOVE	T2,1(P1)		;Get status word
   281	000172'	603340	100000		TLNE	T2,SELERR		;Select error?
   282	000173'	254000	334177		 JRST	STRT4A			;Yes, no disks at this address
   283	000174'	607340	000100		TLNN	T2,BSY			;BUSY?
   284	000175'	254000	334167		 JRST	STRT3			;No, transfer is done
   285	000176'	603340	000400		TLNE	T2,SM			;BUSY and STATUS MODIFIER?
   286	000177'	254000	334201		 JRST	STRT2			;Yes, wait for CONTROL UNIT END
   287	000200'	603340	000200		T2,CUE			;BUSY and CONTROL UNIT END?
   288	000201'	254000	334143		 JRST	STRT1			;Yes, restart
   289	000202'	607340	000060	STRT3:	TLNN	T2,CE+DE		;Channel End and Device End?
   290	000203'	254000	334173		 JRST	STRT5			;No.  BSY should not be off!
   291	000204'	607340	175114		TLNN	T2,175114		;Any errors?
   292	000205'	254000	334212		 JRST	CPOPJ1			;No, give skip return
   293
   294				;Here for reasonable errors, such as unit exists but is off-line
   295
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 6-2
BOTLOD.MAC	20-SEP-87 12:52		Routine to start I/O on the channel and device

   296	000206'	201400	400000	STRT5:	MOVEI	T3,SA.RST		;Reset all channels on the SA10
   297	000207'	256002	334036		XCT	BPCNO3(J)		;  CONO SA,400000
   298	000210'	263040	000000		POPJ	P,			;Error return to try next unit
   299
   300				;Here on timeout
   301	000211'	200240	334215	STRT4:	MOVE	U,MAXDEV		;Go to new channel
   302
   303				;Here on select error - no disk string responded to this address
   304	000212'	660240	070000	STRT4A:	TRO	U,<BYTE (8)0,0,7>	;Skip rest of disk string
   305	000213'	263040	000000		POPJ	P,			;Give error return from STRTIT
   306
   307				;Here for BSY+SM = SCU (3672/3674) is busy (as opposed to 3673+3675 busy)
   308
   309	000214'	200404	334050	STRT2:	MOVE	T3,CLRSTS(F)		;Clear status stored bit
   310	000215'	256002	334036		XCT	BPCNO3(J)		;  CONO SA,600
   311	000216'	200344	334070		MOVE	T2,SSBITS(F)		;Wait for new status to be stored
   312	000217'	256002	334034		XCT	BPCNS2(J)		;  CONSO SA,100
   313	000220'	254000	334204		 JRST	.-1
   314	000221'	200354	000001		MOVE	T2,1(P1)		;Get new status
   315	000222'	603340	000200		TLNE	T2,CUE			;Control Unit End?
   316	000223'	254000	334143		 JRST	STRT1			;Finally.  Now go get device status
   317	000224'	254000	334201		JRST	STRT2			;No, wait unit it does show up
   318
   319
   320	000225'	350001	000000	CPOPJ1:	AOS	(P)			;And skip return for success
   321	000226'	263040	000000	CPOPJ:	POPJ	P,
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 7
BOTLOD.MAC	20-SEP-87 12:52		Command list for IBM 3330-II disks

   322				SUBTTL	Command list for IBM 3330-II disks
   323
   324				  ;1st byte = mode for channel
   325			000072	BYTMOD== 10+40+20+2	;Byte mode, execute, CMD chain, ignore length error
   326			000073	OFSMOD== 10+40+20+2+1	;Offset byte mode for SEARCH ID==
   327			000160	WRDMOD==100+40+20	;Read words in natural mode, execute, CMD chain
   328			000240	NOXFER==200+40		;Don't transfer bytes to/from memory, execute CMD
   329			000200	DHALT== 200		;No memory transfer, don't execute (end of command list)
   330			200000	TIC=(BYTE(8)100)	;200000 = Tranfer In Channel = GOTO command
   331
   332				  ;2nd byte = command to disk
   333			000003	NOOP==   3		;No operation (to test for SELECT ERROR)
   334			000004	SENSE==  4		;Read sense bits
   335			000005	WRITE==  5		;Write one record
   336			000006	READ==   6		;Read one record
   337			000007	SEEK==   7		;Position to cylinder, select head
   338			000061	SEARCH==61		;Search for ID=
   339
   340				  ;3rd byte = device address
   341			000300	FDISKA==300		;First TYMCOM-X disk address (C0-DF on 1st 3674)
   342			000377	LDISKA==377		;Last  TYMCOM-X disk address (D0-FF on 2nd 3674)
   343	000227'	500017	000000	NOOPD0:	BYTE	(8)NOXFER,NOOP,FDISKA	;NOOP for first disk address X'C0'=300
   344	000230'	500017	770000	MAXDEV:	BYTE	(8)NOXFER,NOOP,LDISKA	;NOOP for last disk address  X'FF'=377
   345
   346				;Arguments for SEEK and SEARCH ID
   347				  ;Disk page 3 is record 4 for 3650 pages and 3675 pages
   348	000231'	000000	000000	H0R4:	BYTE	(16)0,0,0(8)^D3+1	;BIN 0, CYL 0, HEAD 0, REC  4
	000232'	000000	040000
   349				  ;Disk page 3 is record 13 for 3650 blocks and 3675 blocks
   350	000233'	000000	000000	H0R13:	BYTE	(16)0,0,0(8)^D12+1	;BIN 0, CYL 0, HEAD 0, REC 13
	000234'	000000	150000
   351				  ;3675 in pages does not have record 6, but 3650 in pages does
   352	000235'	000000	000000	H0R6:	BYTE	(16)0,0,0(8)^D5+1	;BIN 0, CYL 0, HEAD 0, REC  6
	000236'	000000	060000
   353				  ;3675 in blocks does not have record 19, but 3650 in blocks does
   354	000237'	000000	000000	H0R19:	BYTE	(16)0,0,0(8)^D18+1	;BIN 0, CYL 0, HEAD 0, REC 19
	000240'	000000	230000
   355				  ;3675 has to continue on record 1 on the next track
   356	000241'	000000	000000	H1R1:	BYTE	(16)0,0,1(8)^D0+1	;BIN 0, CYL 0, HEAD 1, REC  1
	000242'	000004	010000
   357
   358	334230			LIST0:!		;Start address of UTFND0
   359
   360				;The tests are done in the following order:
   361				; 3650 in blocks has a record 19, the others do not.
   362				; 3675 in blocks has a record 13, the page mode packs do not.
   363				; 3650 in pages has a record 7, 3675 in pages does not.
   364				; 3675 in pages will get "record not found" for all the above tests.
   365
   366				;Command list for 3650 formatted in blocks (25 blocks per track)
   367
   368	000243'	164037	000000	LIST1:	BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   369	000244'	777200	334220		BYTE	(12)-6(24)H0R13		; to BIN 0, CYL 0, HEAD 0
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 7-2
BOTLOD.MAC	20-SEP-87 12:52		Command list for IBM 3330-II disks

   370	000245'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   371	000246'	777300	334220		BYTE	(12)-5(24)H0R13		; for CYL 0, HEAD 0, REC 13 (DPN=3)
   372	000247'	200000	334232		  XWD	TIC,.-2			;TIC if search fails
   373	000250'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   374	000251'	760000	774000		 BYTE	(12)-200(24)BOOTS+0000	; Disk block 12 into core page 774
   375	000252'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   376	000253'	760000	774200		 BYTE	(12)-200(24)BOOTS+0200	; Block 13
   377	000254'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   378	000255'	760000	774400		 BYTE	(12)-200(24)BOOTS+0400	; Block 14
   379	000256'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   380	000257'	760000	774600		 BYTE	(12)-200(24)BOOTS+0600	; Block 15
   381	000260'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   382	000261'	760000	775000		 BYTE	(12)-200(24)BOOTS+1000	; Disk block 16 into core page 775
   383	000262'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   384	000263'	760000	775200		 BYTE	(12)-200(24)BOOTS+1200	; Block 17
   385									;(3675 in blocks fails this next seek)
   386	000264'	164037	000000		BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   387	000265'	777200	334224		BYTE	(12)-6(24)H0R19		; to BIN 0, CYL 0, HEAD 1
   388	000266'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   389	000267'	777300	334224		BYTE	(12)-5(24)H0R19		; for CYL 0, HEAD 0, REC 19 (DPN=4.5)
   390	000270'	200000	334253		  XWD	TIC,.-2			;TIC if search fails
   391	000271'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   392	000272'	760000	775400		 BYTE	(12)-200(24)BOOTS+1400	; Block 18 is in record 19
   393	000273'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   394	000274'	760000	775600		 BYTE	(12)-200(24)BOOTS+1600	; Block 19
   395	000275'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   396	000276'	760000	776000		 BYTE	(12)-200(24)BOOTS+2000	; Disk block 20 into core page 776
   397	000277'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   398	000300'	760000	776200		 BYTE	(12)-200(24)BOOTS+2200	; Block 21
   399	000301'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   400	000302'	760000	776400		 BYTE	(12)-200(24)BOOTS+2400	; Block 22
   401	000303'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   402	000304'	760000	776600		 BYTE	(12)-200(24)BOOTS+2600	; Block 23
   403	000305'	500017	000000		BYTE	(8)NOXFER,NOOP,FDISKA	;NO OP
   404	000306'	400000	000000		BYTE	(8)DHALT		;End of command list
   405				IF2,<IFN <LIST2-.>,<PRINTX ? UTFND0 expects LIST2 to follow LIST1>>
   406
   407				;Command list for 3675 formatted in blocks (18 blocks per track)
   408
   409	000307'	164037	000000	LIST2:	BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   410	000310'	777200	334220		BYTE	(12)-6(24)H0R13		; to BIN 0, CYL 0, HEAD 0
   411	000311'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   412	000312'	777300	334220		BYTE	(12)-5(24)H0R13		; for CYL 0, HEAD 0, REC 13 (DPN=3)
   413	000313'	200000	334276		  XWD	TIC,.-2			;TIC if search fails
   414	000314'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   415	000315'	760000	774000		 BYTE	(12)-200(24)BOOTS+0000	; Disk block 12 into core page 774
   416	000316'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   417	000317'	760000	774200		 BYTE	(12)-200(24)BOOTS+0200	; Block 13
   418	000320'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   419	000321'	760000	774400		 BYTE	(12)-200(24)BOOTS+0400	; Block 14
   420	000322'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   421	000323'	760000	774600		 BYTE	(12)-200(24)BOOTS+0600	; Block 15
   422	000324'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 7-3
BOTLOD.MAC	20-SEP-87 12:52		Command list for IBM 3330-II disks

   423	000325'	760000	775000		 BYTE	(12)-200(24)BOOTS+1000	; Disk block 16 into core page 775
   424	000326'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   425	000327'	760000	775200		 BYTE	(12)-200(24)BOOTS+1200	; Block 17
   426	000330'	164037	000000		BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   427	000331'	777200	334226		BYTE	(12)-6(24)H1R1		; to BIN 0, CYL 0, HEAD 1
   428	000332'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   429	000333'	777300	334226		BYTE	(12)-5(24)H1R1		; for CYL 0, HEAD 1, REC 0 (DPN=4.5)
   430	000334'	200000	334317		  XWD	TIC,.-2			;TIC if search fails
   431	000335'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   432	000336'	760000	775400		 BYTE	(12)-200(24)BOOTS+1400	; Block 18
   433	000337'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   434	000340'	760000	775600		 BYTE	(12)-200(24)BOOTS+1600	; Block 19
   435	000341'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   436	000342'	760000	776000		 BYTE	(12)-200(24)BOOTS+2000	; Disk block 20 into core page 776
   437	000343'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   438	000344'	760000	776200		 BYTE	(12)-200(24)BOOTS+2200	; Block 21
   439	000345'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   440	000346'	760000	776400		 BYTE	(12)-200(24)BOOTS+2400	; Block 22
   441	000347'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   442	000350'	760000	776600		 BYTE	(12)-200(24)BOOTS+2600	; Block 23
   443	000351'	500017	000000		BYTE	(8)NOXFER,NOOP,FDISKA	;NO OP
   444	000352'	400000	000000		BYTE	(8)DHALT		;End of command list
   445				IF2,<IFN <LIST3-.>,<PRINTX ? UTFND0 expects LIST3 to follow LIST2>>
   446
   447				;Command list for 3650 formatted in pages (7 pages per track)
   448
   449	000353'	164037	000000	LIST3:	BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   450	000354'	777200	334216		BYTE	(12)-6(24)H0R4		; to BIN 0, CYL 0, HEAD 0
   451	000355'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   452	000356'	777300	334216		BYTE	(12)-5(24)H0R4		; for CYL 0, HEAD 0, REC 4 (DPN=3)
   453	000357'	200000	334342		  XWD	TIC,.-2			;TIC if search fails
   454	000360'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   455	000361'	700000	774000		 BYTE	(12)-1000(24)BOOTS+0000	; Disk page 3 into core page 774
   456	000362'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   457	000363'	700000	775000		 BYTE	(12)-1000(24)BOOTS+1000	; Disk page 4 into core page 775
   458									;(3675 in pages fails this next seek)
   459	000364'	164037	000000		BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   460	000365'	777200	334222		BYTE	(12)-6(24)H0R6		; to BIN 0, CYL 0, HEAD 0
   461	000366'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   462	000367'	777300	334222		BYTE	(12)-5(24)H0R6		; for CYL 0, HEAD 0, REC 6 (DPN=5)
   463	000370'	200000	334353		  XWD	TIC,.-2			;TIC if search fails
   464	000371'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   465	000372'	700000	776000		 BYTE	(12)-1000(24)BOOTS+2000	; Disk page 5 into core page 776
   466	000373'	500017	000000		BYTE	(8)NOXFER,NOOP,FDISKA	;NO OP
   467	000374'	400000	000000		BYTE	(8)DHALT		;End of command list
   468				IF2,<IFN <LIST4-.>,<PRINTX ? UTFND0 expects LIST4 to follow LIST3>>
   469
   470				;Command list for 3675 formatted in pages (5 pages per track)
   471
   472	000375'	164037	000000	LIST4:	BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   473	000376'	777200	334216		BYTE	(12)-6(24)H0R4		; to BIN 0, CYL 0, HEAD 0
   474	000377'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   475	000400'	777300	334216		BYTE	(12)-5(24)H0R4		; for CYL 0, HEAD 0, REC 4 (DPN=3)
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 7-4
BOTLOD.MAC	20-SEP-87 12:52		Command list for IBM 3330-II disks

   476	000401'	200000	334364		  XWD	TIC,.-2			;TIC if search fails
   477	000402'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   478	000403'	700000	774000		 BYTE	(12)-1000(24)BOOTS+0000	; Disk page 3 into core page 774
   479	000404'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   480	000405'	700000	775000		 BYTE	(12)-1000(24)BOOTS+1000	; Disk page 4 into core page 775
   481	000406'	164037	000000		BYTE	(8)BYTMOD,SEEK,FDISKA	;SEEK
   482	000407'	777200	334226		BYTE	(12)-6(24)H1R1		; to BIN 0, CYL 0, HEAD 1
   483	000410'	166307	000000		BYTE	(8)OFSMOD,SEARCH,FDISKA	;SEARCH ID=
   484	000411'	777300	334226		BYTE	(12)-5(24)H1R1		; for CYL 0, HEAD 1, REC 0 (DPN=5)
   485	000412'	200000	334375		  XWD	TIC,.-2			;TIC if search fails
   486	000413'	340033	000000		 BYTE	(8)WRDMOD,READ,FDISKA	;READ
   487	000414'	700000	776000		 BYTE	(12)-1000(24)BOOTS+2000	; Disk page 6 into core page 776
   488	000415'	500017	000000	NOPCMD:	BYTE	(8)NOXFER,NOOP,FDISKA	;NO OP
   489	000416'	400000	000000		BYTE	(8)DHALT		;End of command list
   490				IF2,<IFN <LIST9-.>,<PRINTX ? UTFND0 expects LIST4 to be last>>
   491
   492	334404			LIST9:!		;End address for UTFND0
   493
   494	334404			LITS:	LIT
   495	000417'	777760	334411
   496	000420'	200000	334402
   497	000421'	141000	000005
   498	000422'	141015	000000
   499	000423'	254000	334000		JRST	BOOTFI		;Last word read from PTR is executed in RIM
   500			000411	BOTLEN=.-BOOTFI			;Length of Exec mode BOTLOD
   501	000424'	254000	334000		JRST	BOOTFI		;Last word of SAV file is JRST to start addr
   502			000020		PDLLEN==20
   503	334412			EPDL:	BLOCK	PDLLEN		;Stack
   504	000445'			BTSEND:	DEPHASE			;End of BOTLOD
   505
   506			000425'		UPDL=EPDL-BOOTFI+BTS001		;Stack when in user mode
   507			000346		UNUSED==BOOTFI+1000-BTSEND	;Block of unused words on page 334
   508
   509				;DEFINE PR(A,B),<IF2,<	PRINTX [A B]>>
   510				;	LALL
   511				;PR(BOTLOD starts at,\BOOTFI)
   512				;PR(Length of BOTLOD =,\BOTLEN)
   513				;PR(BOTLOD ends at,\BTSEND)
   514				;PR(\UNUSED,words unused in page 334)
   515
   516				IFE UBTLOD,<END>		;End of BOTLOD that is part of the Monitor
   517
NO ERRORS DETECTED
PROGRAM BREAK IS 000445
6K CORE USED
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88 PAGE 8
BOTLOD.MAC	20-SEP-87 12:52		SYMBOL TABLE

APR		000000	SPD	NLISTS		000004	SPD	UTFND		334112		
BOOTFI		334000	INT	NOOP		000003	SPD	UTFND0		334114		
BOOTS		774000		NOOPD0		334214		VERSIO		000024	SPD	
BOTLEN		000411		NOPCMD		334402		WRDMOD		000160	SPD	
BOTLOD		000000'	INT	NOREAD		334133		WRITE		000005	SPD	
BPCNI1		334032		NOSA10		334013	INT	
BPCNO3		334036		NOXFER		000240	SPD	
BPCNS2		334034		OFSMOD		000073	SPD	
BSY		000100	SPD	P		000001	INT	
BTS000		000012'		P1		000014	INT	
BTS001		000013'		P2		000015	INT	
BTSEND		334432		PAG		000010	SPD	
BUSY		000440	SPD	PC.USR		010000	SIN	
BYTMOD		000072	SPD	PDLLEN		000020	SPD	
CE		000040	SPD	PI		000004	SPD	
CHANN		000004	SPD	PIA		000007	SPD	
CHFN1		334102		READ		000006	SPD	
CHFN2		334106		READIT		334124		
CHFND		334074		REQSTS		334044		
CHN0		000000	SPD	SA.RST		400000	SPD	
CHN1		000010	SPD	SABASE		334030		
CHN2		000020	SPD	SAFND		334015		
CHN3		000030	SPD	SAFND1		334016		
CLRSTS		334050		SALOOP		334006		
CPOPJ		334213		SAX1		000274	SPD	
CPOPJ1		334212		SAX2		000400	SPD	
CSTS		000600	SPD	SAXN		000002	SPD	
CUE		000200	SPD	SEARCH		000061	SPD	
DE		000020	SPD	SEEK		000007	SPD	
DHALT		000200	SPD	SELERR		100000	SPD	
EPDL		334412		SENSE		000004	SPD	
F		000004	INT	SETBSY		334040		
FDISKA		000300	SPD	SETSTS		334054		
GOBITS		334064		SM		000400	SPD	
H0R13		334220		SREQ		000540	SPD	
H0R19		334224		SSBITS		334070		
H0R4		334216		SSTS		000640	SPD	
H0R6		334222		STRT1		334143		
H1R1		334226		STRT2		334201		
IEBITS		334060		STRT3		334167		
J		000002	INT	STRT4		334176		
LDISKA		000377	SPD	STRT4A		334177		
LENERR		004000	SPD	STRT5		334173		
LIST0		334230	SPD	STRTIT		334141		
LIST1		334230		T1		000006	INT	
LIST2		334274		T2		000007	INT	
LIST3		334340		T3		000010	INT	
LIST4		334362		T4		000011	INT	
LIST9		334404	SPD	TIC		200000		
LISTS		334135		U		000005	INT	
LITS		334404		UBTLOD		000000	SPD	
MAXDEV		334215		UNUSED		000346	SPD	

BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88
BOTLOD.MAC	20-SEP-87 12:52		Symbol cross reference

APR	    85#	   116
BOOTFI	   107	   109	   113	   116#	   233	   499	   500	   501	   506	   507
BOOTS	   112#	   120	   129	   131	   232	   234	   374	   376	   378	   380	   382	   384	   392	   394
	   396	   398	   400	   402	   415	   417	   419	   421	   423	   425	   432	   434	   436	   438
	   440	   442	   455	   457	   465	   478	   480	   487
BOTLEN	   113	   500#
BOTLOD	    96#
BPCNI1	   125	   158#
BPCNO3	   142	   162#	   269	   271	   273	   297	   310
BPCNS2	   144	   160#	   277	   312
BSY	   256#	   283
BTS000	   113#
BTS001	   106	   114#	   506
BTSEND	   108	   504#	   507
BUSY	   170#	   178
BYTMOD	   325#	   368	   386	   409	   426	   449	   459	   472	   481
CE	   257#	   289
CHANN	   139	   177#
CHFN1	   200#	   207
CHFN2	   202	   204#
CHFND	   147	   194#
CHN0	   171#	   178	   179	   180	   181
CHN1	   172#	   178	   179	   180	   181
CHN2	   173#	   178	   179	   180	   181
CHN3	   174#	   178	   179	   180	   181
CLRSTS	   180#	   272	   309
CPOPJ	   321#
CPOPJ1	   292	   320#
CSTS	   168#	   180
CUE	   255#	   287	   315
DE	   258#	   289
DHALT	   329#	   404	   444	   467	   489
EPDL	   118	   503#	   506
F	    75	    75#	   139	   141	   143	   148	   194	   268	   270	   272	   276	   309	   311
FDISKA	   341#	   343	   368	   370	   373	   375	   377	   379	   381	   383	   386	   388	   391	   393
	   395	   397	   399	   401	   403	   409	   411	   414	   416	   418	   420	   422	   424	   426
	   428	   431	   433	   435	   437	   439	   441	   443	   449	   451	   454	   456	   459	   461
	   464	   466	   472	   474	   477	   479	   481	   483	   486	   488
GOBITS	   185#
H0R13	   350#	   369	   371	   410	   412
H0R19	   354#	   387	   389
H0R4	   348#	   450	   452	   473	   475
H0R6	   352#	   460	   462
H1R1	   356#	   427	   429	   482	   484
IEBITS	   184#
J	    74	    74#	   124	   125	   128	   142	   144	   196	   269	   271	   273	   277	   297	   310
	   312
LDISKA	   342#	   344
LENERR	   251#
LIST0	   213	   358#
LIST1	   238	   368#
LIST2	   239	   405	   409#
LIST3	   240	   445	   449#
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88
BOTLOD.MAC	20-SEP-87 12:52		Symbol cross reference

LIST4	   241	   468	   472#
LIST9	   222	   490	   492#
LISTS	   228	   238#	   242
LISTSN	     3	     6
LITS	   494#
MAXDEV	   204	   301	   344#
NLISTS	   227	   242#
NOOP	   333#	   343	   344	   403	   443	   466	   488
NOOPD0	   199	   343#
NOPCMD	   197	   200	   488#
NOREAD	   231	   235#
NOSA10	   119	   130#	   130
NOXFER	   328#	   343	   344	   403	   443	   466	   488
OFSMOD	   326#	   370	   388	   411	   428	   451	   461	   474	   483
P	    79	    79#	   118	   127	   147	   149	   201	   203	   205	   230	   236	   298	   305	   320
	   321
P1	    77	    77#	   194	   195	   196	   198	   229	   280	   314
P2	    78	    78#	   213	   217	   219	   220	   221	   222	   227	   228	   235
PAG	    87#	   103	   105
PC.USR	    89#
PDLLEN	   118	   502#	   503
PI	    86#	   117
PIA	   175#
READ	   336#	   373	   375	   377	   379	   381	   383	   391	   393	   395	   397	   399	   401	   414
	   416	   418	   420	   422	   424	   431	   433	   435	   437	   439	   441	   454	   456	   464
	   477	   479	   486
READIT	   228#	   235
REQSTS	   141	   179#
SA.RST	   166#	   296
SABASE	   156#	   196
SAFND	   127	   139#
SAFND1	   140#	   148
SALOOP	   125#	   128
SAX1	   153#	   158	   160	   162
SAX2	   154#	   159	   161	   163
SAXN	   124	   152#
SEARCH	   338#	   370	   388	   411	   428	   451	   461	   474	   483
SEEK	   337#	   368	   386	   409	   426	   449	   459	   472	   481
SELERR	   247#	   281
SENSE	   334#
SETBSY	   178#	   270
SETSTS	   181#	   268
SM	   254#	   285
SREQ	   169#	   179
SSBITS	   143	   186#	   276	   311
SSTS	   167#	   181
STRT1	   268#	   288	   316
STRT2	   286	   309#	   317
STRT3	   284	   289#
STRT4	   279	   301#
STRT4A	   282	   304#
STRT5	   290	   296#
STRTIT	   201	   230	   266#
BOTLOD - Load BOOTS from disk on a 146 restart	MACRO 12.5-46.0 14:31 13-JAN-88
BOTLOD.MAC	20-SEP-87 12:52		Symbol cross reference

T1	    80	    80#	   119	   120	   126	   140	   145	   146	   158	   159	   197	   198	   212	   220
	   228	   229	   232	   233	   266	   267	   275	   278	   279
T2	    81	    81#	   143	   160	   161	   217	   218	   276	   280	   281	   283	   285	   287	   289
	   291	   311	   314	   315
T3	    82	    82#	   141	   162	   163	   268	   270	   272	   296	   309
T4	    83	    83#
TIC	   197	   218	   238	   239	   240	   241	   330#	   372	   390	   413	   430	   453	   463	   476
	   485
U	    76	    76#	   199	   200	   204	   206	   212	   301	   304
UBTLOD	    12	    13	    50	    99	   516
UNUSED	   507#
UPDL	   506#
UTFND	   203	   212#
UTFND0	   217#	   223
VERSIO	    48#
WRDMOD	   327#	   373	   375	   377	   379	   381	   383	   391	   393	   395	   397	   399	   401	   414
	   416	   418	   420	   422	   424	   431	   433	   435	   437	   439	   441	   454	   456	   464
	   477	   479	   486
WRITE	   335# `h`;