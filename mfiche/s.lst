S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	

     1		777777	777777			ifndef listsn,<listsn==-1>
     2					Title	S.MAC - with system parameter file for P035/D, January 1988
     3
     4					IF2,<IFNDEF LISTSN,<TAPE>>	;Skip to PASS2 in all but COMMON.LST
     5
     6					;THIS FILE IS ASSEMBLED IN FRONT OF EACH SUBPROGRAM IN THE MONITOR
     7
     8					DEFINE	XPP(A,B)	;SYSTEM PARAMETER WHICH WILL PRINT-OUT FROM DDT
     9					<A=:B>
    10
    11					DEFINE	XPL(A,B)	;LOCAL PARAMETER WHICH WILL PRINT-OUT FROM DDT
    12					<A=B>
    13
    14					DEFINE	XP(A,B)		;SYSTEM PARAMETER WHICH WILL NOT PRINT FROM DDT
    15					<A==:B>
    16
    17					DEFINE	ND(A,B)		;DEFINE A IF NOT DEFINED (and make show up in CREF)
    18					< IF2,<IFDEF A,<A==:A>> IFNDEF A,<A==:<B>> >
    19
    20					DEFINE	NDL(A,B)	;DEFINE A AS LOCAL IF NOT DEFINED
    21					< IF2,<IFDEF A,<A==A>> IFNDEF A,<A==<B>> >
    22
    23					SALL			;SUPPRESS MACRO EXPANSIONS
    24
    25					DEFINE	$END(NAM,START),<
    26					NAM'LIT:: LIT		;Literals (define label for DDT typeout)
    27					NAM'END=: .-1		;Last word in this module
    28						END	<START>>
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 2
S	MAC	 4-Aug-76 23:25		Accumulator assignments

    29					SUBTTL	Accumulator assignments
    30					;*** ON JUNE 1,1971 ALL ACCUMULATOR NAMES WERE CHANGED TO REDUCE TO
    31					;*** SIXTEEN NAMES.  THE OLD ASSIGNMENTS WILL BE FOUND AFTER THE
    32					;*** CURRENT ASSIGNMENTS, UNDER REPEAT 0.
    33
    34					;SEE FILSER.FLO FOR SUBROUTINE CALLING CONVENTIONS
    35
    36					;* MEANS LOADED BY UUO HANDLER ON ALL UUOS
    37
    38			000000		XPP S,0		;*I/O DEVICE STATUS WORD (SEE BELOW FOR BITS)
    39			000001		XPP P,1		;*PUSH DOWN POINTER (SEPARATE LIST FOR EACH PI
    40							; CHANNEL AND EACH USER JOB)
    41			000002		XPP J,2		;BUFFER ITEM COUNT, OR JOB NUMBER
    42							;IN LEVEL D FILSER ADR OF CONTROLLER DATA BLOCK - ONE PER CONTROLLER
    43							;IN REMOTE COMMUNICATIONS HANDLER ADR OF STATION DATA BLOCK
    44			000003		XPP PG,3	;THIS DOES REPLACE R. IN GENERAL A PAGE NUMBER
    45							;UNTIL PAGING IS COMPLETE, PARENTAL GUIDENCE
    46							;IS SUGGESTED IN USING PG
    47			000004		XPP F,4		;*LH=UUOS DONE SO FAR FOR THIS DEVICE (SEE BELOW)
    48							; RH=ADDRESS OF DEVICE DATA BLOCK - ONE PER FILE
    49			000005		XPP U,5		;TTY OUTPUT BUFFER POINTER FOR COMMANDS, ERROR
    50							; MESSAGES, ETC.	;OR TEMPORARY
    51							;ADDRESS OF 3 WORD BUFFER HEADER IN USER AREA
    52							;IN LEVEL D FILSER ADR OF UNIT DATA BLOCK - ONE FOR EACH DISK UNIT
    53							; (POSITIONER) EVEN IF SAME TYPE
    54							;IN TERMINAL HANDLER ADR OF LINE DATA BLOCK OF THIS TTY
    55			000006		XPP T1,6	;TEMPORARY (SOMETIMES PRESERVED ACROSS SUBRTNS)
    56			000007		XPP T2,T1+1	;TEMPORARY (SOMETIMES PRESERVED ACROSS SUBRTNS)
    57							;IN TERMINAL HANDLER CHARACTER ADDRESS IN CHARACTER POOL
    58			000010		XPP T3,T2+1	;TEMPORARY
    59							;IN TERMINAL HANDLER CHARACTER (SEVEN BIT ASCII)
    60			000011		XPP T4,T3+1	;*ADDRESS OF DEVICE SERVICE ROUTINE'S DISPATCH TABLE
    61
    62					;0 THRU 11 SAVED FOR LEVEL D
    63
    64			000012		XPP W,12	;CONTENTS OF FIRST WORD OF 3 WORD USER BUFFER HEADER
    65							;*USER I/O CHANNEL NUMBER
    66			000013		XPP M,13	;*CURRENT UUO IN PROGRESS
    67							; R IN INDEX FIELD FOR RELOCATION
    68			000014		XPP P1,14	;PERMANENT AC'S
    69			000015		XPP P2,P1+1	;
    70			000016		XPP P3,P2+1	;
    71			000017		XPP P4,P3+1	;CONTENTS OF 2ND WORD OF USER BUFFER
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 3
S	MAC	 4-Aug-76 23:25		Accumulator assignments

    72					REPEAT 0,<	;ACCUMULATOR ASSIGNMENTS
    73					;*** THESE TWO PAGES ARE INCLUDED FOR HISTORICAL REASONS AS
    74					;*** A REFERENCE. NOTE THAT THEY ARE NOT ASSEMBLED.
    75					
    76					;* MEANS LOADED BY UUO HANDLER ON ALL UUOS
    77					
    78					XP IOS,0	;*I/O DEVICE STATUS WORD (SEE BELOW FOR BITS)
    79					XP TAC,6	;TEMPORARY (SOMETIMES PRESERVED ACROSS SUBRTNS)
    80					XP TAC1,7	;TEMPORARY (SOMETIMES PRESERVED ACROSS SUBRTNS)
    81					XP PDP,1	;*PUSH DOWN POINTER (SEPARATE LIST FOR EACH PI
    82							; CHANNEL AND EACH USER JOB)
    83					XP ITEM,2	;BUFFER ITEM COUNT, OR JOB NUMBER
    84					XP DAT,5	;TTY OUTPUT BUFFER POINTER FOR COMMANDS, ERROR
    85							; MESSAGES, ETC.	;OR TEMPORARY
    86					XP JBUF,DAT	;ADDRESS OF 3 WORD BUFFER HEADER IN USER AREA
    87					XP DEVDAT,4	;*LH=UUOS DONE SO FAR FOR THIS DEVICE (SEE BELOW)
    88							; RH=ADDRESS OF DEVICE DATA BLOCK
    89					XP PROG,3	;*LH=HIGHEST RELATIVE LOCATION IN USER AREA
    90							; RH=ABSOLUTE ADDRESS OF USER AREA
    91					XP JDAT,PROG	;*RH=ADDRESS OF JOB DATA AREA
    92							; LH=HIGHEST RELATIVE LOCATION IN USER AREA
    93					XP TEM,10	;TEMPORARY USED ONLY IN SCNSER I/O ROUTINE
    94					
    95					;ONLY 0 THRU 10 SAVED FOR INTERRUPT SERVICE - LEVEL C AND BEFORE
    96					
    97					XP DSER,11	;*ADDRESS OF DEVICE SERVICE ROUTINE'S DISPATCH TABLE
    98					
    99					;0 THRU 11 SAVED FOR LEVEL D
   100					
   101					XP BUFPNT,12	;CONTENTS OF FIRST WORD OF 3 WORD USER BUFFER HEADER
   102					XP UCHN,BUFPNT	;*USER I/O CHANNEL NUMBER
   103					XP BUFWRD,17	;CONTENTS OF 2ND WORD OF USER BUFFER
   104					XP UUO,13	;*CURRENT UUO IN PROGRESS
   105							; PROG IN INDEX FIELD FOR RELOCATION
   106					XP AC1,14	;TEMPORARY AC'S (MORE TEMPORARY THAN TAC,TAC1)
   107					XP AC2,15	;
   108					XP AC3,16	;
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 4
S	MAC	 4-Aug-76 23:25		Accumulator assignments

   109					SUBTTL	ACCUMULATOR ASSIGNMENTS (LEVEL D)
   110					;SEE FILSER.FLO FOR SUBROUTINE CALLING CONVENTIONS
   111					
   112					;GLOBAL - INTERRUPT AND UUO LEVELS
   113					
   114					XP S,IOS	;DEVICE IO STATUS
   115					XP P,PDP	;PUSH DOWN POINTER
   116					XP K,ITEM	;ADR. OF CONTROLLER DATA BLOCK - ONE FOR EACH CONTROLLER
   117					XP R,PROG	;JOB RELOCATION (RH) PROTECTION(LH)
   118					XP F,DEVDAT	;ADR. OF DEVICE DATA BLOCK - ONE FOR EACH FILE - USER PAIR
   119					XP U,DAT	;ADR. OF UNIT DAT BLOCK - ONE FOR EACH DISK UNIT (POSITIONER)
   120							;EVEN IF SAME TYPE
   121					
   122					;TEMPORARY - INTERRUPT AND UUO LEVELS - NEED NEVER BE PUSHED BEFORE USE
   123					
   124					XP T,TAC	;FIRST OF 4 CONSECUTIVE TEMP ACS
   125					XP T1,TAC1	;SECOND OF 4 CONSECUTIVE TEMP ACS
   126					XP T2,TEM	;THIRD OF 4 CONSECUTIVE TEMP ACS
   127					XP T3,DSER	;FOURTH OF 4 CONSECUTIVE TEMP ACS
   128					
   129					;GLOBAL - UUO LEVEL ONLY
   130					
   131					XP UCHN,UCHN	;
   132					XP UUO,UUO	;
   133					
   134					;PRESERVED - INTERRUPT AND UUO LEVELS - MUST BE PUSHED BEFORE BEING USED
   135					
   136					XP P1,AC1	;4 CONSECUTIVE ACS
   137					XP P2,AC2	;
   138					XP P3,AC3	;
   139					XP P4,BUFWRD	;
   140					
   141					;DEFINITIONS FOR TERMINAL HANDLERS - SCNSER,BTHINT(ETC),COMCON,ERRCON,ONCE
   142					
   143					XP LINE,U	;ADDRESS OF LINE DATA BLOCK OF THIS TTY
   144					XP CH,TEM	;CHARACTER (SEVEN BIT ASCII)
   145					XP CA,T1	;CHARACTER ADDRESS IN CHARACTER POOL
   146					
   147					>	;::: END OF REPEAT 0
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 5
S	MAC	 4-Aug-76 23:25		DDB - Device Data Block names

   148					SUBTTL	DDB - Device Data Block names
   149			000000			XP DEVNAM,0		;NAME IN SIXBIT ASCII
   150									; C(LH)=DEVICE MNEMONIC
   151									; C(RH)=DEVICE NUMBER, LEFT JUSTIFIED
   152			000001			XP DEVCHR,1		;CHARACTERISTIC
   153									; BITS 0-6=JOB NUMBER (BYTE POINTER=PJOBN)
   154									; ZERO VALUE IMPLIES NOT ASSIGNED
   155									;BITS 12-16=HUNG DEVICE COUNT. SET WHEN
   156									; DEVICE BECOMES ACTIVE. DECREMENTED EVERY SECOND.
   157			000400			XP HUNGST,400		;BITS 7-9 ARE A CODE FOR HUNG DEVICE
   158									; TIMEOUT. 0 MEANS DEVICE CANNOT BE HUNG
   159									; 1-7 MEANS HUNG TIME IS 2**N-1 SECONDS
   160									; POINTER = PDVTIM
   161									;BITS 10-16 ARE THE COUNTDOWN TIMER
   162									; FOR HUNG DEVICE. POINTER = PDVCNT
   163									; TRANSITION TO ZERO MEANS DEVICE HUNG
   164									; BITS 17-23=DEVICE NUMBER, BINARY (BYTE PNTR=PUNIT)
   165									; BITS 24-35=BUFFER SIZE
   166			000002			XP DEVIOS,2		;STATUS WORD.  SEE BELOW
   167			000003			XP DEVSER,3		;C(LH)=NEXT DEVICE DATA BLOCK
   168									; C(RH)=DEVICE SERVICE DISPATCH TABLE
   169					;  DEVICE SERVICE DISPATCH TABLE ASSIGNMENTS
   170		777777	777776			XP DDO,-2	;DUMP OUTPUT
   171		777777	777777			XP DDI,-1	;DUMP INPUT
   172			000000			XP DDXZ,0	;SIZE OF DISPATCH TABLE FOR CHANIO
   173			000001			XP DDINT,1	;INTERUPT SETUP
   174			000002			XP DBYT,2	;BYTE SIZES FOR IMAGE,IMAGE BINARY
   175			000003			XP DVSIZ,3	;BUFFER SIZES
   176			000004			XP DINI,4	;INITIALIZE
   177			000005			XP DHNG,5	;HUNG DEVICE
   178			000006			XP DRL,6	;RELEASE
   179			000007			XP DCL,7	;CLOSE
   180			000007			XP DCLO,DCL	;CLOSE OUTPUT=CLOSE
   181						;IMMEDIATE ADDRESS PART OF CLOSE UUO
   182			000001				XP CLSOUT,1	;INHIBIT CLOSING OUTPUT
   183			000002				XP CLSIN,2	;INHIBIT CLOSING INPUT
   184			000004				XP CLSDLL,4	;INHIBIT DEALLOCATION ON CLOSE OUTPUT
   185							XP CLSACC,10	;INHIBIT UPDATE OF ACCESS DATE ON READS (AND BAT BLOCK ON ER
   186			000010		R)
   187			000020				XP CLSNMB,20	;INHIBIT DELETING NMB ON CLOSE WITH ONLY LOOKUP
   188			000040				XP CLSRST,40		;RESET (INHIBIT SUPERSEDE/CREATE)
   189			000100				XP CLSDAT,100		;DELETE ACCESS TABLE ON CLOSE
   190			100000				XP CLSDMP,100000	;SET DUMPED BIT
   191			000010			XP DOU,10	;OUTPUT
   192			000011			XP DIN,11	;INPUT
   193			000012			XP DXFR,12	;TRANSFER ROUTINE
   194			000012			XP DZAP,DXFR	;ZAP ROUTINE
   195			000013			XP DGTRD,13	;GET READY (WAIT NOW)
   196			000014			XP DMT,14	;MTAPE
   197			000015			XP DGF,15	;UGETF
   198			000016			XP DEN,16	;ENTER
   199			000017			XP DLK,17	;LOOKUP	
   200			000020			XP DRN,20	;RENAME
   201			000021			XP DSI,21	;USETI
   202			000022			XP DSO,22	;USETO
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 5-1
S	MAC	 4-Aug-76 23:25		DDB - Device Data Block names

   203			000023			XP DCLI,23	;CLOSE INPUT
   204			000024			XP DUFD,24	;DISK UFD
   205			000025			XP DSEK,25	;SEEK
   206			000026			XP DVMAP,26	;MAP.
   207			000027			XP DFDEL,27	;FILE PAGE DELETE.
   208			000030			XP DFCRE,30	;FILE PAGE CREATE.
   209			000031			XP DFEXC,31	;FILE PAGES EXCHANGE.
   210			000032			XP DSIM,32	;SIMULTANEOUS UPDATE (DISK ONLY)
   211			000033			XP DFVLR,33	;VALIDATE A FILE'S RIBS.
   212			000034			XP DVSMAP,34	;SUPER MAP.
   213			000035			XP DFFIF,35	;FIND INTERESTING RETRIEVAL PNTR.
   214			000036			XP DFTRN,36	;TRUNCATE FILE WITHIN LAST PAGE.
   215			000037			XP DMOVPG,37	;MAKE VP MAPPABLE FROM FILE
   216			000004			XP DEVMOD,4		;BIT 35-J=1 IF MODE J IS LEGAL FOR THIS DEVICE
   217									; BIT 18 DEVICE ASSIGNED BY CONSOLE COMMAND
   218									; BIT 19 DEVICE ASSIGNED BY PROGRAM (INIT)
   219
   220					;RIGHT HALF OF DEVICE CHARACTERISTICS WORD (DEVCHR UUO)
   221			400000			XP ASSCON,400000	;ASSIGNED BY CONSOLE COMMAND ASSIGN
   222			200000			XP ASSPRG,200000	;ASSIGNED BY PROGRAM (INIT UUO)
   223					;LEFT HALF DEVICE CHARACTERISTICS (DEVCHR UUO)
   224			000001			XP DVOUT,1		;OUTPUT DEVICE
   225			000002			XP DVIN,2		;INPUT DEVICE
   226			000004			XP DVDIR,4		;HAS A DIRECTORY
   227			000010			XP DVTTY,10		;IS A TTY
   228			000020			XP DVMTA,20		;IS A MAG TAPE (REWIND)
   229			000040			XP DVAVAL,40		;1 IF DEVICE IS AVAILABLE TO THIS JOB
   230									; SET BY DEVCHR UUO
   231			000100			XP DVDTA,100		;IT IS A DECTAPE
   232			000200			XP DVPTR,200		;IS A PAPER TAPE READER
   233			000400			XP DVPTP,400		;IS A PAPER TAPE PUNCH
   234									; (OTHER UUOS BESIDES INPUT,OUTPUT,CLOSE,RELEASE)
   235			002000			XP DVDIS,2000		;IS A DISPLAY
   236			004000			XP DVRMT,4000		;DEVICE IS A REMOTE TERMINAL
   237			010000			XP DVNZP,10000	;DO NOT ZAP ON RESET (DVRMT OR DVTTY)
   238			020000			XP TTYATC,20000		;TTY IS CONTROLING TTY FOR JOB
   239			040000			XP DVLPT,40000		;IS A LPT (CARRIAGE CONTROL IN FORTRAN)
   240			100000			XP DVCDR,100000		;IS A CARD READER (TRAILING SPACES FOR MACRO)
   241			200000			XP DVDSK,200000		;IS A DISK
   242			400000			XP DVDIRIN,400000	;DECTAPE DIRECTORY IN CORE IF 1 (MUST BE SIGN BIT)
   243
   244			000005			XP DEVLOG,5		;LOGICAL NAME FOR JOB DEVICE
   245			000006			XP DEVBUF,6		;C(LH)=REL. ADDRESS OF 3 WORD OUTPUT BUFFER HEADER
   246									; C(RH)=REL. ADDRESS OF 3 WORD INPUT BUFFER HEADER
   247			000007			XP DEVIAD,7		;C(LH)=PROG IN INDEX FIELD
   248									;BITS 1 AND 2 CONTAIN THE COUNT OF NUMBER OF USER
   249									; CHANNELS INIT'ED ON THIS DEVICE (DECTAPE ONLY)
   250									; IADPTR-COMMON BYTE POINTER TO 2 BIT COUNT
   251									;C(RH)=RELATIVE ADDRESS OF INPUT BUFFER THE
   252									; SERVICE ROUTINE IS FILLING.
   253			000007			XP DEVADR,DEVIAD
   254			000010			XP DEVOAD,10		;C(LH)=PROG IN INDEX FIELD
   255									;C(RH)=RELATIVE ADDRESS OF OUTPUT BUFFER THE
   256									; SERVICE ROUTINE IS EMPTYING.
   257			000010			XP DEVPTR,DEVOAD
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 5-2
S	MAC	 4-Aug-76 23:25		DDB - Device Data Block names

   258			000011			XP DEVCLS,11		;CLASS AND BUFFER POINTER
   259			000012			XP DEVSTS,12		;WORD FOR DEVICE CONI
   260			000013			XP DEVPWC,13		;PARTIAL WORD COUNT
   261			000014			XP DEVWUC,14		;ACTIVE PARTIAL WORD COUNT
   262
   263			000043		LENFXL=^D35		;LENGTH OF FIXED LIST AREA IN DSK AND MTA DDBS
   264
   265			000013			XP DEVABC,13		;ADVANCE BUFFER COUNT (DSK,MTA)
   266			000014			XP DEVBWC,14		;BUFFR WORD COUNT (DSK,MTA)
   267			000015			XP DEVCTR,15
   268			000016			XP DEVINT,16
   269					;FOR LONG DISPATCH TABLE DEVICES ONLY:
   270			000015			XP DEVFIL,15		;FILE NAME IN SIXBIT
   271			000016			XP DEVEXT,16		;LH=EXTENSION, RH=UNUSED
   272			000017			XP DEVPPN,17		;PROJECT,PROGRAMMER NUMBER (DISK ONLY)
   273									; OTHER DEVICES NEED NOT HAVE THIS LOCATION IN THEM.
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 6
S	MAC	 4-Aug-76 23:25		I/O status word assignments

   274					SUBTTL	I/O status word assignments
   275					;DATA MODES: BITS 32-35 (BYTE POINTER=PIOMOD)
   276			000000			XP A,0			;ASCII
   277			000001			XP AL,1			;ASCII LINE
   278			000002			XP XA,2			;EXTENDED ASCII
   279			000010			XP I,10			;IMAGE
   280			000013			XP IB,13		;IMAGE BINARY
   281			000014			XP B,14			;BINARY
   282			000015			XP SD,15		;SCOPE DUMP MODE
   283			000016			XP DR,16		;DUMP BY RECORDS
   284			000017			XP D,17			;DUMP ACROSS RECORDS
   285					; STATUS BITS
   286					;RIGHT HALF (USER)
   287			000020			XP IOWC,20		;DON'T COMPUTE WORD COUNT
   288			000040			XP IOCON,40		;CONTINUOUS (CONT=0)
   289			000100			XP IONRCK,100		;READ WITH NO REREAD CHECK
   290			000200			XP IONDX,200		;READ INDEX BLOCKS.
   291					;BITS 27,28	DENSITY OF MAG TAPE
   292					;		00=INSTALLATION STANDARD
   293					;		01=200 BPI
   294					;		10=556 BPI
   295					;		11=800 BPI
   296			001000			XP IOPAR,1000		;WRITE EVEN PARITY (BCD) IF 1 ON MAG TAPE
   297			002000			XP IOTEND,2000		;END OF MAG TAPE
   298			004000			XP IOBOT,4000		;BEGINNING OF MAG TAPE
   299			010000			XP IOACT,10000		;DEVICE ACTIVE
   300			020000			XP IODEND,20000		;DATA END ENCOUNTERED
   301			040000			XP IOBKTL,40000		;BLOCK TOO LARGE
   302			100000			XP IODTER,100000	;DATA ERROR-IE HARDWARE OR SOFTWARE PARITY AND/OR CHECKSUM
   303									; INDICATES DATA MAY BE BAD
   304			200000			XP IODERR,200000	;DEVICE ERROR-IE THE DEVICE IS BAD
   305									; THE DATA IS PROBABLY INTACT ON THE MEDIUM
   306									; IF READING (USUAL)
   307									; THE DATA IS PROBABLY INCORRECTLY WRITTEN
   308									; ON THE MEDIUM
   309									;  IF WRITING (UNUSUAL)
   310			400000			XP IOIMPM,400000	;IMPROPER MODE DETECTED BY UUOCON OR DEVICE
   311									; SERVICE ROUTINE
   312					; LEFT HALF (SYSTEM)
   313			000001			XP IOW,1		;I/O WAIT
   314			000002			XP IOBEG,2		;VIRGIN DEVICE
   315			000004			XP IOFST,4		;NEXT ITEM WILL BE THE FIRST ITEM OF A BUFFER
   316			000010			XP IOSTBL,10		;RECOVERABLE DEVICE ERROR FLAG
   317			000020			XP IO,20		;OUT=1, IN=0
   318			000040			XP IOEND,40		;SERVICE ROUTINE HAS TRANSMITTED LAST DATA
   319			000100			XP IOHNG,100		;DEVCHK SETS, WSYNC SEES AND CALLS ERRCON.
   320
   321					;DEVICE DEPENDENT BITS ARE ALLOCATED FROM BIT 0 TO HIGHER BIT NUMBERS.
   322
   323					;COMMAND DECODER USE OF AC IOS:
   324
   325					;RH=DISPATCH ADDRESS - SAVJOB,GETJOB,RUNJOB
   326					;LH:
   327			400000			XP NSRBIT,400000	;HIGH SEG TO BE FLAGGED NON-SHARABLE (SAVE VS
   328									; SSAVE COMMAND) DO NOT CONFUSE WITH SIGN BIT
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 6-1
S	MAC	 4-Aug-76 23:25		I/O status word assignments

   329									; OF JBTSTS WHICH SAYS SEG IS SHARABLE
   330
   331					;SPECIAL BITS FOR PHYSICAL ONLY CODE
   332
   333			200000			XP UPHNLY,200000	;IN CALLI'S
   334			400000			XP PHONLY,400000	;IN W FOR UUOS
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 7
S	MAC	 4-Aug-76 23:25		LEFT HALF USRJDA

   335					SUBTTL	LEFT HALF USRJDA
   336					;(JOB DEVICE ASSIGNMENTS) UUO'S FOR THIS CHANNEL SINCE LAST INIT
   337					;SET IN LH OF DEVDAT AT BEGINNING OF UUO,STORED IN MEMORY(USRJDA) IF UUO IS SUCCESSFUL
   338			400000			XP INITB,400000		;INIT-SAVEGET DEPENDS ON THIS BEING SIGN BIT
   339			200	XP IBUFB,200000		;INIT WITH INPUT BUFFER SPECIFIED
   340			100000			XP OBUFB,100000		;INIT WITH OUTPUT BUFFER SPECIFIED
   341			040000			XP LOOKB,40000		;LOOKUP
   342			020000			XP ENTRB,20000		;ENTER
   343			010000			XP INPB,10000		;INPUT
   344			004000			XP OUTPB,4000		;OUTPUT
   345			002000			XP ICLOSB,2000		;INPUT CLOSE
   346			001000			XP OCLOSB,1000		;OUTPUT CLOSE
   347			000400			XP INBFB,400		;INBUF
   348			000200			XP OUTBFB,200		;OUTBUF
   349			000100			XP SYSDEV,100		;THIS DEVICE IS SYSTEM TAPE
   350									; PROJ.PROG. NO 1,1 ON DSK
   351			000040			XP RENMB,40		;RENAME UUO IN PROGRESS (NEVER STORED IN MEMORY)
   352			000020			XP DSKRLB,20		;TO DISTINGUISH RELEASE FROM RESET UUO IN DSKSER.
   353									; RELEASE CLEARS THEM ALL - LEVEL C
   354			000020			XP RESETB,20		;RESET UUO IN PROGRESS - LEVEL D (NEVER STORED IN MEMORY)
   355			000010			XP GETB,10		;GET IN PROGRESS USE EX PROT INSTEAD OF RD
   356			000004			XP MAPB,4		;
   357
   358					;MTAPE UUO BITS
   359			000040			XP SLICE,40		;SET SLICE LEVEL IF A 1 ACCORDING TO SLEVEL
   360			000020			XP SLEVEL,20		;VALUE OF SLICE LEVEL IF SLICE A 1
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 8
S	MAC	 4-Aug-76 23:25		MACROS TO MOVE DATA BETWEEN THE USER AND THE OPERATING SYSTEM.

   361					SUBTTL	MACROS TO MOVE DATA BETWEEN THE USER AND THE OPERATING SYSTEM.
   362
   363					DEFINE UHRRZ (A,B)
   364						<XCTBU	<HRRZ A,B>>
   365
   366					DEFINE UHRLZ(A,B)
   367						<XCTBU	<HRLZ A,B>>
   368
   369					DEFINE UHLLZ(A,B)
   370						<XCTBU	<HLLZ A,B>>
   371
   372					DEFINE UHLRZ(A,B)
   373						<XCTBU	<HLRZ A,B>>
   374
   375					;CONDITIONAL ASSEMBLY CONTROL FOR DIFFERENT PROCESSORS
   376
   377			000001		CPUKI==1		;FOR KI10
   378			000002		CPUKL==2		;FOR KL10
   379			000003		CPUKS==3		;FOR KS10
   380			000004		CPUF3==4		;FOR FOONLY
   381
   382					DEFINE IFCPU(CP)<
   383					CPZZ==0
   384					IRP CP,<
   385					IFE CPUTYP-CPU'CP,<CPZZ==1>
   386					>;END IRP
   387					REPEAT CPZZ>
   388
   389					DEFINE IFNCPU(CP)<
   390					CPZZ==1
   391					IRP CP,<
   392					IFE CPUTYP-CPU'CP,<CPZZ==0>
   393					>;END IRP
   394					REPEAT CPZZ>
   395
   396					DEFINE CPUSYM<
   397					IFCPU (F3),<SEARCH F3SYM>
   398					IFCPU (KI),<SEARCH KISYM>
   399					IFCPU (KL),<SEARCH KLSYM>
   400					IFCPU (KS),<SEARCH KSSYM>
   401					>
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 9
S	MAC	 4-Aug-76 23:25		LOOKUP/ENTER/RENAME ERROR CODES                             KONLY)

   402					SUBTTL	LOOKUP/ENTER/RENAME ERROR CODES                             KONLY)
   403					; IN RH OF 2ND WORD OF 4 WORD ARGUMENT BLOCK
   404					;THE SAME ERROR CODES ARE RETURNED ON RUN AND GETSEG UUOS FOR ALL DEVICES
   405
   406			000000			XP FNFERR,0	;FILE NOT FOUND OR 0 FILE NAME
   407			000001			XP IPPERR,1	;INCORRECT PROJECT,PROGRAMMER NUMBERS
   408			000002			XP PRTERR,2	;PROTECTION FAILURE (OR DIRECTORY FULL ON DTA)
   409			000003			XP FBMERR,3	;FILE BEING MODIFIED
   410						XP AEFERR,4	;ALREADY EXISTING FILE (OR RENAME) OR DIFFERENT FILE NAME ON UPDATE 
   411			000004		ENTER
   412			000005			XP ISUERR,5	;ILLEGAL SEQUENCING OF UUOS
   413								; (RENAME WITHOUT LOOKUP OR ENTER; LOOKUP AFTER ENTER)
   414			000006			XP TRNERR,6	;TRANSMISSION ERROR OR BAD UFD
   415			000007			XP NSFERR,7	;NOT A SAVE FILE (RUN,GETSEG UUO ONLY)
   416			000010			XP NECERR,10	;NOT ENOUGH CORE (RUN,GETSEG UUO ONLY)
   417			000011			XP DNAERR,11	;DEVICE NOT AVAILABLE (RUN,GETSEG UUO ONLY)
   418			000012			XP NSDERR,12	;NO SUCH DEVICE (RUN,GETSEG UUO ONLY)
   419			000013			XP ILUERR,13	;ILLEGAL UUO (GETSEG ONLY) NOT TWO RELOC REG. CAPABILITY
   420
   421					;MORE LOOKUP/ENTER/RENAME ERROR CODES
   422
   423			000014			XP NRMERR,14	;NO ROOM ON THIS FILE STRUCTURE ON ENTER OR ALLOCATION
   424								; OR USER QUOTA EXCEEDED(OVERDRAW DOES NOT COUNT ON ENTER)
   425			000015			XP WLKERR,15	;WRITE LOCK ERROR - CAN'T WRITE
   426								; ON FILE STRUCTURE. EITHER HARDWARE
   427								; OR SOFTWARE WRITE PROTECTED.
   428			000016			XP NETERR,16	;NOT ENOUGH MONITOR TABLE SPACE
   429			000017			XP PAOERR,17	;PARTIAL ALLOCATION ONLY
   430			000020			XP BNFERR,20	;BLOCK NOT FREE ERROR ON ALLOCATION WHERE STARTING
   431								; LOGICAL BLOCK NUMBER OF FILE STRUCUTRE SPECIFIED.
   432			000021			XP NTRERR,21	;PRIVS WILL NOT ALLOW BUT OP COMPLETED
   433			000022			XP LKMERR,22	;MULTIPLE LOOKUP ERROR, TOO MANY SPEC
   434
   435					; JOB BUFFER AREA HEADER
   436
   437			000000			XP JBFADR,0		;BIT 0=1 IF THIS BUFFER RING HAS NEVER BEEN
   438									; REFERENCED FROM THE USER'S PROGRAM BY
   439									; AN INPUT OR OUTPUT COMMAND.
   440									; BITS 1-17=UNUSED
   441									; BITS 18-35=CURRENT BUFFER ADDRESS
   442			000001			XP JBFPTR,1		;BYTE POINTER TO NEXT BYTE -1
   443			000002			XP JBFCTR,2		;POSITIVE ITEM COUNT
   444
   445					; JOB BUFFER HEADER
   446
   447			400000			XP IOUSE,400000		;1 IF BUFFER IS FULL (OR BEING EMPTIED)
   448									; 0 IF BUFFER IS EMPTY (OR BEING FILLED)
   449									; BITS 1-17=BUFFER SIZE
   450									; BITS 18-35=NEXT BUFFER ADDRESS
   451			200000			XP IOADVB,200000	;1 IF BUFFER HAS ALREADY BEEN
   452									;ADVANCED. CAN HAPPEN IF INTERUPT
   453									;FROM MIDDLE OF I/O. BIT IS IN
   454									;BUFFER HEADER
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 10
S	MAC	 4-Aug-76 23:25		SYMBOLS FOR MAKING PARTS OF WORDS BE A CONSTANT OF ZERO

   455					SUBTTL	SYMBOLS FOR MAKING PARTS OF WORDS BE A CONSTANT OF ZERO
   456					; SO THAT FUTURE PROGRAMMERS WILL KNOW THAT THAT BYTE MUST BE ZERO.
   457
   458			000000			XP ZERO36,0	;36 BITS OF ALWAYS ZERO
   459			000000			XP ZERO18,0	;18 BITS (LH OR RH DEPENDING ON WHICH FIELD OF XWD.
   460			000000			XP ZERO13,0	;INDIRECT BIT
   461			000000			XP ZERO5,0	;5 BITS (USUALLY LH BITS 13 THRU 17, I.E., @ AND INDEX FIELD
   462								; OF POINTERS WHICH WANT TO BE REFERENCED USING INDIRECTION
   463
   464			000000			XP UUNNAM,0
   465			000001			XP UUNEXT,1
   466			000002			XP UUNATT,2
   467			000003			XP UUNPPN,3
   468			000000			XP UUXNUM,0
   469			000001			XP UUXPPN,1
   470			000002			XP UUXNAM,2
   471			000003			XP UUXEXT,3
   472			000004			XP UUXPRV,4
   473			000005			XP UUXSIZ,5
   474			000006			XP UUXVER,6
   475			000007			XP UUXFUT,7
   476			000010			XP UUXEST,10
   477			000011			XP UUXALC,11
   478			000012			XP UUXPOS,12
   479			000013			XP UUXFT1,13
   480			000014			XP UUXLCW,14
   481			000015			XP UUXMTA,15
   482			000016			XP UUXDEV,16
   483			000017			XP UUXSTS,17
   484			000020			XP UUXELB,20
   485			000021			XP UUXEUN,21
   486			000022			XP UUXQTF,22
   487			000023			XP UUXQTO,23
   488			000024			XP UUXMXA,24
   489			000025			XP UUXUSD,25
   490			000026			XP UUXAUT,26
   491			000027			XP UUXUNM,27
   492			000030			XP UUXUN1,30
   493			000031			XP UUXTRU,31
   494			000032			XP UUXXT2,32
   495			000033			XP UUXALP,33
   496			000034			XP UUXSNM,34
   497			000035			XP UUXPJC,35
   498			000036			XP UUXPJ1,36
   499			000037			XP UUXPJ2,37
   500			000040			XP UUXPID,40
   501			000040			XP UUXENT,UUXPID	;LAST ARG OR VALUE FOR EXTENDED UUOS
   502			000003		XP DC.SIZ,3	;; BECAUSE THERE IS NO BETTER WAY NEEDED by COMMON/ONCDSK
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 11
S	MAC	 4-Aug-76 23:25		MACROs and OPDEFs

   503					SUBTTL	MACROs and OPDEFs
   504
   505		324740	000000		OPDEF PJRST [JUMPA 17,]	;PJRST IS USED IN PLACE OF THE LAST PAIR OF
   506							; INSTRUCTIONS IN A SUBROUTINE WHEN THEY ARE PUSHJ
   507							; FOLLOWED BY A POPJ.  PJRST IS USED INSTEAD OF JRST, SO
   508							; THAT SOMEONE READING THE CODE WILL INDERSTAND THAT A
   509							; SUBROUTINE IS BEING CALLED.
   510
   511		265000	000000		OPDEF PJSP	[JSP]	;PJSP IS USED IN PLACE OF MOVEI .+2, PJRST SUB
   512					;*;	SUPPRESS PJSP
   513		326000	000000		OPDEF PJUMPN	[JUMPN]
   514					;*;	SUPPRESS PJUMPN
   515		322000	000000		OPDEF PJUMPE	[JUMPE]
   516					;*;	SUPPRESS PJUMPE
   517					;PDEF PJMPL	[JUMPL]
   518					;PDEF PJMPLE	[JUMPLE]
   519					;PDEF PJMPG	[JUMPG]
   520					;PDEF PJMPGE	[JUMPGE]
   521
   522					DEFINE PFALL(ADDR),<IF2,<IFN <.-ADDR>,<
   523					 PRINTX ?Address ADDR does not immediately follow PFALL macro
   524					 STOPI;;Force an "A" error, MACRO will type label + offset>>>
   525
   526		414000	000000		OPDEF SWAPIN [SETM]	;A read from memory that is expected to cause pagefault
   527
   528					;PDEF VPGFIL [CALLI -103]
   529		047000	777676		OPDEF VDSKPT [CALLI -102]
   530					;PDEF PGFSTS [CALLI -101]
   531		047000	777700		OPDEF PERSTS [CALLI -100]
   532					;PDEF VFSTAT [CALLI -77]
   533		047000	777702		OPDEF VALPAG [CALLI -76]
   534		047000	777703		OPDEF PREREF [CALLI -75]
   535		047000	777704		OPDEF WSCTL  [CALLI -74]
   536					;PDEF REFBIT [CALLI -73]
   537		047000	777706		OPDEF PERSET [CALLI -72]
   538		047000	777707		OPDEF PAGSTS [CALLI -71] ;not VPGSTS
   539		047000	777710		OPDEF VPROT  [CALLI -70]
   540		047000	777711		OPDEF VCREAT [CALLI -67]
   541		047000	777712		OPDEF VCLEAR [CALLI -66]
   542		047000	777713		OPDEF VREMOV [CALLI -65]
   543		047000	777714		OPDEF VREPL  [CALLI -64]
   544
   545		042000	000000		OPDEF AUXCAL [042B8]
   546		043000	000000		OPDEF CHANIO [043B8]
   547		044000	000000		OPDEF FRMOP  [044B8]
   548
   549
   550					;Page read/write protection codes.
   551					;Used by VPROT and VREPL uuos, function FNCMDP of CHANIO
   552			000001			XP CPRRED,1	;Read only
   553			000002			XP CPRCOW,2	;Copy on write
   554			000003			XP CPRRDW,3	;Read and write
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 12
S	MAC	 4-Aug-76 23:25		SYSTEM MACROS -- STOPCD

   555					SUBTTL	SYSTEM MACROS -- STOPCD
   556
   557					;Macro to generate code for fatal error conditions
   558					;Call with:
   559					;	STOPCD	(CONT,TYPE,NAME,TYPOUT,<Description>)
   560					;Where
   561					;CONT = The continue address for HALT, DEBUG, INFO, and EVENT stopcodes.
   562					;	May be ".", ".+1", ".+2", "CPOPJ", or other address.
   563					;	Should be "." or blank for STOP, JOB, CPU, DISK, or XCT stopcodes.
   564					;TYPE = The type of error.  One of the following:
   565					;	HALT   - Generate a "JRST 4," instruction (for recursion in DIE routine)
   566					;	STOP   - Stop the system, dump and reload Monitor
   567					;	JOB    - Stop one job, snapshot dump and continue
   568					;	DEBUG  - Snapshot dump and continue
   569					;	CPU    - Output CPU hardware status, stop system
   570					;	INFO   - Output message to CTY, continue with no dump
   571					;	EVENT  - Output message with no bells (such as "%% NETWORK IS OFFINE")
   572					;	PATCH  - Output message like EVENT (for successful patches)
   573					;	DISK   - Reload the monitor and do a full DSKCLN to rebuild the SATs
   574					;	XCT    - Generate XCT NAME where NAME has already been defined.
   575					;NAME = Six letter name, defaults to S$NAME if not specified.
   576					;	If nonblank, it will be used as global label and must be unique.
   577					;TYPOUT = Optional routine to call to output more info after ACs are restored.
   578					;	This can be 36-bit quantity, the LH is copied to LH of .CPCPC .
   579					;DESC = Description of stopcode (currently not used, should be in <>).
   580
   581					;Define the various stopcode action types
   582		777777	777775			S$ENTRY==:-3	;Module entry point, define default stopcode name
   583		777777	777776			S$XCT==:  -2	;Generate XCT NAME for previously defined stopcode
   584		777777	777777			S$HALT==: -1	;Halt CPU (no output, no dump, no reload)
   585			000000			S$NONAME==:0	;RELOAD (stopcode with no name)
   586			000001			S$STOP==:  1	;RELOAD (output DDB, dump, reload system)
   587			000002			S$JOB==:   2	;JOBSTP (output DDB, snapshot dump, stop job, continue)
   588			000003			S$DEBUG==: 3	;BUGSTP (output DDB, snapshot dump, continue)
   589			000004			S$CPU==:   4	;CPUSTP (output CPU status, dump, reload)
   590			000005			S$INFO==:  5	;INFSTP (output stopcode name, call TYPOUT, no dump)
   591			000006			S$EVENT==: 6	;EVNSTP (output message only, no dump, no bells)
   592			000007			S$PATCH==: 7	;EVNSTP (output message only, no dump, no bells)
   593			000010			S$DISK==: 10	;DSKSTP (same as S$STOP but with full DSKCLN)
   594
   595					DEFINE	STOPCD(CONT<0>,TYPE<NONAME>,NAME,TYPOUT,TEXT),<
   596					IFNDEF S$'TYPE,<STOPI>	;"A" error - Undefined "TYPE" stopcode NAME TYPOUT TEXT
   597							    S$TEMP==-1
   598					IFIDN <CONT>,<.>,  <S$TEMP==0>;;	;Same as ".+1"
   599					IFIDN <CONT>,<.+1>,<S$TEMP==0>;;	;Resume at saved PC  (nonskip return)
   600					IFIDN <CONT>,<.+2>,<S$TEMP==1>;;	;Resume at saved PC + 1 (skip return)
   601					IFIDN <CONT>,<SLO>,<S$TEMP==2>;;	;*HACK* for DSKCLN
   602					     IFL   S$TEMP, <S$TEMP==CONT+0	;Continuation address >
   603					     IFNB <TYPOUT>,<S$TEMP==S$TEMP+1B0	;1B0 to signify typeout routine >
   604							    S$TEMP==S$TEMP+<S$'TYPE>B17 ;;Stopcode type in LH
   605					IFIDN <CONT>,<SLO>,<S$TEMP==<S$DISK>B17>;*HACK* for DSKCLN
   606					
   607					IFE S$'TYPE-S$HALT,<
   608					NAME::	HALT	CONT		;**** NAME stopcode "TEXT" ****>
   609					
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 12-1
S	MAC	 4-Aug-76 23:25		SYSTEM MACROS -- STOPCD

   610					IFG S$'TYPE,<	IF2,<IFNDEF DIE,<EXTERN DIE,NODIE>>
   611					NAME::	XCT	[	;**** NAME stopcode "TEXT" ****
   612					IFN <S$'TYPE-S$EVENT>*<S$'TYPE-S$INFO>*<S$'TYPE-S$PATCH>,<PUSHJ P,DIE>
   613					IFE <S$'TYPE-S$EVENT>*<S$'TYPE-S$INFO>*<S$'TYPE-S$PATCH>,<PUSHJ P,NODIE>
   614							 SIXBIT /NAME/	;6 character name of stopcode
   615							 S$TEMP		;<Flag+S$'TYPE>,,<CONT>
   616							 TYPOUT	]	;Optional RH is routine to call, LH for data >
   617					
   618					IFE S$'TYPE-S$ENTRY,<	IF2,<IFNDEF DIE,<EXTERN DIE,NODIE>>
   619						LALL
   620						ENTRY	NAME		;For library searches
   621					'NAME'::PUSHJ	P,DIE		;**** Default stopcode for "NAME" ****
   622						SIXBIT	/NAME/  	;Title of module
   623						S$NONAME,,0		;?NONAME stopcode "NAME+nnn(nnnnnn)"
   624					S$NAME==NAME			;For STOPCDs with no arguments
   625						SALL>
   626					
   627					IFE S$'TYPE-S$XCT,<IF2,<IFNDEF NAME,<EXTERN NAME>>
   628						XCT	NAME		;**** NAME stopcode "TEXT" ****>
   629					
   630					IFE S$'TYPE-S$NONAME,< XCT S$NAME ;**** unnamed STOPCD ****>
   631					
   632					>  ;End of STOPCD definition
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 13
S	MAC	 4-Aug-76 23:25		Bits in DEBUGF - Debugging flags

   633					SUBTTL	Bits in DEBUGF - Debugging flags
   634
   635		400000	000000		DF.SBD==1B0		;SYSTEM BEING DEBUGGED
   636		200000	000000		DF.RDC==1B1		;RELOAD ON DEBUG STOPCD'S
   637		100000	000000		DF.RJE==1B2		;RELOAD ON JOB ERRORS
   638		040000	000000		DF.NAR==1B3		;NO AUTO RELOADS
   639		020000	000000		DF.CP1==1B4		;STOP SYSTEM ON CPU STOPCD ON ANY CPU
   640		010000	000000		DF.DDC==1B5		;DON'T DO CONTINUABLE STOPCD DUMP ON DEBUG STOPCDS
   641		004000	000000		DF.DJE==1B6		;DON'T DO CONTINUABLE STOPCD DUMP ON JOB STOPCDS
   642		002000	000000		DF.DCP==1B7		;DON'T DO CONTINUABLE STOPCD DUMP ON CPU STOPCDS
   643		001000	000000		DF.RQC==1B8		;CALL CRSCPY ON NEXT CLOCK TICK ON BOOT CPU
   644		000400	000000		DF.RQK==1B9		;CALL KDPLDR ON NEXT CLOCK TICK
   645		000200	000000		DF.WFL==1B10		;COPY OUTPUT TO FRCLIN TO SYSTEM CTY
   646		000100	000000		DF.DCC==1B11		;DISABLE NEXT CRSCPY REQUEST
   647		000040	000000		DF.RIP==1B12		;RELOAD IN PROGRESS (RECON. FUNCTION .RCRLD)
   648					       ;1B13-1B17 not used
   649			400000		DF.BP0==1B18		;CAN ENTER EDDT ON CPU0 USING XCT .C0DDT
   650			200000		DF.BP1==1B19		;CAN ENTER EDDT ON CPU1 USING XCT .C1DDT
   651			100000		DF.BP2==1B20		;CAN ENTER EDDT ON CPU2 USING XCT .C2DDT
   652			040000		DF.BP3==1B21		;CAN ENTER EDDT ON CPU3 USING XCT .C3DDT
   653			020000		DF.BP4==1B22		;CAN ENTER EDDT ON CPU4 USING XCT .C4DDT
   654			010000		DF.BP5==1B23		;CAN ENTER EDDT ON CPU5 USING XCT .C5DDT
   655			770000		DF.BPT==DF.BP0!DF.BP1!DF.BP2!DF.BP3!DF.BP4!DF.BP5 ;MASK OF CPU BPT BITS
   656					       ;1B24-1B35 not used
   657
   658					; BITS IN THE RH OF .CPSBR
   659
   660			000001		XP SR.CSB,1B35		;CPU STATUS BLOCK READ AT SOME POINT ON THIS CPU
   661			000002		XP SR.DSB,1B34		;DEVICE STATUS BLOCK READ AT SOME POINT ON THIS CPU
   662			000004		XP SR.STS,1B33		;MACHINE STATUS SAVED ON THIS CPU.  USED TO AVOID SAVING
   663								; STATUS ON SECOND AND SUBSEQUENT 407 STARTS
   664			000010		XP SR.DIE,1B32		;LAST STOPCD WAS CPU.  OPERATOR MUST RESTART PROCESSOR
   665			000020		XP SR.ACL,1B31		;THIS CPU IS LOOPING IN THE AC'S. DON'T
   666								; SAVE THIS AC BLOCK IN SYSTOP
   667			000040		XP SR.LBH,1B30		;LOAD BOOT (OR GO TO MONBTS) ON THIS CPU
   668								; REGARDLESS OF WHO IS THE BOOT CPU
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 14
S	MAC	 4-Aug-76 23:25		Common PI system defintions

   669					SUBTTL	Common PI system defintions
   670					;Extracted from S.MAC for 7.02
   671
   672					  ;PI CONI bits for KA,KI,KL,KS,F3
   673		000100	000000		PI.PR1==1B11		;Program PI request for channel 1
   674		000040	000000		PI.PR2==1B12
   675		000020	000000		PI.PR3==1B13
   676		000010	000000		PI.PR4==1B14
   677		000004	000000		PI.PR5==1B15
   678		000002	000000		PI.PR6==1B16
   679		000001	000000		PI.PR7==1B17
   680					;1B18-1B20 are different for each CPU
   681			040000		PI.IP1==1B21		;Interrupt in Progress on channel 1
   682			020000		PI.IP2==1B22
   683			010000		PI.IP3==1B23
   684			004000		PI.IP4==1B24
   685			002000		PI.IP5==1B25
   686			001000		PI.IP6==1B26
   687			000400		PI.IP7==1B27
   688			077400		PI.IPA==PI.IP1+PI.IP2+PI.IP3+PI.IP4+PI.IP5+PI.IP6+PI.IP7 ;INTERRUPTING PROG ON ALL
   689			000200		PI.PIA==1B28		;PI system is active
   690			000100		PI.CO1==1B29		;Channel on 1 (this channel is enabled)
   691			000040		PI.CO2==1B30
   692			000020		PI.CO3==1B31
   693			000010		PI.CO4==1B32
   694			000004		PI.CO5==1B33
   695			000002		PI.CO6==1B34
   696			000001		PI.CO7==1B35
   697
   698					  ;PI CONO bits for KA,KI,KL,KS,F3
   699			020000		PI.CPP==1B22		;Clear program PI request on specified channels
   700			010000		PI.CPI==1B23		;Clear PI system
   701			004000		PI.IIO==1B24		;Initiate interrupt on specified channels
   702			002000		PI.TNP==1B25		;Turn on specified channels
   703			001000		PI.TFP==1B26		;Turn off specified channels
   704			000400		PI.OFF==1B27		;Turn off interrupt system
   705			000200		PI.ON==1B28		;Turn on interrupt system
   706			000100		PI.SC1==1B29		;Select channel 1
   707			000040		PI.SC2==1B30
   708			000020		PI.SC3==1B31
   709			000010		PI.SC4==1B32
   710			000004		PI.SC5==1B33
   711			000002		PI.SC6==1B34
   712			000001		PI.SC7==1B35
   713
   714					;CPU TYPE CODES (RH OF .CPTYP)(LH FOR CUSTOMERS)
   715			000001		CT.P6==1		;PDP-6 TYPE PROCESSOR
   716			000002		CT.KA==2		;KA-10 TYPE PROCESSOR
   717			000003		CT.KI==3		;KI-10 TYPE PROCESSOR
   718			000004		CT.KL==4		;KL-10 TYPE PROCESSOR
   719			000005		CT.KS==5		;KS-10 TYPE PROCESSOR
   720			000006		CT.KC==6		;KC-10 type processor
   721			000007		CT.F3==7	;Foonly F3
   722
   723					;Macro to prevent interrupts from other CPUs
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 14-1
S	MAC	 4-Aug-76 23:25		Common PI system defintions

   724					DEFINE	SYSPIF,<;;Disable APR timer and console PDP-11 interrupts
   725						CONO	PI,PI.OFF	;PUSHJ P,LOKSPI for SMP>
   726
   727					;MACRO to reenable interrupts from other CPUs
   728					DEFINE	SYSPIN(A)<;;Optionally start a program-requested interrupt
   729						CONO	PI,PI.ON+A	;PUSHJ P,UNLSPI or UNLSPT for SMP>
   730
   731					;MACRO to prevent interrupts from devices (leave APR timer enabled)
   732					DEFINE	PIOFF<IF2,<IFNDEF SYSOFF,<EXTERN SYSOFF>>
   733						CONO	PI,SYSOFF	;PUSHJ P,LOKDPI for SMP>
   734
   735					;MACRO to reenable interrupts from devices
   736					DEFINE PION<IF2,<IFNDEF SYSON,<EXTERN SYSON>>
   737						CONO	PI,SYSON	;PUSHJ P,UNLDPI for SMP>
   738
   739					;MACRO to prevent interrupts for bit diddlers (SETOS,CLRBTS)
   740					DEFINE	BTSOFF,<;;Disable interrupts from devices or APR timer
   741						CONO	PI,PI.OFF	;PUSHJ P,LOKBTI for SMP>
   742
   743					;MACRO to reenable interrupts for bit diddlers
   744					DEFINE	BTSON,<;;Enable previously enabled interrupts
   745						CONO	PI,PI.ON	;PUSHJ P,UNLBTI for SMP>
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 15
S	MAC	 4-Aug-76 23:25		Job status word (JBTSTS TABLE)

   746					SUBTTL	Job status word (JBTSTS TABLE)
   747
   748			400000			XP RUN,400000		;USER WANTS JOB TO RUN (MUST BE SIGN BIT)
   749			200000			XP CMWB,200000		;JOB TYPED A COMMAND WHICH NEEDS CORE
   750									; WHICH IS ON DISK.  SET BY COMMAND DECODER
   751									; CLEARED WHEN JOB IN CORE AGAIN.
   752			100000			XP MRQ,100000		;1) JOB HAS PAGE FAULTED AND NEEDS
   753									; THE SWAPPER TO SWAP SOMETHING IN
   754									; 2) SWAPPER HAS STOLEN PAGES FROM
   755									; JOB AND TAKEN AWAY CONTEXT PGES AS WELL
   756			040000			XP JNA,40000		;THIS JOB NUMBER IS ASSIGNED (JOB INITIALIZED)
   757			020000			XP JERR,20000		;A MONITOR DETECTED ERROR HAS OCCURRED
   758									; JOB CAN NOT CONTINUE
   759			000400			XP CNTRLC,400		;^C WAS TYPED WHILE JOB WAS IN MONITOR MODE
   760									; AND NOT IN TTY WAIT - DELAY STOPPING JOB
   761
   762						;BITS 10-14 USED TO INDICATE JOB IN WAIT FOR A SHARABLE DEVICE
   763						;0 MEANS JOB NOT WAITING FOR SHARABLE DEVICE
   764						;SEE SCHEDULER (CLKCSS) FOR DEFINITION OF WAIT CODES
   765			000005			XP JWSIZ,5		;SIZE OF WAIT CODE
   766			000016			XP JWPOS,^D14		;RIGHT MOST BIT POS. OF WAIT CODE
   767			000370			XP WTMASK,370		;MASK FOR CLEARING WAIT CODES
   768
   769			000004			XP JLOG,4		;JOB SUCCESSFULLY LOGGED IN
   770			000002			XP JRQ,2		;JOB HAS CHANGED STATE AND MUST BE REQUEUED AT CLOCK
   771									; LEVEL BEFORE RESCHEDULING CAN TAKE PLACE
   772			000001			XP JACCT,1		;PRIVILEGED SYSTEM CUSP IS BEING RUN WHICH
   773									; CANNOT BE STOPPED (E.G., LOGIN OR LOGOUT).
   774									;  PROTECT IT FROM CURIOUS EYES.
   775									; DISABLE CONTROL C, MADE IT ACT LIKE ALT-MODE
   776
   777					;BITS IN RIGHT HALF OF JBTSTS
   778
   779			400000			XP JWSADJ, 400000	;1 TO DO MWS ADJUSTMENT FOR JOB --
   780									;SET/CLEARED BY RESET ACCORDING TO
   781									;ADJMWS, CLEARED BY WSCTL UUO
   782			200000			XP WAKFLG,200000	;WAKE UUO PENDING FOR JOB
   783			100000			XP JACCT2,100000	;LIKE JACCT BUT SETTABLE
   784			040000			XP UTRP,040000		;TRAP TO USER ON UUO EXIT (REE, DDT)
   785			020000			XP JDCON,020000		;JOB IN ^C STATE FOR DEVICE
   786			010000			XP SCHPRV,10000		;PRIVILEGED SCHEDUALING FLAG
   787			004000			XP PRF,4000		;PRE-REFERENCE REQUEST. SAME AS MRQ
   788									; IN THAT IT MAKES SWAPPER DO THE JOB,
   789									; BUT DOESN'T MAKE JOB UNRUNNABLE
   790			002000			XP SWPINP,2000		;SWAP IN PROGRESS. IN RH BECAUSE JOB
   791									; IS STILL RUNNABLE IF ITS ON.
   792			001000			XP SETICP,1000		;SET IF JOB HAS BEEN SCANNED TO BE
   793									; SWAPPED OUT. CLEARED WHEN ICPT IS
   794									;RESET.
   795			000400			XP EXCFLG,400		;EXIT IN CHILD PENDING
   796			000100			XP KJP, 100		;KJOB PENDING
   797
   798					;MASKS USED TO TEST STATUS CONDITIONS:
   799
   800			440000			XP RUNABLE,RUN+JNA	;STATUS BIT PATTERN FOR JOB TO BE RUNABLE
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 15-1
S	MAC	 4-Aug-76 23:25		Job status word (JBTSTS TABLE)

   801			000405			XP RUNMSK,JLOG+JACCT+CNTRLC
   802									; BITS WHICH DO NOT MATTER FOR RUNABILITY
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 16
S	MAC	 4-Aug-76 23:25		More JBT tables

   803					SUBTTL	More JBT tables
   804
   805					;Bits in LH JBTST2 - Secondary status table
   806
   807			400000			XP JS.BAT,400000	; Job is a batch job (Must be sign bit)
   808			200000			XP JS.KIL,200000	; Job kill pending, but don't, to prevent loop
   809			100000			XP JS.EVI,100000	; Job eviction, immediate trap enabled
   810			040000			XP JS.EVP,040000	; Job eviction, parent trap enabled, notified
   811
   812			001000			XP JS.BBJ,001000	; Job is background batch (special scheduling)
   813
   814					;BITS IN LH JBTPPN TABLE
   815
   816			400000			XP JBPWLK,400000	;LEFTMOST BIT OF WRITELOCK FIELD (STR # 0)
   817			000400			XP JBPNCR,400		;LEFTMOST BIT OF NO-CREATE FIELD (STR # 0)
   818			001000			XP JBLWLK,1000		;RIGHTMOST BIT OF WRITELOCK FIELD (STR # 8)
   819			000001			XP JBLNCR,1		;RIGHTMOST BIT OF NO-CREATE FILED (STR # 8)
   820			000777			XP NCRMSK,777		;ALL NO-CREATE BITS
   821
   822					;PARAMETER FOR TEMPORARY FILE STORAGE UUO FOR SHORT (CCL) FILES THAT LIVE IN CORE...
   823					; DEFINE NUMBER OF DATA WORDS IN EACH BLOCK OF LINKED LIST IN CORE.  ACTUAL
   824					; BLOCK LENGTH IS ONE GREATER TO ACCOMODATE FILE NAME AND CHAIN TO NEXT BLOCK.
   825
   826			000004		XP TMPBL,4
   827
   828					;TELETYPE PARAMETERS....
   829
   830			000020			XP STTYBF,20		;SIZE OF TTY BUFFER
   831			000021			XP STTYB1,STTYBF+1	;LENGTH+1
   832
   833					;JOB PRIVILEGE BITS - JBTPRV TABLE
   834					;SET BY LOGINN FROM LUD.SYS FILE AS MODIFIED BY CUSTOMER FOR
   835					; HIS PARTICULAR INSTALLATION
   836
   837					;LH BITS -- MOSTLY DIGITAL STANDARD STUFF
   838
   839			400000			XP PVLOS, 400000	;LogoutOnStop - must be sign bit
   840			200000			XP PVNOAT,200000	;DON'T ATTACH ON LOGIN
   841			000006			XP PVSTIM,6		;BITS IN TIME ZONE FIELD
   842			000007			XP PVNTIM,7		;LOC OF TIME ZONE FIELD
   843			176000			XP PVMTIM,176000	;MASK FOR TIME ZONE FILED
   844			001000			XP PVNMAI,001000	;[dws] (new) mail waiting bit
   845			000400			XP PVDINA,000400	;DEFAULT INACTIVITY HANG TIMEOUT
   846			000200			XP PVSCMD,000200	;special command mode
   847			000007			XP PVSCOR,7		;NUMBER OF BITS IN FIELD FOR CORE
   848			000021			XP PVNCOR,^D17		;A USER IS ALLOWED TO HAVE
   849			000177			XP PVMCOR,177		;MASK FOR CORE BITS
   850
   851					;RH BITS -- SOME DIGITAL STANDARD, SOME TYMSHARE-DEFINED
   852
   853			400000			XP PVEXO,400000		;PROGRAM IS RUN ONLY
   854			000002			XP PVSHNG,2		;SIZE OF HANGUP/ZAP ACTION FIELD
   855			000024			XP PVNHNG,^D20		;POS. OF HANGUP/ZAP ACTION FIELD
   856			300000			XP PVMHNG,300000	;MASK FOR HANG/ZAP ACTION FIELD
   857			000000			    XP .PVHKJ,0		;0  KJOB ON HANG/ZAP
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 16-1
S	MAC	 4-Aug-76 23:25		More JBT tables

   858			000001			    XP .PVHDT,1		;1  DETACH ON HANG/ZAP
   859			000002			    XP .PVHCN,2		;2  DETACH-CONTINUE ON HANG/ZAP
   860			000003			    XP .PVHTM,3		;3  DETACH-TIMEOUT-KJOB ON HANG/ZAP
   861			040000			XP PVTYMP,040000	;TYMSHARE PROPRIETARY
   862			020000			XP PVACTS,020000	;ACCOUNT SUPERVISOR
   863			010000			XP PVMAIL,010000	;MAIL WAITING BIT
   864			004000			XP PVEXOG,004000	;EX ONLY GET IN PROGRESS
   865			002000			XP PVBUD,002000		;TRU BUDGET BEING USED
   866			001000			XP PVRCMD,001000	;RESTRICTED COMMAND MODE
   867			000002			XP PVSMOD,2		;MODE (TYMEX, PDP, ETC.)
   868			000034			XP PVNMOD,^D28		;POSITION FOR MODE BITS
   869			000600			XP PVMMOD,000600	;MASK FOR MODE
   870			000007			XP PVSCRM,7		;SIZE,MAX PERMITTED CORE FIELD
   871			000043			XP PVNCRM,^D35		;POSITION
   872
   873					;BITS IN JBTWCH    -	WATCH SYSTEM RESPONSE COMMAND
   874					;LH BITS:	(BITS 13-35 = TIME OF DAY IN JIFFIES USER STARTS TO WAIT)
   875					;MUST BE IN FOLLOWING ORDER WITH JBPWDY AS LEFT MOST BIT OF ALL OF THEM
   876			200000			XP JBPWDY,200000	;WATCH TIME OF DAY STARTED TO WAIT
   877			100000			XP JBPWRN,100000	;WATCH RUN TIME WHEN RETURN TO COMMAND LEVEL
   878			040000			XP JBPWWT, 40000	;WATCH WAITING TIME RETURN TO COMMAND LEVEL
   879			020000			XP JBPWDR, 20000	;WATCH NO. 128 WORD DISK BLOCKS READ
   880			010000			XP JBPWDW, 10000	;WATCH NO. 128 WORD DISK BLOCKS WRITTEN
   881			004000			XP JBPWVR,  4000	;Watch version
   882			002000			XP JBPWFL,  2000	;Watch files
   883							;ADD NEW DATA HERE (ALSO INCLUDE IN WCHALL)
   884			376000			XP WCHALL,JBPWDY!JBPWRN!JBPWWT!JBPWDR!JBPWDW!JBPWVR!JBPWFL;ALL WATCH BITS
   885
   886					;BITS IN JBTCTX - CONTEXT PAGE CONTROL JOB TABLE
   887					; (JBTCTX IS NCTXPG * JOBN WORDS LONG.)
   888					; ALL BITS ARE IN LH.
   889
   890					; BITS APPEARING ONLY IN FIRST JOBN LOCATIONS OF JBTCTX
   891
   892			400000			XP CTXCIN,400000	;CONTEXT PAGES ARE IN CORE AND ACTIVE
   893									; IN OWNERS MAP SLOTS (%UPT)
   894									; (MUST BE SIGN BIT)
   895			200000			XP CTXCEX,200000	;IF 1, DISK PAGES ARE ALLOCATED.
   896			100000			XP CTXVIR,100000	;IF 1, DISK PAGES HAVE JUST BEEN
   897									; ALLOCATED BUT CONTEXT PAGES HAVE
   898									; NOT BEEN SETUP YET.
   899			040000			XP JSTCTX,40000		;TELLS SWAPPER TO JUST BRING IN CONTEXT PAGES
   900			020000			XP CTXSWE,20000		;CONTEXT PAGES HAVE SWAP ERROR.
   901
   902					; BITS APPEARING IN EACH JOBN SIZE BLOCK OF JBTCTX, I.E.
   903					; FOR EACH CONTEXT PAGE
   904
   905			010000			XP CTXUCU,10000		;1 IF USE COUNT IS INCREMENTED FOR
   906									; CORE PAGE, BUT CONTEXT PAGES NOT
   907									; ACTIVE YET.
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 17
S	MAC	 4-Aug-76 23:25		LICENSE BITS AND FIELDS AND SO ON (AND ON)

   908					SUBTTL	LICENSE BITS AND FIELDS AND SO ON (AND ON)
   909
   910			400000			XP LICWCR,400000	;00 WRITE CORE
   911			200000			XP LICSPY,200000	;01 READ CORE (SPY AND PEEK)
   912			100000			XP LICOPR,100000	;02 OPER LICENSE
   913			040000			XP LICSYS, 40000	;03 SYSTAT GET ARGS FOR OTHER JOBS
   914			020000			XP LICGDV, 20000	;04 GET DEVICES FROM JOB 0
   915			010000			XP LICTDV, 10000	;05 TRANSFER (REASSIGN) DEVICES
   916			004000			XP LICSTR,  4000	;06 FIDDLE WITH STRUCTURES
   917			002000			XP LICRMT,  2000	;07 REMOTE (Home [Write] Files)
   918			001000			XP LICJAL,  1000	;08 SET JACCT AND JLOG (WRITE UFDS)
   919			000400			XP LICAC,    400	;09 CREATE SPECIAL AUX. CIRCUITS
   920			000200			XP LICXC,    200	;10 FIDDLE WITH CHARGES
   921			000100			XP LICQM,    100	;11 QUEUE MANAGER (4/29/86)
   922			000040			XP LICHR,     40	;12 Home Read Files
   923
   924			000017			XP LICFMK,17		;MASK FOR FILE PRIVS
   925			000021			XP LICWPS,^D17		;POSITION FOR WRITE PRVS
   926			000017			XP LICRPS,^D15		;AND FOR READ
   927			000010			XP LICRFL,10		;AND FOR READ
   928			000004			XP LICRPJ,4		;READ PROJECT
   929			000002			XP LICWFL,2		;WRITE ON DSK (MAYBE S-USETO)
   930			000001			XP LICWPJ,1		;WRITE IN PROJECT
   931
   932			000020			XP LICUNU,20		;BITS NOT YET USED (10/27/87)
   933
   934					;BITS FOR TRAP ENABLE (BY APRENB UUO)
   935
   936			400000			XP ENBRPT,400000	;18       REPETITIVE ENABLE
   937			200000			XP ENBPDL,200000	;19 KA-10 ENABLE FOR PDLOV
   938			100000			XP ENBUUO,100000	;20       TRAP ON UUO EXECUTED
   939			040000			XP ENBLIN,040000	;21       TRAP ON BREAK CHARACTER
   940			020000			XP ENBMPT,020000	;22 KA-10 ENABLE FOR MEM. PROT (ILL MEM REF)
   941							; 010000	;23 KA-10 ENABLE FOR NXM
   942			004000			XP ENBCHR,004000	;24       TRAP ON CHR RECIEVED
   943			002000			XP ENBESC,002000	;25       TRAP ON ESCAPE (OR ^C)
   944			001000			XP ENBCLK,001000	;26 KA-10 ENABLE FOR CLOCK TICK
   945							; 000400	;27
   946							; 000200	;28
   947			000100			XP ENBFOV,000100	;29 KA-10 ENABLE FOR FLOATING OVERFLOW
   948			000040			XP ENBHMS,000040	;30       TRAP ON HUNG DEV, NO MSG
   949			000020			XP ENBHNG,000020	;31       TRAP ON HUNG DEV
   950			000010			XP ENBOV, 000010	;32 KA-10 ENABLE FOR OVERFLOW
   951							; 000007	;35 KA-10 PIA
   952
   953					;THE BITS REURNED IN JOBCNI FOR THE ABOVE
   954
   955			000002			XP FLGHNG,000002	;16 (IN LH) HUNG DEV
   956			000001			XP FLGESC,000001	;17 (IN LH) ESCAPE OR CONTROL-C
   957			400000			XP FLGUUO,400000	;18 UUO OCCURED, OPCODE IN JOBMUU
   958			200000			XP FLGPDL,200000	;19 KA-10 PDL OV
   959			020000			XP FLGMPT,020000	;22 KA-10 ILL MEM REF
   960			004000			XP FLGLIN,004000	;24 LINE OF INPUT
   961			000400			XP FLGCHR,000400	;27 CHARACTER OF INPUT
   962			000010			XP FLGOV, 000010	;32 KA-10 OVERFLOW
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 17-1
S	MAC	 4-Aug-76 23:25		LICENSE BITS AND FIELDS AND SO ON (AND ON)

   963			000100			XP FLGFOV,000100	;29 KA-10 FLOATING OVERFLOW
   964
   965					;BITS FOR HIBERNATE UUO
   966
   967			000010			XP HIBCHR,10		;IN HIBERNATE UUO FOR CHR
   968			000020			XP HIBLIN,20		;FOR LINE
   969			000040			XP HIBYLB,40		;HIBERNATE ON YELLOW BALL
   970			000100			XP HIBPRT,100		;PORT NUMBER PRESENT
   971			000200			XP HIBWKU,200		;ALLOW WAKE UUO
   972			000400			XP HIBFEX,400		;ENABLE FOR FRAME EXITS
   973			000021			XP HINTIM,^D17		;LOCATION OF SEC. MIN, ETC. FIELD
   974			000002			XP HISTIM,2		;SIZE
   975			000010			XP HINPRT,^D8		;POSITION OF PORT FIELD
   976			000011			XP HISPRT,^D9		;SIZE
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 18
S	MAC	 4-Aug-76 23:25		VARIOUS ALARM BITS FOR CELL ALR620

   977					SUBTTL	VARIOUS ALARM BITS FOR CELL ALR620
   978
   979			000020		XP ALROPR,20	;REASON   1 = NO SET OPR
   980			000040		XP ALRACT,40	;REASON   2 = OPR ACTION NEEDED
   981			000100		XP ALRUSR,100	;REASON   4 = MESSAGE TO DET JOB
   982			000200		XP ALRRMT,200	;REASON  10 = REMOTE PERIPHERAL 620 HAS CRASHED
   983			000400		XP ALRCTY,400	;REASON  20 = MESSAGE OUTPUT ON CTY FOR OPER
   984			001000		XP ALRSCH,1000	;REASON  40 = SYSTEM HAS FINISHED AUTO-RELOAD
   985			002000		XP ALRDEV,2000	;REASON 100 = ERROR FOR DEVICE OPR ACTION NEEDED
   986
   987					SUBTTL	STATES word
   988					;BITS IN THE "STATES" WORD, INDICATE OPERATIONAL STATE OF SYSTEM
   989
   990		000001	000000		XP STAUTO,1B17	;1 IF IN AUTO-RESTART CONDITION (IN LH!)
   991			400000		XP STSHUT,1B18	;1 IF SYSTEM SHUT
   992			200000		XP STSUPR,1B19	;1 IF SYSTEM SUPER-SHUT
   993			100000		XP STRLB,1B20	;1 IF RESTRICTED LOGINS. SEE LOGINN,NONRES:-7  AAA
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 19
S	MAC	 4-Aug-76 23:25		FRAME ACCESS RIGHTS DEFINITIONS

   994					SUBTTL	FRAME ACCESS RIGHTS DEFINITIONS
   995
   996					COMMENT \
   997					ARGUMENTS TO THE "X" MACRO:
   998					1) USER ACCESS RIGHT NUMBER. ONCE ASSIGNED, MUST NOT CHANGE.
   999					   MUST BE ASSIGNED IN CONSECUTIVE ASCENDING ORDER.
  1000					   OPEN MODULE FRMSER AND TYPEOUT VALUE OF .UAMAX
  1001					   TO FIND OUT LAST VALUE ASSIGNED.
  1002
  1003					2) ABBRIEVIATION. USED TO DEFINE SYMBOLS .AR???
  1004
  1005					3) ACCESS LEVEL: LEGAL VALUES X=EXECUTE ONLY,R=READ ACCESS,
  1006					   W=WRITE ACCESS.
  1007					   DETERMINES WHAT MINIMUM FILE ACCESS IS NEEDED TO OBTAIN THAT RIGHT.
  1008
  1009					4) LICENSE. DETERMINES WHAT MINIMUM LICENSE NEEDED TO OBTAIN
  1010					   THE RIGHT VIA LICENSE. LEGAL VALUES IN DESCENDING ORDER:
  1011					   WC = WRITE CORE, RC = READ CORE,
  1012					   SY = SYSTAT (OR MATCHING AUN OR MATCHING GAN AND ACCT SUPER)
  1013					   TP = TYMSHARE PROPRIETARY. A LICENSE DESIGNATOR OF A CERTAIN LEVEL
  1014					   IMPLIES ALL RIGHTS ASSOCIATED WITH THAT LEVEL AND BELOW.
  1015
  1016					5) FAST. IF NON-BLANK, THE RIGHT IS A "FAST" ACCESS RIGHT WHICH
  1017					   WILL BE KEPT IN CORE. OTHERWISE, THE RIGHT IS "SLOW", AND
  1018					   ALL BIT MAPS IT APPEARS IN ARE IN THE CONTEXT PAGES.
  1019
  1020					THE MONITOR'S ACCESS RIGHT CODE FOR EACH RIGHT IS DETERMINED
  1021					BY THE RELATIVE POSITION OF THE PARTICULAR "X" MACRO THAT
  1022					DEFINES THE RIGHT, E.G. THE FIFTH RIGHT DEFINED WITHIN
  1023					THE ARMAC MACRO IS MONITOR ACCESS RIGHT NUMBER 4, AND
  1024					THE .AR??? SYMBOL FOR THAT RIGHT WILL BE DEFINED TO 4.
  1025					\
  1026
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 20
S	MAC	 4-Aug-76 23:25		FRAME ACCESS RIGHTS DEFINITIONS

  1027					DEFINE ARMAC <
  1028					;;MAP MANIPULATION
  1029					
  1030					X (0,RDM,R,RC)	;;RIGHT TO FIND OUT THINGS ABOUT A FRAME'S MAP
  1031							;; (VPGSTS, WSCTL TO READ WS, ETC.)
  1032					X (1,CHM,W,WC)	;;RIGHT TO CHANGE MAP (REMOVE, MAP, VCREAT)
  1033							;; (ALSO REPLICATE TO OTHER FRAME)
  1034					
  1035					;;VIRTUAL ADDRESS SPACE DATA MANIPULATION
  1036					
  1037					X (2,RAC,R,RC)	;;READ ACS
  1038					X (3,WAC,W,WC)	;;WRITE ACS
  1039					X (4,VAR,R,RC)	;;READ VIRTUAL ADDRESS SPACE DATA (REPLICATE READ ONLY, ETC)
  1040					X (5,VAW,W,WC)	;;WRITE VIRTUAL ADDRESS SPACE DATA (REPLICATE MAX WRITE, ETC.)
  1041							;;(MUST BE SEPERATE FROM CHANGE MAP BECAUSE TARGET FRAME
  1042							;;MIGHT HAVE FILE ACCESS THAT CALLER DOES NOT).
  1043					
  1044					;;CONTROL
  1045					
  1046					X (6,HLT,W,WC)	;;HALT
  1047					X (7,STP,X,WC)	;;STOP (LIKE CONTROL-C, TRAPPABLE BY SUBJECT FRAME)
  1048					X (10,HNG,W,WC)	;;HANG
  1049					X (11,CLR,X,WC)	;;CLEAR (MUST BE STOPPED FIRST)
  1050					X (12,SVA,X,WC,F)	;;START AT ENTRY VECTOR ADDRESS
  1051					X (13,SAA,W,WC,F)	;;START ANYWHERE
  1052					X (14,RVA,W,WC)	;;RESTART AT ENTRY VECTOR ADDRESS
  1053					X (15,RAA,W,WC)	;;RESTART AT ARBITRARY ADDRESS
  1054					
  1055					;;READING FRAME STATUS
  1056					
  1057					X (16,RUN,X,<TP,SY,AUN>,F)	;;READ USERNAME (AND JBTSTS TO SEE IF LOGGED IN)
  1058					X (17,RDS,R,<SY,AUN>,F)	;;READ FRAME STATE (PC, HALT BLOCK)
  1059					X (20,RAD,R,<SY,AUN>,F)	;;READ ACCOUNTING DATA
  1060					X (21,RFI,R,<SY,AUN>,F)	;;READ FRAME INFORMATION (AUN, PPN, UID, ETC.)
  1061					X (22,RPI,R,<SY,AUN>,F)	;;READ PROCESS INFORMATION (FPN, PROCESS NAME, PNO)
  1062					
  1063					;ACCESS RIGHTS
  1064					
  1065					X (23,SMF,W,WC)		;;SET MAX FRAME RIGHTS. NEED TO HAVE WRITE ACCESS
  1066								;; TO FILE, OR ELSE CAN OVERRIDE THE FRAME'S OWN SETTING.
  1067					
  1068					;WAKEUP
  1069					
  1070					X (24,WAK,W,WC)		;;DO WAKE UUO FOR FRAME
  1071					
  1072					
  1073					;TTY ATTACHING AND DETACHING
  1074					
  1075					X (25,ATT,W,<AUN,JL>,F)	;;ATTACH A PORT TO TARGET FRAME IF IT HAS NONE
  1076					X (26,DET,X,<WC>,F)	;;TAKE PORT AWAY FROM TARGET FRAME
  1077					
  1078					
  1079					;GRAFTING
  1080					
  1081					X (27,TKP,W,<WC>,F)	;;TAKE PARENT AWAY FROM A FRAME
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 20-1
S	MAC	 4-Aug-76 23:25		FRAME ACCESS RIGHTS DEFINITIONS

  1082					X (30,GVP,W,<JL>,F)	;;GIVE PARENT TO A FRAME
  1083								;; (CAN'T BE AUN, OR ELSE USERS COULD GET CONTROL OVER OTHER JOBS WI
  1084					TH SAME USERNAME9
  1085					X (31,GVC,W,<WC>,F)	;;GIVE CHILD TO A FRAME.
  1086					
  1087					;License
  1088					
  1089					X (32,PLC,W,<WC>,F)	;;Pass license to a frame
  1090					
  1091					>;END ARMAC MACRO DEFINITION
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 21
S	MAC	 4-Aug-76 23:25		MACRO TO CALL A SPECIFIED MACRO FOR EACH FAST ACCESS RIGHT,

  1092					SUBTTL	MACRO TO CALL A SPECIFIED MACRO FOR EACH FAST ACCESS RIGHT,
  1093					; AN EXECUTION MACRO, THE SPECIFIED MACRO FOR
  1094					; EACH SLOW ACCESS RIGHT, AND THEN THE EXECUTION MACRO AGAIN.
  1095					; USED TO GENERATE TABLES OF ACCESS RIGHTS ACCORDING
  1096					; TO THE ARGUMENTS IN THE "X" MACRO IN MACRO DEFINITION
  1097					; ARMAC.
  1098					DEFINE ARCALL(CALL,DO)<
  1099					DEFINE X(NUM,NAM,RWX,LIC,FAST)<
  1100					IFNB <FAST> <
  1101					'CALL
  1102					>;END IFNB FAST
  1103					>;END X MACRO DEFINITION
  1104					
  1105						DO		;;FIRST CALL FOR EACH FAST RIGHT
  1106					
  1107					DEFINE X(NUM,NAM,RWX,LIC,FAST)<
  1108					IFB <FAST> <
  1109					'CALL
  1110					>;END IFNB FAST
  1111					>;END X MACRO DEFINITION
  1112					
  1113						DO		;;NOW CALL FOR SLOW ONES
  1114					>;END ARCALL MACRO DEFINITION
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 22
S	MAC	 4-Aug-76 23:25		GENERATE DEFINITIONS .AR???, EQUAL TO BIT NUMBER IN MONITOR

  1115					SUBTTL	GENERATE DEFINITIONS .AR???, EQUAL TO BIT NUMBER IN MONITOR
  1116					; ACCESS BIT MAP. FIRST 36 ARE "FAST" ACCESS RIGHTS, THOSE
  1117					; KEPT IN JBT TABLES FOR FAST ACCESS. THOSE ABOVE FIRST
  1118					; 36 ARE "SLOW", KEPT IN CONTEXT PAGES.
  1119
  1120
  1121					DEFINE ARDEF(NAME)<XP .AR'NAME,ZZ
  1122					ZZ==ZZ+1
  1123					>;END ARDEF MACRO DEFINITION
  1124					DEFINE ARDO<IFNDEF FARMAX,<ZZ==0>
  1125					IFDEF FARMAX,<ZZ==^D36>
  1126					
  1127					ARMAC
  1128					IFNDEF FARMAX,<XP FARMAX,ZZ-1>
  1129					IFDEF FARMAX,<XP .ARMAX,ZZ-1		;;HIGHEST ACCESS RIGHTS CODE FOR CHECKING BOUNDS
  1130					XP FARSIZ,<<FARMAX+1+^D35>/^D36>	;NUMBER OF WORDS IN FAST RIGHTS JBT TABLES
  1131					XP .ARSIZ,<<.ARMAX+1+^D35>/^D36>-FARSIZ ;NUMBER OF WORDS FOR SLOW ACCESS RIGHTS BITS
  1132					IFN FARSIZ-1,<PRINTX *** TOO MANY FAST ACCESS RIGHTS BITS ***
  1133					QQQQQQ>
  1134					>;END IFDEF FARMAX
  1135					>;END ARDO MACRO DEFINITION
  1136
  1137					ARCALL(<ARDEF('NAM)>,ARDO)
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 23
S	MAC	 4-Aug-76 23:25		FRAME DESCRIPTOR DEFINITIONS

  1138					SUBTTL	FRAME DESCRIPTOR DEFINITIONS
  1139
  1140					;A FRAME DESCRIPTOR CONSISTS OF AN 18 BIT QUANTITY. 18-20
  1141					; ARE THE FRAME DESCRIPTOR TYPE, AND 21-35 ARE THE DATA
  1142					; FOR THE TYPE.
  1143
  1144					;FRAME DESCRIPTOR TYPES
  1145					;THE FRAME DESCRIPTOR TYPES FOR OWN FRAME AND ABSOLUTE FRAME
  1146					; WERE CHOSEN TO BE 0 AND 7 RESPECTIVELY, TO BE COMPATIBLE WITH
  1147					; THE OLD JOB NUMBER CONVENTIONS.
  1148
  1149			007777		XP FDFMSK,7777		;MASK TO EXTRACT FRAME NUMBER FROM 18 BIT QUANTITY.
  1150			077777		XP FDDMSK,77777		;DATA FIELD MASK FOR FRAME DESCRIPTOR.
  1151
  1152
  1153			000000		XP .FDABS,<0*100000>		;ABSOLUTE FRAME NUMBER
  1154			100000		XP .FDFAM,<1*100000>		;FAMILY DESCRIPTOR. 21-23 HAVE SUBTYPE
  1155			000000		   XP .FMCHL,<0*10000>		  ;CHILD
  1156			010000		   XP .FMPAR,<1*10000>		  ;PARENT FRAME.
  1157			010000		   XP .FMMAX,<1*10000>		  ;MAXIMUM LEGAL VALUE.
  1158
  1159			200000		XP .FDOTF,<2*100000>		;OTHER FRAME.
  1160			300000		XP .FDFRH,<3*100000>		;FRAME HANDLE
  1161			700000		XP .FDSLF,<7*100000>		;OWN FRAME. DATA IS USUALLY 77777.
  1162
  1163					;DEFINE GLOBAL MACRO HERE TO GENERATE BYTE POINTER TO
  1164					; SUB ERROR CODE LOCATION IN VUUOS.
  1165
  1166					DEFINE FDEERP(LOC)<[POINT 6,'LOC,5]>
  1167
  1168					;GLOBAL MACROS TO SCAN JBTFTR
  1169
  1170					DEFINE PRNTBP(AC)<[POINT 12,JBTFTR('AC),11]>
  1171					DEFINE NEIGBP(AC)<[POINT 12,JBTFTR('AC),11+12]>
  1172					DEFINE CHLDBP(AC)<[POINT 12,JBTFTR('AC),11+2*12]>
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 24
S	MAC	 4-Aug-76 23:25		HANDLE DEFINITIONS

  1173					SUBTTL	HANDLE DEFINITIONS
  1174
  1175					;A HANDLE IS A BLOCK OF FREE CORE CONTAINING DATA DESCRIBING
  1176					; A FRAME AND WHAT ACCESS RIGHTS THE HOLDER HAS OVER THAT FRAME.
  1177
  1178			000000		XP .FHFNO,0		;ABSOLUTE FRAME NUMBER THIS HANDLE DESCRIBES
  1179			000000		 XP .FHTYP,0		;ANOTHER NAME
  1180			000007		    XP FH.TYP,(7B17)	;MASK FOR HANDLE TYPES.
  1181			000000			XP .FHFRM,0	;FRAME HANDLE
  1182			000001			XP .FHPRC,1	;PROCESS HANDLE
  1183			000002			XP .FHLIC,2	;LICENSE HANDLE.
  1184			000002			XP .FHMAX,2 	;MAX VALUE FOR CHECKING.
  1185					;	XP .FHCLB,?	;WHEN CLUB HANDLES ARE IMPLEMENTED
  1186
  1187					    DEFINE HTPPTR(LOC)<POINT 3,'LOC,17> ;GENERATE BYTE POINTER
  1188			000001		XP .FHUID,1		;36 BIT UNIVERSAL ID NUMBER
  1189			000002		XP .FHPNO,2		;"PROGRAM NUMBER" OF GRANTING PROGRAM.
  1190			000003		XP .FHART,3		;ACCESS RIGHTS BITS
  1191			000004		XP .FHEND,.FHART+<.ARSIZ+FARSIZ>-1	;LAST WORD IN HANDLE
  1192
  1193			000005		XP .FHSIZ,.FHEND+1	;SIZE OF A HANDLE.
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 25
S	MAC	 4-Aug-76 23:25		UPT AND EPT ASSEMBLY TIME DEFINITIONS

  1194					SUBTTL	UPT AND EPT ASSEMBLY TIME DEFINITIONS
  1195
  1196			000011			P2WLSH==+^D9		;Pages to words
  1197		777777	777767			W2PLSH==-^D9		;Words to pages
  1198			000007			B2WLSH==+^D7		;Blocks to words
  1199		777777	777771			W2BLSH==-^D7		;Words to blocks
  1200			000002			P2BLSH==P2WLSH+W2BLSH	;Pages to blocks (+2)
  1201		777777	777776			B2PLSH==B2WLSH+W2PLSH	;Blocks to pages (-2)
  1202
  1203					DEFINE MAPALC(NAM,SIZ),<
  1204					IFB <SIZ>,<ZZPAG==ZZPAG-1>
  1205					IFNB <SIZ>,<ZZPAG==ZZPAG-<SIZ>>
  1206					XP %'NAM'.N,ZZPAG
  1207					XP %'NAM',%'NAM'.N_^D9>;END MAPALC MACRO DEFINITION
  1208
  1209					;DEFINE CONSTANT UPT ADDRESS SPACE SLOTS
  1210					; (HAVE NO LMAP ENTRIES, JUST USED FOR MAPPING BY PCB CODE)
  1211
  1212			000400		ZZPAG==377+1		;HIGHEST EXEC VIRTUAL ADDRESS IN UPT + 1
  1213
  1214			377000		MAPALC(SAT);;377
  1215			376000		MAPALC(RIB);;375
  1216			375000		MAPALC(RB2);;374
  1217
  1218			000000		FBITS==000		;%SAT+000 - %SAT+377 are the F bits
  1219			000400		MBITS==400		;%SAT+400 - %SAT+777 are the M bits
  1220
  1221			000440		XP CNVVPN,1000-340	;ADD THIS TO REAL PAGE NUMBER IN EXEC PER PROCESS
  1222								; SPACE TO GET VIRTUAL PAGE NUMBER
  1223
  1224			001034		XP VPMAX,CNVVPN+ZZPAG-1	;MAXIMUM NON-SPECIAL UPT VP NUMBER (1000 = 340)
  1225
  1226					;GENERATE CONSTANT EPT ADDRESS SPACE SLOTS
  1227
  1228			001000		ZZPAG==777+1		;HIGHEST PAGE DESCRIBED IN EPT + 1
  1229
  1230			777000		MAPALC(ERR)		;Used by BPXKON/RMXKON to do ECC recovery on read errors
  1231			776000		MAPALC(SWP)		;Used by GTSPAG to access SAT for .LOGIN
  1232					;*;MAPALC(DRI)		;DR11C BLOCK INPUT PAGE  (never referenced)
  1233					;*;MAPALC(DRO)		;DR11C BLOCK OUTPUT PAGE (never referenced)
  1234
  1235			000775		XP EVPMAX,ZZPAG-1	;MAXIMUM EXEC VIRTUAL PAGE THAT OTHER MODULES
  1236								; CAN ALLOCATE
  1237
  1238					;MACRO TO ALLOCATE VIRTUAL PAGES FOR ONCE MODULES
  1239
  1240					DEFINE MAPONC(NAM,SIZE)<
  1241					XP SIZ'NAM,SIZE
  1242					MAPALC(NAM,SIZE)
  1243					>
  1244
  1245					MAPONC(CTX,3)	;RESERVED FOR OTHER MODULES (CONTEXT PAGES - %UPS=%CTX)
  1246					IFDEF COMMON,<IFN %UPS-%CTX,<PRINTX ? %UPS/%CTX mismatch at MAPONC(CTX,3)>>
  1247
  1248			773000		MAPALC(MTE,0)		;%MTE = 1 past highest ONCE address (MTA end)
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 25-1
S	MAC	 4-Aug-76 23:25		UPT AND EPT ASSEMBLY TIME DEFINITIONS

  1249					MAPONC(REF,3)		;MAX SIZE OF REFSTR
  1250					MAPONC(OND,7)		;MAX SIZE OF ONCDSK
  1251					MAPONC(ONC,5)		;MAX SIZE OF ONCE
  1252
  1253					;MACRO TO CKECK THAT ENOUGH PAGES HAVE BEEN ALLOCATED FOR ONCE
  1254					;MODULES AND PRINT AN ERROR MESSAGE IF NOT
  1255
  1256					DEFINE ONSZCK(NAME,NAM,NM)<
  1257					DEFINE X(RSIZ,DSIZ)<
  1258					PRINTX *** NAME REQUIRES AT LEAST RSIZ PAGES, ONLY DSIZ ARE ALLOCATED. ***
  1259					>
  1260					IF2, <IFIDN <NM><>, <
  1261					IFG NAM'LNP-SIZ'NAM*1000,<X(\<NAM'LNP/1000>,\SIZ'NAM)>
  1262					>>
  1263					IF2, <IFDIF <NM><>, <
  1264					IFG NAM-SIZ'NM,<X(\NAM,\SIZ'NM)>
  1265					>>
  1266					>
  1267
  1268					;THE ONCE TIME PCB MAP SLOTS
  1269
  1270					;MACRO TO GENERATE THE SLOT NAMES, USED IN ONCE MACROS
  1271
  1272					DEFINE OPCNAM<
  1273					X HOM;;HOME page
  1274					X HMR;;RIB to HOME.SYS, used in REFRESH and ADD-PACK
  1275					X STA;;SAT page
  1276					X STR;;RIB to SAT.SYS, used in REFRESH and ADD-PACK
  1277					X BAT;;BAT page
  1278					X TMP;;General page, RIB to SPAGES.SYS, etc
  1279					X T2P;;UFD data page, spare RIB page, etc
  1280					>
  1281
  1282
  1283			000000		NMOCPC==0		;COUNT NUMBER OF PAGES
  1284					DEFINE X(A)<NMOCPC==NMOCPC+1>
  1285					OPCNAM			;COUNT THE NUMBER OF ONCE PCB PAGES.
  1286
  1287
  1288					DEFINE X(A)
  1289					<MAPALC('A)
  1290					>
  1291					OPCNAM			;ALLOCATE THEM.
  1292
  1293			745000		BOTTM==ZZPAG_^D9	;Lowest ONCE time address
  1294
  1295			000773		ZZPAG==%MTE.N		;Recycle ONCE pages for F3TSER
  1296			732000		MAPALC(MTA,^D33)	;32 page + 777 word virtual address range
  1297
  1298			000401		ZZPAG==400+1		;MINIMUM PAGE WE CAN ALLOCATE + 1
  1299			400000		MAPALC(MIN)		;Lowest mapped address (%MIN=400000)
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 26
S	MAC	 4-Aug-76 23:25		MACROS TO MANIPULATE PAGE MAP SLOTS.

  1300					SUBTTL	MACROS TO MANIPULATE PAGE MAP SLOTS.
  1301
  1302					DEFINE EPTPGS(PG,PGS)
  1303					<IFL PG-340,<PRINTX *** ERROR IN EPTPGP PAGE NUMBER PG ***
  1304						QQQQQQ	;CAUSE ERROR>
  1305					IFGE PG-340,<
  1306					 IFL  PG-400,<POINT 18,PGS+UPTEP0+<<PG-340>/2>,17+18*<<PG>&1>>
  1307					 IFGE PG-400,<POINT 18,EPT+EPTPG0+<<PG-400>/2>,17+18*<<PG>&1>>
  1308					>>
  1309
  1310					DEFINE EPTPGP (PG)
  1311					<	EPTPGS (<PG>,%UPS)>
  1312
  1313					;MACRO TO GENERATE A SLOT POINTER FOR AN EPT BASED VIRTUAL PAGE.
  1314					; PG IS THE VIRTUAL PAGE NUMBER. (MUST BE BETWEEN 400 AND
  1315					; 777. NO CHECK HERE BECAUSE SYMBOL MAY BE EXTERNAL)
  1316
  1317					DEFINE EPTPTR(PG) <
  1318						POINT 18,EPT+EPTPG0+<<PG-400>/2>,17+18*<<PG>&1>
  1319					>
  1320
  1321
  1322					;MACRO TO GENERATE A SLOT POINTER FOR A UPT BASED VIRTUAL PAGE.
  1323					; PG IS THE VIRTUAL PAGE NUMBER, UPX IS WHERE THE UPT
  1324					; PAGE IS ADDRESSABLE.
  1325
  1326					DEFINE UPXPTR(PG,UPX)<
  1327						POINT 18,UPX+UPTEP0+<<PG-340>/2>,17+18*<<PG>&1>>
  1328
  1329					;MACRO TO GENERATE A SLOT POINTER FOR VIRTUAL PAGE PG
  1330					; WHEN UPT IS KNOWN TO BE IN %UPS.
  1331
  1332					DEFINE UPSPTR(PG)<
  1333						UPXPTR(PG,%UPS)>
  1334
  1335					DEFINE UPMPTR(PG)<POINT 18,%UPT+400+<PG-340>/2,17+18*<<PG>&1>>
  1336
  1337					;UXCTFU, UXCTTU, AND UXCTBU MACROS.
  1338					; USED TO EXECUTE AN INSTRUCTION THAT SPECIFICALLY REFERS
  1339					; TO USER ADDRESS SPACE (PREVIOUS CONTEXT CAN BE EXEC SPACE).
  1340
  1341					DEFINE X(A)<IRP A,<
  1342					DEFINE UXCT'A'U(INST)<SALL
  1343						IF2,<IFNDEF DOXCT,<EXTERNAL DOXCT>>
  1344						PUSHJ	P,DOXCT
  1345						  XCT'A'U	<INST>
  1346					>;END DEFINE UXCT'A'U
  1347					>;END IRP A
  1348					>;END DEFINE X
  1349
  1350					X(<T,F,B>)	;GENERATE UXCTFU, UXCTTU, AND UXCTBU.
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 27
S	MAC	 4-Aug-76 23:25		SOFTWARE PAGE FAIL WORD

  1351					SUBTTL	SOFTWARE PAGE FAIL WORD
  1352					; EXISTS BECAUSE OF DISPARITY BETWEEN KI10 AND KL10 PAGE FAIL
  1353					; WORD FORMAT. CURRENTLY SETUP TO MAKE KL PAGE FAIL WORD CONVERT
  1354					; FASTER THAN KI PAGE FAIL WORD.
  1355
  1356							;BIT 0 RESERVED FOR A COPY OF PC.USR
  1357			400000		XP SPFW.U,1B18	;SET IF FAULT ADDRESS IS IN USER SPACE
  1358			200000		XP SPFW.H,1B19	;ON FOR ADDRESS BREAK, PROPRIETARY VIOL, HARD PAGE ERRORS.
  1359			100000		XP SPFW.A,1B20	;COPY OF A BIT FROM MAP
  1360			040000		XP SPFW.W,1B21	;COPY OF W BIT
  1361			020000		XP SPFW.S,1B22	;COPY OF S BIT
  1362			010000		XP SPFW.T,1B23	;SET IF INSTRUCTION WILL EVENTUALLY TRY TO WRITE
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 28
S	MAC	 4-Aug-76 23:25		SYSTEM MACROS

  1363					SUBTTL	 SYSTEM MACROS
  1364
  1365					;MACRO TO PREVENT SCHEDULING, USED AT UUO LEVEL WHEN A
  1366					;REENTRANT ROUTINE IS CHANGING COMMON DATA NOT YET
  1367					;ASSIGNED TO A PARTICULAR JOB
  1368
  1369					DEFINE NOSCHED
  1370					<>
  1371
  1372					;MACRO TO ALLOW SCHEDULING ONCE MORE
  1373
  1374					DEFINE SCHEDULE
  1375					<>
  1376
  1377					;Macro to define linked GETTAB table (table number -36)
  1378
  1379					DEFINE GTLNK(DATA,NAM),<
  1380						..=.		;;Current location
  1381					  IFB  <NAM>,<SIXBIT /DATA/>	;;List of names is optional
  1382					  IFNB <NAM>,<IRP NAM,<IFNDEF NAM,<NAM=DATA+<.-..>>
  1383							SIXBIT /NAM/>>	;;Names of consecutive words in array
  1384						XWD <.-..>,0	;;Number of entries in table in LH
  1385						.LINK	1,.-1	;;RH of previous word is link to next table
  1386						XWD	DATA,..	;;Addr of data ,, addr of SIXBIT names
  1387					PURGE ..>
  1388
  1389					;Macro to define linked buffer table (SYSDVF function 6)
  1390					;Use "SYDVF(<<NAME1,SIZE1>,<NAME2,SIZE2>,<etc>>)"
  1391
  1392					DEFINE SYDVF(ARGS),<
  1393						..=0
  1394						IRP ARGS,<..=..+1>
  1395						XWD	-..,0		;;Minus count of word pairs to follow
  1396						.LINK	2,.-1		;;RH of previous word is link to next table
  1397						DEFINE SY$DV0(ARG1),<SY$DV1(ARG1)>
  1398						DEFINE SY$DV1(NAME,SIZE),<
  1399						  SIXBIT /NAME/
  1400						  XWD <SIZE>,NAME>
  1401						IRP ARGS,<SY$DV0(ARGS)>
  1402					PURGE ..,SY$DV0,SY$DV1>
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 29
S	MAC	 4-Aug-76 23:25		SYSTEM MACROS

  1403					COMMENT #Rules for State code Type selection
  1404
  1405					The code putting a frame into an SJ state code must leave the
  1406					data base in the monitor consistent. The code should not have any
  1407					sharable resources when it puts the frame into the SJ state code.
  1408					The code must not have any pending interrupt conditions (e.g. DDBs
  1409					with IOW set so that SETIOD will be called for the frame) that could
  1410					unexpectedly wake the job out of some unrelated wait state.
  1411					The code doesn't have to leave either the monitor's or the user's data
  1412					base in a continuable state - all code that operates on frames that
  1413					doesn't want to disturb the current state of the frame (i.e. it can be started
  1414					at the address it stopped without any ill effects on the running
  1415					program) is responsible for delaying its action until the UUO
  1416					code it was stopped out of has completed. This is what the UTRP
  1417					bit is used for.
  1418					(Note - I believe that if a job was in an SJ state as a result
  1419					of a UUO which will stop the job rather than go through USRXIT,
  1420					such as EXIT, the UTRP bit would remain set and the command
  1421					that was deferred would not be performed. This is the same
  1422					problem that causes address breaks while in the monitor not
  1423					to get printed out if the program EXITs out of the breaking
  1424					UUO instead of returning to the user.)
  1425
  1426					Note that in general, I/O waits (IO, MB) cannot be SJ, since
  1427					they leave a DDB with IOW set.
  1428					TTY IO wait is an exception, since all frame stopping code will
  1429					take all TTY devices out of I/O wait, and the TTY code is written
  1430					soas to leave both the monitor and user data base in a continuable
  1431					and consistent state.
  1432
  1433					All I/O wait states must be prepared for the event of a hung
  1434					device. In this event, the DHNG routine for the device is called,
  1435					which is responsible for clearing any pending interrupt conditions
  1436					for the DDB (IOW bit) as well as cleaning up the device's data
  1437					base. ERRCON will clear IOACT for the device.
  1438					The monitor data base must be consistent after the DHNG call -
  1439					but neither the monitor or the user data base has to be
  1440					continuable, since hung device is a fatal condition which stops
  1441					the job.
  1442
  1443					All device drivers must make sure that the monitor data base
  1444					is consistent if DHNG is called, but in general they do not
  1445					have to leave it consistent at the time they call WSYNC.
  1446					If they do not, the corresponding satisfied state must be
  1447					a DJ rather than an SJ state. If the driver is setup so that
  1448					the data base is left consistent at WSYNC time and the only
  1449					thing that stops the I/O wait code from being SJ is the
  1450					IOW DDB, then the corresponding satisfied state can be SJ.
  1451					#;END COMMENT
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 30
S	MAC	 4-Aug-76 23:25		DEFINE THE QUEUES, QUANTUM RUNNING TIME IN JIFFIES, AND PRIORITY

  1452					SUBTTL	DEFINE THE QUEUES, QUANTUM RUNNING TIME IN JIFFIES, AND PRIORITY
  1453					;PRIORITY GOES BACKWARD FROM LOW TO HIGH
  1454					;THE QUEUE NUMBERS START AT 0 AND GO UP BY ONE READING DOWN THE PAGE
  1455					;THE THIRD ARG CAN BE "DJ" FOR DELAY JOB IF CONTOL C TYPED
  1456					; OR "SJ," FOR STOP JOB (WHEN IN EXEC MODE)
  1457
  1458					DEFINE QUEUES
  1459					<	X RN,7,DJ,	;;STRAIGHT RUN (LOWEST PRIORITY) (Q=0)
  1460						X WS,6,DJ,	;;I/O WAIT SATISFIED
  1461						X TS,6,SJ,	;;TTY I/O WAIT SATISFIED
  1462						X SS,,DJ,	;;SWAPPER WAIT SATISFIED
  1463						X SI,4,DJ,	;;SAT PRIMARY PCB IO OFF WAIT.
  1464						X RI,4,DJ,	;;RIB PRIMARY PCB IO OFF WAIT.
  1465						X PS,4,DJ,	;;SAT PRIMARY PCB WAIT.
  1466						X PR,4,DJ,	;;RIB PRIMARY PCB WAIT.
  1467						X M2,4,DJ,	;;2 PCBS WAIT.
  1468						X DA,4,DJ,	;;DISK STORAGE ALLOCATION WAIT
  1469						X CB,4,DJ,	;;DISK CORE-BLOCK SCAN WAIT
  1470						X FC,4,DJ	;;FREE CORE WAIT FOR I/O LIST AREA
  1471						X MT,4,SJ,	;;MAGTAPE CONTROL WAIT (UP TO 8 UNITS)
  1472						X AX,4,SJ,	;;WAIT FOR AUX CIRCUIT RESOURCE
  1473						X AC,4,SJ,      ;;WAIT FOR SPACE IN ACCOUNTING BUFFER
  1474						X BP,4,SJ,	;;BLOCK I/O PORT WAIT
  1475					>
  1476
  1477					;;JOB STATUS CODES WHICH HAVE NO CORRESPONDING QUEUES
  1478					;;JOBS ARE UNRUNABLE WHEN IN THESE STATES
  1479
  1480					DEFINE CODES
  1481					<	X IOW,,DJ,	;;I/O WAIT
  1482						X MBW,,DJ,	;;MONITOR BUFFER I/O WAIT
  1483						X CW,,DJ,	;;CONTEXT PAGE WRITE LOCK QUEUE.
  1484						X TIOW,,SJ,	;;TTY I/O WAIT
  1485						X SW,,DJ,	;;SWAPPER OUTPUT WAIT (PGYPGO)
  1486						X MLOW,,DJ,	;;PCB LOCK Q WAIT.
  1487						X ILW,,SJ,	;;CLUB INTERLOCK WAIT.
  1488						X FLW,,DJ,	;;ATOMIC FILE LOCKING WAIT.
  1489						X SLP,,SJ,	;;JOB SLEEPING
  1490						X NUL,,SJ,	;;JOB NUMBER NOT ASSIGNED
  1491						X STOP,,SJ,	;;STOP (CONTROL C)
  1492					>
  1493
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 31
S	MAC	 4-Aug-76 23:25		DEFINE THE QUEUES, QUANTUM RUNNING TIME IN JIFFIES, AND PRIORITY

  1494						ASUPPRESS	;;ELIMINATE ALL SYMBOLS NOT REFERENCED LATER
  1495								;; FROM THE SYMBOL TABLE LISTING
  1496
  1497					;;LAST PAGE SHOULD BE WRITTEN WITH 'HP' TECO COMMAND SO FORM-FEED IS
  1498					;; NOT APPENDED AFTER 'LIST' CAUSING EXTRA BLANK PAGE IN MONITOR LISTING.
  1499					;;HOWEVER, 2 CARRIAGE RETURN-LINE FEED'S FOLLOWING THE 'LIST' ARE DESIRABLE.
  1500
  1501					IFDEF LISTSN, <IFN LISTSN, <  PAGE  >>	;End of S.MAC
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
END	MAC	 4-Aug-76 23:24		DEFINE THE QUEUES, QUANTUM RUNNING TIME IN JIFFIES, AND PRIORITY

  1502						purge listsn
  1503						end

NO ERRORS DETECTED

PROGRAM BREAK IS 000000
CPU TIME USED 07:41.578

14P CORE USED

S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

A	   276#
AEFERR	   411#
AL	   277#
ALRACT	   980#
ALRCTY	   983#
ALRDEV	   985#
ALROPR	   979#
ALRRMT	   982#
ALRSCH	   984#
ALRUSR	   981#
ASSCON	   221#
ASSPRG	   222#
B	   281#
B2PLSH	  1201#
B2WLSH	  1198#	  1201
BNFERR	   430#
BOTTM	  1293#
CLSACC	   186#
CLSDAT	   189#
CLSDLL	   184#
CLSDMP	   190#
CLSIN	   183#
CLSNMB	   187#
CLSOUT	   182#
CLSRST	   188#
CMWB	   749#
CNTRLC	   759#	   801
CNVVPN	  1221#	  1224
COMMON	  1246
CPRCOW	   553#
CPRRDW	   554#
CPRRED	   552#
CPUF3	   380#
CPUKI	   377#
CPUKL	   378#
CPUKS	   379#
CT.F3	   721#
CT.KA	   716#
CT.KC	   720#
CT.KI	   717#
CT.KL	   718#
CT.KS	   719#
CT.P6	   715#
CTXCEX	   895#
CTXCIN	   892#
CTXSWE	   900#
CTXUCU	   905#
CTXVIR	   896#
D	   284#
DBYT	   174#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

DC.SIZ	   502#
DCL	   179#	   180
DCLI	   203#
DCLO	   180#
DDI	   171#
DDINT	   173#
DDO	   170#
DDXZ	   172#
DEN	   198#
DEVABC	   265#
DEVADR	   253#
DEVBUF	   245#
DEVBWC	   266#
DEVCHR	   152#
DEVCLS	   258#
DEVCTR	   267#
DEVEXT	   271#
DEVFIL	   270#
DEVIAD	   247#	   253
DEVINT	   268#
DEVIOS	   166#
DEVLOG	   244#
DEVMOD	   216#
DEVNAM	   149#
DEVOAD	   254#	   257
DEVPPN	   272#
DEVPTR	   257#
DEVPWC	   260#
DEVSER	   167#
DEVSTS	   259#
DEVWUC	   261#
DF.BP0	   649#	   655
DF.BP1	   650#	   655
DF.BP2	   651#	   655
DF.BP3	   652#	   655
DF.BP4	   653#	   655
DF.BP5	   654#	   655
DF.BPT	   655#
DF.CP1	   639#
DF.DCC	   646#
DF.DCP	   642#
DF.DDC	   640#
DF.DJE	   641#
DF.NAR	   638#
DF.RDC	   636#
DF.RIP	   647#
DF.RJE	   637#
DF.RQC	   643#
DF.RQK	   644#
DF.SBD	   635#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

DF.WFL	   645#
DFCRE	   208#
DFDEL	   207#
DFEXC	   209#
DFFIF	   213#
DFTRN	   214#
DFVLR	   211#
DGF	   197#
DGTRD	   195#
DHNG	   177#
DIN	   192#
DINI	   176#
DLK	   199#
DMOVPG	   215#
DMT	   196#
DNAERR	   417#
DOU	   191#
DR	   283#
DRL	   178#
DRN	   200#
DSEK	   205#
DSI	   201#
DSIM	   210#
DSKRLB	   352#
DSO	   202#
DUFD	   204#
DVAVAL	   229#
DVCDR	   240#
DVDIR	   226#
DVDIRI	   242#
DVDIS	   235#
DVDSK	   241#
DVDTA	   231#
DVIN	   225#
DVLPT	   239#
DVMAP	   206#
DVMTA	   228#
DVNZP	   237#
DVOUT	   224#
DVPTP	   233#
DVPTR	   232#
DVRMT	   236#
DVSIZ	   175#
DVSMAP	   212#
DVTTY	   227#
DXFR	   193#	   194
DZAP	   194#
ENBCHR	   942#
ENBCLK	   944#
ENBESC	   943#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

ENBFOV	   947#
ENBHMS	   948#
ENBHNG	   949#
ENBLIN	   939#
ENBMPT	   940#
ENBOV	   950#
ENBPDL	   937#
ENBRPT	   936#
ENBUUO	   938#
ENTRB	   342#
EVPMAX	  1235#
EXCFLG	   795#
F	    47#
FARMAX	  1137
FARSIZ	  1137#	  1137	  1191
FBITS	  1218#
FBMERR	   409#
FDDMSK	  1150#
FDFMSK	  1149#
FH.TYP	  1180#
FLGCHR	   961#
FLGESC	   956#
FLGFOV	   963#
FLGHNG	   955#
FLGLIN	   960#
FLGMPT	   959#
FLGOV	   962#
FLGPDL	   958#
FLGUUO	   957#
FNFERR	   406#
GETB	   355#
HIBCHR	   967#
HIBFEX	   972#
HIBLIN	   968#
HIBPRT	   970#
HIBWKU	   971#
HIBYLB	   969#
HINPRT	   975#
HINTIM	   973#
HISPRT	   976#
HISTIM	   974#
HUNGST	   157#
I	   279#
IB	   280#
IBUFB	   339#
ICLOSB	   345#
ILUERR	   419#
INBFB	   347#
INITB	   338#
INPB	   343#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

IO	   317#
IOACT	   299#
IOADVB	   451#
IOBEG	   314#
IOBKTL	   301#
IOBOT	   298#
IOCON	   288#
IODEND	   300#
IODERR	   304#
IODTER	   302#
IOEND	   318#
IOFST	   315#
IOHNG	   319#
IOIMPM	   310#
IONDX	   290#
IONRCK	   289#
IOPAR	   296#
IOSTBL	   316#
IOTEND	   297#
IOUSE	   447#
IOW	   313#
IOWC	   287#
IPPERR	   407#
ISUERR	   412#
J	    41#
JACCT	   772#	   801
JACCT2	   783#
JBFADR	   437#
JBFCTR	   443#
JBFPTR	   442#
JBLNCR	   819#
JBLWLK	   818#
JBPNCR	   817#
JBPWDR	   879#	   884
JBPWDW	   880#	   884
JBPWDY	   876#	   884
JBPWFL	   882#	   884
JBPWLK	   816#
JBPWRN	   877#	   884
JBPWVR	   881#	   884
JBPWWT	   878#	   884
JDCON	   785#
JERR	   757#
JLOG	   769#	   801
JNA	   756#	   800
JRQ	   770#
JS.BAT	   807#
JS.BBJ	   812#
JS.EVI	   809#
JS.EVP	   810#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

JS.KIL	   808#
JSTCTX	   899#
JWPOS	   766#
JWSADJ	   779#
JWSIZ	   765#
KJP	   796#
LENFXL	   263#
LICAC	   919#
LICFMK	   924#
LICGDV	   914#
LICHR	   922#
LICJAL	   918#
LICOPR	   912#
LICQM	   921#
LICRFL	   927#
LICRMT	   917#
LICRPJ	   928#
LICRPS	   926#
LICSPY	   911#
LICSTR	   916#
LICSYS	   913#
LICTDV	   915#
LICUNU	   932#
LICWCR	   910#
LICWFL	   929#
LICWPJ	   930#
LICWPS	   925#
LICXC	   920#
LISTSN	     1	     1#	     4	  1501	  1502
LKMERR	   433#
LOOKB	   341#
M	    66#
MAPB	   356#
MBITS	  1219#
MRQ	   752#
NCRMSK	   820#
NECERR	   416#
NETERR	   428#
NMOCPC	  1283#	  1285	  1285#
NRMERR	   423#
NSDERR	   418#
NSFERR	   415#
NSRBIT	   327#
NTRERR	   432#
OBUFB	   340#
OCLOSB	   346#
OUTBFB	   348#
OUTPB	   344#
P	    39#
P1	    68#	    69
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

P2	    69#	    70
P2BLSH	  1200#
P2WLSH	  1196#	  1200
P3	    70#	    71
P4	    71#
PAOERR	   429#
PG	    44#
PHONLY	   334#
PI.CO1	   690#
PI.CO2	   691#
PI.CO3	   692#
PI.CO4	   693#
PI.CO5	   694#
PI.CO6	   695#
PI.CO7	   696#
PI.CPI	   700#
PI.CPP	   699#
PI.IIO	   701#
PI.IP1	   681#	   688
PI.IP2	   682#	   688
PI.IP3	   683#	   688
PI.IP4	   684#	   688
PI.IP5	   685#	   688
PI.IP6	   686#	   688
PI.IP7	   687#	   688
PI.IPA	   688#
PI.OFF	   704#
PI.ON	   705#
PI.PIA	   689#
PI.PR1	   673#
PI.PR2	   674#
PI.PR3	   675#
PI.PR4	   676#
PI.PR5	   677#
PI.PR6	   678#
PI.PR7	   679#
PI.SC1	   706#
PI.SC2	   707#
PI.SC3	   708#
PI.SC4	   709#
PI.SC5	   710#
PI.SC6	   711#
PI.SC7	   712#
PI.TFP	   703#
PI.TNP	   702#
PRF	   787#
PRTERR	   408#
PVACTS	   862#
PVBUD	   865#
PVDINA	   845#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

PVEXO	   853#
PVEXOG	   864#
PVLOS	   839#
PVMAIL	   863#
PVMCOR	   849#
PVMHNG	   856#
PVMMOD	   869#
PVMTIM	   843#
PVNCOR	   848#
PVNCRM	   871#
PVNHNG	   855#
PVNMAI	   844#
PVNMOD	   868#
PVNOAT	   840#
PVNTIM	   842#
PVRCMD	   866#
PVSCMD	   846#
PVSCOR	   847#
PVSCRM	   870#
PVSHNG	   854#
PVSMOD	   867#
PVSTIM	   841#
PVTYMP	   861#
RENMB	   351#
RESETB	   354#
RUN	   748#	   800
RUNABL	   800#
RUNMSK	   801#
S	    38#
S$CPU	   589#
S$DEBU	   588#
S$DISK	   593#
S$ENTR	   582#
S$EVEN	   591#
S$HALT	   584#
S$INFO	   590#
S$JOB	   587#
S$NONA	   585#
S$PATC	   592#
S$STOP	   586#
S$XCT	   583#
SCHPRV	   786#
SD	   282#
SETICP	   792#
SIZCTX	  1245#
SIZONC	  1251#
SIZOND	  1250#
SIZREF	  1249#
SLEVEL	   360#
SLICE	   359#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

SPFW.A	  1359#
SPFW.H	  1358#
SPFW.S	  1361#
SPFW.T	  1362#
SPFW.U	  1357#
SPFW.W	  1360#
SR.ACL	   665#
SR.CSB	   660#
SR.DIE	   664#
SR.DSB	   661#
SR.LBH	   667#
SR.STS	   662#
STAUTO	   990#
STRLB	   993#
STSHUT	   991#
STSUPR	   992#
STTYB1	   831#
STTYBF	   830#	   831
SWPINP	   790#
SYSDEV	   349#
T1	    55#	    56
T2	    56#	    58
T3	    58#	    60
T4	    60#
TMPBL	   826#
TRNERR	   414#
TTYATC	   238#
U	    49#
UPHNLY	   333#
UTRP	   784#
UUNATT	   466#
UUNEXT	   465#
UUNNAM	   464#
UUNPPN	   467#
UUXALC	   477#
UUXALP	   495#
UUXAUT	   490#
UUXDEV	   482#
UUXELB	   484#
UUXENT	   501#
UUXEST	   476#
UUXEUN	   485#
UUXEXT	   471#
UUXFT1	   479#
UUXFUT	   475#
UUXLCW	   480#
UUXMTA	   481#
UUXMXA	   488#
UUXNAM	   470#
UUXNUM	   468#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

UUXPID	   500#	   501
UUXPJ1	   498#
UUXPJ2	   499#
UUXPJC	   497#
UUXPOS	   478#
UUXPPN	   469#
UUXPRV	   472#
UUXQTF	   486#
UUXQTO	   487#
UUXSIZ	   473#
UUXSNM	   496#
UUXSTS	   483#
UUXTRU	   493#
UUXUN1	   492#
UUXUNM	   491#
UUXUSD	   489#
UUXVER	   474#
UUXXT2	   494#
VPMAX	  1224#
W	    64#
W2BLSH	  1199#	  1200
W2PLSH	  1197#	  1201
WAKFLG	   782#
WCHALL	   884#
WLKERR	   425#
WTMASK	   767#
XA	   278#
ZERO13	   460#
ZERO18	   459#
ZERO36	   458#
ZERO5	   461#
ZZ	  1137#	  1137
ZZPAG	  1212#	  1214	  1214#	  1215	  1215#	  1216	  1216#	  1224	  1228#	  1230	  1230#	  1231	  1231#	  1235
	  1245	  1245#	  1248	  1248#	  1249	  1249#	  1250	  1250#	  1251	  1251#	  1291	  1291#	  1293	  1295#
	  1296	  1296#	  1298#	  1299	  1299#
%BAT	  1291#
%BAT.N	  1291#	  1291
%CTX	  1245#
%CTX.N	  1245#	  1245
%ERR	  1230#
%ERR.N	  1230#	  1230
%HMR	  1291#
%HMR.N	  1291#	  1291
%HOM	  1291#
%HOM.N	  1291#	  1291
%MIN	  1299#
%MIN.N	  1299#	  1299
%MTA	  1296#
%MTA.N	  1296#	  1296
%MTE	  1248#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

%MTE.N	  1248#	  1248	  1295
%ONC	  1251#
%ONC.N	  1251#	  1251
%OND	  1250#
%OND.N	  1250#	  1250
%RB2	  1216#
%RB2.N	  1216#	  1216
%REF	  1249#
%REF.N	  1249#	  1249
%RIB	  1215#
%RIB.N	  1215#	  1215
%SAT	  1214#
%SAT.N	  1214#	  1214
%STA	  1291#
%STA.N	  1291#	  1291
%STR	  1291#
%STR.N	  1291#	  1291
%SWP	  1231#
%SWP.N	  1231#	  1231
%T2P	  1291#
%T2P.N	  1291#	  1291
%TMP	  1291#
%TMP.N	  1291#	  1291
.ARATT	  1137#
.ARCHM	  1137#
.ARCLR	  1137#
.ARDET	  1137#
.ARGVC	  1137#
.ARGVP	  1137#
.ARHLT	  1137#
.ARHNG	  1137#
.ARMAX	  1137#	  1137
.ARPLC	  1137#
.ARRAA	  1137#
.ARRAC	  1137#
.ARRAD	  1137#
.ARRDM	  1137#
.ARRDS	  1137#
.ARRFI	  1137#
.ARRPI	  1137#
.ARRUN	  1137#
.ARRVA	  1137#
.ARSAA	  1137#
.ARSIZ	  1137#	  1191
.ARSMF	  1137#
.ARSTP	  1137#
.ARSVA	  1137#
.ARTKP	  1137#
.ARVAR	  1137#
.ARVAW	  1137#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Symbol cross reference

.ARWAC	  1137#
.ARWAK	  1137#
.FDABS	  1153#
.FDFAM	  1154#
.FDFRH	  1160#
.FDOTF	  1159#
.FDSLF	  1161#
.FHART	  1190#	  1191
.FHEND	  1191#	  1193
.FHFNO	  1178#
.FHFRM	  1181#
.FHLIC	  1183#
.FHMAX	  1184#
.FHPNO	  1189#
.FHPRC	  1182#
.FHSIZ	  1193#
.FHTYP	  1179#
.FHUID	  1188#
.FMCHL	  1155#
.FMMAX	  1157#
.FMPAR	  1156#
.PVHCN	   859#
.PVHDT	   858#
.PVHKJ	   857#
.PVHTM	   860#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Macro/Opdef cross reference

ARCALL	  1098#	  1137
ARDEF	  1121#	  1137
ARDO	  1124#	  1137
ARMAC	  1027#	  1137
AUXCAL	   545#
BTSOFF	   740#
BTSON	   744#
CHANIO	   546#
CHLDBP	  1172#
CODES	  1481#
CPUSYM	   396#
EPTPGP	  1311#
EPTPGS	  1303#
EPTPTR	  1317#
FDEERP	  1166#
FRMOP	   547#
GTLNK	  1379#
HTPPTR	  1187#
IFCPU	   382#
IFNCPU	   389#
MAPALC	  1203#	  1214	  1215	  1216	  1230	  1231	  1245	  1248	  1249	  1250	  1251	  1291	  1296	  1299
MAPONC	  1240#	  1245	  1249	  1250	  1251
ND	    18#
NDL	    21#
NEIGBP	  1171#
NOSCHE	  1370#
ONSZCK	  1256#
OPCNAM	  1272#	  1285	  1291
PAGSTS	   538#
PERSET	   537#
PERSTS	   531#
PFALL	   522#
PIOFF	   732#
PION	   736#
PJRST	   505#
PJSP	   511#
PJUMPE	   515#
PJUMPN	   513#
PREREF	   534#
PRNTBP	  1170#
QUEUES	  1459#
SCHEDU	  1375#
STOPCD	   595#
SWAPIN	   526#
SYDVF	  1392#
SYSPIF	   724#
SYSPIN	   728#
UHLLZ	   370#
UHLRZ	   373#
UHRLZ	   367#
S.MAC - with system parameter file for P035/D, January 1988	MACRO %53B(1156)-1 15:29 15-Jan-88 Page 1
LIST	MAC	 4-Aug-76 23:22	


Macro/Opdef cross reference

UHRRZ	   364#
UPMPTR	  1335#
UPSPTR	  1332#
UPXPTR	  1326#
UXCTBU	  1350#
UXCTFU	  1350#
UXCTTU	  1350#
VALPAG	   533#
VCLEAR	   541#
VCREAT	   540#
VDSKPT	   529#
VPROT	   539#
VREMOV	   542#
VREPL	   543#
WSCTL	   535#
X	  1137#	  1137	  1284#	  1285	  1289#	  1291	  1341#	  1350
XP	    15#	   149	   152	   157	   166	   167	   170	   171	   172	   173	   174	   175	   176	   177
	   178	   179	   180	   182	   183	   184	   185	   187	   188	   189	   190	   191	   192	   193
	   194	   195	   196	   197	   198	   199	   200	   201	   202	   203	   204	   205	   206	   207
	   208	   209	   210	   211	   212	   213	   214	   215	   216	   221	   222	   224	   225	   226
	   227	   228	   229	   231	   232	   233	   235	   236	   237	   238	   239	   240	   241	   242
	   244	   245	   247	   253	   254	   257	   258	   259	   260	   261	   265	   266	   267	   268
	   270	   271	   272	   276	   277	   278	   279	   280	   281	   282	   283	   284	   287	   288
	   289	   290	   296	   297	   298	   299	   300	   301	   302	   304	   310	   313	   314	   315
	   316	   317	   318	   319	   327	   333	   334	   338	   339	   340	   341	   342	   343	   344
	   345	   346	   347	   348	   349	   351	   352	   354	   355	   356	   359	   360	   406	   407
	   408	   409	   410	   412	   414	   415	   416	   417	   418	   419	   423	   425	   428	   429
	   430	   432	   433	   437	   442	   443	   447	   451	   458	   459	   460	   461	   464	   465
	   466	   467	   468	   469	   470	   471	   472	   473	   474	   475	   476	   477	   478	   479
	   480	   481	   482	   483	   484	   485	   486	   487	   488	   489	   490	   491	   492	   493
	   494	   495	   496	   497	   498	   499	   500	   501	   502	   552	   553	   554	   660	   661
	   662	   664	   665	   667	   748	   749	   752	   756	   757	   759	   765	   766	   767	   769
	   770	   772	   779	   782	   783	   784	   785	   786	   787	   790	   792	   795	   796	   800
	   801	   807	   808	   809	   810	   812	   816	   817	   818	   819	   820	   826	   830	   831
	   839	   840	   841	   842	   843	   844	   845	   846	   847	   848	   849	   853	   854	   855
	   856	   857	   858	   859	   860	   861	   862	   863	   864	   865	   866	   867	   868	   869
	   870	   871	   876	   877	   878	   879	   880	   881	   882	   884	   892	   895	   896	   899
	   900	   905	   910	   911	   912	   913	   914	   915	   916	   917	   918	   919	   920	   921
	   922	   924	   925	   926	   927	   928	   929	   930	   932	   936	   937	   938	   939	   940
	   942	   943	   944	   947	   948	   949	   950	   955	   956	   957	   958	   959	   960	   961
	   962	   963	   967	   968	   969	   970	   971	   972	   973	   974	   975	   976	   979	   980
	   981	   982	   983	   984	   985	   990	   991	   992	   993	  1137	  1149	  1150	  1153	  1154
	  1155	  1156	  1157	  1159	  1160	  1161	  1178	  1179	  1180	  1181	  1182	  1183	  1184	  1188
	  1189	  1190	  1191	  1193	  1214	  1215	  1216	  1221	  1224	  1230	  1231	  1235	  1245	  1248
	  1249	  1250	  1251	  1291	  1296	  1299	  1357	  1358	  1359	  1360	  1361	  1362
XPL	    12#
XPP	     9#	    38	    39	    41	    44	    47	    49	    55	    56	    58	    60	    64	    66	    68
	    69	    70	    71
$END	    25#a@