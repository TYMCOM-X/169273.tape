CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 1
S.MAC	13-JAN-88 11:55		S.MAC - with system parameter file for P035/D, January 1988

     1				SUBTTL	S.MAC - with system parameter file for P035/D, January 1988
     2
     3				IF2,<IFNDEF LISTSN,<TAPE>>	;Skip to PASS2 in all but COMMON.LST
     4				;THIS MODULE ASSEMBLED WITH KS-10 PARAMETER FILE - KSSYM.MAC
     5
     6					IF2,<IFNDEF LISTSN,<		;LIST KSSYM.MAC IN COMMON ONLY
     7					.CREF
     8									TAPE>>
     9				; This file is PRINTF.MAC
    10				DEFINE PRINTF(A,B,C,D),<IF2,<;;Output message on MONKS build only
    11				PRINTX A B C D>>
    12
    13				SUBTTL	KSCOMM - module to specify the default terminal interface (KMC,DR11)
    14
    15				IFKMC^REPEAT 1,^<
    16	000000'	000000	000001	kmcdo::1		;Activate the KMC interface code
    17	000001'	000000	000000	drdo::0			;Don't use the DR11C driver
    18				>;END IFKMC
    19				IFNKMC^REPEAT 0,^<
    20				kmcdo::0		;Don't use the KMC
    21				drdo::1			;Access the DR11C directly
    22				>;END IFNKMC
    23	000002'	000000	000000	dzdo::0			;Deactivate the DZ driver
    24			000000	ctyval==0		;Deactivate the CTY driver
    25
    26				TITLE CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE
    27
    28					STOPCD(,ENTRY,CTYSIM)^
    29					ENTRY	CTYSIM		;For library searches
    30	000003'	260040	000000*	CTYSIM::PUSHJ	P,DIE		;**** Default stopcode for "CTYSIM" ****
    31	000004'	436471	635155		SIXBIT	/CTYSIM/  	;Title of module
    32	000005'	000000	000000		S$NONAME,,0		;?NONAME stopcode "CTYSIM+nnn(nnnnnn)"
    33			000003'	S$NAME==CTYSIM			;For STOPCDs with no arguments
    34					SALL>
    35				^
    36
    37			000011	IFKMC<	BYP1==^D9	;RIGHTMOST BIT POSITION OF FIRST BYTE
    38			000021		BYP2==^D17	;      SECOND BYTE OF A BUFFER RING WORD
    39			000033		BYP3==^D27	;      THIRD BYTE
    40			000043		BYP4==^D35	;      LAST BYTE POSITION IN A BUF RING WORD
    41					OPDEF	UUILDB	[101000,,0]	;KMC ILDB
    42					OPDEF	UUIDPB	[102000,,0]	;KMC IDPB
    43					DEFINE	TYPI(TYPE)		;FOR LOADING TYPES WITH A
    44					<TYPE_^D8>			;	MOVSI INSTR
    45				>;END IFKMC
    46				IFNKMC<	BYP1==^D7	;RIGHTMOST BIT POSITION OF FIRST BYTE
    47					BYP2==^D15	;      SECOND BYTE OF A BUFFER RING WORD
    48					BYP3==^D23	;      THIRD BYTE
    49					BYP4==^D31	;      LAST BYTE POSITION IN A BUF RING WD
    50					OPDEF	UUILDB	[ILDB 0]	;NORMAL ILDB
    51					OPDEF	UUIDPB	[IDPB 0]	;NORMAL IDPB
    52					DEFINE	TYPI(TYPE)		;FOR LOADING TYPES WITH A
    53					<TYPE_^D10>			;	MOVSI INSTR
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 1
CTYSIM.MAC	20-SEP-87 13:00		KSCOMM - module to specify the default terminal interface (KMC,DR11)

    54				>;END IFNKMC
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 2
CTYSIM.MAC	20-SEP-87 13:00		KSCOMM - module to specify the default terminal interface (KMC,DR11)

    55				;THIS ROUTINE IS LINKED INTO THE CHANNEL 7 CODE TO MAKE
    56				;SURE THAT THE CTY IS STARTED ON OUTPUT
    57
    58	000006'	332000	001024'	CH7LK::	SKIPE	CTYACT		;IS THE CTY ACTUALLY DOING OUTPUT
    59	000007'	254000	000007'		 JRST	.		;YES, CONTINUE DOWN CHAIN (FIXUP DONE LATER)
    60	000010'	202300	001025'		MOVEM	T1,CH7SVT	;A PLACE TO SAVE AN AC
    61	000011'	200300	000000*		MOVE	T1,ORPPDP
    62	000012'	312300	000000*		CAME	T1,ORP620
    63				IFCPU (<KS,KL>),<
    64					JRST	[SETOM CTYSTF	;SET SOFTWARE FLAG FOR "CONSO"
    65						 WRPI LI.REQ+<1B35>_<7-6> ;REQUEST IRP ON CH6
    66	000013'	254000	001063'			 JRST .+1]
    67				>;KSKL
    68				IFCPU (<KI,F3>),<CONO TTY,TT.SOD+6>	;TTY INACTIVE AND OUTPUT RING NON-
    69								;EMPTY. START TTY. CAUSE INTERRUPT
    70	000014'	200300	001025'		MOVE	T1,CH7SVT
    71	000015'	254000	000007'		JRST	CH7LK+1		;AND CONTINUE
    72
    73				;THIS ROUTINE IS LINKED INTO CH6 TO HANDLE TTY INTERUPTS
    74
    75				IFCPU (<KI,F3>),<
    76				CH6LK::	CONSO	TTY,TT.OD!TT.ID	;IS EITHER OUTPUT OR INPUT DONE?
    77					 JRST	.
    78					MOVEM	T4,CTSV+T4	;Save S,P,T1-T4
    79					MOVEI	T4,CTSV
    80					BLT	T4,CTSV+T4-1	;SAVE ACS
    81					MOVE	P,[-20,,RETCTP]	;AND SET PUSHDOWN POINTER
    82					CONSO	TTY,TT.ID	;IS IT INPUT
    83					 JRST	CTYOUT		;NO, HANDLE OUTPUT
    84					DATAI	TTY,T1		;READ
    85					PFALL	CH6LK1
    86				>;END IFCPU (<KI,F3>)
    87
    88				IFCPU (KL),<
    89				CH6LK::	CONSO	DTE,TO10DB	;DOORBELL FROM -11?
    90					 JRST	.		;NO, NEXT  PLEASE.
    91					CONO	DTE,CL11PT	;CLEAR IT NOW SO DON'T MISS ANOTHER (KLDCP DOESNT WAIT FOR IT T
    92				O CLEAR)
    93					MOVEM	T4,CTSV+T4	;SAVE AC'S
    94					MOVEI	T4,CTSV
    95					BLT	T4,CTSV+T4-1
    96					MOVE	P,[-20,,RETCTP]
    97					SETZ	T1,		;NOW CHECK FOR INPUT
    98					EXCH	T1,EPT+SPCMTI
    99					JUMPE	T1,CH6LK0	;NO INPUT, TRY OUTPUT
   100					MOVE	T1,EPT+SPCF11	;PICK UP INPUT CHAR
   101					ANDI	T1,377
   102					PUSHJ	P,CH6LK1	;DO INPUT PROCESSING
   103				CH6LK0:	SKIPE	T1,EPT+SPCMTD	;OUTPUT DONE?
   104					 JRST	CTYOUT		;GO IF YES
   105					POPJ	P,		;ELSE RETURN.
   106				>;END IFCPU (KL)
   107
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 2-2
CTYSIM.MAC	20-SEP-87 13:00		KSCOMM - module to specify the default terminal interface (KMC,DR11)

   108				IFCPU (KS),<
   109	000016'	336000	000037'	CH6LK::	SKIPN	CTYINF		;DID FRONT END INTERRUPT?
   110	000017'	254000	000017'		 JRST	.		;NO,NEXT PLEASE
   111	000020'	700600	020002		WRPI	LI.CPP+<1B35>_<7-6>	;CLEAR INTERRUPT ON CHANNEL 6
   112	000021'	202440	001041'		MOVEM	T4,CTSV+T4	;SAVE ACS
   113	000022'	201440	001030'		MOVEI	T4,CTSV
   114	000023'	251440	001040'		BLT	T4,CTSV+T4-1
   115	000024'	200040	001066'		MOVE	P,[-20,,RETCTP]	;AND SET PUSH DOWN POINTER
   116	000025'	402000	000037'		SETZM	CTYINF		;CLEAR SOFTWARE FLAG
   117	000026'	400300	000000		SETZ	T1,
   118	000027'	250300	000000*		EXCH	T1,CTYIWD##	;SEE IF ANY INPUT
   119	000030'	606300	000400		TRNN	T1,CTYIVL	;SKIP IF VALID CHAR
   120	000031'	254000	000034'		 JRST	CH6LK0		;IF NOT GO CHECK FOR VALID OUTPUT
   121	000032'	405300	000377		ANDI	T1,CTYICH	;GET CHAR ONLY
   122	000033'	260040	000040'		PUSHJ	P,CH6LK1	;DO INPUT PROCESSING
   123	000034'	336300	000000*	CH6LK0:	SKIPN	T1,CTYOWD##	;CHECK IF OUTPUT DONE
   124	000035'	254000	000234'		 JRST	CTYOUT		;YES,GO CHECK FOR MORE OUTPUT
   125	000036'	263040	000000		POPJ	P,
   126
   127	000037'	000000	000000	CTYINF::0			;CTY INTERRUPT FLAG
   128				>;END IFCPU (KS)
   129
   130	000040'	332000	001017'	CH6LK1:	SKIPE	CTLZFL		;IS THIS THE CHR AFTER ^Z
   131	000041'	254000	000112'		 JRST	CTLZH		;YES, SPECIAL ACTION
   132	000042'	302300	000032		CAIE	T1,"Z"-100	;IS IT ^Z
   133	000043'	306300	000232		CAIN	T1,"Z"-100+200	;OTHER PARITY CONTROL Z
   134	000044'	254000	000140'		 JRST	CTLZN		;YES
   135	000045'	336000	001014'	NRMCH:	SKIPN	NOWIN		;IS THIS PORT LOGGED IN
   136	000046'	263040	000000		 POPJ	P,		;NO, RETURN
   137	000047'	201240	000000*		MOVEI	U,CTYLDB##	;ALWAYS PORT 0
   138	000050'	135340	000000*		LDB	T2,LDSRXE##	;ENABLED FOR REVERSE XON?
   139	000051'	322340	000060'		JUMPE	T2,NRMCH1	;JUMP IF NOT.
   140	000052'	200340	000006		MOVE	T2,T1		;YES, MUST CHECK FOR ^Q OR ^S
   141	000053'	405340	000177		ANDI	T2,177
   142	000054'	306340	000021		CAIN	T2,"Q"-100
   143	000055'	254000	000176'		 JRST	BKPOFF
   144	000056'	306340	000023		CAIN	T2,"S"-100
   145	000057'	254000	000205'		 JRST	BKPON
   146	000060'	205340	402040	NRMCH1:	MOVSI	T2,(BYTE (8)201,10)
   147	000061'	137300	001067'		DPB	T1,[POINT 8,T2,23]	;PUT IN THE CHR
   148	000062'	260040	000214'		PUSHJ	P,DEPO		;STORE IN INPUT RING
   149	000063'	263040	000000		  POPJ	P,		;COULD NOT STORE, IGNORE
   150	000064'	263040	000000		POPJ	P,		;FINISHED WITH INTERUPT
   151
   152				IFCPU (<KS,KL>),<
   153	000065'	336000	000076'	CH6KST::SKIPN	CTYSTF		;CH7 WANT US TO LOOK AT OUTPUT RING?
   154	000066'	254000	000066'		 JRST	.		;NO.
   155	000067'	700600	020002		WRPI	LI.CPP+<1B35>_<7-6> ;YES. CLEAR PROGRAM REQUEST
   156	000070'	402000	000076'		SETZM	CTYSTF		;AND SOFTWARE FLAG
   157	000071'	202440	001041'		MOVEM	T4,CTSV+T4	;SAVE T4
   158	000072'	201440	001030'		MOVEI	T4,CTSV
   159	000073'	251440	001040'		BLT	T4,CTSV+T4-1
   160	000074'	200040	001066'		MOVE	P,[-20,,RETCTP]
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 2-3
CTYSIM.MAC	20-SEP-87 13:00		KSCOMM - module to specify the default terminal interface (KMC,DR11)

   161	000075'	254000	000234'		JRST	CTYOUT		;GO DO OUTPUT RING PROCESSING.
   162
   163	000076'	000000	000000	CTYSTF:0
   164				>;END IFCPU (<KS,KL>)
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 3
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   165				SUBTTL	Special input from the CTY routines
   166
   167	000077'	332000	001016'	CTYINP::SKIPE	CTYDO		;If CTY is a normal port
   168	000100'	263040	000000		 POPJ	P,		; then let CTLZH do the checking
   169				IFCPU (<KI,F3>),<
   170					CONSO	TTY,TT.ID	;KI,KA,F3 - test for input done
   171					 POPJ	P,		;Nothing there
   172					DATAI	TTY,T3
   173				>
   174				IFCPU (KL),<
   175					SETZ	T3,		;Check for secondary protocol input
   176					EXCH	T3,EPT+SPCMTI	;Get flag and zero it
   177					JUMPE	T3,CPOPJ	;Nothing there
   178					MOVE	T3,EPT+SPCF11	;Pick up input character
   179				>
   180				IFCPU (KS),<
   181	000101'	400400	000000		SETZ	T3,		;KS test for input
   182	000102'	250400	000027*		EXCH	T3,CTYIWD	;Get character and zero it
   183	000103'	606400	000400		TRNN	T3,CTYIVL	;Check if input valid is set
   184	000104'	263040	000000		 POPJ	P,		;Nothing there
   185				>
   186	000105'	405400	000377		ANDI	T3,377		;8 bits of character
   187	000106'	302400	000032		CAIE	T3,"Z"-100	;Check for Control-Z when not in CONSOLE mode
   188	000107'	306400	000232		CAIN	T3,"Z"-100+200	;Either parity
   189	000110'	254000	000116'		 JRST	CTYBRK		;Go to the break point
   190	000111'	254000	000000*		JRST	CPOPJ1		;Got a character in T3
   191
   192				;Control-Z handler (when in CONSOLE mode)
   193
   194	000112'	405300	000177	CTLZH:	ANDI	T1,177		;Get the character that followed ^Z
   195	000113'	402000	001017'		SETZM	CTLZFL
   196	000114'	302300	000142		CAIE	T1,"b"		; accept upper and lower case!
   197	000115'	306300	000102		CAIN	T1,"B"
   198	000116'	263040	000000	CTYBRK::  POPJ	P,		;Use 1^B in EDDT to set breakpoint here
   199	000117'	306300	000077		CAIN	T1,"?"		; needs help?
   200					 JRST	[MOVE T1,[POINT 7,[ASCIZ /
   201				
   202				CTYSIM commands (prefix with CTRL-Z)
   203				
   204				    ?   This message
   205				    B   Break-point
   206				    H   Hangup
   207				    L   Login
   208				    O   Toggle ^O
   209				    1   Set fill
   210				
   211				/]]
   212						MOVEM	T1,STRFLG
   213	000120'	254000	001131'			PJRST	CTYOUT]
   214	000121'	302300	000157		CAIE	T1,"o"
   215	000122'	306300	000117		CAIN	T1,"O"
   216					 PJRST	[SETCMM CTLOFG
   217	000123'	324740	001134'			POPJ P,]
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 3-2
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   218	000124'	302300	000154		CAIE	T1,"l"
   219	000125'	306300	000114		CAIN	T1,"L"
   220	000126'	324740	000145'		 PJRST	LOGIN		;SIMULATE A LOGIN
   221	000127'	302300	000150		CAIE	T1,"h"
   222	000130'	306300	000110		CAIN	T1,"H"
   223	000131'	324740	000171'		 PJRST	HNGUP		;SIMULATE A HANGUP
   224	000132'	301300	000060		CAIL	T1,"0"
   225	000133'	303300	000071		CAILE	T1,"9"
   226	000134'	324740	000045'		 PJRST	NRMCH		;JUST INPUT CHR
   227	000135'	275300	000060		SUBI	T1,"0"
   228	000136'	202300	001027'		MOVEM	T1,CTYFIL	;USE FOR FILL
   229	000137'	263040	000000		POPJ	P,
   230
   231	000140'	476000	001017'	CTLZN:	SETOM	CTLZFL		;JUST SET FLAG
   232	000141'	263040	000000		POPJ	P,
   233
   234	000142'	205440	001030'	RETCT:	MOVSI	T4,CTSV
   235	000143'	251440	000011		BLT	T4,T4
   236	000144'	254000	000017'		JRST	CH6LK+1		;THIS IS THE INTERUPT DISMISS
   237
   238	000145'	332000	001014'	LOGIN:	SKIPE	NOWIN		;IS IT ALREADY LOGGED IN?
   239	000146'	263040	000000		 POPJ	P,		;YES, IGNORE
   240	000147'	205340	014040		MOVSI	T2,(BYTE (8) 6,10)	; LOGIN TO PORT 10
   241	000150'	200300	000000*		MOVE	T1,SYSNUM##	;Our host number
   242	000151'	242300	000004		LSH	T1,4		;Put in 3rd and 4th byte position
   243	000152'	434340	000006		IOR	T2,T1
   244	000153'	260040	000214'		PUSHJ	P,DEPO
   245	000154'	256000	000003'		 STOPCD
   246	000155'	200340	001136'		MOVE	T2,[BYTE (8)204,10,14,00]	; TIC = 14
   247	000156'	550300	000000*		HRRZ	T1,.CPLOG##	;Get base node number
   248	000157'	242300	777776		LSH	T1,4-6		;High order 6 bits
   249	000160'	434340	000006		IOR	T2,T1
   250	000161'	260040	000214'		PUSHJ	P,DEPO
   251	000162'	256000	000003'		 STOPCD
   252	000163'	135340	001137'		LDB	T2,[POINT 6,.CPLOG##,35]
   253	000164'	242340	000034		LSH	T2,^D<3*8+4>	;Low 6 bits of node number, line 0
   254	000165'	260040	000214'		PUSHJ	P,DEPO
   255	000166'	256000	000003'		 STOPCD
   256	000167'	476000	001014'		SETOM	NOWIN		;NOW ITS IN
   257	000170'	263040	000000		POPJ	P,
   258
   259	000171'	205340	026040	HNGUP:	MOVSI	T2,(BYTE (8) 13,10)
   260	000172'	332000	001014'		SKIPE	NOWIN		;IGNORE IF NOT LOGGED IN
   261	000173'	260040	000214'		 PUSHJ	P,DEPO		;ELSE TRY TO PUT IN INPUT RING
   262	000174'	255000	000000		  JFCL
   263	000175'	263040	000000		POPJ	P,
   264
   265	000176'	336000	001015'	BKPOFF:	SKIPN	BKPFLG		;IF ALREADY OFF,
   266	000177'	254000	000060'		 JRST	NRMCH1		;TREAT AS NORMAL CHAR.
   267	000200'	205340	022040		MOVSI	T2,(BYTE (8)11,10)
   268	000201'	260040	000214'		PUSHJ	P,DEPO
   269	000202'	263040	000000		  POPJ	P,		;DIDN'T TAKE.
   270	000203'	402000	001015'		SETZM	BKPFLG		;OK, TELL OUTPUT ROUTINE OK TO START AGAIN.
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 3-3
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   271	000204'	324740	000234'		PJRST	CTYOUT		;GET OUTPUT STARTED AGAIN IF IN PROGRESS.
   272
   273	000205'	332000	001015'	BKPON:	SKIPE	BKPFLG		;IF ALREADY ON,
   274	000206'	254000	000060'		 JRST	NRMCH1		;TREAT AS NORMAL CHAR.
   275	000207'	205340	020040		MOVSI	T2,(BYTE (8)10,10)
   276	000210'	260040	000214'		PUSHJ	P,DEPO
   277	000211'	263040	000000		  POPJ	P,		;DIDN'T WORK
   278	000212'	476000	001015'		SETOM	BKPFLG		;TELL OUTPUT ROUTINE TO STOP
   279	000213'	263040	000000		POPJ	P,		;OK.
   280
   281	000214'	200400	000000*	DEPO:	MOVE	T3,IRP620
   282	000215'	271400	000001	DEPOC:	ADDI	T3,1
   283	000216'	405400	000000*		ANDI	T3,MSKIRG	;WE ENTER AT DEPOC WITH T3 SET
   284	000217'	316400	000214*		CAMN	T3,IRP620	;RING IS FULL IF SAME
   285	000220'	263040	000000		 POPJ	P,		;NON-SKIP RETURN IF FULL
   286				IFKMC<
   287	000221'	242340	777776		LSH	T2,-2		;SHIFT RIGHT 2
   288	000222'	550400	000007		HRRZ	T3,T2		;T3 = RIGHT HALF
   289	000223'	242400	777776		LSH	T3,-2		;SHIFT RIGHT HALF RIGHT 2 MORE BITS
   290	000224'	540340	000010		HRR	T2,T3		;T2 GETS NEW RIGHT HALF
   291				>;END IFKMC
   292	000225'	200400	000217*		MOVE	T3,IRP620
   293	000226'	202350	000000*		MOVEM	T2,IRING(T3)
   294	000227'	271400	000001		ADDI	T3,1
   295	000230'	405400	000216*		ANDI	T3,MSKIRG
   296	000231'	202400	000225*		MOVEM	T3,IRP620
   297	000232'	350001	000000		AOS	(P)
   298	000233'	263040	000000		POPJ	P,
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 4
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   299				;Read from SCNSER's ORING and send to the CTY
   300	000234'	332000	001021'	CTYOUT:	SKIPE	STRFLG		;In the middle of a string?
   301	000235'	254000	000316'		 JRST	STRFIL
   302	000236'	332000	001022'		SKIPE	CTOPNT		;ARE WE PROCESSING A STRING OF CHRS?
   303	000237'	254000	000264'		 JRST	OSTCNT		;YES
   304	000240'	200440	000012*		MOVE	T4,ORP620	;GET OUTPUT RING POINTER
   305	000241'	405440	000000*	CTOLP:	ANDI	T4,MSKORG	;THIS IS THE CONTINUE POINT
   306	000242'	316440	000011*		CAMN	T4,ORPPDP
   307	000243'	254000	000306'		 JRST	CTDNO		;OUTPUT IS DONE, RING EMPTY
   308	000244'	135300	001140'		LDB	T1,[POINT 8,ORING(T4),BYP1]	;GET TYPE
   309	000245'	307300	000043		CAIG	T1,SZODS	;SEE IF A DISPATCH TYPE
   310	000246'	256006	000334'		 XCT	CTOSPC(T1)	;YES, EXECUTE ON TYPE
   311	000247'	626300	000200		TRZN	T1,200		;SHOULD BE A DATA TYPE THEN
   312	000250'	256000	001141'	CTYBMT:: STOPCD (.,STOP,CTYBMT,PRTIRG##,<Bad message type to CTY>)
   313	000251'	135340	001145'		LDB	T2,[POINT 8,ORING(T4),BYP2]
   314	000252'	302340	000010		CAIE	T2,10
   315	000253'	254000	000612'		 JRST	SKPSTR		;NOT FOR US, SKIP THIS STRING
   316	000254'	332000	001020'		SKIPE	CTLOFG
   317	000255'	254000	000653'		 JRST	SKPST2		;IGNORE STRING
   318	000256'	202300	001023'		MOVEM	T1,CTOCNT
   319	000257'	201311	000000*		MOVEI	T1,ORING(T4)
   320	000260'	505300	221000		HRLI	T1,(POINT 8,0,BYP2)
   321	000261'	202300	001022'		MOVEM	T1,CTOPNT	;SET UP THE POINTER
   322	000262'	476000	001024'		SETOM	CTYACT		;SET ACTIVE
   323	000263'	254000	000272'		JRST	CTYSTR		;AND GO
   324
   325	000264'	332000	001015'	OSTCNT:	SKIPE	BKPFLG		;IF REVERSE BACKPRESSURE IS ON,
   326	000265'	263040	000000		 POPJ	P,		;JUST FORGET IT TILL ITS TAKEN OFF.
   327	000266'	332000	001026'		SKIPE	CTYRFL
   328	000267'	254000	000312'		 JRST	OSTFIL		;SEND FILL CHRS
   329	000270'	377000	001023'		SOSG	CTOCNT
   330	000271'	254000	000302'		 JRST	STRDON		;FINISHED IF OUT OF COUNT
   331	000272'	101300	001022'	CTYSTR:	UUILDB	T1,CTOPNT	;ENTER HERE TO START
   332	000273'	260040	000325'	CTYCH1:	PUSHJ	P,SPCOUT
   333	000274'	405300	000177		ANDI	T1,177
   334	000275'	306300	000015		CAIN	T1,15		;IS IT RETURN
   335	000276'	336300	001027'		SKIPN	T1,CTYFIL	;AND IS THERE A FILL NUMBER SET?
   336	000277'	263040	000000		 POPJ	P,		;FINISHED. (IGNORE CR DELAY)
   337	000300'	202300	001026'		MOVEM	T1,CTYRFL, SET UP
   338	000301'	263040	000000		POPJ	P,
   339
   340	000302'	550440	001022'	STRDON:	HRRZ	T4,CTOPNT
   341	000303'	275440	000257*		SUBI	T4,ORING
   342	000304'	402000	001022'		SETZM	CTOPNT		;CLEAR THE POINTER
   343	000305'	344440	000241'	SKT3:	AOJA	T4,CTOLP	;CONTINUE
   344
   345	000306'	202440	000240*	CTDNO:	MOVEM	T4,ORP620	;PUT IT BACK
   346				IFCPU (<KI,F3>),<CONO TTY,TT.COD+6>	;CLEAR OUTPUT DONE INTERUPT
   347	000307'	402000	001024'		SETZM	CTYACT
   348	000310'	402000	001020'		SETZM	CTLOFG
   349	000311'	263040	000000		POPJ	P,		;NOT ACTIVE AND DONE
   350
   351	000312'	370000	001026'	OSTFIL:	SOS	CTYRFL		;FOR NEXT TIME
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 4-2
CTYSIM.MAC	20-SEP-87 13:00		Special input from the CTY routines

   352	000313'	201300	000377		MOVEI	T1,377
   353	000314'	260040	000325'		PUSHJ	P,SPCOUT
   354	000315'	263040	000000		POPJ	P,
   355
   356	000316'	332000	001026'	STRFIL:	SKIPE	CTYRFL		;ARE THERE FILL CHRS TO DO
   357	000317'	254000	000312'		 JRST	OSTFIL		;YES
   358	000320'	134300	001021'		ILDB	T1,STRFLG	;GET CHR
   359	000321'	476000	001024'		SETOM	CTYACT
   360	000322'	326300	000273'		JUMPN	T1,CTYCH1	;AND GO
   361	000323'	402000	001021'		SETZM	STRFLG		;FINISHED
   362	000324'	324740	000234'		PJRST	CTYOUT
   363
   364	000325'	261040	000010	SPCOUT:	PUSH	P,T3		;Routine to output character in T1 to CTY
   365	000326'	200400	000006		MOVE	T3,T1		;SCNSER wants char in T3
   366	000327'	260040	000000*		PUSHJ	P,CTYCHR##	;Output to the CTY
   367	000330'	200400	000000*		MOVE	T3,JFYSC2##	;Tell OPRCTY to not output messages
   368	000331'	202400	000000*		MOVEM	T3,OPRTIC##	; for 1/2 second after this char goes out
   369	000332'	262040	000010		POP	P,T3
   370	000333'	263040	000000		POPJ	P,
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 5
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   371				SUBTTL	CTYSIM Dispatch table for messages SCNSER put into the ORING
   372	000334'	256000	000250'	CTOSPC:  STOPCD (,XCT,CTYBMT)
   373					; 0 Illegal
   374	000335'	344440	000241'		AOJA	T4,CTOLP	; 1 Open
   375	000336'	344440	000241'		AOJA	T4,CTOLP	; 2 Shut
   376	000337'	344440	000241'		AOJA	T4,CTOLP	; 3 Reset interface
   377	000340'	344440	000241'		AOJA	T4,CTOLP	; 4 Reset acknowlege
   378	000341'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   379					; 5 (supervisor takeover)
   380	000342'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   381					; 6 (login from network)
   382	000343'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   383					; 7 (aux circuit complete)
   384	000344'	254000	000660'		JRST	BAKTRN		;10 Backpressure on
   385	000345'	254000	000660'		JRST	BAKTRN		;11 Backpressure off
   386	000346'	254000	000716'		JRST	GOBTRN		;12 Character gobbler
   387	000347'	254000	000677'		JRST	ZAPTRN		;13 Circuit zapper
   388	000350'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   389					;14 Enter deferred echo mode
   390	000351'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   391					;15 Leave deferred echo mode
   392	000352'	344440	000241'		AOJA	T4,CTOLP	;16 Green ball
   393	000353'	344440	000241'		AOJA	T4,CTOLP	;17 Red ball
   394	000354'	254000	000673'		JRST	YELTRN		;20 Yellow ball
   395	000355'	254000	000722'		JRST	ORGTRN		;21 Orange ball
   396	000356'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   397					;22 Hang character
   398	000357'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   399					;23 (enter transparency mode)
   400	000360'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   401					;24 (leave transparency mode)
   402	000361'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   403					;25 (gray ball / black ball)
   404	000362'	254000	000424'		JRST	SUPINI		;26 Supervisor request
   405	000363'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   406					;27 (supervisor response)
   407	000364'	254000	000442'		JRST	SUPCHR		;30 Character to supervisor
   408	000365'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   409					;31 Test pattern to base
   410	000366'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   411					;32 (test pattern response)
   412	000367'	344440	000305'		AOJA	T4,SKT3		;33 Host sad (2 words)
   413	000370'	344440	000241'		AOJA	T4,CTOLP	;34 Echo on
   414	000371'	344440	000241'		AOJA	T4,CTOLP	;35 Echo off
   415	000372'	344440	000241'		AOJA	T4,CTOLP	;36 Set terminal characteristics
   416	000373'	344440	000241'		AOJA	T4,CTOLP	;37 Terminal characteristics probe
   417	000374'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   418					;40 (terminal characteristics response)
   419	000375'	344440	000241'		AOJA	T4,CTOLP	;41 Set host and number of ports
   420	000376'	344440	000241'		AOJA	T4,CTOLP	;42 Request clock from supervisor
   421	000377'	256000	000250'		 STOPCD (,XCT,CTYBMT)
   422					;43 (clock response from supervistor)
   423				REPEAT 0,<;Code not yet finished, in both CTYSIM and DZKON.
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 5-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   424					JRST	P.IBMO	;44 Initiate block mode output
   425					STOPCD		;45 Block mode output complete
   426					JRST	P.IBMI	;46 Initiate block mode input
   427					STOPCD		;47 Block mode input terminated--out of buffer space
   428					STOPCD		;50 Block mode input terminated--end of transmission
   429					STOPCD		;51 Block mode input terminated--timeout by base
   430					JRST	P.RBIT	;52 Request block mode input termination
   431					STOPCD		;53 Block mode input terminated by host request
   432					JRST	P.RBOT	;54 Request block mode output termination
   433					STOPCD		;55 Block mode output terminated by host request
   434					JRST	P.NBIP	;56 Negotiate for number of block I/O ports
   435				>;REPEAT 0,
   436			000043	SZODS==.-CTOSPC-1
   437
   438	000400'	135300	001145'	ZAPCIR:	LDB	T1,[POINT 8,ORING(T4),BYP2]	;GET PORT
   439	000401'	302300	000010		CAIE	T1,10
   440	000402'	344440	000241'		 AOJA	T4,CTOLP	;FORGET IT
   441					MOVE	T1,[POINT 7,[ASCIZ /
   442	000403'	200300	001152'	please log in:  /]]
   443	000404'	202300	001021'		MOVEM	T1,STRFLG
   444	000405'	271440	000001		ADDI	T4,1		;TO SKIP THE ZAPPER
   445	000406'	405440	000241*		ANDI	T4,MSKORG
   446	000407'	202440	000306*		MOVEM	T4,ORP620
   447	000410'	402000	001014'		SETZM	NOWIN
   448	000411'	324740	000234'		PJRST	CTYOUT		;GO
   449
   450					;GET ORING WORD IN NON-KMC FORMAT TO T2
   451	000412'	200351	000303*	GORING:	MOVE	T2,ORING(T4)	;T2 <- NEXT WORD IN ORING
   452				IFKMC<
   453	000413'	242340	000002		LSH	T2,2		;SHIFT LEFT 2
   454	000414'	500351	000412*		HLL	T2,ORING(T4)	;LAY IN THE LEFT HALF AGAIN
   455	000415'	242340	000002		LSH	T2,2		;NOW T2 LOOKS LIKE KL's ORING WORD
   456				>;END IFKMC
   457	000416'	263040	000000		POPJ	P,
   458
   459	000417'	260040	000412'	RSPORG:	PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   460	000420'	661340	002000		TLO	T2,(BYTE (8) 1)
   461	000421'	260040	000214'	RSPOUT:	PUSHJ	P,DEPO		;CONVERT TO ORANGE AND RET
   462	000422'	344440	000241'		  AOJA	T4,CTOLP
   463	000423'	344440	000241'		AOJA	T4,CTOLP
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 6
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   464				;Fake AUX circuit
   465	000424'	332000	001005'	SUPINI:	SKIPE	AXINP		;IS BUILDING ALREADY IN PROGRESS?
   466	000425'	254000	000437'		  JRST	SUPBAD		;YES, SEND ERROR
   467	000426'	476000	001005'		SETOM	AXINP		;YES, SET IT
   468	000427'	200300	001153'		MOVE	T1,[POINT 7,AXSTR]
   469	000430'	202300	001006'		MOVEM	T1,AXSTRP	;POINTER FOR STRING
   470	000431'	201300	000014		MOVEI	T1,^D12
   471	000432'	202300	001012'		MOVEM	T1,AXCNT	;COUNT FOR USER NAME
   472	000433'	476000	001013'		SETOM	AXNUM		;NOT GETTING SYSTEM NUMBER YET
   473	000434'	260040	000412'		PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   474	000435'	661340	002000		TLO	T2,(BYTE (8) 1)	;TURN IT INTO GOOD RESPONSE
   475	000436'	254000	000421'		JRST	RSPOUT
   476
   477	000437'	260040	000412'	SUPBAD:	PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   478	000440'	670340	001154'		TDO	T2,[BYTE (8) 1,0,1]
   479	000441'	254000	000421'		JRST	RSPOUT		;TURN IT INTO AN ERROR
   480
   481	000442'	135300	001155'	SUPCHR:	LDB	T1,[POINT 7,ORING(T4),BYP3]	;GET CHR
   482	000443'	302300	000015		CAIE	T1,15
   483	000444'	306300	000073		CAIN	T1,";"
   484	000445'	254000	000467'		 JRST	SUPFIN		;FINISH UP
   485	000446'	331000	001013'		SKIPL	AXNUM
   486	000447'	254000	000457'		 JRST	SUPNUM		;GETTING SYSEM NUMBER
   487	000450'	306300	000072		CAIN	T1,":"
   488	000451'	254000	000455'		 JRST	SUPSYS		;STARTING SYSTEM NUMBER
   489	000452'	371000	001012'		SOSL	AXCNT
   490	000453'	136300	001006'		IDPB	T1,AXSTRP	;SAVE PART OF USER NAME IF ROOM
   491	000454'	344440	000241'		AOJA	T4,CTOLP
   492
   493	000455'	402000	001013'	SUPSYS:	SETZM	AXNUM
   494	000456'	344440	000241'		AOJA	T4,CTOLP
   495
   496	000457'	307300	000071	SUPNUM:	CAIG	T1,"9"
   497	000460'	305300	000060		CAIGE	T1,"0"
   498	000461'	344440	000241'		 AOJA	T4,CTOLP	;IGNORE STRANGE CHR
   499	000462'	200340	001013'		MOVE	T2,AXNUM
   500	000463'	221340	000012		IMULI	T2,^D10
   501	000464'	271346	777720		ADDI	T2,-"0"(T1)
   502	000465'	202340	001013'		MOVEM	T2,AXNUM
   503	000466'	344440	000241'		AOJA	T4,CTOLP
   504
   505	000467'	135300	001156'	SUPFIN:	LDB	T1,[POINT 7,CONFIG##,13]
   506	000470'	135340	001157'		LDB	T2,[POINT 7,CONFIG##,20] ;GET THIS SYSTEM NUMBER
   507	000471'	275300	000060		SUBI	T1,"0"
   508	000472'	221300	000012		IMULI	T1,^D10
   509	000473'	271307	777720		ADDI	T1,-"0"(T2)
   510	000474'	312300	001013'		CAME	T1,AXNUM
   511	000475'	254000	000566'		 JRST	SUPSYW		;WRONG SYSTEM
   512	000476'	201300	000015		MOVEI	T1,^D13
   513	000477'	274300	001012'		SUB	T1,AXCNT
   514	000500'	242300	777777		LSH	T1,-1
   515	000501'	271300	000005		ADDI	T1,5		;GET SPACE IN INPUT RING REQUIRED
   516	000502'	260040	000602'		PUSHJ	P,ISZCK		;CHECK SIZE
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 6-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   517	000503'	254000	000306'		 JRST	CTDNO		;NO, SAY FINISHED, WILL REENTER
   518	000504'	201300	000000		MOVEI	T1,0
   519	000505'	136300	001006'		IDPB	T1,AXSTRP
   520	000506'	260040	000575'		PUSHJ	P,GETPRT	;GET A PORT NUMBER
   521	000507'	254000	000566'		 JRST	SUPSYW		;CAN NOT, SAY SYSTEM UNAVAIL
   522	000510'	201406	000011		MOVEI	T3,11(T1)
   523	000511'	261040	000010		PUSH	P,T3
   524	000512'	260040	000600'		PUSHJ	P,GETPRC	;AND ANOTHER
   525	000513'	254000	000565'		 JRST	SUPSWP		;CAN NOT GET 2
   526	000514'	201306	000011		MOVEI	T1,11(T1)
   527	000515'	262040	000010		POP	P,T3
   528	000516'	202406	000734'		MOVEM	T3,PTRNTB-11(T1)
   529	000517'	202310	000734'		MOVEM	T1,PTRNTB-11(T3)
   530	000520'	205340	016000		MOVSI	T2,(BYTE (8) 7)
   531	000521'	137400	001160'		DPB	T3,[POINT 8,T2,15]
   532	000522'	135400	001145'		LDB	T3,[POINT 8,ORING(T4),BYP2]	;GET PORT OF REQUESTER
   533	000523'	137400	001067'		DPB	T3,[POINT 8,T2,23]	;AND PUT IN PORT REQUEST
   534	000524'	260040	000214'		PUSHJ	P,DEPO			;SAY WHICH PORT
   535	000525'	256000	000003'		  STOPCD
   536	000526'	205340	056000		MOVSI	T2,(BYTE (8) 27)
   537	000527'	135400	001145'		LDB	T3,[POINT 8,ORING(T4),BYP2]
   538	000530'	137400	001160'		DPB	T3,[POINT 8,T2,15]
   539	000531'	260040	000214'		PUSHJ	P,DEPO			;AND NO ERROR
   540	000532'	256000	000003'		  STOPCD
   541	000533'	205340	014000		MOVSI	T2,(BYTE (8) 6)
   542	000534'	137300	001160'		DPB	T1,[POINT 8,T2,15]	;NOW LOG IN NEW PORT
   543	000535'	260040	000214'		PUSHJ	P,DEPO
   544	000536'	256000	000003'		  STOPCD
   545	000537'	205340	404000		MOVSI	T2,(BYTE (8) 202)
   546	000540'	137300	001160'		DPB	T1,[POINT 8,T2,15]
   547	000541'	260040	000214'		PUSHJ	P,DEPO
   548	000542'	256000	000003'		  STOPCD
   549	000543'	260040	000214'		PUSHJ	P,DEPO
   550	000544'	256000	000003'		  STOPCD
   551	000545'	200400	001153'		MOVE	T3,[POINT 7,AXSTR]
   552	000546'	202400	001006'		MOVEM	T3,AXSTRP
   553	000547'	134400	001006'	STRLP:	ILDB	T3,AXSTRP
   554	000550'	322400	000563'		JUMPE	T3,STRLP2
   555	000551'	137400	001067'		DPB	T3,[POINT 8,T2,23]
   556	000552'	134400	001006'		ILDB	T3,AXSTRP
   557	000553'	322400	000560'		JUMPE	T3,STRLP3
   558	000554'	137400	001161'		DPB	T3,[POINT 8,T2,31]
   559	000555'	260040	000214'		PUSHJ	P,DEPO
   560	000556'	256000	000003'		  STOPCD
   561	000557'	254000	000547'		JRST	STRLP
   562
   563	000560'	641340	006000	STRLP3:	TLC	T2,(BYTE (8) 3)	;CHANGE TO 1 CHR
   564	000561'	260040	000214'		PUSHJ	P,DEPO
   565	000562'	256000	000003'		  STOPCD
   566	000563'	402000	001005'	STRLP2:	SETZM	AXINP
   567	000564'	344440	000241'		AOJA	T4,CTOLP
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 7
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   568	000565'	262040	000010	SUPSWP:	POP	P,T3
   569	000566'	135300	001145'	SUPSYW:	LDB	T1,[POINT 8,ORING(T4),BYP2]
   570	000567'	200340	001162'		MOVE	T2,[BYTE (8) 27,0,4]
   571	000570'	137300	001160'		DPB	T1,[POINT 8,T2,15]
   572	000571'	260040	000214'		PUSHJ	P,DEPO
   573	000572'	254000	000306'		  JRST	CTDNO
   574	000573'	402000	001005'		SETZM	AXINP
   575	000574'	344440	000241'		AOJA	T4,CTOLP
   576
   577	000575'	205300	777740	GETPRT:	MOVSI	T1,-40
   578	000576'	336006	000745'		SKIPN	PTRNTB(T1)
   579	000577'	254000	000111*		 JRST	CPOPJ1
   580	000600'	253300	000576'	GETPRC:	AOBJN	T1,.-2
   581	000601'	263040	000000		POPJ	P,
   582
   583	000602'	200340	000000*	ISZCK:	MOVE	T2,IRPPDP
   584	000603'	274340	000231*		SUB	T2,IRP620
   585	000604'	362340	000000*		SOJE	T2,CPOPJ	;NOT ENOUGH ROOM (0)
   586	000605'	335000	000007		SKIPGE	T2
   587	000606'	271340	000001*		 ADDI	T2,MSKIRG+1
   588	000607'	311340	000006		CAML	T2,T1
   589	000610'	350001	000000		 AOS	(P)
   590	000611'	263040	000000		POPJ	P,
   591
   592	000612'	301340	000010	SKPSTR:	CAIL	T2,10
   593	000613'	303340	000050		CAILE	T2,50
   594	000614'	254000	000653'		 JRST	SKPST2		;REALLY SKIP IT
   595	000615'	336007	000734'		SKIPN	PTRNTB-11(T2)
   596	000616'	254000	000653'		 JRST	SKPST2		;PORT NOT IN USE
   597
   598	000617'	202300	001023'		MOVEM	T1,CTOCNT
   599	000620'	201311	000414*		MOVEI	T1,ORING(T4)
   600	000621'	505300	221000		HRLI	T1,(POINT 8,0,BYP2)
   601	000622'	202300	001022'		MOVEM	T1,CTOPNT
   602	000623'	200300	001023'		MOVE	T1,CTOCNT
   603	000624'	271300	000001		ADDI	T1,1
   604	000625'	242300	777777		LSH	T1,-1
   605	000626'	260040	000602'		PUSHJ	P,ISZCK
   606	000627'	254000	000306'		  JRST	CTDNO
   607	000630'	135300	001145'		LDB	T1,[POINT 8,ORING(T4),BYP2]
   608	000631'	200306	000734'		MOVE	T1,PTRNTB-11(T1)
   609	000632'	205340	404000		MOVSI	T2,(BYTE (8) 202)
   610	000633'	137300	001160'		DPB	T1,[POINT 8,T2,15]
   611	000634'	375000	001023'	ATRLP:	SOSGE	CTOCNT
   612	000635'	254000	000652'		 JRST	ATRLP1
   613	000636'	101300	001022'		UUILDB	T1,CTOPNT
   614	000637'	137300	001067'		DPB	T1,[POINT 8,T2,23]
   615	000640'	375000	001023'		SOSGE	CTOCNT
   616	000641'	254000	000647'		 JRST	ATRLP2
   617	000642'	101300	001022'		UUILDB	T1,CTOPNT
   618	000643'	137300	001161'		DPB	T1,[POINT 8,T2,31]
   619	000644'	260040	000214'		PUSHJ	P,DEPO
   620	000645'	256000	000003'		  STOPCD
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 7-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   621	000646'	254000	000634'		JRST	ATRLP
   622
   623	000647'	641340	006000	ATRLP2:	TLC	T2,(BYTE (8) 3)
   624	000650'	260040	000214'		PUSHJ	P,DEPO
   625	000651'	256000	000003'		  STOPCD
   626	000652'	254000	000302'	ATRLP1:	JRST	STRDON
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 8
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   627	000653'	275300	000002	SKPST2:	SUBI	T1,2
   628	000654'	361300	000305'		SOJL	T1,SKT3
   629	000655'	242300	777776		LSH	T1,-2
   630	000656'	270440	000006		ADD	T4,T1
   631	000657'	344440	000305'		AOJA	T4,SKT3
   632
   633	000660'	260040	000412'	BAKTRN:	PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   634	000661'	135300	001160'		LDB	T1,[POINT 8,T2,15]
   635	000662'	303300	000010		CAILE	T1,10
   636	000663'	303300	000050		CAILE	T1,50
   637	000664'	344440	000241'		 AOJA	T4,CTOLP
   638	000665'	336306	000734'		SKIPN	T1,PTRNTB-11(T1)
   639	000666'	344440	000241'		 AOJA	T4,CTOLP
   640	000667'	137300	001160'		DPB	T1,[POINT 8,T2,15]
   641	000670'	260040	000214'		PUSHJ	P,DEPO
   642	000671'	254000	000306'		  JRST	CTDNO
   643	000672'	344440	000241'		AOJA	T4,CTOLP
   644
   645	000673'	135300	001145'	YELTRN:	LDB	T1,[POINT 8,ORING(T4),BYP2]
   646	000674'	302300	000010		CAIE	T1,10
   647	000675'	254000	000660'		 JRST	BAKTRN
   648	000676'	254000	000417'		JRST	RSPORG
   649
   650	000677'	135300	001145'	ZAPTRN:	LDB	T1,[POINT 8,ORING(T4),BYP2]
   651	000700'	306300	000010		CAIN	T1,10
   652	000701'	254000	000400'		 JRST	ZAPCIR
   653	000702'	301300	000010		CAIL	T1,10
   654	000703'	303300	000050		CAILE	T1,50
   655	000704'	344440	000241'		 AOJA	T4,CTOLP
   656	000705'	336346	000734'		SKIPN	T2,PTRNTB-11(T1)
   657	000706'	344440	000241'		 AOJA	T4,CTOLP
   658	000707'	200400	000007		MOVE	T3,T2
   659	000710'	260040	000412'		PUSHJ	P,GORING	;[MOVE T2,ORING(T4) & KMC ADJ]
   660	000711'	137400	001160'		DPB	T3,[POINT 8,T2,15]
   661	000712'	260040	000214'		PUSHJ	P,DEPO
   662	000713'	254000	000306'		  JRST	CTDNO
   663	000714'	402006	000734'		SETZM	PTRNTB-11(T1)
   664	000715'	344440	000241'		AOJA	T4,CTOLP
   665
   666	000716'	135340	001145'	GOBTRN:	LDB	T2,[POINT 8,ORING(T4),BYP2]
   667	000717'	306340	000010		CAIN	T2,10
   668	000720'	402000	001020'		 SETZM	CTLOFG
   669	000721'	254000	000660'		JRST	BAKTRN
   670
   671	000722'	254000	000660'	ORGTRN:	JRST	BAKTRN
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 9
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   672				;Called from ONCE to set up CTY
   673	000723'	336000	001016'	CTYSET::SKIPN	CTYDO
   674	000724'	263040	000000		 POPJ	P,		;DO NOT SET UP
   675				IFCPU (<KI,KL>),<
   676					MOVSI	T1,(SKIPA)
   677					MOVEM	T1,CRSCHK##	;Disable check for nonzero in 30
   678				>; END IFCPU (<KI,KL>)
   679	000725'	205300	255000		MOVSI	T1,(JFCL)
   680	000726'	202300	000000*		MOVEM	T1,KEYSET##	;Disable updating the key
   681	000727'	200300	001163'		MOVE	T1,[JEN @CH6]
   682	000730'	202300	000017'		MOVEM	T1,CH6LK+1
   683	000731'	200300	001164'		MOVE	T1,[JRST CH6LK]
   684				IFCPU (<KS,KL>),<
   685	000732'	202300	000066'		MOVEM	T1,CH6KST+1	;IF KL OR KS MAKE OUTPUT RING STARTER FIRST
   686	000733'	200300	001165'		MOVE	T1,[JRST CH6KST]
   687				>;END IFCPU (<KS,KL>)
   688	000734'	202300	000001*		MOVEM	T1,CH6+1
   689	000735'	200300	000001*		MOVE	T1,CH7+1
   690	000736'	202300	000007'		MOVEM	T1,CH7LK+1
   691	000737'	200300	001166'		MOVE	T1,[JRST CH7LK]
   692	000740'	202300	000001*		MOVEM	T1,CH7+1
   693				IFCPU (KL),<
   694					MOVE	T1,[JSR CH6]	;DTE INTERRUPT INSTRUCTION
   695					MOVEM	T1,EPT+EPTDT0+DTEDII
   696					CONO	DTE,PILDEN+6	;PI load enable - channel 6
   697				>;END IFCPU (KL)
   698				IFCPU (<KI,F3>),<CONO TTY,TT.COD!TT.CID+6>
   699	000741'	700200	100020*	IFCPU (KS),<WRAPR LP.ESF+LP.80C+APRCHN##>	;ENABLE THE CTY INTERRUPT
   700					MOVE	T1,[POINT 7,[ASCIZ /
   701				
   702				Type CTRL-Z ? for help
   703				
   704	000742'	200300	001201'	please log in:  /]]
   705	000743'	202300	001021'		MOVEM	T1,STRFLG	;Set pointer for initial LOGIN
   706	000744'	324740	000234'		PJRST	CTYOUT		;Print the msg on the CTY (NOW!)
   707
   708				EXTERNAL MSKORG,MSKIRG,IRING,ORING,ORP620,IRP620
   709				EXTERNAL ORPPDP,IRPPDP,CH6,CH7
   710				EXTERNAL CPOPJ,CPOPJ1,EPT
   711
   712	000745'			PTRNTB:	BLOCK	40	;Translation table for ports 11-50
   713	001005'	000000	000000	AXINP:	0
   714	001006'	000000	000000	AXSTRP:	0
   715	001007'			AXSTR:	BLOCK	3
   716	001012'	000000	000000	AXCNT:	0
   717	001013'	000000	000000	AXNUM:	0
   718
   719	001014'	000000	000000	NOWIN::	0		;NON-ZERO IF LOGGED IN
   720	001015'	000000	000000	BKPFLG:	0		;NON-ZERO IF "REMOTE" IS APPLYING BACKPRESSURE.
   721				IFNDEF CTYVAL,<CTYVAL==0>
   722	001016'	000000	000000	CTYDO:: CTYVAL
   723	001017'	000000	000000	CTLZFL:	0		;CONTROL Z FLAG
   724	001020'	000000	000000	CTLOFG:	0
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 9-2
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   725	001021'	000000	000000	STRFLG:	0		;HERE IF GENERATING A STRING (LIKE PLEASE LOG IN)
   726	001022'	000000	000000	CTOPNT:	0		;OUTPUT POINTER
   727	001023'	000000	000000	CTOCNT:	0		;AND COUNT
   728	001024'	000000	000000	CTYACT:	0		;CTY OUTPUT ACTIVE
   729	001025'	000000	000000	CH7SVT:	0		;SAVE LOC FOR CH7
   730	001026'	000000	000000	CTYRFL:	0
   731	001027'	000000	000000	CTYFIL:	0
   732	001030'			CTSV:	BLOCK T4+1	;Up to and including T4
   733	001042'	000000	000142'	RETCTP:	RETCT
   734	001043'				BLOCK 20	;PDL
   735
   736	001063'	476000	000076'		$END	(CTY)

   737	001064'	700600	004002

   738	001065'	254000	000014'

   739	001066'	777760	001042'

   740	001067'	141000	000007

   741	001070'	064241	505206

   742	001071'	522632	344632

   743	001072'	203075	766732

   744	001073'	607354	471500

   745	001074'	243416	262714

   746	001075'	647604	073722

   747	001076'	723204	041650

   748	001077'	512305	555122

   749	001100'	064241	505100

   750	001101'	201004	037500

   751	001102'	201012	464322

   752	001103'	715015	562746

   753	001104'	717034	762432

   754	001105'	051004	020100

   755	001106'	411004	020204

   756	001107'	713134	165532

CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 9-3
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   757	001110'	703375	167350

   758	001111'	064244	020100

   759	001112'	202204	020100

   760	001113'	443035	663752

   761	001114'	700321	220100

   762	001115'	201011	420100

   763	001116'	202315	763722

   764	001117'	670321	220100

   765	001120'	201011	720100

   766	001121'	202515	763716

   767	001122'	663124	057236

   768	001123'	064244	020100

   769	001124'	201424	020100

   770	001125'	517136	420314

   771	001126'	647315	406424

   772	001127'	064240	000000

   773	001130'	440700	001070'

   774	001131'	200300	001130'

   775	001132'	202300	001021'

   776	001133'	324740	000234'

   777	001134'	462000	001020'

   778	001135'	263040	000000

   779	001136'	410040	140000

   780	001137'	000600	000156*

   781	001140'	321011	000620*

   782	001141'	260040	000003*

   783	001142'	436471	425564
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 9-4
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING


   784	001143'	400001	000000

   785	001144'	000000	000000*

   786	001145'	221011	001140*

   787	001146'	064256	066312

   788	001147'	607474	520330

   789	001150'	677164	064734

   790	001151'	351004	000000

   791	001152'	440700	001146'

   792	001153'	440700	001007'

   793	001154'	002000	010000

   794	001155'	100711	001145*

   795	001156'	260700	000000*

   796	001157'	170700	001156*

   797	001160'	241000	000007

   798	001161'	041000	000007

   799	001162'	056000	040000

   800	001163'	254520	000000*

   801	001164'	254000	000016'

   802	001165'	254000	000065'

   803	001166'	254000	000006'

   804	001167'	064241	505250

   805	001170'	747414	520206

   806	001171'	522451	426664

   807	001172'	201764	063336

   808	001173'	711015	062730

   809	001174'	700321	206424

CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 9-5
CTYSIM.MAC	20-SEP-87 13:00		CTYSIM Dispatch table for messages SCNSER put into the ORING

   810	001175'	703314	560746

   811	001176'	625015	467716

   812	001177'	203235	635100

   813	001200'	200000	000000

   814	001201'	440700	001167'

   815						;End of CTYSIM (CTYLIT: CTYEND:)
   816
NO ERRORS DETECTED
PROGRAM BREAK IS 001214
7K CORE USED
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88 PAGE 10
CTYSIM.MAC	20-SEP-87 13:00		SYMBOL TABLE

APRCHN		000000	EXT	CTYINF		000037'	INT	PJRST	324740	000000		
ATRLP		000634'		CTYINP		000077'	INT	PRTIRG		001144'	EXT	
ATRLP1		000652'		CTYIVL		000400	SPD	PTRNTB		000745'		
ATRLP2		000647'		CTYIWD		000102'	EXT	RETCT		000142'		
AXCNT		001012'		CTYLDB		000047'	EXT	RETCTP		001042'		
AXINP		001005'		CTYLIT		001063'	INT	RSPORG		000417'		
AXNUM		001013'		CTYOUT		000234'		RSPOUT		000421'		
AXSTR		001007'		CTYOWD		000034'	EXT	S$ENTR	777777	777775	SIN	
AXSTRP		001006'		CTYRFL		001026'		S$EVEN		000006	SIN	
BAKTRN		000660'		CTYSET		000723'	INT	S$HALT	777777	777777	SIN	
BKPFLG		001015'		CTYSIM		000003'	ENT	S$INFO		000005	SIN	
BKPOFF		000176'		CTYSTF		000076'		S$NAME		000003'	SPD	
BKPON		000205'		CTYSTR		000272'		S$NONA		000000	SIN	
BYP1		000011	SPD	CTYVAL		000000	SPD	S$PATC		000007	SIN	
BYP2		000021	SPD	DEPO		000214'		S$STOP		000001	SIN	
BYP3		000033	SPD	DEPOC		000215'		S$TEMP		000000	SPD	
BYP4		000043	SPD	DIE		001141'	EXT	S$XCT	777777	777776	SIN	
CH6		001163'	EXT	DRDO		000001'	INT	SKPST2		000653'		
CH6KST		000065'	INT	DZDO		000002'	INT	SKPSTR		000612'		
CH6LK		000016'	INT	EPT		000000	EXT	SKT3		000305'		
CH6LK0		000034'		GETPRC		000600'		SPCOUT		000325'		
CH6LK1		000040'		GETPRT		000575'		STRDON		000302'		
CH7		000000	EXT	GOBTRN		000716'		STRFIL		000316'		
CH7LK		000006'	INT	GORING		000412'		STRFLG		001021'		
CH7SVT		001025'		HNGUP		000171'		STRLP		000547'		
CONFIG		001157'	EXT	IRING		000226'	EXT	STRLP2		000563'		
CPOPJ		000604'	EXT	IRP620		000603'	EXT	STRLP3		000560'		
CPOPJ1		000577'	EXT	IRPPDP		000602'	EXT	SUPBAD		000437'		
CPUF3		000004	SPD	ISZCK		000602'		SUPCHR		000442'		
CPUKI		000001	SPD	JFYSC2		000330'	EXT	SUPFIN		000467'		
CPUKL		000002	SPD	KEYSET		000726'	EXT	SUPINI		000424'		
CPUKS		000003	SPD	KMCDO		000000'	INT	SUPNUM		000457'		
CPUTYP		000003	SPD	LDSRXE		000050'	EXT	SUPSWP		000565'		
CPZZ		000001	SPD	LI.CPP		020000	SPD	SUPSYS		000455'		
CTDNO		000306'		LI.REQ		004000	SPD	SUPSYW		000566'		
CTLOFG		001020'		LOGIN		000145'		SYSNUM		000150'	EXT	
CTLZFL		001017'		LP.80C		000020	SPD	SZODS		000043	SPD	
CTLZH		000112'		LP.ESF		100000	SPD	T1		000006	INT	
CTLZN		000140'		MSKIRG		000230'	EXT	T2		000007	INT	
CTOCNT		001023'		MSKORG		000406'	EXT	T3		000010	INT	
CTOLP		000241'		NODIE		000000	EXT	T4		000011	INT	
CTOPNT		001022'		NOWIN		001014'	INT	U		000005	INT	
CTOSPC		000334'		NRMCH		000045'		UUIDPB	102000	000000		
CTSV		001030'		NRMCH1		000060'		UUILDB	101000	000000		
CTYACT		001024'		OPRTIC		000331'	EXT	WRAPR	700200	000000		
CTYBMT		000250'	INT	ORGTRN		000722'		WRPI	700600	000000		
CTYBRK		000116'	INT	ORING		001155'	EXT	YELTRN		000673'		
CTYCH1		000273'		ORP620		000407'	EXT	ZAPCIR		000400'		
CTYCHR		000327'	EXT	ORPPDP		000242'	EXT	ZAPTRN		000677'		
CTYDO		001016'	INT	OSTCNT		000264'		.CPLOG		001137'	EXT	
CTYEND		001213'	INT	OSTFIL		000312'		
CTYFIL		001027'		P		000001	INT	
CTYICH		000377	SPD	

CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

APRCHN	   699%	   699
ATRLP	   611#	   621
ATRLP1	   612	   626#
ATRLP2	   616	   623#
AXCNT	   471	   489	   513	   716#
AXINP	   465	   467	   566	   574	   713#
AXNUM	   472	   485	   493	   499	   502	   510	   717#
AXSTR	   468	   551	   715#
AXSTRP	   469	   490	   519	   552	   553	   556	   714#
BAKTRN	   384	   385	   633#	   647	   669	   671
BKPFLG	   265	   270	   273	   278	   325	   720#
BKPOFF	   143	   265#
BKPON	   145	   273#
BYP1	    37#	   308
BYP2	    38#	   313	   320	   438	   532	   537	   569	   600	   607	   645	   650	   666
BYP3	    39#	   481
BYP4	    40#
CH6	   681	   688	   709%
CH6KST	   153#	   685	   686
CH6LK	   109#	   236	   682	   683
CH6LK0	   120	   123#
CH6LK1	   122	   130#
CH7	   689	   692	   709%
CH7LK	    58#	    71	   690	   691
CH7SVT	    60	    70	   729#
CONFIG	   505%	   505	   506%	   506
CPOPJ	   585	   710%
CPOPJ1	   190	   579	   710%
CPUF3	    68	    75	   169	   346	   698
CPUKI	    68	    75	   169	   346	   675	   698
CPUKL	    63	    88	   152	   174	   675	   684	   693
CPUKS	    63	   108	   152	   180	   684	   699
CPUTYP	    63	    68	    75	    88	   108	   152	   169	   174	   180	   346	   675	   684	   693	   698
	   699
CPZZ	    63#	    63	    68#	    68	    75#	    75	    88#	    88	   108#	   108	   152#	   152	   169#	   169
	   174#	   174	   180#	   180	   346#	   346	   675#	   675	   684#	   684	   693#	   693	   698#	   698
	   699#	   699
CTDNO	   307	   345#	   517	   573	   606	   642	   662
CTLOFG	   216	   316	   348	   668	   724#
CTLZFL	   130	   195	   231	   723#
CTLZH	   131	   194#
CTLZN	   134	   231#
CTOCNT	   318	   329	   598	   602	   611	   615	   727#
CTOLP	   305#	   343	   374	   375	   376	   377	   392	   393	   413	   414	   415	   416	   419	   420
	   440	   462	   463	   491	   494	   498	   503	   567	   575	   637	   639	   643	   655	   657
	   664
CTOPNT	   302	   321	   331	   340	   342	   601	   613	   617	   726#
CTOSPC	   310	   372#	   436
CTSV	   112	   113	   114	   157	   158	   159	   234	   732#
CTYACT	    58	   322	   347	   359	   728#
CTYBMT	   312#	   372	   378	   380	   382	   388	   390	   396	   398	   400	   402	   405	   408	   410
	   417	   421
CTYBRK	   189	   198#
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

CTYCH1	   332#	   360
CTYCHR	   366%	   366
CTYDO	   167	   673	   722#
CTYEND	   815#
CTYFIL	   228	   335	   731#
CTYICH	   121
CTYINF	   109	   116	   127#
CTYINP	   167#
CTYIVL	   119	   183
CTYIWD	   118%	   118	   182
CTYLDB	   137%	   137
CTYLIT	   736#
CTYOUT	   124	   161	   213	   271	   300#	   362	   448	   706
CTYOWD	   123%	   123
CTYRFL	   327	   337	   351	   356	   730#
CTYSET	   673#
CTYSIM	    29	    30#	    33
CTYSTF	    64	   153	   156	   163#
CTYSTR	   323	   331#
CTYVAL	    24#	   721	   722
DEPO	   148	   244	   250	   254	   261	   268	   276	   281#	   461	   534	   539	   543	   547	   549
	   559	   564	   572	   619	   624	   641	   661
DEPOC	   282#
DIE	    29	    29%	    30	   312
DRDO	    17#
DZDO	    23#
EPT	   710%
GETPRC	   524	   580#
GETPRT	   520	   577#
GOBTRN	   386	   666#
GORING	   451#	   459	   473	   477	   633	   659
HNGUP	   223	   259#
IRING	   293	   708%
IRP620	   281	   284	   292	   296	   584	   708%
IRPPDP	   583	   709%
ISZCK	   516	   583#	   605
JFYSC2	   367%	   367
KEYSET	   680%	   680
KMCDO	    16#
LDSRXE	   138%	   138
LI.CPP	   111	   155
LI.REQ	    65
LISTSN	     3	     6
LOGIN	   220	   238#
LP.80C	   699
LP.ESF	   699
MSKIRG	   283	   295	   587	   708%
MSKORG	   305	   445	   708%
NODIE	    29%
NOWIN	   135	   238	   256	   260	   447	   719#
NRMCH	   135#	   226
NRMCH1	   139	   146#	   266	   274
OPRTIC	   368%	   368
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

ORGTRN	   395	   671#
ORING	   308	   313	   319	   341	   438	   451	   454	   481	   532	   537	   569	   599	   607	   645
	   650	   666	   708%
ORP620	    62	   304	   345	   446	   708%
ORPPDP	    61	   306	   709%
OSTCNT	   303	   325#
OSTFIL	   328	   351#	   357
P	    30	   115	   122	   125	   136	   148	   149	   150	   160	   168	   184	   198	   217	   229
	   232	   239	   244	   250	   254	   257	   261	   263	   268	   269	   276	   277	   279	   285
	   297	   298	   312	   326	   332	   336	   338	   349	   353	   354	   364	   366	   369	   370
	   457	   459	   461	   473	   477	   516	   520	   523	   524	   527	   534	   539	   543	   547
	   549	   559	   564	   568	   572	   581	   589	   590	   605	   619	   624	   633	   641	   659
	   661	   674
PRTIRG	   312%	   312
PTRNTB	   528	   529	   578	   595	   608	   638	   656	   663	   712#
RETCT	   234#	   733
RETCTP	   115	   160	   733#
RSPORG	   459#	   648
RSPOUT	   461#	   475	   479
S$ENTR	    29	    35	   245	   251	   255	   313	   372	   378	   380	   382	   388	   390	   396	   398
	   400	   402	   405	   408	   410	   417	   421	   535	   540	   544	   548	   550	   560	   565
	   620	   625
S$EVEN	   312
S$HALT	    29	   245	   251	   255	   312	   372	   378	   380	   382	   388	   390	   396	   398	   400
	   402	   405	   408	   410	   417	   421	   535	   540	   544	   548	   550	   560	   565	   620
	   625
S$INFO	   312
S$NAME	    33#	   245	   251	   255	   535	   540	   544	   548	   550	   560	   565	   620	   625
S$NONA	    32	    35	   245	   251	   255	   313	   373	   379	   381	   383	   389	   391	   397	   399
	   401	   403	   406	   409	   411	   418	   422	   535	   540	   544	   548	   550	   560	   565
	   620	   625
S$PATC	   312
S$STOP	   312	   313
S$TEMP	    29#	    29	   245#	   245	   251#	   251	   255#	   255	   312#	   312	   372#	   372	   378#	   378
	   380#	   380	   382#	   382	   388#	   388	   390#	   390	   396#	   396	   398#	   398	   400#	   400
	   402#	   402	   405#	   405	   408#	   408	   410#	   410	   417#	   417	   421#	   421	   535#	   535
	   540#	   540	   544#	   544	   548#	   548	   550#	   550	   560#	   560	   565#	   565	   620#	   620
	   625#	   625
S$XCT	    35	   245	   251	   255	   313	   372	   373	   378	   379	   380	   381	   382	   383	   388
	   389	   390	   391	   396	   397	   398	   399	   400	   401	   402	   403	   405	   406	   408
	   409	   410	   411	   417	   418	   421	   422	   535	   540	   544	   548	   550	   560	   565
	   620	   625
SKPST2	   317	   594	   596	   627#
SKPSTR	   315	   592#
SKT3	   343#	   412	   628	   631
SPCOUT	   332	   353	   364#
STRDON	   330	   340#	   626
STRFIL	   301	   356#
STRFLG	   212	   300	   358	   361	   443	   705	   725#
STRLP	   553#	   561
STRLP2	   554	   566#
STRLP3	   557	   563#
SUPBAD	   466	   477#
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Symbol cross reference

SUPCHR	   407	   481#
SUPFIN	   484	   505#
SUPINI	   404	   465#
SUPNUM	   486	   496#
SUPSWP	   525	   568#
SUPSYS	   488	   493#
SUPSYW	   511	   521	   569#
SYSNUM	   241%	   241
SZODS	   309	   436#
T1	    60	    61	    62	    70	   117	   118	   119	   121	   123	   132	   133	   140	   147	   194
	   196	   197	   199	   200	   212	   214	   215	   218	   219	   221	   222	   224	   225	   227
	   228	   241	   242	   243	   247	   248	   249	   308	   309	   310	   311	   318	   319	   320
	   321	   331	   333	   334	   335	   337	   352	   358	   360	   365	   438	   439	   441	   443
	   468	   469	   470	   471	   481	   482	   483	   487	   490	   496	   497	   501	   505	   507
	   508	   509	   510	   512	   513	   514	   515	   518	   519	   522	   526	   528	   529	   542
	   546	   569	   571	   577	   578	   580	   588	   598	   599	   600	   601	   602	   603	   604
	   607	   608	   610	   613	   614	   617	   618	   627	   628	   629	   630	   634	   635	   636
	   638	   640	   645	   646	   650	   651	   653	   654	   656	   663	   679	   680	   681	   682
	   683	   685	   686	   688	   689	   690	   691	   692	   700	   705
T2	   138	   139	   140	   141	   142	   144	   146	   147	   240	   243	   246	   249	   252	   253
	   259	   267	   275	   287	   288	   290	   293	   313	   314	   451	   453	   454	   455	   460
	   474	   478	   499	   500	   501	   502	   506	   509	   530	   531	   533	   536	   538	   541
	   542	   545	   546	   555	   558	   563	   570	   571	   583	   584	   585	   586	   587	   588
	   592	   593	   595	   609	   610	   614	   618	   623	   634	   640	   656	   658	   660	   666
	   667
T3	   181	   182	   183	   186	   187	   188	   281	   282	   283	   284	   288	   289	   290	   292
	   293	   294	   295	   296	   364	   365	   367	   368	   369	   522	   523	   527	   528	   529
	   531	   532	   533	   537	   538	   551	   552	   553	   554	   555	   556	   557	   558	   568
	   658	   660
T4	   112	   113	   114	   157	   158	   159	   234	   235	   304	   305	   306	   308	   313	   319
	   340	   341	   343	   345	   374	   375	   376	   377	   392	   393	   412	   413	   414	   415
	   416	   419	   420	   438	   440	   444	   445	   446	   451	   454	   462	   463	   481	   491
	   494	   498	   503	   532	   537	   567	   569	   575	   599	   607	   630	   631	   637	   639
	   643	   645	   650	   655	   657	   664	   666	   732
U	   137
YELTRN	   394	   645#
ZAPCIR	   438#	   652
ZAPTRN	   387	   650#
.CPLOG	   247%	   247	   252%	   252
CTYSIM - USE THE CTY TO SIMULATE A TYMNET LINE	MACRO 12.5-46.0 14:18 13-JAN-88
CTYSIM.MAC	20-SEP-87 13:00		Macro/Opdef cross reference

IFCPU	    63	    68	    75	    88	   108	   152	   169	   174	   180	   346	   675	   684	   693	   698
	   699
IFKMC	    15	    37	   286	   452
IFNKMC	    19	    46
PJRST	   213	   216	   220	   223	   226	   271	   362	   448	   706
PRINTF	    10#
STOPCD	    28	   245	   251	   255	   312	   372	   378	   380	   382	   388	   390	   396	   398	   400
	   402	   405	   408	   410	   417	   421	   535	   540	   544	   548	   550	   560	   565	   620
	   625
TYPI	    44#
UUIDPB	    42#
UUILDB	    41#	   331	   613	   617
WRAPR	   699
WRPI	    65	   111	   155
$END	   736   0@