DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 1
S.MAC	13-JAN-88 11:55		S.MAC - with system parameter file for P035/D, January 1988

     1				SUBTTL	S.MAC - with system parameter file for P035/D, January 1988
     2
     3				IF2,<IFNDEF LISTSN,<TAPE>>	;Skip to PASS2 in all but COMMON.LST
     4				;THIS MODULE ASSEMBLED WITH KS-10 PARAMETER FILE - KSSYM.MAC
     5
     6					IF2,<IFNDEF LISTSN,<		;LIST KSSYM.MAC IN COMMON ONLY
     7					.CREF
     8									TAPE>>
     9				; This file is PRINTF.MAC
    10				DEFINE PRINTF(A,B,C,D),<IF2,<;;Output message on MONKS build only
    11				PRINTX A B C D>>
    12
    13				TITLE	DR11C Interface to simulated Tymnet node
    14				SUBTTL	DSB, 3/11/79
    15
    16					STOPCD(,ENTRY,DR11C)^
    17					ENTRY	DR11C		;For library searches
    18	000000'	260040	000000*	DR11C::PUSHJ	P,DIE		;**** Default stopcode for "DR11C" ****
    19	000001'	446221	214300		SIXBIT	/DR11C/  	;Title of module
    20	000002'	000000	000000		S$NONAME,,0		;?NONAME stopcode "DR11C+nnn(nnnnnn)"
    21			000000'	S$NAME==DR11C			;For STOPCDs with no arguments
    22					SALL>
    23				^
    24					ENTRY	DRINI
    25
    26				;The DR11C simulates a channel for use JG's LSI11
    27				; which simulates a Tymnet node.
    28
    29				;DR11C interrupt routine.
    30				;Input ready for KS10 (REQUEST A):
    31				;Routine IR, vector IRV.
    32				;Normally, data is interpreted as a stream of 16 bit
    33				; words to be deposited in the base-host ring.  The
    34				; input handler expects non-data packets to use the 100
    35				; bit of the packet type to indicate the packet length, and the
    36				; special type 177 is reserved to indicate the
    37				; start of a block mode i/o request.  If the 100 bit is
    38				; on, the packet must be two pdp-11 words long.  If on
    39				; and the low order 6 bits are not 77, the packet must
    40				; be four pdp-11 words long.  Data packets contain
    41				; a count of course.
    42				;The packet type 177 signals a block i/o request.
    43				; The next 2 pdp-11 words contain information about the
    44				; direction, size and address involved.
    45				; The whole packet looks like:
    46				;   177 HOC   LOC HOA   MA LOA, where
    47				; each group of two symbols represents two bytes within
    48				; the pdp-11 word read.  HOC*400+LOC is the two's
    49				; complement of the number of words to be transferred.
    50				; If positive, this is a block mode output request for the
    51				; specified number of words.  If negative, it is an input
    52				; request; the number of words is the negative of the count.
    53				; If the count is 0, the input handler crashes the system.
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 1
DR11C.MAC	30-OCT-87 19:21		DSB, 3/11/79

    54				; HOA*400*400+MA*400+LOA is the pdp-10 address from which
    55				; data is read or to which it is written.
    56				;For block mode output, the address and count are stored,
    57				; and the SBMO flag set.  The output handler will commance
    58				; the output at some future time.
    59				;For block mode input, the next pdp-11 words in the
    60				; input stream are deposited starting at the
    61				; specified address, and then the input handler reverts
    62				; to its previous state.
    63				;Output to node done (REQUEST B):
    64				;Routine OD, vector ODV.
    65				;Normally, data is taken from the host-base ring two
    66				; bytes at a time and sent to the node.  To send the
    67				; word with value ESCWD, send ESCWD followed by 0.
    68				;When a block mode output request has been
    69				; detected by the input done interrupt routine, normal
    70				; operation is suspended and the request
    71				; fulfilled, preceding the data by two
    72				; words with values ESCWD followed
    73				; by 1.
    74				;  After the block mode transmission, normal output processing resumes.
    75
    76
    77				;Clock level routine (CLKDR):
    78				;This routine starts output if no output done interrupt
    79				; is expected and a block mode output request has been
    80				; made or the host-base ring isn't empty.
    81				;Also, if input had to stop because the base-host ring
    82				; was full (IRFULL<>0) and the ring now has some space,
    83				; input is resumed.
    84
    85				EXTERN EPT,CH7,IRING,ORING,IRP620,IRPPDP,ORP620,ORPPDP
    86				EXTERN MSKIRG,MSKORG,KEYSET
    87
    88			177777	ESCWD==177777
    89
    90	000003'			IROVF:	BLOCK 2
    91	000005'	000000	000000	SBMO:	0
    92	000006'	000000	000000	EDRODI:	0
    93	000007'	000000	000000	IRFULL:	0
    94	000010'	000000	000000	WRIOAC:	0
    95	000011'	000000	000000	CLKOAC:	0
    96	000012'	000000	000000	CLKT1:	0
    97	000013'	000000	000000	CLKT2:	0
    98	000014'	000000	000000	ODOAC:	0
    99	000015'	000000	000000	IROAC:	0
   100	000016'	000000	000000	BLXCNT:	0		;BUFFER WORD FOR BLOCK MODE OUTPUT COUNT
   101	000017'	000000	000000	BLXPNT:	0		;BUFFER WORD FOR BLOCK MODE OUTPUT POINTER
   102	000020'	000000	000000	BLKCNT:	0		;BLOCK MODE OUTPUT WORD (PDP-11) COUNT
   103	000021'	000000	000000	BLKSIZ:	0		;BLOCK MODE OUTPUT BLOCK SIZE (FOR DEBUGGING)
   104	000022'	000000	000000	BLKPNT:	0		;BLOCK MODE OUTPUT BYTE POINTER
   105	000023'	000000	000000	OSTATE:	0		;CURRENT OUTPUT STATE (FOR DEBUGGING)
   106
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 1-2
DR11C.MAC	30-OCT-87 19:21		DSB, 3/11/79

   107				;DR11C hardware parameters.
   108				DEFINE IOREG(REGISTERNAME,ADDRESS,BITNAMES,MSB)
   109				<BIT==100000
   110				IFNB <MSB>,<BIT==MSB>
   111				IFNB <ADDRESS>,<DR'REGISTERNAME: 3,,ADDRESS>
   112				IRP BITNAMES,<REGISTERNAME'BITNAMES==BIT
   113				BIT==BIT/2
   114				>>
   115
   116	000024'	000003	767770	IOREG(CSR,767770,<RB,,,,,,,,RA,IEA,IEB,,,,1,0>)
   117			000061	 ODV==304/4	;Node causes dispatch here when it's read OB.
   118			000001	 DRFN==CSR0   ;Data ready for node (set by KS10 after loading OB).
   119			000060	 IRV==300/4	;Node causes dispatch here when it's written IB.
   120			000002	 KRFMD==CSR1  ;KS10 ready for more data (set by KS10 after reading IB).
   121	000025'	000003	767772	IOREG(OB,767772)
   122	000026'	000003	767774	IOREG(IB,767774)
   123
   124				;Command to select ac block 4, which is used exclusively
   125				; by the DR11C driver.
   126	000027'	404000	000000	SDRACB:	404000,,0
   127
   128					PAGE
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 2
DR11C.MAC	30-OCT-87 19:21		Node has data for KS10 interrupt

   129					SUBTTL Node has data for KS10 interrupt
   130
   131				;HERE ON "INPUT DONE" INTERRUPT FROM DR11C
   132
   133	000030'	000000	000000	IR:	0			;JSR TO HERE ON INPUT READY INTERRUPT
   134	000031'	701040	000015'		RDUBR	IROAC		;CHANGE AC BLOCKS
   135	000032'	701140	000027'		WRUBR	SDRACB
   136	000033'	712320	000026'		RDIO	T1,@DRIB	;Get word for us.
   137	000034'	201240	000002		MOVEI	U,KRFMD		;SET DR11C BIT INDICATING WE HAVE THE WORD
   138	000035'	715260	000024'		BCIO	U,@DRCSR
   139	000036'	254014	000000		JRST	(P1)		;DISPATCH ON THE INPUT STATE
   140
   141				;HERE WHEN INPUT MESSAGE IS COMPLETE
   142
   143	000037'	202340	000000*	IRPD:	MOVEM	T2,IRP620	;UPDATE INPUT PUTTER POINTER TO MAKE THIS
   144								;  MESSAGE VISABLE TO THE HOST
   145	000040'	265600	000064'		JSP	P1,IRDIS	;GET NEXT PDP-11 WORD
   146
   147				;HERE AT THE START OF A NEW MESSAGE
   148
   149	000041'	606300	100000	IRSOM:	TRNN	T1,100000	;IS THIS A DATA MESSAGE?
   150	000042'	254000	000072'		 JRST	IR12E		;NO-GO CHECK SOME MORE
   151	000043'	135340	001421'		LDB	T2,[POINT 7,T1,27];YES-GET BYTE COUNT
   152	000044'	271340	000005		ADDI	T2,5		;CALCULATE NUMBER OF PDP-10 WORDS IN MESSAGE
   153	000045'	242340	777776		LSH	T2,-2
   154	000046'	200000	000007		MOVE	S,T2
   155	000047'	200340	000037*		MOVE	T2,IRP620
   156
   157				;HERE TO PROCESS FIRST PDP-11 WORD FOR A PDP-10 WORD
   158
   159	000050'	200240	000007	IRDA:	MOVE	U,T2		;BUMP RING PUTTER POINTER
   160	000051'	271240	000001		ADDI	U,1
   161	000052'	405240	000000*		ANDI	U,MSKIRG
   162	000053'	316240	000000*		CAMN	U,IRPPDP	;IS THE INPUT RING FULL NOW?
   163	000054'	254000	000175'		 JRST	IRFDP		;YES-GO HANDLE THAT
   164	000055'	137300	001422'		DPB	T1,[POINT 16,IRING(T2),15];NO-STORE PDP-11 WORD IN RING
   165	000056'	265600	000064'		JSP	P1,IRDIS	;GET SECOND PDP-11 WORD FOR THE PDP-10 WORD
   166	000057'	137300	001423'	IRDB:	DPB	T1,[POINT 16,IRING(T2),31];STORE PDP-11 WORD IN RING
   167	000060'	271340	000001		ADDI	T2,1		;BUMP POINTER
   168	000061'	405340	000052*		ANDI	T2,MSKIRG
   169	000062'	363000	000037'		SOJLE	S,IRPD
   170	000063'	201600	000050'		MOVEI	P1,IRDA		;RESET INPUT STATE
   171	000064'	201300	000002	IRDIS:	MOVEI	T1,KRFMD	;SET DR11 BIT INDICATING WE HAVE TAKEN INPUT
   172	000065'	714320	000024'		BSIO	T1,@DRCSR
   173	000066'	205300	100000	IRDIS1:	MOVSI	T1,100000	;RESTORE AC BLOCK
   174	000067'	410300	000015'		ANDCA	T1,IROAC
   175	000070'	701140	000006		WRUBR	T1
   176	000071'	254520	000030'		JEN	@IR		;DISMISS INTERRUPT
   177
   178				;HERE FOR OTHER THAN DATA MESSAGES
   179
   180	000072'	622300	040000	IR12E:	TRZE	T1,40000	;IS THIS A 1 WORD MESSAGE?
   181	000073'	254000	000112'		 JRST	IR2OE		;NO-NEED TO CHECK SOME MORE
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 2-2
DR11C.MAC	30-OCT-87 19:21		Node has data for KS10 interrupt

   182	000074'	200340	000047*		MOVE	T2,IRP620	;YES-GET POINTER
   183	000075'	200240	000007		MOVE	U,T2
   184	000076'	271240	000001		ADDI	U,1		;BUMP IT
   185	000077'	405240	000061*		ANDI	U,MSKIRG
   186	000100'	316240	000053*		CAMN	U,IRPPDP	;IS THE RING FULL NOW?
   187	000101'	254000	000174'		 JRST	IRF1WD		;YES
   188	000102'	137300	001422'		DPB	T1,[POINT 16,IRING(T2),15];NO-STORE FIRST PDP-11 WORD
   189	000103'	265600	000064'		JSP	P1,IRDIS	;GET 2ND PDP-11 WORD FOR MESSAGE
   190	000104'	137300	001423'	IR1B:	DPB	T1,[POINT 16,IRING(T2),31];STORE 2ND WORD
   191	000105'	271340	000001		ADDI	T2,1		;BUMP POINTER
   192	000106'	405340	000077*		ANDI	T2,MSKIRG
   193	000107'	202340	000074*		MOVEM	T2,IRP620	;UPDATE POINTER IN MEMORY (THIS MAKES THE
   194								;  MESSAGE VISABLE TO TYMCOM-X)
   195	000110'	201600	000041'		MOVEI	P1,IRSOM	;RESET INPUT STATE
   196	000111'	254000	000064'		JRST	IRDIS		;AND GO GET NEXT INPUT
   197
   198				;HERE IF NOT 1 WORD MESSAGE
   199
   200	000112'	135340	001424'	IR2OE:	LDB	T2,[POINT 6,T1,27];IS THIS AN ESCAPE?
   201	000113'	306340	000077		CAIN	T2,77
   202	000114'	254000	000134'		 JRST	IRESC		;YES
   203	000115'	200340	000107*		MOVE	T2,IRP620	;NO-ITS A 2 WORD MESSAGE-GET POINTER
   204	000116'	201000	000002		MOVEI	S,2		;2 PDP-10 WORDS IN THIS MESSAGE
   205	000117'	200240	000007	IR2A:	MOVE	U,T2		;IS THE INPUT RING FULL NOW?
   206	000120'	271240	000001		ADDI	U,1
   207	000121'	405240	000106*		ANDI	U,MSKIRG
   208	000122'	316240	000100*		CAMN	U,IRPPDP
   209	000123'	254000	000172'		 JRST	IRF2WD		;YES
   210	000124'	137300	001422'		DPB	T1,[POINT 16,IRING(T2),15];NO-STORE DATA IN RING
   211	000125'	265600	000064'		JSP	P1,IRDIS	;GET NEXT PDP-11 WORD
   212	000126'	137300	001423'	IR2B:	DPB	T1,[POINT 16,IRING(T2),31];STORE IT IN THE RING TOO
   213	000127'	271340	000001		ADDI	T2,1		;BUMP RING POINTER
   214	000130'	405340	000121*		ANDI	T2,MSKIRG
   215	000131'	363000	000037'		SOJLE	S,IRPD		;NEED MORE INPUT FOR THIS MESSAGE?
   216	000132'	201600	000117'		MOVEI	P1,IR2A		;NO-RESET STATE
   217	000133'	254000	000064'		JRST	IRDIS		;AND GO GET NEXT MESSAGE
   218
   219				;HERE FOR ESCAPE (SPECIAL MESSAGE FOR INTERRUPT SERVICE)
   220				;  THIS MESSAGE IS USED TO INDICATE THE START OF BLOCK MODE INPUT OR TO
   221				;  REQUEST BLOCK MODE OUTPUT.  IT CONSISTS OF AN "ESCAPE" BYTE (= 177)
   222				;  FOLLOWED BY 5 DATA BYTE.  THE FIRST TWO DATA BYTES CONTAIN THE PDP-11 WORD
   223				;  COUNT.  THE NEXT 3 BYTES CONTAIN THE PDP-10 MEMORY ADDRESS FOR THE XFER.
   224				;  THE COUNT IS NEGATIVE FOR INPUT XFERS, AND POSITIVE FOR OUTPUT XFERS.
   225				;  A ZERO COUNT IS ILLEGAL!
   226
   227	000134'	200340	000006	IRESC:	MOVE	T2,T1		;SAVE INITIAL INPUT WORD (WHICH CONTAINS THE
   228								;  HIGH ORDER HALF OF THE COUNT)
   229	000135'	265600	000064'		JSP	P1,IRDIS	;GET NEXT INPUT
   230	000136'	200640	000006		MOVE	P2,T1		;SAVE HIGH ORDER 8 BITS OF ADDRESS
   231	000137'	405340	000377		ANDI	T2,377		;GET PDP-11 WORD COUNT IN T2
   232	000140'	242340	000010		LSH	T2,8
   233	000141'	242300	777770		LSH	T1,-8
   234	000142'	660346	000000		TRO	T2,(T1)
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 2-3
DR11C.MAC	30-OCT-87 19:21		Node has data for KS10 interrupt

   235	000143'	265600	000064'		JSP	P1,IRDIS	;GET NEXT INPUT (LOW ORDER 16 BITS OF ADDRESS)
   236	000144'	405640	000377		ANDI	P2,377		;COMBINE LOW AND HIGH ADDRESS PARTS
   237	000145'	242640	000020		LSH	P2,8+8
   238	000146'	660646	000000		TRO	P2,(T1)
   239	000147'	505640	442000		HRLI	P2,442000	;MAKE INTO BYTE POINTER TO THE DATA
   240	000150'	606340	100000		TRNN	T2,100000	;INPUT XFER?
   241	000151'	254000	000162'		 JRST	IRBMO		;NO-OUTPUT
   242	000152'	640340	177777		TRC	T2,177777	;YES-MAKE THE COUNT POSITIVE
   243	000153'	201507	000001		MOVEI	W,1(T2)		;AND GET IT IN THE RIGHT AC
   244	000154'	200540	000015		MOVE	M,P2		;GET BYTE POINTER IN A SAFE AC (??)
   245	000155'	265600	000064'		JSP	P1,IRDIS	;GET FIRST BLOCK MODE DATA WORD
   246
   247				;HERE WITH NEXT BLOCK MODE INPUT DATA (NOTE THAT WE LOOP HERE BY JRST'ING TO
   248				;  IRDIS FOR ADDITIONAL WORDS SO AS NOT TO CHANGE THE STATE)
   249
   250	000156'	136300	000013		IDPB	T1,M		;STORE BLOCK MODE INPUT DATA
   251	000157'	367500	000064'		SOJG	W,IRDIS		;LOOP IF WE NEED MORE
   252	000160'	201600	000041'	IRBMI2:	MOVEI	P1,IRSOM	;FINISHED-RESET INPUT STATE
   253	000161'	254000	000064'		JRST	IRDIS		;AND GO GET NEXT INPUT
   254
   255				;HERE IF BLOCK COUNT IS POSITIVE - THIS IS A REQUEST TO START BLOCK MODE OUTPUT
   256
   257	000162'	336000	000007	IRBMO:	SKIPN	T2		;MAKE SURE NOT ZERO!
   258	000163'	256000	000000'		 STOPCD
   259	000164'	202340	000016'		MOVEM	T2,BLXCNT	;STORE COUNT
   260	000165'	202340	000021'		MOVEM	T2,BLKSIZ	;ALSO SAVE IT FOR DEBUGGING!
   261	000166'	202640	000017'		MOVEM	P2,BLXPNT	;STORE BYTE POINTER FOR BLOCK MODE OUTPUT
   262	000167'	476000	000005'		SETOM	SBMO		;REQUEST BLOCK MODE OUTPUT
   263	000170'	201600	000041'		MOVEI	P1,IRSOM	;RESET INPUT STATE
   264	000171'	254000	000064'		JRST	IRDIS		;AND CONTINUE
   265
   266				;HERE WHEN THE BASE-HOST RING IS FULL.  SAVE THE DATA AND POINTER AWAY AND
   267				;  DISMISS THE INTERRUPT - INPUT WILL BE STARTED AGAIN AT CLK LEVEL WHEN SOME
   268				;  SPACE IS AVAILABLE IN THE RING AGAIN.
   269
   270				;ENTER HERE IF FULL RING IS DETECTED WHEN PROCESSING 2 WORD MESSAGE
   271
   272	000172'	201600	000126'	IRF2WD:	MOVEI	P1,IR2B		;SET NEW STATE
   273	000173'	254000	000176'		JRST	IRFUL		;CONTINUE
   274
   275				;ENTER HERE IF FULL RING IS DETECTED WHEN PROCESSING 1 WORD MESSAGE
   276
   277	000174'	334600	001425'	IRF1WD:	SKIPA	P1,[IR1B]	;SET NEW STATE
   278
   279				;ENTER HERE IF FULL RING IS DETECTED WHEN PROCESSING DATA MESSAGE
   280
   281	000175'	201600	000057'	IRFDP:	MOVEI	P1,IRDB		;SET NEW STATE
   282	000176'	124300	000003'	IRFUL:	DMOVEM	T1,IROVF	;STORE DATA AND POINTER
   283	000177'	476000	000007'		SETOM	IRFULL		;SET FLAG TO TELL CLK ROUTINE THAT THE INPUT
   284								;  RING IS FULL
   285	000200'	254000	000066'		JRST	IRDIS1		;AND JUST DISMISS THE INTERRUPT FOR NOW
   286
   287					PAGE
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 3
DR11C.MAC	30-OCT-87 19:21		Node ready for data interrupt

   288					SUBTTL Node ready for data interrupt
   289
   290				;HERE ON "OUTPUT DONE" INTERRUPT FROM DR11C
   291
   292	000201'	000000	000000	OD:	0			;JSR TO HERE ON OUTPUT DONE INTERRUPT
   293	000202'	701040	000014'		RDUBR	ODOAC		;SAVE CURRENT AC BLOCK NUMBER
   294	000203'	701140	000027'		WRUBR	SDRACB		;SETUP OUR AC BLOCK
   295	000204'	201240	000001		MOVEI	U,DRFN		;CLEAR BIT IN DR11C STATUS WORD
   296	000205'	715260	000024'		BCIO	U,@DRCSR
   297	000206'	254016	000000		JRST	(P3)		;DISPATCH ON CURRENT STATE
   298
   299				;HERE ON OUTPUT DONE INTERRUPT DISPATCH AFTER OUTPUTTING NORMAL DATA (NOT
   300				;  BLOCK MODE DATA)
   301
   302	000207'	332000	000005'	ODLH:	SKIPE	SBMO		;DO WE NEED TO START BLOCK MODE NOW?
   303	000210'	254000	000247'		 JRST	ODBMO		;YES-GO DO THAT
   304	000211'	200400	000000*		MOVE	T3,ORP620	;NO-GET OUTPUT TAKER POINTER
   305	000212'	316400	000000*		CAMN	T3,ORPPDP	;ARE PUTTER AND TAKER EQUAL?
   306	000213'	254000	000245'		 JRST	ODIDL		;YES-RING IS EMPTY-WE HAVE NOTHING TO DO NOW
   307	000214'	135440	001426'		LDB	T4,[POINT 16,ORING(T3),15];NO-GET DATA FROM THE RING
   308	000215'	265700	000233'		JSP	P3,ODDIS	;OUTPUT DATA AND CHANGE STATE
   309
   310				;HERE FROM OUTPUT DONE INTERRUPT DISPATCH TO OUTPUT 2ND 16 BIT BYTE FROM THE
   311				;  WORD IN THE OUTPUT RING
   312
   313	000216'	302440	177777	ODLH0:	CAIE	T4,ESCWD	;WAS THE PREVIOUS DATA OUTPUT = ESCAPE?
   314	000217'	254000	000222'		 JRST	ODLH1		;NO
   315	000220'	400440	000000		SETZ	T4,		;YES-FOLLOW IT WITH 0
   316	000221'	265700	000233'		JSP	P3,ODDIS	;OUTPUT DATA AND CHANGE STATE
   317	000222'	135440	001427'	ODLH1:	LDB	T4,[POINT 16,ORING(T3),31];GET 2ND 16 BIT BYTE IN THE WORD
   318	000223'	340400	000000		AOJ	T3,		;BUMP RING POINTER
   319	000224'	405400	000000*		ANDI	T3,MSKORG	;MOD THE SIZE OF THE RING
   320	000225'	202400	000211*		MOVEM	T3,ORP620	;UPDATE RING POINTER IN MEMORY
   321	000226'	302440	177777		CAIE	T4,ESCWD	;IS THIS EQUAL TO ESCAPE?
   322	000227'	254000	000232'		 JRST	ODRH1		;NO
   323	000230'	265700	000233'		JSP	P3,ODDIS	;YES-OUTPUT IT AND CHANGE STATE
   324	000231'	400440	000000		SETZ	T4,		;FOLLOW THE ESCAPE 0
   325	000232'	201700	000207'	ODRH1:	MOVEI	P3,ODLH		;CHANGE STATE TO START OVER NEXT TIME
   326	000233'	713460	000025'	ODDIS:	WRIO	T4,@DROB	;OUTPUT THE DATA
   327	000234'	264000	000365'		JSR	OUTBUG		;FOR DEBUGGING!
   328	000235'	201240	000001		MOVEI	U,DRFN		;SET STATUS BIT TO MAKE IT VISIBLE TO THE NODE
   329	000236'	714260	000024'		BSIO	U,@DRCSR
   330	000237'	476000	000006'		SETOM	EDRODI		;INDICATE EXPECTING OUTPUT DONE INTERRUPT NOW
   331	000240'	202700	000023'	ODIDL1:	MOVEM	P3,OSTATE	;SAVE OUTPUT STATE FOR DEBUGGING
   332	000241'	205240	100000		MOVSI	U,100000	;RESTORE AC BLOCK
   333	000242'	410240	000014'		ANDCA	U,ODOAC
   334	000243'	701140	000005		WRUBR	U
   335	000244'	254520	000201'		JEN	@OD		;DISMISS INTERRUPT
   336
   337				;HERE WHEN HAVE NOTHING MORE TO OUTPUT
   338
   339	000245'	402000	000006'	ODIDL:	SETZM	EDRODI		;INDICATE IDLE
   340	000246'	254000	000240'		JRST	ODIDL1		;GO DISMISS
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 3-2
DR11C.MAC	30-OCT-87 19:21		Node ready for data interrupt

   341
   342				;HERE TO START BLOCK MODE OUTPUT
   343
   344	000247'	402000	000005'	ODBMO:	SETZM	SBMO		;CLEAR BLOCK MODE REQUEST WORD
   345	000250'	200440	000016'		MOVE	T4,BLXCNT	;SETUP THE COUNT
   346	000251'	202440	000020'		MOVEM	T4,BLKCNT
   347	000252'	200440	000017'		MOVE	T4,BLXPNT	;AND THE POINTER
   348	000253'	202440	000022'		MOVEM	T4,BLKPNT
   349	000254'	201440	177777		MOVEI	T4,ESCWD	;OUTPUT AN ESCAPE FIRST
   350	000255'	265700	000233'		JSP	P3,ODDIS
   351
   352				;HERE ON OUTPUT DONE INTERRUPT AFTER ESCAPE HAS BEEN OUTPUT TO START BLOCK
   353				;  MODE OUTPUT - THIS STATE IS SET ABOVE (BY JSP P3,ODDIS) AND IN THE CLK
   354				;  ROUTINE WHICH STARTS OUTPUT WHEN IT IS IDLE
   355
   356	000256'	201440	000001	ODBMO0:	MOVEI	T4,1		;FOLLOW THE ESCAPE BY 1
   357	000257'	265700	000233'		JSP	P3,ODDIS
   358
   359				;HERE TO OUTPUT DATA WORD FOR BLOCK MODE - THIS STATE IS INITIALLY SET BY THE
   360				;  JSP P3,ODDIS ABOVE IS LEFT UNCHANGED TO CAUSE US TO LOOP HERE UNTIL THE
   361				;  ENTIRE BLOCK HAS BEEN OUTPUT
   362
   363	000260'	134440	000022'		ILDB	T4,BLKPNT	;GET 16 BITS OF BLOCK MODE DATA
   364	000261'	371000	000020'		SOSL	BLKCNT		;REDUCE COUNT AND TEST
   365	000262'	254000	000233'		 JRST	ODDIS		;CONTINUE IF MORE TO OUTPUT
   366	000263'	201700	000207'		MOVEI	P3,ODLH		;FINISHED WITH BLOCK MODE DATA-RESET STATE
   367	000264'	254000	000207'		JRST	ODLH		;CONTINUE
   368
   369					PAGE
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 4
DR11C.MAC	30-OCT-87 19:21		Clock interrupt (every 17ms)

   370					SUBTTL Clock interrupt (every 17ms)
   371	000265'	334000	000000	CLKDR::	SKIPA
   372	000266'	000000	000000		 0
   373	000267'	332000	000006'		SKIPE	EDRODI		;Expecting output done interrupt?
   374	000270'	254000	000343'		 JRST	CLKIR		;Yes, check for input unblocking.
   375	000271'	336000	000005'		SKIPN	SBMO		;No, start block mode output?
   376	000272'	254000	000315'		 JRST	CLKOR		;No, check output ring.
   377	000273'	402000	000005'		SETZM	SBMO		;YES-CLEAR REQUEST
   378	000274'	701040	000011'		RDUBR	CLKOAC		;SWITCH AC BLOCKS
   379	000275'	701140	000027'		WRUBR	SDRACB
   380	000276'	201700	000256'		MOVEI	P3,ODBMO0	;INITIALIZE OUTPUT STATE
   381	000277'	200440	000016'		MOVE	T4,BLXCNT	;SETUP THE COUNT
   382	000300'	202440	000020'		MOVEM	T4,BLKCNT
   383	000301'	200440	000017'		MOVE	T4,BLXPNT	;AND THE POINTER
   384	000302'	202440	000022'		MOVEM	T4,BLKPNT
   385	000303'	201440	177777		MOVEI	T4,ESCWD	;OUTPUT AN ESCAPE
   386	000304'	713460	000025'		WRIO	T4,@DROB
   387	000305'	264000	000365'		JSR	OUTBUG		;FOR DEBUGGING!
   388	000306'	476000	000006'		SETOM	EDRODI		;INDICATE BLOCK OUTPUT ACTIVE
   389	000307'	205440	100000		MOVSI	T4,100000
   390	000310'	412440	000011'		ANDCAM	T4,CLKOAC
   391	000311'	201440	000001		MOVEI	T4,DRFN		;TELL THE NODE WE HAVE DONE OUTPUT
   392	000312'	714460	000024'		BSIO	T4,@DRCSR
   393	000313'	701140	000011'		WRUBR	CLKOAC		;RESTORE AC BLOCK
   394	000314'	254000	000343'		JRST	CLKIR		;GO CHECK INPUT STUFF
   395
   396				;HERE TO SEE IF NEED TO START OUTPUT FROM THE RING
   397
   398	000315'	202300	000012'	CLKOR:	MOVEM	T1,CLKT1	;Host-base ring empty?
   399	000316'	200300	000225*		MOVE	T1,ORP620
   400	000317'	312300	000212*		CAME	T1,ORPPDP
   401	000320'	254000	000323'		 JRST	CLKSO		;No, start output.
   402	000321'	200300	000012'		MOVE	T1,CLKT1	;YES-RESTORE T1
   403	000322'	254000	000343'		JRST	CLKIR		;AND CONTINUE
   404
   405				;HERE IS HAVE SOMETHING IN THE OUTPUT RING
   406
   407	000323'	200300	000012'	CLKSO:	MOVE	T1,CLKT1	;RESTORE T1
   408	000324'	701040	000011'		RDUBR	CLKOAC		;SWITCH AC BLOCKS
   409	000325'	701140	000027'		WRUBR	SDRACB
   410	000326'	205400	100000		MOVSI	T3,100000	;???
   411	000327'	412400	000011'		ANDCAM	T3,CLKOAC	;???
   412	000330'	200400	000316*		MOVE	T3,ORP620	;GET RING POINTER
   413	000331'	135440	001426'		LDB	T4,[POINT 16,ORING(T3),15];GET DATA FROM RING
   414	000332'	201700	000216'		MOVEI	P3,ODLH0	;RESET OUTPUT STATE
   415	000333'	713460	000025'		WRIO	T4,@DROB	;SEND DATA TO THE DR11
   416	000334'	264000	000365'		JSR	OUTBUG		;FOR DEBUGGING!
   417	000335'	476000	000006'		SETOM	EDRODI		;INDICATE EXPECTING INTERRUPT NOW
   418	000336'	700600	000400		WRPI	LI.PIF		;Out of acs!  Prevent IR from smashing.
   419	000337'	201240	000001		MOVEI	U,DRFN
   420	000340'	714260	000024'		BSIO	U,@DRCSR	;SET DR11 STATUS BIT TO MAKE OUTPUT VISIBLE
   421	000341'	700600	000200		WRPI	LI.PIN
   422	000342'	701140	000011'		WRUBR	CLKOAC
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 4-2
DR11C.MAC	30-OCT-87 19:21		Clock interrupt (every 17ms)

   423
   424				;HERE TO SEE IF NEED TO RESTART STOPPED INPUT
   425
   426	000343'	336000	000007'	CLKIR:	SKIPN	IRFULL		;Input stopped?
   427	000344'	254000	000266'		 JRST	CLKDR+1		;No.
   428	000345'	202340	000013'		MOVEM	T2,CLKT2	;YES-SAVE T2
   429	000346'	200340	000004'		MOVE	T2,IROVF+1	;GET SAVED RING POINTER
   430	000347'	271340	000001		ADDI	T2,1		;PLUS ONE
   431	000350'	405340	000130*		ANDI	T2,MSKIRG	;MOD THE RING SIZE
   432	000351'	312340	000122*		CAME	T2,IRPPDP	;Still full?
   433	000352'	254000	000355'		 JRST	CLKIN		;No, resume input.
   434	000353'	200340	000013'		MOVE	T2,CLKT2	;YES-RESTORE T2
   435	000354'	254000	000266'		JRST	CLKDR+1		;AND CONTINUE
   436
   437				;HERE WHEN CAN RESUME INPUT WHICH WAS STOPPED BECAUSE THE INPUT RING WAS FULL
   438
   439	000355'	202300	000012'	CLKIN:	MOVEM	T1,CLKT1	;SAVE T1
   440	000356'	120300	000003'		DMOVE	T1,IROVF	;GET NEXT PDP-11 WORD FOR RING AND RING POINTER
   441	000357'	137300	001422'		DPB	T1,[POINT 16,IRING(T2),15];STORE IT IN THE RING
   442	000360'	402000	000007'		SETZM	IRFULL		;INDICATE INPUT NOT STOPPED NOW
   443	000361'	201300	000002		MOVEI	T1,KRFMD	;SET DR11 BIT TO ACCEPT LAST INPUT WORD
   444	000362'	714320	000024'		BSIO	T1,@DRCSR
   445	000363'	120300	000012'		DMOVE	T1,CLKT1	;RESTORE T1 AND T2 (T2 SAVED ABOVE!)
   446	000364'	254000	000266'		JRST	CLKDR+1		;CONTINUE
   447
   448					PAGE
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 5
DR11C.MAC	30-OCT-87 19:21		Clock interrupt (every 17ms)

   449				;DEBUG ROUTINES!!!!!!
   450
   451				;SUBROUTINE TO STORE WORD IN OUTPUT DEBUG RING
   452
   453	000365'	000000	000000	OUTBUG:	0			;JSR TO HERE TO SAVE ON REGISTERS!
   454	000366'	133000	000376'		IBP	DBOPNT		;BUMP POINTER
   455	000367'	550140	000376'		HRRZ	PG,DBOPNT	;CHECK FOR WARP-AROUND
   456	000370'	305140	001363'		CAIGE	PG,DBORGE
   457	000371'	254000	000374'		JRST	OUTB02
   458	000372'	201140	000377'		MOVEI	PG,DBORNG
   459	000373'	542140	000376'		HRRM	PG,DBOPNT
   460	000374'	137440	000376'	OUTB02:	DPB	T4,DBOPNT	;STORE DATA IN DEBUG RING
   461	000375'	254020	000365'		JRST	@OUTBUG		;RETURN
   462
   463				;THE DEBUG RING FOR OUTPUT
   464
   465	000376'	000000	000000	DBOPNT:	0
   466	000377'			DBORNG:	BLOCK	^D500
   467	001363'			DBORGE:
   468
   469					PAGE
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 6
DR11C.MAC	30-OCT-87 19:21		Clock interrupt (every 17ms)

   470				;This routine assumes the priority interrupt system is off.
   471	001363'	336000	000000*	DRINI::	SKIPN DRDO##
   472	001364'	263040	000000		 POPJ P,
   473	001365'	200300	000024'		MOVE	T1,DRCSR	;Address of first DR11
   474	001366'	260040	000000*		PUSHJ	P,UBGOOD##	;Is it plugged in?
   475					  JRST	[SETZM DRDO	  ;Nonexistant device
   476	001367'	254000	001430'			 POPJ P,]
   477	001370'	200300	001432'		MOVE	T1,[POINT 18,DBORNG];INITIALIZE DEBUG OUTPUT RING POINTER
   478	001371'	202300	000376'		MOVEM	T1,DBOPNT
   479	001372'	205300	255000		MOVSI T1,(<JFCL>)
   480	001373'	202300	000000*		MOVEM T1,KEYSET
   481	001374'	200340	000103*		MOVE T2,EPT+103
   482	001375'	200300	001433'		MOVE T1,[JSR IR]
   483	001376'	202307	000060		MOVEM T1,IRV(T2)
   484	001377'	200300	001434'		MOVE T1,[JSR OD]
   485	001400'	202307	000061		MOVEM T1,ODV(T2)
   486	001401'	200300	001435'		MOVE T1,[JRST CLKDR]
   487	001402'	250300	000001*		EXCH T1,CH7+1
   488	001403'	202300	000266'		MOVEM T1,CLKDR+1
   489	001404'	402000	000005'		SETZM SBMO
   490	001405'	402000	000006'		SETZM EDRODI		;Output not active.
   491	001406'	402000	000007'		SETZM IRFULL		;Input not blocked.
   492	001407'	701040	000010'		RDUBR WRIOAC
   493	001410'	701140	000027'		WRUBR SDRACB
   494	001411'	201600	000041'		MOVEI P1,IRSOM
   495	001412'	201700	000240'		MOVEI P3,ODIDL1
   496	001413'	205300	100000		MOVSI T1,100000
   497	001414'	410300	000010'		ANDCA T1,WRIOAC
   498	001415'	701140	000006		WRUBR T1
   499	001416'	201300	000140		MOVEI T1,CSRIEA+CSRIEB
   500	001417'	713320	000024'		WRIO T1,@DRCSR
   501	001420'	263040	000000		POPJ P,
   502
   503	001421'	100700	000006		$END	(DR1)

   504	001422'	242007	000000*

   505	001423'	042007	001422*

   506	001424'	100600	000006

   507	001425'	000000	000104'

   508	001426'	242010	000000*

   509	001427'	042010	001426*

   510	001430'	402000	001363*

   511	001431'	263040	000000

   512	001432'	442200	000377'

DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 6-2
DR11C.MAC	30-OCT-87 19:21		Clock interrupt (every 17ms)

   513	001433'	264000	000030'

   514	001434'	264000	000201'

   515	001435'	254000	000265'

   516						;End of DR11C  (DR1LIT: DR1END:)
   517
NO ERRORS DETECTED
PROGRAM BREAK IS 001436
6K CORE USED
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88 PAGE 7
DR11C.MAC	30-OCT-87 19:21		SYMBOL TABLE

BCIO	715000	000000		IRF1WD		000174'		SBMO		000005'		
BIT		100000	SPD	IRF2WD		000172'		SDRACB		000027'		
BLKCNT		000020'		IRFDP		000175'		T1		000006	INT	
BLKPNT		000022'		IRFUL		000176'		T2		000007	INT	
BLKSIZ		000021'		IRFULL		000007'		T3		000010	INT	
BLXCNT		000016'		IRING		001423'	EXT	T4		000011	INT	
BLXPNT		000017'		IROAC		000015'		U		000005	INT	
BSIO	714000	000000		IROVF		000003'		UBGOOD		001366'	EXT	
CH7		000000	EXT	IRP620		000115'	EXT	W		000012	INT	
CLKDR		000265'	INT	IRPD		000037'		WRIO	713000	000000		
CLKIN		000355'		IRPPDP		000351'	EXT	WRIOAC		000010'		
CLKIR		000343'		IRSOM		000041'		WRPI	700600	000000		
CLKOAC		000011'		IRV		000060	SPD	WRUBR	701140	000000		
CLKOR		000315'		KEYSET		001373'	EXT	
CLKSO		000323'		KRFMD		000002	SPD	
CLKT1		000012'		LI.PIF		000400	SPD	
CLKT2		000013'		LI.PIN		000200	SPD	
CSR		000004	SPD	M		000013	INT	
CSR0		000001	SPD	MSKIRG		000350'	EXT	
CSR1		000002	SPD	MSKORG		000224'	EXT	
CSRIEA		000100	SPD	NODIE		000000	EXT	
CSRIEB		000040	SPD	OD		000201'		
CSRRA		000200	SPD	ODBMO		000247'		
CSRRB		100000	SPD	ODBMO0		000256'		
DBOPNT		000376'		ODDIS		000233'		
DBORGE		001363'		ODIDL		000245'		
DBORNG		000377'		ODIDL1		000240'		
DIE		000000'	EXT	ODLH		000207'		
DR11C		000000'	ENT	ODLH0		000216'		
DR1END		001435'	INT	ODLH1		000222'		
DR1LIT		001421'	INT	ODOAC		000014'		
DRCSR		000024'		ODRH1		000232'		
DRDO		001430'	EXT	ODV		000061	SPD	
DRFN		000001	SPD	ORING		001427'	EXT	
DRIB		000026'		ORP620		000330'	EXT	
DRINI		001363'	ENT	ORPPDP		000317'	EXT	
DROB		000025'		OSTATE		000023'		
EDRODI		000006'		OUTB02		000374'		
EPT		000000	EXT	OUTBUG		000365'		
ESCWD		177777	SPD	P		000001	INT	
IR		000030'		P1		000014	INT	
IR12E		000072'		P2		000015	INT	
IR1B		000104'		P3		000016	INT	
IR2A		000117'		PG		000003	INT	
IR2B		000126'		RDIO	712000	000000		
IR2OE		000112'		RDUBR	701040	000000		
IRBMI2		000160'		S		000000	INT	
IRBMO		000162'		S$ENTR	777777	777775	SIN	
IRDA		000050'		S$HALT	777777	777777	SIN	
IRDB		000057'		S$NAME		000000'	SPD	
IRDIS		000064'		S$NONA		000000	SIN	
IRDIS1		000066'		S$TEMP		000000	SPD	
IRESC		000134'		S$XCT	777777	777776	SIN	

DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88
DR11C.MAC	30-OCT-87 19:21		Symbol cross reference

BIT	   116#	   117	   117#	   121#	   122#
BLKCNT	   102#	   346	   364	   382
BLKPNT	   104#	   348	   363	   384
BLKSIZ	   103#	   260
BLXCNT	   100#	   259	   345	   381
BLXPNT	   101#	   261	   347	   383
CH7	    85%	   487
CLKDR	   371#	   427	   435	   446	   486	   488
CLKIN	   433	   439#
CLKIR	   374	   394	   403	   426#
CLKOAC	    95#	   378	   390	   393	   408	   411	   422
CLKOR	   376	   398#
CLKSO	   401	   407#
CLKT1	    96#	   398	   402	   407	   439	   445
CLKT2	    97#	   428	   434
CSR	   117#
CSR0	   117#	   118
CSR1	   117#	   120
CSRIEA	   117#	   499
CSRIEB	   117#	   499
CSRRA	   117#
CSRRB	   117#
DBOPNT	   454	   455	   459	   460	   465#	   478
DBORGE	   456	   467#
DBORNG	   458	   466#	   477
DIE	    17	    17%	    18
DR11C	    17	    18#	    21
DR1END	   516#
DR1LIT	   503#
DRCSR	   116#	   138	   172	   296	   329	   392	   420	   444	   473	   500
DRDO	   471%	   471	   475
DRFN	   118#	   295	   328	   391	   419
DRIB	   122#	   136
DRINI	    24	   471#
DROB	   121#	   326	   386	   415
EDRODI	    92#	   330	   339	   373	   388	   417	   490
EPT	    85%	   481
ESCWD	    88#	   313	   321	   349	   385
IR	   133#	   176	   482
IR12E	   150	   180#
IR1B	   190#	   277
IR2A	   205#	   216
IR2B	   212#	   272
IR2OE	   181	   200#
IRBMI2	   252#
IRBMO	   241	   257#
IRDA	   159#	   170
IRDB	   166#	   281
IRDIS	   145	   165	   171#	   189	   196	   211	   217	   229	   235	   245	   251	   253	   264
IRDIS1	   173#	   285
IRESC	   202	   227#
IRF1WD	   187	   277#
IRF2WD	   209	   272#
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88
DR11C.MAC	30-OCT-87 19:21		Symbol cross reference

IRFDP	   163	   281#
IRFUL	   273	   282#
IRFULL	    93#	   283	   426	   442	   491
IRING	    85%	   164	   166	   188	   190	   210	   212	   441
IROAC	    99#	   134	   174
IROVF	    90#	   282	   429	   440
IRP620	    85%	   143	   155	   182	   193	   203
IRPD	   143#	   169	   215
IRPPDP	    85%	   162	   186	   208	   432
IRSOM	   149#	   195	   252	   263	   494
IRV	   119#	   483
KEYSET	    86%	   480
KRFMD	   120#	   137	   171	   443
LI.PIF	   418
LI.PIN	   421
LISTSN	     3	     6
M	   244	   250
MSKIRG	    86%	   161	   168	   185	   192	   207	   214	   431
MSKORG	    86%	   319
NODIE	    17%
OD	   292#	   335	   484
ODBMO	   303	   344#
ODBMO0	   356#	   380
ODDIS	   308	   316	   323	   326#	   350	   357	   365
ODIDL	   306	   339#
ODIDL1	   331#	   340	   495
ODLH	   302#	   325	   366	   367
ODLH0	   313#	   414
ODLH1	   314	   317#
ODOAC	    98#	   293	   333
ODRH1	   322	   325#
ODV	   117#	   485
ORING	    85%	   307	   317	   413
ORP620	    85%	   304	   320	   399	   412
ORPPDP	    85%	   305	   400
OSTATE	   105#	   331
OUTB02	   457	   460#
OUTBUG	   327	   387	   416	   453#	   461
P	    18	   472	   474	   476	   501
P1	   139	   145	   165	   170	   189	   195	   211	   216	   229	   235	   245	   252	   263	   272
	   277	   281	   494
P2	   230	   236	   237	   238	   239	   244	   261
P3	   297	   308	   316	   323	   325	   331	   350	   357	   366	   380	   414	   495
PG	   455	   456	   458	   459
S	   154	   169	   204	   215
S$ENTR	    17	    23	   258
S$HALT	    17	   258
S$NAME	    21#	   258
S$NONA	    20	    23	   258
S$TEMP	    17#	    17	   258#	   258
S$XCT	    23	   258
SBMO	    91#	   262	   302	   344	   375	   377	   489
SDRACB	   126#	   135	   294	   379	   409	   493
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88
DR11C.MAC	30-OCT-87 19:21		Symbol cross reference

T1	   136	   149	   151	   164	   166	   171	   172	   173	   174	   175	   180	   188	   190	   200
	   210	   212	   227	   230	   233	   234	   238	   250	   282	   398	   399	   400	   402	   407
	   439	   440	   441	   443	   444	   445	   473	   477	   478	   479	   480	   482	   483	   484
	   485	   486	   487	   488	   496	   497	   498	   499	   500
T2	   143	   151	   152	   153	   154	   155	   159	   164	   166	   167	   168	   182	   183	   188
	   190	   191	   192	   193	   200	   201	   203	   205	   210	   212	   213	   214	   227	   231
	   232	   234	   240	   242	   243	   257	   259	   260	   428	   429	   430	   431	   432	   434
	   441	   481	   483	   485
T3	   304	   305	   307	   317	   318	   319	   320	   410	   411	   412	   413
T4	   307	   313	   315	   317	   321	   324	   326	   345	   346	   347	   348	   349	   356	   363
	   381	   382	   383	   384	   385	   386	   389	   390	   391	   392	   413	   415	   460
U	   137	   138	   159	   160	   161	   162	   183	   184	   185	   186	   205	   206	   207	   208
	   295	   296	   328	   329	   332	   333	   334	   419	   420
UBGOOD	   474%	   474
W	   243	   251
WRIOAC	    94#	   492	   497
DR11C Interface to simulated Tymnet node	MACRO 12.5-46.0 14:19 13-JAN-88
DR11C.MAC	30-OCT-87 19:21		Macro/Opdef cross reference

BCIO	   138	   296
BSIO	   172	   329	   392	   420	   444
IOREG	   109#	   116	   121	   122
PRINTF	    10#
RDIO	   136
RDUBR	   134	   293	   378	   408	   492
STOPCD	    16	   258
WRIO	   326	   386	   415	   500
WRPI	   418	   421
WRUBR	   135	   175	   294	   334	   379	   393	   409	   422	   493	   498
$END	   503    N }