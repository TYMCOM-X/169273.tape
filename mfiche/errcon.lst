ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 1
S.MAC	13-JAN-88 11:55		S.MAC - with system parameter file for P035/D, January 1988

     1				SUBTTL	S.MAC - with system parameter file for P035/D, January 1988
     2
     3				IF2,<IFNDEF LISTSN,<TAPE>>	;Skip to PASS2 in all but COMMON.LST
     4				;THIS MODULE ASSEMBLED WITH KL-10 PARAMETER FILE - KLSYM.MAC
     5
     6					IF2,<IFNDEF LISTSN,<		;LIST KLSYM.MAC IN COMMON ONLY
     7								TAPE>>
     8				TITLE ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES
     9				SUBTTL T. HASTINGS/TH/CHW/TW/RCC SCNSER 07-OCT-70 V425
    10
    11					STOPCD(,ENTRY,ERRCON)^
    12					ENTRY	ERRCON		;For library searches
    13	000000'	260040	002036'	ERRCON::PUSHJ	P,DIE		;**** Default stopcode for "ERRCON" ****
    14	000001'	456262	435756		SIXBIT	/ERRCON/  	;Title of module
    15	000002'	000000	000000		S$NONAME,,0		;?NONAME stopcode "ERRCON+nnn(nnnnnn)"
    16			000000'	S$NAME==ERRCON			;For STOPCDs with no arguments
    17					SALL>
    18				^
    19
    20				;THESE ERROR ROUTINES PRINT "ERROR IN JOB N"
    21				;FOLLOWED BY AN APPROPRIATE ERROR MESSAGE
    22				;THEN THE JOB IS STOPPED AND CONSOLE IS RETURNED TO
    23				;MONITOR COMMAND MODE
    24
    25				;APR DETECTED ERRORS
    26				;PUSHDOWN OVERFLOW,ILLEGAL MEMORY, NONEXISTENT MEMORY
    27				;FOR WHICH THE USER IS NOT ENABLED.
    28				;SEE APRSER TO SEE HOW APR INTERRUPTS ARE HANDLED
    29				;CALL:	SKIPE T1,APRERR	;RESULT OF CONI APR,APRERR
    30				;	 PUSHJ P,APRILM	;FROM CLK SERVICE ROUT.(LOWEST PRIOTITY PI)
    31				;	RETURN TO RESCHEDULE NEW USER
    32
    33				EXTERNAL HOLD,ALR620,TTYFND
    34				EXTERNAL TSETBI,GETOPR,TTYFNU,TTYSTR,PIOMOD
    35				EXTERNAL UPTPDL,%UPT,UPTABK,UPTSTS,UPSABK,UPTABL,%UPX,%UPS
    36				EXTERNAL UPTUII,UPTXII
    37				IFCPU (KL),<EXTERNAL AB.USR>
    38				EXTERNAL JBTSTS
    39				EXTERNAL USRXIT,WSCHED,CLKPC1,CLKPC2
    40				EXTERNAL JOB
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 2
ERRCON.MAC	 6-NOV-87 12:32		SYSTEM ERROR EXIT DEFINITIONS

    41				SUBTTL SYSTEM ERROR EXIT DEFINITIONS
    42				COMMENT #
    43
    44				GENERATE CODE TO STORE ERROR STATUS IN THE FRAME'S UPT, TRAP TO
    45				TRAPHANDLER OR PARENT, PRINT MESSAGE IF NO ONE IS HANDLING ERRORS.
    46
    47				X ARGUMENTS:
    48
    49				CODE	THREE LETTER CODE FOR ERROR. SYMBOLS ERR??? GENERATED TO JRST TO.
    50				TYPE	TYPE NUMBER WITHIN ERROR CLASS.
    51				MESSAGE	BASIC MESSAGE TO PRINT.
    52				TTYFIN	PUSHJ TO THIS ROUTINE TO FINISH MESSAGE.
    53					ERRSCP - "FOR (EXEC) LOCATION/PAGE <C(M)> AT USER <C(GETPC)>" OR
    54						 "FOR (EXEC) LOCATION/PAGE <C(M)>; UUO AT EXEC/USER <C(UPTPDL)-1>"
    55					ERRSCD - "AT USER <C(GETPC)>" OR
    56						 ";UUO AT <C(UPTPDL)-1>"
    57					ERRSCM - "AT USER <C(GETPC)-1>" OR
    58						";UUO AT <C(GETPC)-1>"
    59					UUOPCP - "AT USER <C(UPTPDL)-1>"
    60					ERRSCU - "; UUO AT <C(UPTPDL)-1>"
    61					TCLTTY - CLEAR TYPE AHEAD, PUT TTY IN MONITOR MODE, PRINT CRLF, WATCH
    62						 DATA, CRLF, AND PERIOD
    63					TNCTTY - SAME AS TCLTTY, BUT DOESN'T CLEAR TYPE AHEAD
    64					E1STTY - PRINT WATCH, CRLF, PERIOD, PUT TTY IN MONITOR MODE (FOR EXIT 1,)
    65					<BLANK> - DOES TCLTTY
    66				STOP	ROUTINE TO USE TO STOP THE JOB, WHETHER OR NOT A MESSAGE
    67					IS PRINTED.
    68					KJSTOP - STOP JOB, SET JERR, SET IT TO LOGOUT IF JLOG OFF
    69					HISTOP - STOP JOB CONTINUABLY, CONTINUES POPJ
    70						  (FOR HALT INSTRUCTION AND ADDRESS BREAK.)
    71					HNSTOP - STOP CONTINUABLY, SET JDCON
    72					BISTOP - SPECIAL RETURN FOR BAD INTERRUPT ADDRESS
    73					E1STOP - STOP CONTINUABLY, JRST TO USCHED (FOR EXIT 1,)
    74						 CONTINUES AT ADDRESS C(P) (IS UPTPDL FOR EXIT 1,)
    75					HLSTOP - STOP CONTINUABLY, CONTINUE WILL POPJ FROM JRST ERR???
    76					STOP1  - IF JERR NOT ON, WILL RETURN TO CALLER OF ERR???.
    77						 USED IF CALLER NOT SAME AS THE FRAME THAT IS STOPPING.
    78						 ALSO USED IF FRAME STOPS BECAUSE OF DELAYED CONTROL-C
    79						 IN WHICH CASE PUSHJS TO ERR??? AND JRSTS TO WSCHED, USCHED, ETC.
    80					<BLANK> - KJSTOP
    81				GETPC	<BLANK> - GET PC FROM STACK
    82					NONE - NO CODE GENERATED TO FETCH PC
    83					<NON-BLANK> GET PC FROM SPECIFIED ARG
    84				SETTTY	<BLANK> - USE ERRTTY, SETS UP FRAME'S LDB, OR IF NONE, OPR LDB
    85					<NON BLANK> - PUSHJ TO ARG ROUTINE, JUMP TO STOP JOB ROUTINE IF
    86							C(U) IS ZERO, ELSE ASSUME F AND U ARE SETUP
    87					  TTYFNU - RETURNS C(U) 0 IF DETACHED, OR LDB ADDRESS. C(F) GETS TTY DDB ADDRESS
    88					  ERRFNU - SAME AS TTYFNU, BUT PRESERVES F.
    89					  EXIFNU - SPECIAL TTY FINDING ROUTINE FOR EXIT, SEE ROUTINE.
    90					  EXDFNU - SAME AS EXIFNU, BUT PRESERVES F.
    91					  NOMESS - NO MESSAGE OR TTY NEEDED, JUST STOP THE FRAME.
    92				VALUE	<BLANK> - NO VALUE ASSOCIATED WITH MESSAGE
    93					<NON-BLANK> - AC NAME TO STORE INTO UPTELC
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 2-2
ERRCON.MAC	 6-NOV-87 12:32		SYSTEM ERROR EXIT DEFINITIONS

    94				VALUE1	<BLANK> - NO VALUE
    95					<NON-BLANK> - AC NAME TO STORE INTO UPTEL1
    96				UPLOC	<BLANK> - CONTEXT PAGES ACCESSIBLE THRU %UPT
    97					%UPS - THRU %UPS
    98					%UPX - THRU %UPX
    99				#
   100
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 3
ERRCON.MAC	 6-NOV-87 12:32		SYSTEM ERROR EXIT DEFINITIONS

   101				DEFINE ERRS<
   102				ERRCLS==0	;Memory violations
   103				  INTERNAL ERRPCO,ERRIMR,ERRWRV,ERRADC,ERRIMU,ERRIIA,ERRABK,ERRPOV
   104				X(PCO,0,<?PC out of bounds>,ERRSCD)
   105				X(IMR,1,<?Illegal Memory Reference>,ERRSCP)
   106				X(WRV,2,<?Write violation>,ERRSCP)
   107				X(ADC,3,<?Address check for ,DEV>,ERRSCP,,,ERRFNU)
   108				X(IMU,4,<?Illegal Memory Reference in UUO>,ERRSCP)
   109				X(IIA,5,<?Illegal interrupt address>,,BISTOP,NONE)
   110				X(ABK,6,<%Address break>,ERRSCP,HISTOP,P1)
   111				X(POV,7,<?Stack overflow>,ERRSCD)
   112				
   113				ERRCLS==1	;System related errors
   114				  INTERNAL ERRPIO,ERRDFL,ERRPHE,ERRTPL,ERRCIO,ERRPAR,ERRMED
   115				X(PIO,0,<?Page I/O error>,ERRSCP)
   116				X(DFL,1,<?Disk full during C-O-W>,ERRSCP)
   117				X(PHE,2,<?Paging hardware error>,ERRSCP)
   118				X(TPL,3,<?Too many pages locked, can't handle fault>,ERRSCP)
   119				X(CIO,4,<?Context page I/O error>)
   120				X(PAR,5,<?Parity error.  All core removed>)
   121				X(MED,6,<?Monitor Error Detected>,UUOPCP)
   122				
   123				ERRCLS==2	;Device related errors
   124				  INTERNAL ERROCI,ERRICO,ERRIDM,ERRIUC,ERRHDV,ERRDOP
   125				X(OCI,0,<?Output ,DEV, cannot do input>,UUOPCP,,,ERRFNU)
   126				X(ICO,1,<?Input ,DEV, cannot do output>,UUOPCP,,,ERRFNU)
   127				X(IDM,2,<?Illegal data mode for ,DEV>,ERRSCU,,,ERRFNU)
   128				X(IUC,3,<?I/O to unassigned channel>,UUOPCP)
   129				X(HDV,4,<?Hung ,DEV>,ERRSCU,,,ERRFNU)
   130				X(DOP,5,<?,DEV, OPR action requested>,,HNSTOP,NONE,ERRFNU)
   131				
   132				ERRCLS==3	;Illegal instruction traps
   133				  INTERNAL ERRILU,ERRUUE,ERRILI,ERRHLT,ERRCAL
   134				X(ILU,0,<?Illegal UUO>,UUOPCP)
   135				X(UUE,1,<?UUO error>,UUOPCP)
   136				X(ILI,2,<?Illegal instruction>,UUOPCP)
   137				X(HLT,3,<?HALT>,ERRSCM,HISTOP,P1)
   138				X(CAL,4,<?Illegal CALL name>,UUOPCP)
   139				
   140				ERRCLS==4	;Frame exits
   141				  INTERNAL ERREXI,ERREX1,ERRFEX,ERRTLE,ERRJSU,ERRJSV,ERRFCL,ERRFX1
   142				X(EXI,0,<CRLF,EXIT>,TNCTTY,KJSTOP,NONE,EXIFNU)
   143				X(EX1,1,<>,E1STTY,E1STOP,NONE,EXIFNU)
   144				X(FEX,2,<?Fail exit >,FEXPRT,KJSTOP,NONE,EXIFNU,T4)
   145				X(TLE,3,<?Time limit exceeded>,TLETTY,STOP1,NONE,TTYFNU)
   146				X(JSU,4,<FNAME, setup>,TNCTTY,KJSTOP,NONE,EXIFNU,P3,P4)
   147				X(JSV,5,<FNAME, saved>,TNCTTY,KJSTOP,NONE,EXIFNU,P3,P4)
   148				X(FCL,6,<%Frame cleared>,,KJSTOP,NONE,NOMESS)
   149				X(FX1,7,<?Fail stop >,FEXPRT,E1STOP,NONE,EXIFNU,T4)
   150				
   151				ERRCLS==5	;RUN, RUNSEG, GETSEG UUO errors
   152				  INTERNAL ERRTRE,ERRPGN,ERRDNA,ERRFNF,ERRNSF,ERREUF,ERRCAN,ERRMHB
   153				  INTERNAL ERRRMF,ERRMGF,ERRNSA
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 3-2
ERRCON.MAC	 6-NOV-87 12:32		SYSTEM ERROR EXIT DEFINITIONS

   154				X(TRE,0,<?I/O error on file ,FNAME>,,KJSTOP,NONE,EXIFNU)
   155				X(PGN,1,<?,DECPRT, pages needed>,,KJSTOP,NONE,EXIFNU,M)
   156				X(DNA,2,<?,DEV, not available>,,KJSTOP,NONE,EXDFNU);;Preserve F
   157				X(FNF,3,<?,FNAME, not found>,,KJSTOP,NONE,EXIFNU,P3,P4)
   158				X(NSF,4,<?Not a SAVe file>,,KJSTOP,NONE,EXIFNU)
   159				X(EUF,5,<?,FNAME, attempted ENTER UUO failed>,,KJSTOP,NONE,EXIFNU,P3,P4)
   160				X(CAN,6,<?Core argument must be specified>,,KJSTOP,NONE,EXIFNU)
   161				X(MHB,7,<?Magtape HISEG format BAD or system errors>,,KJSTOP,NONE,EXIFNU)
   162				X(RMF,10,<?Fatal error during REMAP UUO>,,KJSTOP,NONE,EXIFNU)
   163				X(MGF,11,<?Magtape GET failure>,,KJSTOP,NONE,EXIFNU)
   164				X(NSA,12,<?No start address>,,KJSTOP,NONE,EXIFNU)
   165				>;END ERRS MACRO DEFINITION
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 4
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   166				SUBTTL ERROR EXIT ROUTINE GENERATION
   167
   168				DEFINE IFADF(ARG1,ARG2,DO,%A)<;BEGIN DEFINITION OF IF ALL DIFFERENT MACRO
   169				%A==0
   170				IRP ARG2,<IFIDN <ARG1> <ARG2> <%A==-1>
   171				>;END IRP ARG2
   172				IFE %A,<'DO>
   173				PURGE %A
   174				>;END IFADF
   175
   176				DEFINE IFOID(ARG1,ARG2,DO,%A)<;BEGIN IF ONE IDENTICAL MACRO
   177				%A==0
   178				IRP ARG2,<IFIDN <ARG1> <ARG2> <%A==-1>
   179				>;END IRP ARG2
   180				IFN %A,<'DO>
   181				PURGE %A
   182				>;END IFOID
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   183				;NOW DEFINE X MACRO, SO CAN CALL ERRS AND GENERATE THE ERROR EXITING
   184				; CODE.
   185
   186				DEFINE X(CODE,TYPE,MESS,TTYFIN,STOP,GETPC,SETTTY,VALUE,VALUE1,UPLOC,%STP,%UP)<
   187				IFB <STOP> <%STP==KJSTOP>
   188				IFNB <STOP> <%STP=='STOP>
   189				IFB <UPLOC> <%UP==%UPT>
   190				IFNB <UPLOC> <%UP=='UPLOC>
   191				
   192				ERR'CODE:
   193				IFB <GETPC> <
   194					MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   195				IFADF GETPC,<P1,NONE,>,<
   196					MOVE P1,'GETPC	;IF NOT BLANK, MEANS GET PC FROM ARG PLACE
   197				>;END IFADF
   198				
   199					MOVE	T1,[ERRCLS,,'TYPE] ;GET CLASS,,TYPE WITHING CLASS
   200					MOVEM	T1,%UP+UPTETP	;EXIT TYPE
   201				IRP MESS,<IFIDN <MESS> <DEV> <
   202					MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   203					MOVEM	T1,%UP+UPTEDV
   204				>>;END IFIDN AND IRP
   205				
   206				IFIDN <TTYFIN> <ERRSCP> <
   207					MOVEM	M,%UP+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   208				>;END IFIDN
   209				IFNB <VALUE> <
   210					MOVEM 'VALUE,%UP+UPTELC ;OR IF OTHER VALUE SPECIFIED
   211				>;END IFNB <VALUE>
   212				IFNB <VALUE1> <
   213					MOVEM 'VALUE1,%UP+UPTEL1
   214				>;END IFNB <VALUE1>
   215				
   216				IFOID 'UPLOC,<%UPT,>,<
   217					PUSHJ	P,ERRSET>
   218				IFIDN <UPLOC> <%UPS> <
   219					PUSHJ	P,ERRSES>
   220				IFIDN <UPLOC> <%UPX> <
   221					PUSHJ	P,ERRSEX>
   222					  PJRST	%STP		;GO STOP THE JOB WITHOUT MESSAGES
   223				
   224				IFDIF <SETTTY> <NOMESS> <
   225				IFB <SETTTY> <
   226					PUSHJ	P,ERRTTY	;FIND A LINE TO TYPE MESSAGE ON
   227				>;END IFB SETTTY
   228				
   229				IFNB <SETTTY> <
   230				  IFDIF <SETTTY> <CPOPJ> <
   231					PUSHJ P,'SETTTY		;SPECIAL ROUTINE TO SET TTY UP
   232				  >;END IFDIF <SETTTY> <CPOPJ>
   233					JUMPE U,%STP		;JUST STOP JOB
   234				>;END IFNB <SETTTY>
   235				IFNB <MESS> <IRP MESS,<
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-2
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   236				IFIDN <MESS> <DEV> <
   237					PUSHJ P,ERNAM>		;PRINT DEVICE X
   238				IFIDN <MESS> <CRLF> <
   239					PUSHJ P,CRLF>		;PRINT CRLF IF ASKED TO
   240				IFIDN <MESS> <CRLFQ> <
   241					PUSHJ P,CRLFQ>
   242				IFIDN <MESS> <FNAME> <
   243					PUSHJ P,ERFNAM>
   244				IFIDN <MESS> <DECPRT> <
   245					MOVE T1,M		;GET VALUE INTO T1
   246					PUSHJ P,PRTDIG>
   247				IFADF MESS,<DECPRT,CRLF,CRLFQ,DEV,FNAME>,<
   248					PUSHJ	P,INLMES
   249					ASCIZ	\'MESS\
   250				>;END IFADF
   251				>;END IRP MESS
   252				>;END IFNB MESS
   253				IFNB <TTYFIN> <
   254					PUSHJ P,'TTYFIN>	;IF NEED MORE PC TYPE INFO, DO IT.
   255				IFB <TTYFIN> <
   256					PUSHJ P,TCLTTY>
   257				>;END IFDIF <SETTTY> <NOMESS>
   258					PJRST	%STP		;AND STOP THE JOB.
   259				>;END X MACRO DEFINITION
   260				EXTERNAL UPTJOB,UPTETP,UPTEDV,UPTELC,UPTEL1
   261				;NOW GENERATE ALL THE ROUTINES
   262				XALL	;DON'T WASTE PAPER
   263					ERRS^
   264	000003'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   265	000004'	200300	003342'		MOVE	T1,[ERRCLS,,0] ;GET CLASS,,0 WITHING CLASS
   266	000005'	202300	000000*		MOVEM	T1,..0002+UPTETP	;EXIT 0
   267	000006'	260040	001677'		PUSHJ	P,ERRSET>
   268	000007'	324740	000000*		  PJRST	..0001		;GO  THE JOB WITHOUT MESSAGES
   269	000010'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 0 MESSAGE ON
   270	000011'	260040	000000*		PUSHJ	P,INLMES
   271	000012'	376410	320336		ASCIZ	\?PC out of bounds\
	000013'	727504	067714
	000014'	203055	772734
	000015'	623460	000000
   272	000016'	260040	002021'		PUSHJ P,ERRSCD>	;IF NEED MORE PC 0 INFO, DO IT.
   273	000017'	324740	000007*		PJRST	..0001		;AND  THE JOB.
   274	000020'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   275	000021'	200300	003343'		MOVE	T1,[ERRCLS,,1] ;GET CLASS,,1 WITHING CLASS
   276	000022'	202300	000000*		MOVEM	T1,..0007+UPTETP	;EXIT 1
   277	000023'	202540	000000*		MOVEM	M,..0007+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   278	000024'	260040	001677'		PUSHJ	P,ERRSET>
   279	000025'	324740	000017*		  PJRST	..0006		;GO  THE JOB WITHOUT MESSAGES
   280	000026'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 1 MESSAGE ON
   281	000027'	260040	000011*		PUSHJ	P,INLMES
   282	000030'	376235	466312		ASCIZ	\?Illegal Memory Reference\
	000031'	637035	420232
	000032'	627335	771362
	000033'	202454	563312
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-3
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

	000034'	713135	661712
	000035'	000000	000000
   283	000036'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 1 INFO, DO IT.
   284	000037'	324740	000025*		PJRST	..0006		;AND  THE JOB.
   285	000040'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   286	000041'	200300	003344'		MOVE	T1,[ERRCLS,,2] ;GET CLASS,,2 WITHING CLASS
   287	000042'	202300	000000*		MOVEM	T1,..0014+UPTETP	;EXIT 2
   288	000043'	202540	000000*		MOVEM	M,..0014+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   289	000044'	260040	001677'		PUSHJ	P,ERRSET>
   290	000045'	324740	000037*		  PJRST	..0013		;GO  THE JOB WITHOUT MESSAGES
   291	000046'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 2 MESSAGE ON
   292	000047'	260040	000027*		PUSHJ	P,INLMES
   293	000050'	376576	264750		ASCIZ	\?Write violation\
	000051'	625016	664736
	000052'	663036	464736
	000053'	670000	000000
   294	000054'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 2 INFO, DO IT.
   295	000055'	324740	000045*		PJRST	..0013		;AND  THE JOB.
   296	000056'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   297	000057'	200300	003345'		MOVE	T1,[ERRCLS,,3] ;GET CLASS,,3 WITHING CLASS
   298	000060'	202300	000000*		MOVEM	T1,..0021+UPTETP	;EXIT 3
   299	000061'	200304	000000		MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   300	000062'	202300	000000*		MOVEM	T1,..0021+UPTEDV
   301	000063'	202540	000000*		MOVEM	M,..0021+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   302	000064'	260040	001677'		PUSHJ	P,ERRSET>
   303	000065'	324740	000055*		  PJRST	..0020		;GO  THE JOB WITHOUT MESSAGES
   304	000066'	260040	001767'		PUSHJ P,ERRFNU		;SPECIAL ROUTINE TO SET TTY UP
   305	000067'	322240	000065*		JUMPE U,..0020		;JUST  JOB
   306	000070'	260040	000047*		PUSHJ	P,INLMES
   307	000071'	376034	462344		ASCIZ	\?Address check for \
	000072'	627476	320306
	000073'	643134	365500
	000074'	633376	220000
   308	000075'	260040	003302'		PUSHJ P,ERNAM>		;PRINT DEVICE X
   309	000076'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 3 INFO, DO IT.
   310	000077'	324740	000067*		PJRST	..0020		;AND  THE JOB.
   311	000100'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   312	000101'	200300	003346'		MOVE	T1,[ERRCLS,,4] ;GET CLASS,,4 WITHING CLASS
   313	000102'	202300	000000*		MOVEM	T1,..0027+UPTETP	;EXIT 4
   314	000103'	202540	000000*		MOVEM	M,..0027+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   315	000104'	260040	001677'		PUSHJ	P,ERRSET>
   316	000105'	324740	000077*		  PJRST	..0026		;GO  THE JOB WITHOUT MESSAGES
   317	000106'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 4 MESSAGE ON
   318	000107'	260040	000070*		PUSHJ	P,INLMES
   319	000110'	376235	466312		ASCIZ	\?Illegal Memory Reference in UUO\
	000111'	637035	420232
	000112'	627335	771362
	000113'	202454	563312
	000114'	713135	661712
	000115'	203235	620252
	000116'	526360	000000
   320	000117'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 4 INFO, DO IT.
   321	000120'	324740	000105*		PJRST	..0026		;AND  THE JOB.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-4
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   322	000121'	200300	003347'		MOVE	T1,[ERRCLS,,5] ;GET CLASS,,5 WITHING CLASS
   323	000122'	202300	000000*		MOVEM	T1,..0034+UPTETP	;EXIT 5
   324	000123'	260040	001677'		PUSHJ	P,ERRSET>
   325	000124'	324740	003206'		  PJRST	..0033		;GO BISTOP THE JOB WITHOUT MESSAGES
   326	000125'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 5 MESSAGE   327	000126'	260040	000107*		PUSHJ	P,INLMES
   328	000127'	376235	466312		ASCIZ	\?Illegal interrupt address\
	000130'	637035	420322
	000131'	673514	571344
	000132'	727416	420302
	000133'	623116	262746
	000134'	714000	000000
   329	000135'	260040	003165'		PUSHJ P,TCLTTY>
   330	000136'	324740	003206'		PJRST	..0033		;AND BISTOP THE JOB.
   331	000137'	200300	003350'		MOVE	T1,[ERRCLS,,6] ;GET CLASS,,6 WITHING CLASS
   332	000140'	202300	000000*		MOVEM	T1,..0041+UPTETP	;EXIT 6
   333	000141'	202540	000000*		MOVEM	M,..0041+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   334	000142'	260040	001677'		PUSHJ	P,ERRSET>
   335	000143'	324740	003212'		  PJRST	..0040		;GO HISTOP THE JOB WITHOUT MESSAGES
   336	000144'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 6 MESSAGE ON
   337	000145'	260040	000126*		PUSHJ	P,INLMES
   338	000146'	226034	462344		ASCIZ	\%Address break\
	000147'	627476	320304
	000150'	713134	165400
   339	000151'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 6 INFO, DO IT.
   340	000152'	324740	003212'		PJRST	..0040		;AND HISTOP THE JOB.
   341	000153'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   342	000154'	200300	003351'		MOVE	T1,[ERRCLS,,7] ;GET CLASS,,7 WITHING CLASS
   343	000155'	202300	000000*		MOVEM	T1,..0046+UPTETP	;EXIT 7
   344	000156'	260040	001677'		PUSHJ	P,ERRSET>
   345	000157'	324740	000120*		  PJRST	..0045		;GO  THE JOB WITHOUT MESSAGES
   346	000160'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 7 MESSAGE ON
   347	000161'	260040	000145*		PUSHJ	P,INLMES
   348	000162'	376476	460706		ASCIZ	\?Stack overflow\
	000163'	655015	773312
	000164'	713155	467756
	000165'	000000	000000
   349	000166'	260040	002021'		PUSHJ P,ERRSCD>	;IF NEED MORE PC 7 INFO, DO IT.
   350	000167'	324740	000157*		PJRST	..0045		;AND  THE JOB.
   351	000170'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   352	000171'	200300	003352'		MOVE	T1,[ERRCLS,,0] ;GET CLASS,,0 WITHING CLASS
   353	000172'	202300	000000*		MOVEM	T1,..0053+UPTETP	;EXIT 0
   354	000173'	202540	000000*		MOVEM	M,..0053+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   355	000174'	260040	001677'		PUSHJ	P,ERRSET>
   356	000175'	324740	000167*		  PJRST	..0052		;GO  THE JOB WITHOUT MESSAGES
   357	000176'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 0 MESSAGE ON
   358	000177'	260040	000161*		PUSHJ	P,INLMES
   359	000200'	376414	163712		ASCIZ	\?Page I/O error\
	000201'	202225	747500
	000202'	627456	267744
	000203'	000000	000000
   360	000204'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 0 INFO, DO IT.
   361	000205'	324740	000175*		PJRST	..0052		;AND  THE JOB.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-5
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   362	000206'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   363	000207'	200300	003353'		MOVE	T1,[ERRCLS,,1] ;GET CLASS,,1 WITHING CLASS
   364	000210'	202300	000000*		MOVEM	T1,..0060+UPTETP	;EXIT 1
   365	000211'	202540	000000*		MOVEM	M,..0060+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   366	000212'	260040	001677'		PUSHJ	P,ERRSET>
   367	000213'	324740	000205*		  PJRST	..0057		;GO  THE JOB WITHOUT MESSAGES
   368	000214'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 1 MESSAGE ON
   369	000215'	260040	000177*		PUSHJ	P,INLMES
   370	000216'	376115	171726		ASCIZ	\?Disk full during C-O-W\
	000217'	203156	566330
	000220'	203116	571322
	000221'	673164	041532
	000222'	475332	700000
   371	000223'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 1 INFO, DO IT.
   372	000224'	324740	000213*		PJRST	..0057		;AND  THE JOB.
   373	000225'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   374	000226'	200300	003354'		MOVE	T1,[ERRCLS,,2] ;GET CLASS,,2 WITHING CLASS
   375	000227'	202300	000000*		MOVEM	T1,..0065+UPTETP	;EXIT 2
   376	000230'	202540	000000*		MOVEM	M,..0065+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   377	000231'	260040	001677'		PUSHJ	P,ERRSET>
   378	000232'	324740	000224*		  PJRST	..0064		;GO  THE JOB WITHOUT MESSAGES
   379	000233'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 2 MESSAGE ON
   380	000234'	260040	000215*		PUSHJ	P,INLMES
   381	000235'	376414	163722		ASCIZ	\?Paging hardware error\
	000236'	673164	064302
	000237'	713116	760744
	000240'	625014	571344
	000241'	677440	000000
   382	000242'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 2 INFO, DO IT.
   383	000243'	324740	000232*		PJRST	..0064		;AND  THE JOB.
   384	000244'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   385	000245'	200300	003355'		MOVE	T1,[ERRCLS,,3] ;GET CLASS,,3 WITHING CLASS
   386	000246'	202300	000000*		MOVEM	T1,..0072+UPTETP	;EXIT 3
   387	000247'	202540	000000*		MOVEM	M,..0072+UPTELC 	;IF PRINTING LOC, STORE IT TOO.
   388	000250'	260040	001677'		PUSHJ	P,ERRSET>
   389	000251'	324740	000243*		  PJRST	..0071		;GO  THE JOB WITHOUT MESSAGES
   390	000252'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 3 MESSAGE ON
   391	000253'	260040	000234*		PUSHJ	P,INLMES
   392	000254'	376515	767500		ASCIZ	\?Too many pages locked\
	000255'	667035	674500
	000256'	703034	762746
	000257'	203315	761726
	000260'	627100	000000
   393	000261'	260040	000253*		PUSHJ	P,INLMES
   394	000262'	203074	167116		ASCIZ	\ can't handle fault\
	000263'	721015	060734
	000264'	623314	520314
	000265'	607535	472000
   395	000266'	260040	002013'		PUSHJ P,ERRSCP>	;IF NEED MORE PC 3 INFO, DO IT.
   396	000267'	324740	000251*		PJRST	..0071		;AND  THE JOB.
   397	000270'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   398	000271'	200300	003356'		MOVE	T1,[ERRCLS,,4] ;GET CLASS,,4 WITHING CLASS
   399	000272'	202300	000000*		MOVEM	T1,..0100+UPTETP	;EXIT 4
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-6
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   400	000273'	260040	001677'		PUSHJ	P,ERRSET>
   401	000274'	324740	000267*		  PJRST	..0077		;GO  THE JOB WITHOUT MESSAGES
   402	000275'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 4 MESSAGE ON
   403	000276'	260040	000261*		PUSHJ	P,INLMES
   404	000277'	376075	767350		ASCIZ	\?Context page I/O error\
	000300'	627616	420340
	000301'	607174	520222
	000302'	276364	062744
	000303'	713376	200000
   405	000304'	260040	003165'		PUSHJ P,TCLTTY>
   406	000305'	324740	000274*		PJRST	..0077		;AND  THE JOB.
   407	000306'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   408	000307'	200300	003357'		MOVE	T1,[ERRCLS,,5] ;GET CLASS,,5 WITHING CLASS
   409	000310'	202300	000000*		MOVEM	T1,..0105+UPTETP	;EXIT 5
   410	000311'	260040	001677'		PUSHJ	P,ERRSET>
   411	000312'	324740	000305*		  PJRST	..0104		;GO  THE JOB WITHOUT MESSAGES
   412	000313'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 5 MESSAGE ON
   413	000314'	260040	000276*		PUSHJ	P,INLMES
   414	000315'	376414	171322		ASCIZ	\?Parity error.  All core removed\
	000316'	723624	062744
	000317'	713376	227100
	000320'	202035	466100
	000321'	617376	262500
	000322'	713135	567754
	000323'	627100	000000
   415	000324'	260040	003165'		PUSHJ P,TCLTTY>
   416	000325'	324740	000312*		PJRST	..0104		;AND  THE JOB.
   417	000326'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   418	000327'	200300	003360'		MOVE	T1,[ERRCLS,,6] ;GET CLASS,,6 WITHING CLASS
   419	000330'	202300	000000*		MOVEM	T1,..0112+UPTETP	;EXIT 6
   420	000331'	260040	001677'		PUSHJ	P,ERRSET>
   421	000332'	324740	000325*		  PJRST	..0111		;GO  THE JOB WITHOUT MESSAGES
   422	000333'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 6 MESSAGE ON
   423	000334'	260040	000314*		PUSHJ	P,INLMES
   424	000335'	376335	767322		ASCIZ	\?Monitor Error Detected\
	000336'	723376	220212
	000337'	713455	771100
	000340'	423136	462706
	000341'	723134	400000
   425	000342'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 6 INFO, DO IT.
   426	000343'	324740	000332*		PJRST	..0111		;AND  THE JOB.
   427	000344'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   428	000345'	200300	003361'		MOVE	T1,[ERRCLS,,0] ;GET CLASS,,0 WITHING CLASS
   429	000346'	202300	000000*		MOVEM	T1,..0117+UPTETP	;EXIT 0
   430	000347'	200304	000000		MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   431	000350'	202300	000000*		MOVEM	T1,..0117+UPTEDV
   432	000351'	260040	001677'		PUSHJ	P,ERRSET>
   433	000352'	324740	000343*		  PJRST	..0116		;GO  THE JOB WITHOUT MESSAGES
   434	000353'	260040	001767'		PUSHJ P,ERRFNU		;SPECIAL ROUTINE TO SET TTY UP
   435	000354'	322240	000352*		JUMPE U,..0116		;JUST  JOB
   436	000355'	260040	000334*		PUSHJ	P,INLMES
   437	000356'	376376	572340		ASCIZ	\?Output \
	000357'	727504	000000
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-7
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   438	000360'	260040	003302'		PUSHJ P,ERNAM>		;PRINT DEVICE X
   439	000361'	260040	000355*		PUSHJ	P,INLMES
   440	000362'	203074	167334		ASCIZ	\ cannot do input\
	000363'	677504	062336
	000364'	203235	670352
	000365'	720000	000000
   441	000366'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 0 INFO, DO IT.
   442	000367'	324740	000354*		PJRST	..0116		;AND  THE JOB.
   443	000370'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   444	000371'	200300	003362'		MOVE	T1,[ERRCLS,,1] ;GET CLASS,,1 WITHING CLASS
   445	000372'	202300	000000*		MOVEM	T1,..0126+UPTETP	;EXIT 1
   446	000373'	200304	000000		MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   447	000374'	202300	000000*		MOVEM	T1,..0126+UPTEDV
   448	000375'	260040	001677'		PUSHJ	P,ERRSET>
   449	000376'	324740	000367*		  PJRST	..0125		;GO  THE JOB WITHOUT MESSAGES
   450	000377'	260040	001767'		PUSHJ P,ERRFNU		;SPECIAL ROUTINE TO SET TTY UP
   451	000400'	322240	000376*		JUMPE U,..0125		;JUST  JOB
   452	000401'	260040	000361*		PUSHJ	P,INLMES
   453	000402'	376235	670352		ASCIZ	\?Input \
	000403'	721000	000000
   454	000404'	260040	003302'		PUSHJ P,ERNAM>		;PRINT DEVICE X
   455	000405'	260040	000401*		PUSHJ	P,INLMES
   456	000406'	203074	167334		ASCIZ	\ cannot do output\
	000407'	677504	062336
	000410'	203376	572340
	000411'	727500	000000
   457	000412'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 1 INFO, DO IT.
   458	000413'	324740	000400*		PJRST	..0125		;AND  THE JOB.
   459	000414'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   460	000415'	200300	003363'		MOVE	T1,[ERRCLS,,2] ;GET CLASS,,2 WITHING CLASS
   461	000416'	202300	000000*		MOVEM	T1,..0135+UPTETP	;EXIT 2
   462	000417'	200304	000000		MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   463	000420'	202300	000000*		MOVEM	T1,..0135+UPTEDV
   464	000421'	260040	001677'		PUSHJ	P,ERRSET>
   465	000422'	324740	000413*		  PJRST	..0134		;GO  THE JOB WITHOUT MESSAGES
   466	000423'	260040	001767'		PUSHJ P,ERRFNU		;SPECIAL ROUTINE TO SET TTY UP
   467	000424'	322240	000422*		JUMPE U,..0134		;JUST  JOB
   468	000425'	260040	000405*		PUSHJ	P,INLMES
   469	000426'	376235	466312		ASCIZ	\?Illegal data mode for \
	000427'	637035	420310
	000430'	607514	120332
	000431'	677114	520314
	000432'	677444	000000
   470	000433'	260040	003302'		PUSHJ P,ERNAM>		;PRINT DEVICE X
   471	000434'	260040	002024'		PUSHJ P,ERRSCU>	;IF NEED MORE PC 2 INFO, DO IT.
   472	000435'	324740	000424*		PJRST	..0134		;AND  THE JOB.
   473	000436'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   474	000437'	200300	003364'		MOVE	T1,[ERRCLS,,3] ;GET CLASS,,3 WITHING CLASS
   475	000440'	202300	000000*		MOVEM	T1,..0143+UPTETP	;EXIT 3
   476	000441'	260040	001677'		PUSHJ	P,ERRSET>
   477	000442'	324740	000435*		  PJRST	..0142		;GO  THE JOB WITHOUT MESSAGES
   478	000443'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 3 MESSAGE ON
   479	000444'	260040	000425*		PUSHJ	P,INLMES
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-8
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   480	000445'	376225	747500		ASCIZ	\?I/O to unassigned channel\
	000446'	723364	072734
	000447'	607476	364716
	000450'	673134	420306
	000451'	643035	667312
	000452'	660000	000000
   481	000453'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 3 INFO, DO IT.
   482	000454'	324740	000442*		PJRST	..0142		;AND  THE JOB.
   483	000455'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   484	000456'	200300	003365'		MOVE	T1,[ERRCLS,,4] ;GET CLASS,,4 WITHING CLASS
   485	000457'	202300	000000*		MOVEM	T1,..0150+UPTETP	;EXIT 4
   486	000460'	200304	000000		MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   487	000461'	202300	000000*		MOVEM	T1,..0150+UPTEDV
   488	000462'	260040	001677'		PUSHJ	P,ERRSET>
   489	000463'	324740	000454*		  PJRST	..0147		;GO  THE JOB WITHOUT MESSAGES
   490	000464'	260040	001767'		PUSHJ P,ERRFNU		;SPECIAL ROUTINE TO SET TTY UP
   491	000465'	322240	000463*		JUMPE U,..0147		;JUST  JOB
   492	000466'	260040	000444*		PUSHJ	P,INLMES
   493	000467'	376216	567316		ASCIZ	\?Hung \
	000470'	200000	000000
   494	000471'	260040	003302'		PUSHJ P,ERNAM>		;PRINT DEVICE X
   495	000472'	260040	002024'		PUSHJ P,ERRSCU>	;IF NEED MORE PC 4 INFO, DO IT.
   496	000473'	324740	000465*		PJRST	..0147		;AND  THE JOB.
   497	000474'	200300	003366'		MOVE	T1,[ERRCLS,,5] ;GET CLASS,,5 WITHING CLASS
   498	000475'	202300	000000*		MOVEM	T1,..0156+UPTETP	;EXIT 5
   499	000476'	200304	000000		MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   500	000477'	202300	000000*		MOVEM	T1,..0156+UPTEDV
   501	000500'	260040	001677'		PUSHJ	P,ERRSET>
   502	000501'	324740	001647'		  PJRST	..0155		;GO HNSTOP THE JOB WITHOUT MESSAGES
   503	000502'	260040	001767'		PUSHJ P,ERRFNU		;SPECIAL ROUTINE TO SET TTY UP
   504	000503'	322240	001647'		JUMPE U,..0155		;JUST HNSTOP JOB
   505	000504'	260040	000466*		PUSHJ	P,INLMES
   506	000505'	374000	000000		ASCIZ	\?\
   507	000506'	260040	003302'		PUSHJ P,ERNAM>		;PRINT DEVICE X
   508	000507'	260040	000504*		PUSHJ	P,INLMES
   509	000510'	202372	051100		ASCIZ	\ OPR action requested\
	000511'	607076	464736
	000512'	671016	262742
	000513'	727136	372312
	000514'	620000	000000
   510	000515'	260040	003165'		PUSHJ P,TCLTTY>
   511	000516'	324740	001647'		PJRST	..0155		;AND HNSTOP THE JOB.
   512	000517'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   513	000520'	200300	003367'		MOVE	T1,[ERRCLS,,0] ;GET CLASS,,0 WITHING CLASS
   514	000521'	202300	000000*		MOVEM	T1,..0165+UPTETP	;EXIT 0
   515	000522'	260040	001677'		PUSHJ	P,ERRSET>
   516	000523'	324740	000473*		  PJRST	..0164		;GO  THE JOB WITHOUT MESSAGES
   517	000524'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 0 MESSAGE ON
   518	000525'	260040	000507*		PUSHJ	P,INLMES
   519	000526'	376235	466312		ASCIZ	\?Illegal UUO\
	000527'	637035	420252
	000530'	526360	000000
   520	000531'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 0 INFO, DO IT.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-9
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   521	000532'	324740	000523*		PJRST	..0164		;AND  THE JOB.
   522	000533'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   523	000534'	200300	003370'		MOVE	T1,[ERRCLS,,1] ;GET CLASS,,1 WITHING CLASS
   524	000535'	202300	000000*		MOVEM	T1,..0172+UPTETP	;EXIT 1
   525	000536'	260040	001677'		PUSHJ	P,ERRSET>
   526	000537'	324740	000532*		  PJRST	..0171		;GO  THE JOB WITHOUT MESSAGES
   527	000540'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 1 MESSAGE ON
   528	000541'	260040	000525*		PUSHJ	P,INLMES
   529	000542'	376532	547500		ASCIZ	\?UUO error\
	000543'	627456	267744
	000544'	000000	000000
   530	000545'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 1 INFO, DO IT.
   531	000546'	324740	000537*		PJRST	..0171		;AND  THE JOB.
   532	000547'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   533	000550'	200300	003371'		MOVE	T1,[ERRCLS,,2] ;GET CLASS,,2 WITHING CLASS
   534	000551'	202300	000000*		MOVEM	T1,..0177+UPTETP	;EXIT 2
   535	000552'	260040	001677'		PUSHJ	P,ERRSET>
   536	000553'	324740	000546*		  PJRST	..0176		;GO  THE JOB WITHOUT MESSAGES
   537	000554'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 2 MESSAGE ON
   538	000555'	260040	000541*		PUSHJ	P,INLMES
   539	000556'	376235	466312		ASCIZ	\?Illegal instruction\
	000557'	637035	420322
	000560'	673476	471352
	000561'	617515	167734
	000562'	000000	000000
   540	000563'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 2 INFO, DO IT.
   541	000564'	324740	000553*		PJRST	..0176		;AND  THE JOB.
   542	000565'	200300	003372'		MOVE	T1,[ERRCLS,,3] ;GET CLASS,,3 WITHING CLASS
   543	000566'	202300	000000*		MOVEM	T1,..0204+UPTETP	;EXIT 3
   544	000567'	260040	001677'		PUSHJ	P,ERRSET>
   545	000570'	324740	003212'		  PJRST	..0203		;GO HISTOP THE JOB WITHOUT MESSAGES
   546	000571'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 3 MESSAGE ON
   547	000572'	260040	000555*		PUSHJ	P,INLMES
   548	000573'	376210	146250		ASCIZ	\?HALT\
	000574'	000000	000000
   549	000575'	260040	002033'		PUSHJ P,ERRSCM>	;IF NEED MORE PC 3 INFO, DO IT.
   550	000576'	324740	003212'		PJRST	..0203		;AND HISTOP THE JOB.
   551	000577'	200601	000000		MOVE P1,(P)>	;IF BLANK, MEANS PC IS (P).
   552	000600'	200300	003373'		MOVE	T1,[ERRCLS,,4] ;GET CLASS,,4 WITHING CLASS
   553	000601'	202300	000000*		MOVEM	T1,..0211+UPTETP	;EXIT 4
   554	000602'	260040	001677'		PUSHJ	P,ERRSET>
   555	000603'	324740	000564*		  PJRST	..0210		;GO  THE JOB WITHOUT MESSAGES
   556	000604'	260040	001734'		PUSHJ	P,ERRTTY	;FIND A LINE TO 4 MESSAGE ON
   557	000605'	260040	000572*		PUSHJ	P,INLMES
   558	000606'	376235	466312		ASCIZ	\?Illegal CALL name\
	000607'	637035	420206
	000610'	406311	420334
	000611'	607334	500000
   559	000612'	260040	003160'		PUSHJ P,UUOPCP>	;IF NEED MORE PC 4 INFO, DO IT.
   560	000613'	324740	000603*		PJRST	..0210		;AND  THE JOB.
   561	000614'	200300	003374'		MOVE	T1,[ERRCLS,,0] ;GET CLASS,,0 WITHING CLASS
   562	000615'	202300	000000*		MOVEM	T1,..0216+UPTETP	;EXIT 0
   563	000616'	260040	001677'		PUSHJ	P,ERRSET>
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-10
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   564	000617'	324740	000613*		  PJRST	..0215		;GO KJSTOP THE JOB WITHOUT MESSAGES
   565	000620'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   566	000621'	322240	000617*		JUMPE U,..0215		;JUST KJSTOP JOB
   567	000622'	260040	000000*		PUSHJ P,CRLF>		;PRINT CRLF IF ASKED TO
   568	000623'	260040	000605*		PUSHJ	P,INLMES
   569	000624'	426611	152000		ASCIZ	\EXIT\
   570	000625'	260040	003172'		PUSHJ P,TNCTTY>	;IF NEED MORE PC 0 INFO, DO IT.
   571	000626'	324740	000621*		PJRST	..0215		;AND KJSTOP THE JOB.
   572	000627'	200300	003375'		MOVE	T1,[ERRCLS,,1] ;GET CLASS,,1 WITHING CLASS
   573	000630'	202300	000000*		MOVEM	T1,..0224+UPTETP	;EXIT 1
   574	000631'	260040	001677'		PUSHJ	P,ERRSET>
   575	000632'	324740	003214'		  PJRST	..0223		;GO E1STOP THE JOB WITHOUT MESSAGES
   576	000633'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   577	000634'	322240	003214'		JUMPE U,..0223		;JUST E1STOP JOB
   578	000635'	260040	003173'		PUSHJ P,E1STTY>	;IF NEED MORE PC 1 INFO, DO IT.
   579	000636'	324740	003214'		PJRST	..0223		;AND E1STOP THE JOB.
   580	000637'	200300	003376'		MOVE	T1,[ERRCLS,,2] ;GET CLASS,,2 WITHING CLASS
   581	000640'	202300	000000*		MOVEM	T1,..0230+UPTETP	;EXIT 2
   582	000641'	202440	000000*		MOVEM T4,..0230+UPTELC ;OR IF OTHER T4 SPECIFIED
   583	000642'	260040	001677'		PUSHJ	P,ERRSET>
   584	000643'	324740	000626*		  PJRST	..0227		;GO KJSTOP THE JOB WITHOUT MESSAGES
   585	000644'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   586	000645'	322240	000643*		JUMPE U,..0227		;JUST KJSTOP JOB
   587	000646'	260040	000623*		PUSHJ	P,INLMES
   588	000647'	376154	164730		ASCIZ	\?Fail exit \
	000650'	203137	064750
	000651'	200000	000000
   589	000652'	260040	001726'		PUSHJ P,FEXPRT>	;IF NEED MORE PC 2 INFO, DO IT.
   590	000653'	324740	000645*		PJRST	..0227		;AND KJSTOP THE JOB.
   591	000654'	200300	003377'		MOVE	T1,[ERRCLS,,3] ;GET CLASS,,3 WITHING CLASS
   592	000655'	202300	000000*		MOVEM	T1,..0235+UPTETP	;EXIT 3
   593	000656'	260040	001677'		PUSHJ	P,ERRSET>
   594	000657'	324740	000000*		  PJRST	..0234		;GO STOP1 THE JOB WITHOUT MESSAGES
   595	000660'	260040	000000*		PUSHJ P,TTYFNU		;SPECIAL ROUTINE TO SET TTY UP
   596	000661'	322240	000657*		JUMPE U,..0234		;JUST STOP1 JOB
   597	000662'	260040	000646*		PUSHJ	P,INLMES
   598	000663'	376515	166712		ASCIZ	\?Time limit exceeded\
	000664'	203315	166722
	000665'	721014	574306
	000666'	627134	462710
	000667'	000000	000000
   599	000670'	260040	003175'		PUSHJ P,TLETTY>	;IF NEED MORE PC 3 INFO, DO IT.
   600	000671'	324740	000661*		PJRST	..0234		;AND STOP1 THE JOB.
   601	000672'	200300	003400'		MOVE	T1,[ERRCLS,,4] ;GET CLASS,,4 WITHING CLASS
   602	000673'	202300	000000*		MOVEM	T1,..0242+UPTETP	;EXIT 4
   603	000674'	202700	000000*		MOVEM P3,..0242+UPTELC ;OR IF OTHER P3 SPECIFIED
   604	000675'	202740	000000*		MOVEM P4,..0242+UPTEL1
   605	000676'	260040	001677'		PUSHJ	P,ERRSET>
   606	000677'	324740	000653*		  PJRST	..0241		;GO KJSTOP THE JOB WITHOUT MESSAGES
   607	000700'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   608	000701'	322240	000677*		JUMPE U,..0241		;JUST KJSTOP JOB
   609	000702'	260040	003332'		PUSHJ P,ERFNAM>
   610	000703'	260040	000662*		PUSHJ	P,INLMES
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-11
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   611	000704'	203474	572352		ASCIZ	\ setup\
	000705'	700000	000000
   612	000706'	260040	003172'		PUSHJ P,TNCTTY>	;IF NEED MORE PC 4 INFO, DO IT.
   613	000707'	324740	000701*		PJRST	..0241		;AND KJSTOP THE JOB.
   614	000710'	200300	003401'		MOVE	T1,[ERRCLS,,5] ;GET CLASS,,5 WITHING CLASS
   615	000711'	202300	000000*		MOVEM	T1,..0250+UPTETP	;EXIT 5
   616	000712'	202700	000000*		MOVEM P3,..0250+UPTELC ;OR IF OTHER P3 SPECIFIED
   617	000713'	202740	000000*		MOVEM P4,..0250+UPTEL1
   618	000714'	260040	001677'		PUSHJ	P,ERRSET>
   619	000715'	324740	000707*		  PJRST	..0247		;GO KJSTOP THE JOB WITHOUT MESSAGES
   620	000716'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   621	000717'	322240	000715*		JUMPE U,..0247		;JUST KJSTOP JOB
   622	000720'	260040	003332'		PUSHJ P,ERFNAM>
   623	000721'	260040	000703*		PUSHJ	P,INLMES
   624	000722'	203474	173312		ASCIZ	\ saved\
	000723'	620000	000000
   625	000724'	260040	003172'		PUSHJ P,TNCTTY>	;IF NEED MORE PC 5 INFO, DO IT.
   626	000725'	324740	000717*		PJRST	..0247		;AND KJSTOP THE JOB.
   627	000726'	200300	003402'		MOVE	T1,[ERRCLS,,6] ;GET CLASS,,6 WITHING CLASS
   628	000727'	202300	000000*		MOVEM	T1,..0256+UPTETP	;EXIT 6
   629	000730'	260040	001677'		PUSHJ	P,ERRSET>
   630	000731'	324740	000725*		  PJRST	..0255		;GO KJSTOP THE JOB WITHOUT MESSAGES
   631	000732'	324740	000731*		PJRST	..0255		;AND KJSTOP THE JOB.
   632	000733'	200300	003403'		MOVE	T1,[ERRCLS,,7] ;GET CLASS,,7 WITHING CLASS
   633	000734'	202300	000000*		MOVEM	T1,..0262+UPTETP	;EXIT 7
   634	000735'	202440	000000*		MOVEM T4,..0262+UPTELC ;OR IF OTHER T4 SPECIFIED
   635	000736'	260040	001677'		PUSHJ	P,ERRSET>
   636	000737'	324740	003214'		  PJRST	..0261		;GO E1STOP THE JOB WITHOUT MESSAGES
   637	000740'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   638	000741'	322240	003214'		JUMPE U,..0261		;JUST E1STOP JOB
   639	000742'	260040	000721*		PUSHJ	P,INLMES
   640	000743'	376154	164730		ASCIZ	\?Fail stop \
	000744'	203476	467740
	000745'	200000	000000
   641	000746'	260040	001726'		PUSHJ P,FEXPRT>	;IF NEED MORE PC 7 INFO, DO IT.
   642	000747'	324740	003214'		PJRST	..0261		;AND E1STOP THE JOB.
   643	000750'	200300	003404'		MOVE	T1,[ERRCLS,,0] ;GET CLASS,,0 WITHING CLASS
   644	000751'	202300	000000*		MOVEM	T1,..0267+UPTETP	;EXIT 0
   645	000752'	260040	001677'		PUSHJ	P,ERRSET>
   646	000753'	324740	000732*		  PJRST	..0266		;GO KJSTOP THE JOB WITHOUT MESSAGES
   647	000754'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   648	000755'	322240	000753*		JUMPE U,..0266		;JUST KJSTOP JOB
   649	000756'	260040	000742*		PUSHJ	P,INLMES
   650	000757'	376225	747500		ASCIZ	\?I/O error on file \
	000760'	627456	267744
	000761'	203375	620314
	000762'	647314	520000
   651	000763'	260040	003332'		PUSHJ P,ERFNAM>
   652	000764'	260040	003165'		PUSHJ P,TCLTTY>
   653	000765'	324740	000755*		PJRST	..0266		;AND KJSTOP THE JOB.
   654	000766'	200300	003405'		MOVE	T1,[ERRCLS,,1] ;GET CLASS,,1 WITHING CLASS
   655	000767'	202300	000000*		MOVEM	T1,..0275+UPTETP	;EXIT 1
   656	000770'	202540	000000*		MOVEM M,..0275+UPTELC ;OR IF OTHER M SPECIFIED
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-12
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   657	000771'	260040	001677'		PUSHJ	P,ERRSET>
   658	000772'	324740	000765*		  PJRST	..0274		;GO KJSTOP THE JOB WITHOUT MESSAGES
   659	000773'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   660	000774'	322240	000772*		JUMPE U,..0274		;JUST KJSTOP JOB
   661	000775'	260040	000756*		PUSHJ	P,INLMES
   662	000776'	374000	000000		ASCIZ	\?\
   663	000777'	200300	000013		MOVE T1,M		;GET M INTO T1
   664	001000'	260040	003255'		PUSHJ P,PRTDIG>
   665	001001'	260040	000775*		PUSHJ	P,INLMES
   666	001002'	203414	163712		ASCIZ	\ pages needed\
	001003'	715015	662712
	001004'	623134	400000
   667	001005'	260040	003165'		PUSHJ P,TCLTTY>
   668	001006'	324740	000774*		PJRST	..0274		;AND KJSTOP THE JOB.
   669	001007'	200300	003406'		MOVE	T1,[ERRCLS,,2] ;GET CLASS,,2 WITHING CLASS
   670	001010'	202300	000000*		MOVEM	T1,..0304+UPTETP	;EXIT 2
   671	001011'	200304	000000		MOVE	T1,DEVNAM(F)	;IF ITS A DEVICE MESSAGE, STORE NAME
   672	001012'	202300	000000*		MOVEM	T1,..0304+UPTEDV
   673	001013'	260040	001677'		PUSHJ	P,ERRSET>
   674	001014'	324740	001006*		  PJRST	..0303		;GO KJSTOP THE JOB WITHOUT MESSAGES
   675	001015'	260040	001773'		PUSHJ P,EXDFNU		;SPECIAL ROUTINE TO SET TTY UP
   676	001016'	322240	001014*		JUMPE U,..0303		;JUST KJSTOP JOB
   677	001017'	260040	001001*		PUSHJ	P,INLMES
   678	001020'	374000	000000		ASCIZ	\?\
   679	001021'	260040	003302'		PUSHJ P,ERNAM>		;PRINT DEVICE X
   680	001022'	260040	001017*		PUSHJ	P,INLMES
   681	001023'	203355	772100		ASCIZ	\ not available\
	001024'	607554	164730
	001025'	607055	462400
   682	001026'	260040	003165'		PUSHJ P,TCLTTY>
   683	001027'	324740	001016*		PJRST	..0303		;AND KJSTOP THE JOB.
   684	001030'	200300	003407'		MOVE	T1,[ERRCLS,,3] ;GET CLASS,,3 WITHING CLASS
   685	001031'	202300	000000*		MOVEM	T1,..0313+UPTETP	;EXIT 3
   686	001032'	202700	000000*		MOVEM P3,..0313+UPTELC ;OR IF OTHER P3 SPECIFIED
   687	001033'	202740	000000*		MOVEM P4,..0313+UPTEL1
   688	001034'	260040	001677'		PUSHJ	P,ERRSET>
   689	001035'	324740	001027*		  PJRST	..0312		;GO KJSTOP THE JOB WITHOUT MESSAGES
   690	001036'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   691	001037'	322240	001035*		JUMPE U,..0312		;JUST KJSTOP JOB
   692	001040'	260040	001022*		PUSHJ	P,INLMES
   693	001041'	374000	000000		ASCIZ	\?\
   694	001042'	260040	003332'		PUSHJ P,ERFNAM>
   695	001043'	260040	001040*		PUSHJ	P,INLMES
   696	001044'	203355	772100		ASCIZ	\ not found\
	001045'	633376	567310
	001046'	000000	000000
   697	001047'	260040	003165'		PUSHJ P,TCLTTY>
   698	001050'	324740	001037*		PJRST	..0312		;AND KJSTOP THE JOB.
   699	001051'	200300	003410'		MOVE	T1,[ERRCLS,,4] ;GET CLASS,,4 WITHING CLASS
   700	001052'	202300	000000*		MOVEM	T1,..0322+UPTETP	;EXIT 4
   701	001053'	260040	001677'		PUSHJ	P,ERRSET>
   702	001054'	324740	001050*		  PJRST	..0321		;GO KJSTOP THE JOB WITHOUT MESSAGES
   703	001055'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-13
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   704	001056'	322240	001054*		JUMPE U,..0321		;JUST KJSTOP JOB
   705	001057'	260040	001043*		PUSHJ	P,INLMES
   706	001060'	376355	772100		ASCIZ	\?Not a SAVe file\
	001061'	605012	340654
	001062'	625014	664730
	001063'	624000	000000
   707	001064'	260040	003165'		PUSHJ P,TCLTTY>
   708	001065'	324740	001056*		PJRST	..0321		;AND KJSTOP THE JOB.
   709	001066'	200300	003411'		MOVE	T1,[ERRCLS,,5] ;GET CLASS,,5 WITHING CLASS
   710	001067'	202300	000000*		MOVEM	T1,..0327+UPTETP	;EXIT 5
   711	001070'	202700	000000*		MOVEM P3,..0327+UPTELC ;OR IF OTHER P3 SPECIFIED
   712	001071'	202740	000000*		MOVEM P4,..0327+UPTEL1
   713	001072'	260040	001677'		PUSHJ	P,ERRSET>
   714	001073'	324740	001065*		  PJRST	..0326		;GO KJSTOP THE JOB WITHOUT MESSAGES
   715	001074'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   716	001075'	322240	001073*		JUMPE U,..0326		;JUST KJSTOP JOB
   717	001076'	260040	001057*		PUSHJ	P,INLMES
   718	001077'	374000	000000		ASCIZ	\?\
   719	001100'	260040	003332'		PUSHJ P,ERFNAM>
   720	001101'	260040	001076*		PUSHJ	P,INLMES
   721	001102'	203036	472312		ASCIZ	\ attempted ENTER UUO failed\
	001103'	667416	462710
	001104'	202131	652212
	001105'	511012	552636
	001106'	203154	164730
	001107'	627100	000000
   722	001110'	260040	003165'		PUSHJ P,TCLTTY>
   723	001111'	324740	001075*		PJRST	..0326		;AND KJSTOP THE JOB.
   724	001112'	200300	003412'		MOVE	T1,[ERRCLS,,6] ;GET CLASS,,6 WITHING CLASS
   725	001113'	202300	000000*		MOVEM	T1,..0336+UPTETP	;EXIT 6
   726	001114'	260040	001677'		PUSHJ	P,ERRSET>
   727	001115'	324740	001111*		  PJRST	..0335		;GO KJSTOP THE JOB WITHOUT MESSAGES
   728	001116'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   729	001117'	322240	001115*		JUMPE U,..0335		;JUST KJSTOP JOB
   730	001120'	260040	001101*		PUSHJ	P,INLMES
   731	001121'	376075	771312		ASCIZ	\?Core argument must be specified\
	001122'	203036	263752
	001123'	667135	672100
	001124'	667536	372100
	001125'	613124	071740
	001126'	627075	163322
	001127'	627100	000000
   732	001130'	260040	003165'		PUSHJ P,TCLTTY>
   733	001131'	324740	001117*		PJRST	..0335		;AND KJSTOP THE JOB.
   734	001132'	200300	003413'		MOVE	T1,[ERRCLS,,7] ;GET CLASS,,7 WITHING CLASS
   735	001133'	202300	000000*		MOVEM	T1,..0343+UPTETP	;EXIT 7
   736	001134'	260040	001677'		PUSHJ	P,ERRSET>
   737	001135'	324740	001131*		  PJRST	..0342		;GO KJSTOP THE JOB WITHOUT MESSAGES
   738	001136'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   739	001137'	322240	001135*		JUMPE U,..0342		;JUST KJSTOP JOB
   740	001140'	260040	001120*		PUSHJ	P,INLMES
   741	001141'	376334	163750		ASCIZ	\?Magtape HISEG format BAD or system errors\
	001142'	607414	520220
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 5-14
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

	001143'	446470	543500
	001144'	633376	266702
	001145'	721010	240610
	001146'	203376	220346
	001147'	747476	462732
	001150'	203136	271336
	001151'	713460	000000
   742	001152'	260040	003165'		PUSHJ P,TCLTTY>
   743	001153'	324740	001137*		PJRST	..0342		;AND KJSTOP THE JOB.
   744	001154'	200300	003414'		MOVE	T1,[ERRCLS,,10] ;GET CLASS,,10 WITHING CLASS
   745	001155'	202300	000000*		MOVEM	T1,..0350+UPTETP	;EXIT 10
   746	001156'	260040	001677'		PUSHJ	P,ERRSET>
   747	001157'	324740	001153*		  PJRST	..0347		;GO KJSTOP THE JOB WITHOUT MESSAGES
   748	001160'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   749	001161'	322240	001157*		JUMPE U,..0347		;JUST KJSTOP JOB
   750	001162'	260040	001140*		PUSHJ	P,INLMES
   751	001163'	376154	172302		ASCIZ	\?Fatal error during REMAP UUO\
	001164'	661014	571344
	001165'	677444	062352
	001166'	713235	663500
	001167'	512131	540640
	001170'	202532	547400
   752	001171'	260040	003165'		PUSHJ P,TCLTTY>
   753	001172'	324740	001161*		PJRST	..0347		;AND KJSTOP THE JOB.
   754	001173'	200300	003415'		MOVE	T1,[ERRCLS,,11] ;GET CLASS,,11 WITHING CLASS
   755	001174'	202300	000000*		MOVEM	T1,..0355+UPTETP	;EXIT 11
   756	001175'	260040	001677'		PUSHJ	P,ERRSET>
   757	001176'	324740	001172*		  PJRST	..0354		;GO KJSTOP THE JOB WITHOUT MESSAGES
   758	001177'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   759	001200'	322240	001176*		JUMPE U,..0354		;JUST KJSTOP JOB
   760	001201'	260040	001162*		PUSHJ	P,INLMES
   761	001202'	376334	163750		ASCIZ	\?Magtape GET failure\
	001203'	607414	520216
	001204'	426504	063302
	001205'	647316	571312
	001206'	000000	000000
   762	001207'	260040	003165'		PUSHJ P,TCLTTY>
   763	001210'	324740	001200*		PJRST	..0354		;AND KJSTOP THE JOB.
   764	001211'	200300	003416'		MOVE	T1,[ERRCLS,,12] ;GET CLASS,,12 WITHING CLASS
   765	001212'	202300	000000*		MOVEM	T1,..0362+UPTETP	;EXIT 12
   766	001213'	260040	001677'		PUSHJ	P,ERRSET>
   767	001214'	324740	001210*		  PJRST	..0361		;GO KJSTOP THE JOB WITHOUT MESSAGES
   768	001215'	260040	001777'		PUSHJ P,EXIFNU		;SPECIAL ROUTINE TO SET TTY UP
   769	001216'	322240	001214*		JUMPE U,..0361		;JUST KJSTOP JOB
   770	001217'	260040	001201*		PUSHJ	P,INLMES
   771	001220'	376355	720346		ASCIZ	\?No start address\
	001221'	723036	272100
	001222'	607114	471312
	001223'	717460	000000
   772	001224'	260040	003165'		PUSHJ P,TCLTTY>
   773	001225'	324740	001216*		PJRST	..0361		;AND KJSTOP THE JOB.
   774				SALL	;RESTORE REASONABLE LISTING
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 6
ERRCON.MAC	 6-NOV-87 12:32		ERROR EXIT ROUTINE GENERATION

   775				;HERE ON PAGE FAILURE. MAY BE OLD OR NEW STYLE
   776
   777				EXTERNAL TSTTRP,CLKTR1,COMNT1,COMNT2,PFSWE%,PFDFC%
   778				EXTERNAL JBTPIP,JBYPGT
   779
   780	001226'			USRMPT::			;User mode Memory Page Trap
   781				IFCPU (KI),<MOVE T1,%UPT+UPTUPF>
   782	001226'	200300	000500*	IFNCPU(KI),<MOVE T1,%UPT+UPTPFW>
   783	001227'	260040	000000*		PUSHJ	P,PAGFLU##	;CHECK THE FAULT
   784	001230'	254000	000000*		  JRST	USRXIT		;IN CASE HE NEEDS TRAP OR ^C OR CLOCK TICKED.
   785	001231'	256006	001252'	USRSPF:	XCT	UPFTBT(T1)	;DISPATCH FROM TRAP TABLE
   786								; HERE FOR WRITE VILOATIONS, ILL MEM REFS,
   787	001232'	504200	000013		HRL	F,M		;CONSTRUCT ILL MEM REF FAULT WORD
   788	001233'	202200	000000*		MOVEM	F,%UPT+UPTUII	;PUT IN FOR PGISTS UUO
   789								; AND ADDRESS BREAKS.
   790	001234'	200100	000000*		MOVE J,JOB
   791	001235'	200600	000006		MOVE	P1,T1		;SAVE ERROR CODE FOR LATER
   792	001236'	201300	020000		MOVEI T1,FLGMPT
   793	001237'	335002	000000*		SKIPGE JBTPIP(J)	;IS THIS OLD STYLE?
   794	001240'	254000	000000*		JRST COMNT2		;YES, GO TAKE CARE OF IT
   795	001241'	135300	000000*		LDB T1,JBYPGT		;GET NEW STYLE INTERRUPT
   796	001242'	200340	000006		MOVE T2,T1		;IN CASE WE TAKE THE TRAP
   797	001243'	260040	000000*		PUSHJ P,TSTTRP		;CAN WE TRAP RIGHT NOW?
   798	001244'	254000	001250'		  JRST	USRSP1		;NO, TREAT AS ERROR.
   799	001245'	262040	000010		POP P,T3		;GET OLD PC
   800	001246'	260040	000000*		PUSHJ P,CLKTR1		;SET FOR NEW STYLE TRAP
   801	001247'	254000	000000*		JRST COMNT1		;AND GO RETURN TO USER
   802
   803	001250'	256014	001274'	USRSP1:	XCT	UPFTAB(P1)	;DISPATCH TO PROPER PLACE
   804	001251'	256000	003417'	PAGUDE:: STOPCD (.,JOB,PAGUDE,,<Page fault - Unexpected Dispatch Error>)
   805
   806
   807	001252'	256000	001251'	UPFTBT:	 STOPCD (.,XCT,PAGUDE)
   808					;USER CAN'T FAULT FOR EXEC PAGE
   809	001253'	255000	000000		JFCL			;ILL MEM REF
   810	001254'	255000	000000		JFCL			;WRITE VIOLATION
   811	001255'	254000	000170'		JRST	ERRPIO		;PAGE I/O ERROR
   812	001256'	254000	000206'		JRST	ERRDFL		;DISK FULL ON COW PAGE
   813	001257'	254000	001305'		JRST	USRILR		;USER WROTE INTO COW SUPER PAGE
   814	001260'	255000	000000		JFCL			;LET USER HANDLE ADDRESS BREAK
   815	001261'	254000	000244'		JRST	ERRTPL		;HARD PAGE FAIL.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 7
ERRCON.MAC	 6-NOV-87 12:32		USRMPE - User Memory Protection Error - default handler

   816				SUBTTL	USRMPE - User Memory Protection Error - default handler
   817
   818	001262'			USRMPE::			;Called from PICON(PGFAIL) with ACs stacked
   819	001262'	250100	001234*		EXCH	J,JOB		;Just in case job # is not in EXEC ac J
   820	001263'	200301	000000		MOVE	T1,(P)		;Get user-mode PC at time of page fault
   821	001264'	271300	000001		ADDI	T1,1		;Since Control-T subtracts 1 from JBTPC
   822	001265'	552302	000000*		HRRZM	T1,JBTPC##(J)	; before printing it
   823	001266'	250100	001262*		EXCH	J,JOB
   824				IFCPU (KI),<MOVE T1,%UPT+UPTUPF>;UPT+427 = User Page Fault word
   825	001267'	200300	000500*	IFNCPU(KI),<MOVE T1,%UPT+UPTPFW>;UPT+500 = Page Fault Word
   826	001270'	260040	001227*		PUSHJ P,PAGFLU##	;Set T1 for type of page fault user
   827	001271'	254000	001230*		  JRST	USRXIT		;IN CASE USER IS GETTING FAULT TRAP OR TYPED ^C
   828	001272'	256006	001274'	USRMP2::XCT	UPFTAB(T1)	;DISPATCH ON ERROR TYPE.
   829	001273'	256000	001251'		 STOPCD (,XCT,PAGUDE)
   830					;Unexpected Dispatch Error
   831
   832				;ERROR DISPATCH TABLE FOR USER MODE FALTS
   833
   834	001274'	256000	001251'	UPFTAB:	 STOPCD (,XCT,PAGUDE)
   835					;USER CAN'T FAULT FOR EXEC PAGE.
   836	001275'	254000	001305'		JRST	USRILR		;TRADITIONAL ILL MEM REF
   837	001276'	254000	000040'		JRST	ERRWRV		;WRITE VIOLATION
   838	001277'	254000	000170'		JRST	ERRPIO		;PAGE I/O ERROR
   839	001300'	254000	000206'		JRST	ERRDFL		;DISK FULL ON COW
   840	001301'	254000	001305'		JRST	USRILR		;WROTE INTO SUPER COW PAGE
   841	001302'	254000	001311'		JRST	USRABK		;ADDRESS BREAK.
   842	001303'	254000	000225'		JRST	ERRPHE		;HARDWARE PAGE FAIL.
   843	001304'	254000	000244'		JRST	ERRTPL		;TOO MANY PAGES LOCKED
   844
   845				;USER PAGE FAIL ERROR ROUTINES
   846
   847	001305'	135340	003422'	USRILR:	LDB	T2,[POINT 9,(P),26] ;GET PAGE OF PC
   848	001306'	302352	000000		CAIE	T2,(W)		;SAME AS ERROR PAGE?
   849	001307'	254000	000020'		 JRST	ERRIMR		;NO, ILL MEM REF
   850	001310'	254000	000003'		JRST	ERRPCO		;YES, PC OUT OF BOUNDS.
   851
   852
   853				;HERE FOR ADDRESS BREAK
   854
   855	001311'	205600	001000	USRABK:	MOVSI	P1,PC.ADR	;SET IT NOW IN CASE TYPES DDT
   856	001312'	437600	000000*		IORB	P1,%UPT+UPTPDL
   857	001313'	202600	000000*		MOVEM	P1,%UPT+UPTABL	;THIS IS ADDRESS BREAK LOCATION.
   858	001314'	200540	000000*		MOVE	M,%UPT+UPTABK	;GET LOCATION OF ADDRESS BREAK
   859	001315'	254000	000137'		JRST	ERRABK		;GO PRINT OR TRAP
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 8
ERRCON.MAC	 6-NOV-87 12:32		Exec Memory Protection Error

   860				SUBTTL	Exec Memory Protection Error
   861
   862	001316'			EXCMPE::			;Called from PICON(PGFAIL) with ACs stacked
   863				IFCPU (KI),<MOVE T1,%UPT+UPTXPF>	;GET THE PAGE FAIL WORD
   864	001316'	200300	000500*	IFNCPU(KI),<MOVE T1,%UPT+UPTPFW>
   865	001317'	260040	000000*		PUSHJ	P,PAGFLE##	;TAKE USERS PAGE FAULT ROUTINE
   866	001320'	254000	000000*		  JRST	KTRRT1##	;IT WAS OK, PAGE SHOULD NOW BE THERE
   867	001321'	256006	001456'		XCT	EPFTAB(T1)	;AND DISPATCH.
   868	001322'	606200	400000		TRNN	F,SPFW.U	;IF EXEC PC FAULT TO EXEC PAGE FAILED,
   869	001323'	256000	003423'	S..IME:: STOPCD (.,STOP,IME,TYPIME,<Illegal Memory-reference from Exec>)
   870	001324'	550301	000000		HRRZ	T1,(P)		;GET FAULT PC
   871	001325'	302300	000000*		CAIE	T1,CLKPC1	;IN CLKTRP?
   872	001326'	306300	000000*		CAIN	T1,CLKPC2
   873	001327'	254000	000121'		 JRST	ERRIIA		;YES, ILLEGAL INTERRUPT ADDRESS ERROR.
   874	001330'	254000	001513'		JRST	UUOADR		;NO, BAD UUO ADDRESS ERROR.
   875
   876				;Routine to output data on an Ill Mem-ref Exec
   877	001331'	260040	001217*	TYPIME:	PUSHJ	P,INLMES##
   878	001332'	447356	372344		 ASCIZ /Instruction is /
	001333'	727076	464736
	001334'	671015	171500
	001335'	000000	000000
   879				IFCPU (KI),<	;Page fail PC is eventually stored at UPT+425
   880					MOVE	T1,@%UPT+UPTMUP	;Kernal Trap MUUO saved PC of failing instruction
   881					PUSHJ	P,HWDPNT	;Print the instruction that cause ILL MEM REF
   882					MOVE	T2,%UPT+UPTMUP	;Now the PC of that same instruction
   883					PUSHJ	P,PCP		;" at Exec PC xxxxxx"
   884					PUSHJ	P,INLMES##
   885					 ASCIZ /
   886				Virtual page /
   887					LDB	T1,[POINT 9,%UPT+UPTXPF,17]
   888					PUSH	P,T1
   889					PUSHJ	P,OCTPNT
   890					PUSHJ	P,INLMES##
   891					 ASCIZ /, physical page /
   892					POP	P,T1
   893					LSH	T1,P2WLSH	;Convert to word address
   894					MAP	T1,(T1)
   895					MOVE	P1,T1		;Save error bits
   896					ANDI	T1,17777	;Only the page bits
   897					PUSHJ	P,OCTPNT
   898					MOVSI	P2,-MAPBTS	;Number of bits to decode
   899				TYPIM1:	HLRZ	T2,MAPTBL(P2)	;Get the bit
   900					HRRZ	T1,MAPTBL(P2)	;Get message
   901					TRZN	T2,1		;Complain if bit is on?
   902					 TDC	T2,P1		;No, complain if it is off
   903					TDNE	T2,P1		;Bit now set?
   904					 PUSHJ	P,CONMES	;Yes, complain
   905					AOBJN	P2,TYPIM1
   906					PJRST	CRLF		;End of TYPIME for KI
   907				
   908				MAPTBL:	1B18!1,,[ASCIZ /<no access>/]
   909					1B19!1,,[ASCIZ /<public>/]
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 8-2
ERRCON.MAC	 6-NOV-87 12:32		Exec Memory Protection Error

   910					1B20!0,,[ASCIZ /<read only>/]	;Complain if B20 is off
   911					1B21!1,,[ASCIZ /<dirty>/]
   912					1B22!1,,[ASCIZ /<no match>/]
   913					MAPBTS==.-MAPTBL
   914				>  ;End IFCPU(KI)
   915
   916				IFNCPU(KI),<	;Page fail PC is at UPT+501
   917	001336'	200320	000501*		MOVE	T1,@%UPT+UPTOPP	;Get instruction old PC points to
   918	001337'	260040	003221'		PUSHJ	P,HWDPNT	;Print instruction as halfwords
   919	001340'	200340	000501*		MOVE	T2,%UPT+UPTOPP	;PC at time of failure UPT+501
   920	001341'	260040	003236'		PUSHJ	P,PCP		;Print " at Exec PC xxxxxx"
   921	001342'	260040	001331*		PUSHJ	P,INLMES##
   922					 ASCIZ /
   923	001343'	064252	664744	Virtual address /
	001344'	723534	166100
	001345'	607114	471312
	001346'	717464	000000
   924	001347'	550300	000500*		HRRZ	T1,%UPT+UPTPFW	;Page fail word at UPT+500
   925	001350'	261040	000006		PUSH	P,T1
   926	001351'	260040	003243'		PUSHJ	P,OCTPNT	;Output address
   927	001352'	260040	001342*		PUSHJ	P,INLMES##
   928	001353'	261016	064362		 ASCIZ /, physical address /
	001354'	717234	360730
	001355'	203034	462344
	001356'	627476	320000
   929	001357'	262040	000006		POP	P,T1
   930	001360'	257306	000000		MAP	T1,(T1)		;Returns <001000,,0>+<physical address>
   931	001361'	200600	000006		MOVE	P1,T1		;Save error bits
   932	001362'	621300	777000		TLZ	T1,777000	;Keep just physical address
   933	001363'	260040	003272'		PUSHJ	P,PRT22A	;Output 27 bit address
   934	001364'	205640	777767		MOVSI	P2,-MAPBTS	;Number of bits to decode
   935	001365'	510355	001375'	TYPIM1:	HLLZ	T2,MAPTBL(P2)	;Get the bit
   936	001366'	550315	001375'		HRRZ	T1,MAPTBL(P2)	;Get message
   937	001367'	627340	000001		TLZN	T2,(1B17)	;Complain if bit is on?
   938	001370'	650340	000014		 TDC	T2,P1		;No, complain if it is off
   939	001371'	612340	000014		TDNE	T2,P1		;Bit now set?
   940	001372'	260040	000000*		 PUSHJ	P,CONMES	;Yes, complain
   941	001373'	253640	001365'		AOBJN	P2,TYPIM1
   942	001374'	324740	000622*		PJRST	CRLF		;End of TYPIME for KL
   943
   944	001375'	000000	000000*	MAPTBL:	1B0!1B17![ASCIZ /<UPT>/]
   945	001376'	000000	000000*		1B1!1B17![ASCIZ /<pager failure>/]
   946	001377'	000000	000000*		1B2!0B17![ASCIZ /<no access>/]	;Complain if B2 is OFF
   947	001400'	000000	000000*		1B3!0B17![ASCIZ /<read only>/]	;Complain if B3 is OFF
   948	001401'	000000	000000*		1B4!1B17![ASCIZ /<dirty>/]	;Software bit, page dirty if set
   949	001402'	000000	000000*		1B5!1B17![ASCIZ /<writing>/]	;Write or read-modify-write reference
   950	001403'	000000	000000*		1B6!1B17![ASCIZ /<public>/]
   951	001404'	000000	000000*		1B7!1B17![ASCIZ /<cached>/]
   952	001405'	000000	000000*		1B8!0B17![ASCIZ /<unpaged>/]	;Always ON, complain if OFF
   953			000011		MAPBTS==.-MAPTBL
   954				>  ;End IFNCPU(KI)
   955
   956				IFNCPU(KS),<
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 8-3
ERRCON.MAC	 6-NOV-87 12:32		Exec Memory Protection Error

   957	001406'	606200	400000	EXCABK:	TRNN	F,SPFW.U	;IF EXEC GOT ADDRESS BREAK FOR USER SPACE,
   958	001407'	254000	001424'		 JRST	ADRBRK		;FOR EXEC PAGE, DON'T BOTHER USER.
   959	001410'	504200	000013		HRL	F,M		;GET FAULT INFO WORD IN F
   960	001411'	202200	000000*		MOVEM	F,%UPT+UPTXII	;AND STORE FOR USER TO SEE WHEN UUO RETURNS.
   961	001412'	205300	001000		MOVSI	T1,PC.ADR
   962	001413'	436301	000000		IORM	T1,(P)
   963	001414'	200300	000000*		MOVE	T1,%UPT+UPTPDL	;THIS IS ADDRESS BREAK LOCATION
   964	001415'	370000	000006		SOS	T1		;BACK UP TO LOCATION OF UUO.
   965	001416'	202300	000000*		MOVEM	T1,%UPT+UPTABL	;
   966	001417'	205300	000000*	EXCAB1:	MOVSI	T1,UPSABK	;SET ADDRESS BREAK AT UUO LEVEL FLAG
   967	001420'	436300	000000*		IORM	T1,%UPT+UPTSTS
   968	001421'	201300	040000		MOVEI	T1,UTRP		;SET SO USRXIT WILL SEE
   969	001422'	436302	000000*		IORM	T1,JBTSTS(J)
   970	001423'	254000	001320*		JRST	KTRRT1		;RETURN.
   971
   972	001424'	205300	001000	ADRBRK::MOVSI T1,PC.ADR		;NO, INHIBIT ADDRESS FAILURE
   973	001425'	436301	000000		IORM T1,(P)		;SO WE CAN DISMIS
   974	001426'	200300	000000*		MOVE	T1,ABKSET##	;SEE IF OK TO MESS WITH ADDRESS BREAK
   975	001427'	312300	003455'		CAME	T1,[WRADB %UPT+UPTABK] ;HAS IT BEEN CHANGED FOR EDDT?
   976	001430'	254000	001423*		 JRST	KTRRT1		;NO, NO MESSAGE, DDT BREAKPOINT AT ADRBRK
   977	001431'	200301	000000		MOVE	T1,(P)		;GET PC OF ADDRESS BREAK
   978	001432'	202300	000000*		MOVEM	T1,%UPT+UPTABL	;PUT EXEC PC FOR ABKPRT TO PRINT
   979								; MUST BE A %UPT SETUP, OR CAN'T GET ADDRESS BREAK
   980	001433'	201300	001436'		MOVEI	T1,ABKACS	;SAVE ACS AT BREAK FOR EXEC ADDRESS SPACE
   981	001434'	256040	003456'		XCTFU	<BLT T1,ABKACS+17>
   982	001435'	254000	001417'		JRST	EXCAB1		;GO SET UTRP AND UPSABK AND RETURN.
   983
   984
   985				;ROUTINE TO PRINT ADDRESS BREAK AT USER X, STOP JOB WITH NO ERROR
   986				; BIT, AND RETURN. CALLED WITH PUSHJ.
   987
   988	001436'			ABKACS::BLOCK	20		;ACS STORED HERE ON EVA BREAK.
   989				>  ;End IFCPU(KS)
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 9
ERRCON.MAC	 6-NOV-87 12:32		Exec Memory Protection Error

   990				;EXEC FAULT ERROR DISPATCH
   991
   992	001456'	256000	001323'	EPFTAB:: STOPCD (,XCT,S..IME)
   993					;Exec fault for context page or exec hiseg
   994	001457'	255000	000000		JFCL			;ILL MEM REF TO USER
   995	001460'	255000	000000		JFCL			;ILL WRITE REF TO USER
   996	001461'	254000	001467'		JRST	EXCPIO		;I/O ERROR ON PAGE
   997	001462'	254000	001505'		JRST	EXCDFL		;COW DISK FULL
   998	001463'	256000	001323'		 STOPCD (,XCT,S..IME)
   999					;CRASH IF EXEC WRITES INTO SUPER COW.
  1000	001464'	254000	001406'	IFNCPU(KS),<JRST EXCABK>	;EXEC ADDRESS BREAK (KI+KL, don't know F3)
  1001				IFCPU (KS),<STOPCD (,XCT,S..IME)>;2020 does not have address break hardware
  1002	001465'	256000	001323'		 STOPCD (,XCT,S..IME)
  1003					;HARD PAGE FAILURE.
  1004	001466'	254000	001507'		JRST	EXCTPL		;CORE FULL ON MWSRPL
  1005
  1006				;ERROR ROUTINES
  1007
  1008				;EXEC PAGE I/O ROUTINE. CALLED FROM PAGFLE ERROR RETURN AND
  1009				; FROM DEFFERED I/O ERROR PROCESSING IN USRXIT. ASSUMES
  1010				; PAGE FAIL ALWAYS TURNS ON THE IGNORE ERROR BITS FOR VPS
  1011				; THAT IT REFERENCES.
  1012
  1013				EXTERNAL JBYPER,TSTKTP,ABTUUO
  1014
  1015				;ROUTINE TO PRINT PAGE I/O ERROR OR GIVE RETURN, IN WHICH CASE
  1016				; CALLER WILL CAUSE TRAP.
  1017
  1018	001467'	260040	001541'	EXCPIO::PUSHJ	P,CHKABT	;ALLOW MONITOR TO CLEAN UP.
  1019	001470'	553000	000012		HRRZS	W		;CLEAR LH
  1020	001471'	303500	000777		CAILE	W,777		;IF EXEC PAGE,
  1021	001472'	254000	000170'		JRST	ERRPIO		;NO TRAPS, PLEASE
  1022	001473'	135300	000000*		LDB	T1,JBYPER	;GET PAGE I/O ERROR CHANNEL
  1023	001474'	322300	000170'		JUMPE	T1,ERRPIO	;USER NOT ENABLED FOR IT
  1024	001475'	260040	000000*		PUSHJ	P,TSTKTP	;OK, CAN HE TAKE IT NOW?
  1025					  JRST	[MOVEI T1,ABTUUO ;ROUTINE TO BACKUP PC
  1026						 HRRM T1,(P)	;PUT ONTO RETURN PLACE
  1027	001476'	254000	003457'			 JRST KTRRT1]	;AND LET CALLER TAKE THE TRAP
  1028	001477'	254000	000170'		JRST	ERRPIO		;EXEC PAGE ERROR.
  1029
  1030	001500'	202040	001503'	EXCPDL::MOVEM	P,XXXPDL	;Save bad stack pointer
  1031	001501'	201040	001503'		MOVEI	P,XXXPDL	;Point to 1-word stack
  1032	001502'	256000	003462'		 STOPCD (.,STOP,EPDLOV,,<Exec Push Down List Overflow>)
  1033	001503'			XXXPDL:	BLOCK	2		;Saves old P, and 1 PC
  1034
  1035	001505'	260040	001541'	EXCDFL:	PUSHJ	P,CHKABT	;CLEAN UP IF NECESSARY
  1036	001506'	324740	000206'		PJRST	ERRDFL		;AND TO DO THE ERROR.
  1037
  1038	001507'	260040	001541'	EXCTPL:	PUSHJ	P,CHKABT	;CLEAN UP
  1039	001510'	254000	000244'		JRST	ERRTPL		;AND GO DO THE ERROR.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 10
ERRCON.MAC	 6-NOV-87 12:32		Exec Memory Protection Error

  1040	001511'	260040	001542'	ADRERR::PUSHJ	P,CHKAB1	;DO JBTABT ROUTINE IF THERE
  1041	001512'	254000	000056'		JRST	ERRADC		;AND DO ADDRESS CHECK.
  1042
  1043				EXTERNAL JBTABT,ABTCPL
  1044
  1045	001513'	260040	001541'	UUOADR::PUSHJ	P,CHKABT	;CLEAN UP IF NECESSARY.
  1046	001514'	322200	000100'		JUMPE F,ERRIMU		;ILLEGAL UUO ADDRESS
  1047	001515'	257304	000000		MAP T1,DEVNAM(F)
  1048				IFCPU (KI),<TRNE T1,MAP.FL>
  1049	001516'	603300	200000	IFNCPU (KI),<TLNE T1,PFW.H		;FORGET IT IF HARD ERROR
  1050	001517'	254000	000100'		JRST ERRIMU
  1051	001520'	641300	140000		TLC T1,PFW.A+PFW.W	;MAKE EASY TO SEE IF ONE IS OFF
  1052	001521'	603300	001000		TLNE	T1,PFW.R	;IF UNPAGED REF, SKIP
  1053	001522'	607300	140000		TLNN	T1,PFW.A+PFW.W	;PAGED. IF A OR W WAS OFF, DIE.
  1054	001523'	254000	001525'		JRST	.+2>		;UNPAGED OR A AND W WERE BOTH ON.
  1055	001524'	254000	000100'		JRST ERRIMU		;BAD IF DEVNAM(F) NOT LEGAL ADRESS
  1056	001525'	257320	000000*		MAP T1,@PJOBN
  1057				IFCPU (KI),<TRNE T1,MAP.FL>		;ALSO CHECK THAT LDB PJOBN WILL NOT FAULT
  1058	001526'	603300	200000	IFNCPU (KI),<TLNE T1,PFW.H		;IF HARD FAILURE, FORGET IT
  1059	001527'	254000	000100'		JRST ERRIMU
  1060	001530'	641300	140000		TLC T1,PFW.A+PFW.W
  1061	001531'	603300	001000		TLNE T1,PFW.R
  1062	001532'	607300	140000		TLNN T1,PFW.A+PFW.W
  1063	001533'	254000	001535'		JRST	.+2>
  1064								;MUST BE PAGED WITH A OR W OFF.
  1065	001534'	254000	000100'		JRST ERRIMU		;NOT FAULT
  1066	001535'	135300	001525*		LDB T1,PJOBN
  1067	001536'	316300	001266*		CAMN T1,JOB		;POINTS TO CURRENT JOB?
  1068	001537'	254000	000056'		JRST ERRADC		;YES, PROBABLY REAL DDB ADDRESS
  1069	001540'	254000	000100'		JRST ERRIMU		;NO, JUST SAY ILL MEM REF IN UUO
  1070
  1071				;ROUTINE TO SET UP F AND J FOR CALLER, AND CALL JBTABT ROUTINE
  1072				; IF ONE IS SETUP. CLEARS JBTABT CELL.
  1073				; T1 SETUP WITH OLD CONTENTS OF JBTABT CELL FOR THE FRAME.
  1074				; JBTABT ROUTINES MUST PRESERVE W AND M.
  1075
  1076	001541'	256200	003465'	CHKABT:	UMOVE	F,F		;GET F AT TIME OF ERROR (OR MAYBE USER'S F?)
  1077	001542'	200100	001536*	CHKAB1:	MOVE	J,JOB
  1078	001543'	400300	000000		SETZ	T1,
  1079	001544'	250302	000000*		EXCH	T1,JBTABT(J)
  1080	001545'	322300	000000*		PJUMPE	T1,ABTCPL	;IF NO JBTABT ROUTINE, JUST GIVE CONTEXT PAGE LOCKS UP
  1081	001546'	260046	000000		PUSHJ	P,(T1)		;CALL JBTABT ROUTINE
  1082	001547'	200100	001542*		MOVE	J,JOB		;IN CASE JBTABT ROUTINE SMASHED IT
  1083	001550'	324740	001545*		PJRST	ABTCPL		;THEN GIVE UP LOCKS. (JBTABT ROUTINE MAY
  1084								; NEED THE LOCK TO FIX UP STUFF)
  1085
  1086
  1087				;DISK FULL WHEN USER WROTE IN COPY ON WRITE PAGE.
  1088				; T1 HAS ERROR CODE, 1 = DISK FULL. OTHERS, CRASH.
  1089
  1090				EXTERN CRDFL%
  1091
  1092
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 10-2
ERRCON.MAC	 6-NOV-87 12:32		Exec Memory Protection Error

  1093	001551'	554540	000006	NOCREA::HLRZ	M,T1		;GET PAGE NUMBER IN M
  1094	001552'	405540	000777		ANDI	M,777		;JUST 9 BITS WORTH
  1095	001553'	242540	000011		LSH	M,^D9		;TURN INTO LOCATION (LIE A LITTLE)
  1096	001554'	553000	000006		HRRZS	T1		;JUST ERROR CODE IN RH
  1097	001555'	302300	000000*		CAIE	T1,CRDFL%	;DISK FULL?
  1098	001556'	256000	003466'		 STOPCD (.,JOB,PAGNCR,,<Page Fault, cannot create COW page>)
  1099	001557'	254000	000206'		JRST	ERRDFL		;DISK FULL.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 11
ERRCON.MAC	 6-NOV-87 12:32		Illegal UUO or Illegal instruction

  1100				SUBTTL	Illegal UUO or Illegal instruction
  1101				;Called at UUO level only, with ACs stacked, P set up, M has UUO
  1102
  1103				;Illegal UUO, opcodes 045,045,052,053,054 and CALLI -5,-4,-3,-2
  1104
  1105	001560'	200601	000000*	UUOMNR::MOVE	P1,PDNMUP##(P)	;Return PC and flags stored at -2(P)
  1106	001561'	607600	010000		TLNN	P1,PC.USR	;Check if from user mode
  1107	001562'	254000	001575'		 JRST	EMUERR		;Exec mode UUO error, do a STOPCD
  1108					PFALL	UUOERR
  1109
  1110				;Error in UUO (LOGIN while already logged in, TMPCOR function out of range)
  1111
  1112	001563'	254000	000517'	UUOERR::JRST	ERRILU		;Say ILLEGAL UUO
  1113
  1114
  1115				SUBTTL	Illegal instructions in Exec mode
  1116				;LUUO (opcodes 001-037) are illegal in Exec mode
  1117
  1118	001564'			LUUPDL:	BLOCK	2		;Old P at LUUPDL+0, PUSHJ stores PC at LUUPDL+1
  1119	001566'	000000	000000	LUUOPC::0			;JSR here from EPT+41 when LUUO detected
  1120	001567'	202040	001564'		MOVEM	P,LUUPDL	;Save P
  1121	001570'	201040	001564'		MOVEI	P,LUUPDL	;Set up pointer to 1 word stack
  1122	001571'	200600	001566'		MOVE	P1,LUUOPC	;Get PC and flags
  1123	001572'	202600	000425*		MOVEM	P1,%UPT+UPTMUP	;Save where MUUOs store their PC
  1124				IFCPU (KI),<MOVE M,EPT##+40>	;Get LUUO from EPT
  1125	001573'	200540	000000*	IFNCPU(KI),<MOVE M,FORTY##>	;Get LUUO from virtual address 40
  1126	001574'	202540	000424*		MOVEM	M,%UPT+UPTMUU	;Save where MUUOs store their opcode
  1127					PFALL	EMUERR		;Fall into Exec Mode UUO error routine
  1128
  1129				;Here on an Exec mode UUO error
  1130				;In most cases where memory fails, an interrupt will occur, causing UIL stopcode
  1131				;P1 and %UPT+UPTMUP contain the PC and flags, M and %UPT+UPTMUU has the opcode
  1132
  1133	001575'	700700	077400	EMUERR:	CONSZ	PI,PI.IPA	;Any interrupts in progress?
  1134	001576'	256000	003471'	S..UIL:: STOPCD (.,CPU,UIL,,<Uuo at Interrupt Level>)
  1135					;;ILLINS+2
  1136	001577'	256000	003474'	S..EUE:: STOPCD (.,JOB,EUE,,<Exec Uuo Error>)
  1137					;;INSSIM+2=ILLINS+2
  1138
  1139
  1140				SUBTTL	Illegal instruction
  1141				;The HALT instruction is a special case which stops job but the user may
  1142				;continue from its effective address.
  1143
  1144	001600'	200601	001560*	ILLINS::MOVE	P1,PDNMUP##(P)	;Return PC and flags stored at -2(P)
  1145	001601'	607600	010000		TLNN	P1,PC.USR	;Make sure in user mode
  1146	001602'	254000	001575'		 JRST	EMUERR		;Exec mode uuo error  STOPCD;;ILLINS+2
  1147	001603'	554300	000013		HLRZ	T1,M		;Get the illegal opcode
  1148	001604'	302300	254200		CAIE	T1,(JRST 4,)	;Is it a HALT?
  1149	001605'	254000	000547'		 JRST	ERRILI		;No, go say ILLEGAL INSTRUCTION
  1150	001606'	542540	000000*		HRRM	M,%UPT+UPTPDL	;Yes, store E of HALT as the return PC
  1151	001607'	254000	000565'		JRST	ERRHLT		;And halt job (but allow CONTINUE)
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 12
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE FOR HUNG IO DEVICE

  1152				SUBTTL	ROUTINE FOR HUNG IO DEVICE
  1153				;CALL	MOVE F,ADDRESS OF DEVICE DATA BLOCK
  1154				;	PUSHJ P,DEVHNG
  1155				;ASSUMES THAT DEVICE SERVICE ROUTINE HAS BEEN CALLED AND DEVIOS
  1156				; WILL NO LONGER BE CHANGED BY INTERRUPT LEVEL.
  1157
  1158	001610'	200004	000002	DEVHNG::MOVE	S,DEVIOS(F)	;GET S
  1159	001611'	623000	000001		TLZE	S,IOW		;IS HE IN IO WAIT?
  1160	001612'	260040	000000*		PUSHJ	P,SETIOD##	;YES, WAKE HIM UP
  1161	001613'	661000	000100		TLO	S,IOHNG		;TELL WSYNC TO NEVER RETURN
  1162	001614'	620000	010000		TRZ	S,IOACT		;TURN OFF IOACT
  1163	001615'	202004	000002		MOVEM	S,DEVIOS(F)	;STORE BACK
  1164	001616'	263040	000000		POPJ	P,		;AND JOB WILL START AT ERRHDV.
  1165
  1166				SUBTTL	HNGSTP - HALT A JOB WHEN A DEVICE IS NOT READY FOR I/O
  1167				;CALLED FROM XXXSER AT UUO LEVEL
  1168				;CALL	MOVE F,ADDR. OF DEV. DDB
  1169				;	PUSHJ P,HNGSTP
  1170
  1171	001617'	261040	000002	HNGSTP::PUSH P,J
  1172	001620'	261040	000000		PUSH P,S
  1173	001621'	261040	000004		PUSH P,F
  1174	001622'	261040	000014		PUSH P,P1		;P1 USED FOR PRINTING PC
  1175	001623'	135100	001535*		LDB J,PJOBN##
  1176	001624'	260040	000000*		PUSHJ P,GETOPR		;GET OPR LINE
  1177	001625'	200201	777777		MOVE	F,-1(P)		;GET ORIGINAL F BACK FOR PRINTING AND STORING NAME
  1178	001626'	322240	001642'		JUMPE U,HNGSTW		;NO LINE, IGNORE
  1179	001627'	260040	001352*		PUSHJ P,INLMES
  1180					ASCIZ /
  1181	001630'	064240	703740	problem on /
	001631'	713374	266312
	001632'	665015	767100
	001633'	000000	000000
  1182	001634'	260040	003302'		PUSHJ P,ERNAM
  1183	001635'	260040	001627*		PUSHJ P,INLMES
  1184	001636'	203155	771100		ASCIZ / for job /
	001637'	653374	220000
  1185	001640'	260040	000000*		PUSHJ P,PJOB##		;NOW THE JOB
  1186	001641'	260040	001374*		PUSHJ P,CRLF
  1187	001642'	205340	000002	HNGSTW:	MOVSI T2,FLGHNG		;SET TO FLAG HUNG DEVICE
  1188	001643'	135300	000000*		LDB T1,JBYHNG		;GET INTERRUPT CHANNEL
  1189	001644'	260040	000000*		PUSHJ P,TSTKOT		;TEST AND TAKE OLD TRAP
  1190	001645'	254000	000000*		 JRST ABTUUO		;TOOK TRAP
  1191	001646'	254000	000474'		JRST	ERRDOP		;DEVICE OPER ACTION REQUESTED ERROR
  1192
  1193				;HERE TO STOP THE JOB ON OPER ACTION REQUESTED. ACS STILL ON STACK,
  1194				; MAYBE LINE, MAYBE NOT.
  1195	001647'	201300	020000	HNSTOP:	MOVEI T1,JDCON
  1196	001650'	436302	001422*		IORM T1,JBTSTS(J)
  1197	001651'	260040	000671*		PUSHJ	P,STOP1		;STOP THE JOB CONTINUABLY
  1198	001652'	262040	000014		POP P,P1		;RESTORE SMASHED REG USED FOR PC
  1199	001653'	262040	000004		POP P,F
  1200	001654'	262040	000000		POP P,S
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 12-2
ERRCON.MAC	 6-NOV-87 12:32		HNGSTP - HALT A JOB WHEN A DEVICE IS NOT READY FOR I/O

  1201	001655'	262040	000002		POP P,J
  1202	001656'	254000	000000*		JRST WSCHED		;RESCHEDULE
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 13
ERRCON.MAC	 6-NOV-87 12:32		HNGSTP - HALT A JOB WHEN A DEVICE IS NOT READY FOR I/O

  1203				;MONITOR JOB STARTED UP BY SWAPPER CONTEXT PAGE I/O ERROR CODE.
  1204
  1205					EXTERN TPOPJ,JBYHNG,TSTKOT,ABTUUO
  1206					EXTERN ESTOP,MONSTR
  1207
  1208	001657'	201340	000000*	ERRSWP::MOVEI	T2,ESTOP	;WHERE TO STOP
  1209	001660'	265300	000000*		JSP	T1,MONSTR	;SETUP ACS, PDL, CLEAR INTERRUPTS
  1210	001661'	201300	000040		MOVEI	T1,ALRACT
  1211	001662'	436300	000000*		IORM	T1,ALR620
  1212	001663'	260040	001624*		PUSHJ	P,GETOPR	;NOW PRINT ON OPR CONSOLE
  1213	001664'	260040	001750'		PUSHJ	P,ERROP1
  1214	001665'	260040	001635*		PUSHJ	P,INLMES
  1215	001666'	377075	767350		 ASCIZ	"?context page I/O error"
	001667'	627616	420340
	001670'	607174	520222
	001671'	276364	062744
	001672'	713376	200000
  1216	001673'	324740	000270'		PJRST	ERRCIO		;GO DO THE RIGHT STUFF FOR THE FRAME.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 14
ERRCON.MAC	 6-NOV-87 12:32		HNGSTP - HALT A JOB WHEN A DEVICE IS NOT READY FOR I/O

  1217				COMMENT ;@@SUBROUTINE ERRSET/ERRSES/ERRSEX/HLTTRP
  1218				@@PURPOSE SETUP J TO RELEVANT FRAME NUMBER, STORE EXIT STATUS IN THE
  1219				CONTEXT PAGES OF THE FRAME.
  1220				HALT COMMAND CALLS AT HLTTRP TO INTERRUPT PARENT.
  1221				@@ENTRY	CONTEXT PAGES AT %UPT,%UPS,%UPX AT ENTRIES ERRSET,ERRSES,ERRSEX
  1222					P1/PC OF ERROR
  1223				@@ACCUM T1-T4 (MUST SAVE SAME ACS THAT STOP1 DOES)
  1224				@@EXIT NON-SKIP IF NO MESSAGE TO BE PRINTED
  1225					SKIP IF NO TRAPHANDLER OR ENABLED PARENT FOR CONDITION, PRINT MESSAGE
  1226				@@RESTRICTIONS ONLY CALLED AT UUO LEVEL.
  1227				@@FUNCTION SETUP J FROM JOB IF CALLED AT ERRSET. CHECK J, CRASH IF
  1228				OUT OF BOUNDS.
  1229				INCREMENT EXIT COUNT IN UPT, STORE PC, LAST UUO PC, AND IF
  1230				ENABLED PARENT OR TRAPHANDLER, FIRE UP SOFTWARE INTERRUPT IN
  1231				THEM.
  1232				@@;
  1233
  1234
  1235				EXTERNAL UPTJOB,CPOPJ1,JOBMAX,IPOPJ1
  1236				EXTERNAL UPTEPC,UPTEUP,UPTECN,JBTFTR
  1237
  1238	001674'	201440	000000*	ERRSES:	MOVEI	T4,%UPS		;CONTEXT PAGES IN %UPS
  1239	001675'	254000	001700'		JRST	ERRSE0
  1240	001676'	334440	003477'	ERRSEX:	SKIPA	T4,[%UPX]	;CONTEXT PAGES IN %UPX
  1241	001677'	201440	000000*	ERRSET:	MOVEI	T4,%UPT		;CONTEXT PAGES IN %UPT
  1242	001700'	200111	000000*	ERRSE0:	MOVE	J,UPTJOB(T4)	;GET CURRENT JOB NUMBER IN J
  1243	001701'	332000	000002		SKIPE	J		;NULL JOB DOESN'T GET ERRORS.
  1244	001702'	303100	000000*		CAILE	J,JOBMAX	;LEGAL?
  1245	001703'	256000	003500'		 STOPCD (.,STOP,UUOEIJ,,<Error with Illegal Job number>)
  1246	001704'	202611	000000*		MOVEM	P1,UPTEPC(T4)	;REMEMBER IT
  1247	001705'	200311	000000*		MOVE	T1,UPTPDL(T4)	;GET PC OF LAST UUO
  1248	001706'	202311	000000*		MOVEM	T1,UPTEUP(T4)	;LAST TOP LEVEL UUO OR FAULT PC
  1249					SETZ	U,		;NO LDB YET - MAYBE TTY FINDING ROUTINE WILL SET IT UP, MAYBE N
  1250	001707'	400240	000000	OT.
  1251								; ZERO IT NOW SO KJSTOP WON'T BE FOOLED
  1252	001710'	350011	000000*		AOS	UPTECN(T4)	;INCREMENT COUNT OF TIMES JOB EXITED.
  1253	001711'	135300	000000*	HLTTRP:	LDB	T1,JBYECF##	;Parent's ECF channel is in child's JBTPNT(J)
  1254	001712'	261040	000002		PUSH	P,J		;Save J of child that is exiting
  1255	001713'	135100	003503'		LDB	J,PRNTBP(J)	;Get frame's parent, if any
  1256	001714'	322100	000000*		JUMPE	J,IPOPJ1	;If no parent, output messages
  1257	001715'	336000	000006		SKIPN	T1		;Use particular channel if set (.IAECF)
  1258	001716'	135300	000000*		 LDB	T1,JBYEXC##	;Otherwise get parent's general channel (.IAFEX)
  1259	001717'	322300	001723'		JUMPE	T1,HLTTR1	;Jump if interrupt not desired at present
  1260	001720'	260040	000000*		PUSHJ	P,TAKTRP##	;Else give parent the trap (J is for parent)
  1261	001721'	262040	000002		POP	P,J		;Restore J of frame that is exiting
  1262	001722'	263040	000000		POPJ	P,		;Nonskip return to stop frame, suppress message
  1263
  1264	001723'	201300	000400	HLTTR1:	MOVEI	T1,EXCFLG	;Flag that a child has exited
  1265	001724'	436302	001650*		IORM	T1,JBTSTS##(J)	;Set this for the parent
  1266	001725'	254000	001714*		JRST	IPOPJ1		;Restore J, skip return to output messages
  1267
  1268				; Routine to print frame exit error code (octal or SIXBIT), followed by
  1269				; "at user xxxxxx"
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 14-2
ERRCON.MAC	 6-NOV-87 12:32		HNGSTP - HALT A JOB WHEN A DEVICE IS NOT READY FOR I/O

  1270
  1271	001726'	200340	000000*	FEXPRT:	MOVE	T2,%UPT+UPTELC	;Pick up error code
  1272	001727'	603340	777777		TLNE	T2,-1		;Skip if octal
  1273					  JRST	[PUSHJ	P,PRNAME
  1274	001730'	254000	003504'			 JRST	FEXPR1]
  1275	001731'	201307	000000		MOVEI	T1,(T2)		;Set up for octal type-out
  1276	001732'	260040	003243'		PUSHJ	P,OCTPNT
  1277	001733'	324740	003160'	FEXPR1:	PJRST	UUOPCP		;Remainder of message
  1278
  1279
  1280				COMMENT ;@@SUBROUTINE ERRTTY
  1281				@@PURPOSE FIND AN LDB TO PRINT MESSAGE ON
  1282				@@ENTRY J/FRAME NUMBER
  1283				@@ACCUM ??
  1284				@@EXIT U SETUP
  1285				@@;
  1286
  1287				EXTERNAL TTYERP			;Set U and F for job's TTY, else for OPR or CTY
  1288
  1289	001734'	261040	000004	ERRTTY:	PUSH	P,F		;DON'T SMASH F
  1290	001735'	260040	000000*		PUSHJ	P,TTYERP	;GET F AND U SETUP
  1291	001736'	254000	001741'		  JRST	ERRTT1		;Job has no TTY, OPRLDB in U and F
  1292	001737'	262040	000004		POP	P,F		;RESTORE F
  1293	001740'	324740	001641*		PJRST	CRLF		;PRINT CRLF AND RETURN.
  1294
  1295	001741'	262040	000004	ERRTT1:	POP	P,F		;GET F BACK
  1296	001742'	135300	003503'		LDB	T1,PRNTBP(J)	;IF HAS NO PARENT,
  1297	001743'	322300	001746'		JUMPE	T1,ERROPR	;Then continue with OPR's LDB or CTY
  1298	001744'	400240	000000		SETZ	U,		;MAKE SURE NO MESSAGE COMES OUT
  1299	001745'	263040	000000		POPJ	P,		;AND RETURN SILENTLY.
  1300
  1301	001746'	201300	000100	ERROPR:	MOVEI	T1,ALRUSR	;TELL NETWORK LOGGER OPR MESSAGE
  1302	001747'	436300	001662*		IORM	T1,ALR620
  1303	001750'	260040	001665*	ERROP1:	PUSHJ	P,INLMES
  1304					ASCIZ/?
  1305	001751'	374321	237712	?error in /
	001752'	713455	771100
	001753'	647344	000000
  1306	001754'	260040	000000*		PUSHJ	P,PJOBX##	;PRINT JOB NUMBER AND USERNAME
  1307					PFALL	ERRPRG
  1308
  1309				;Output name of program running
  1310
  1311	001755'	260040	001750*	ERRPRG::PUSHJ	P,INLMES##
  1312	001756'	513535	667322		 ASCIZ /Running /
	001757'	673164	000000
  1313	001760'	200302	000000*		MOVE	T1,JBTFPN##(J)	;Program directory
  1314	001761'	260040	000000*		PUSHJ	P,PRTDIR##	;Output directory name
  1315	001762'	200342	000000*		MOVE	T2,JBTPRG##(J)	;Program name
  1316	001763'	260040	003310'		PUSHJ	P,PRNAME
  1317	001764'	200342	001760*		MOVE	T2,JBTFPN##(J)	;Program directory
  1318	001765'	260040	000000*		PUSHJ	P,PRTPPN##	;Output directory number
  1319	001766'	324740	001740*		PJRST	CRLF##
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 15
ERRCON.MAC	 6-NOV-87 12:32		HNGSTP - HALT A JOB WHEN A DEVICE IS NOT READY FOR I/O

  1320				COMMENT ;@@SUBROUTINE ERRFNU
  1321				@@PURPOSE FOR ERRORS THAT DON'T PRINT MESSAGES ON OPR CONSOLE IF JOB
  1322				IS DETACHED.
  1323				@@ENTRY J/JOB
  1324				@@ACCUM PRESERVES F
  1325				@@EXIT RETURNS U EITHER 0 IF DETACHED, OR LDB ADDRESS OF WHERE TO TYPE MESSAGE
  1326				@@;
  1327
  1328	001767'	261040	000004	ERRFNU:	PUSH	P,F		;THIS IS ALMOST RIDICULOUS
  1329	001770'	260040	000660*		PUSHJ	P,TTYFNU
  1330	001771'	262040	000004		POP	P,F
  1331	001772'	263040	000000		POPJ	P,		;IN CASE F HAS DDB ASSOCIATED WITH ERROR.
  1332				COMMENT ;@@SUBROUTINE EXIFNU
  1333				@@PURPOSE CALLED TO FIND TTY LDB IF ANY IF CALLER NOT DIRECTLY ENABLED
  1334				FOR EXIT TRAPPING.
  1335				@@ENTRY	J/JOB NUMBER
  1336				@@ACCUM T1-T4,F,U
  1337				@@EXIT U CONTAINS 0 OR LDB ADDRESS.
  1338				@@FUNCTION FIND LDB FOR TTY, IF ANY, AND IF THERE IS ONE, WAIT
  1339				FOR ANY CURRENT OUTPUT TO COMPLETE AND THEN RETURN WITH LDB ADDRES IN U.
  1340				IF THERE IS NO LDB, AND A PARENT (OR LATER, A TRAPHANDLER FRAME) EXISTS,
  1341				JUST RETURN WITH U/0, ERROR ROUTINE WILL JUST STOP THE JOB.
  1342				IF THERE IS NO LDB AND NO PARENT OR TRAPHANDLER, IF DISCONNECT STATUS
  1343				IS CONTINUE OR DETACH, JUST WAIT FOR ATTACH TO HAPPEN.
  1344				IF DISCONNECT STATUS IS OTHER THAN THE ABOVE, CAUSE THE JOB TO BE
  1345				KILLED BY CALLING MONHNG, CLEAR U SO ERROR ROUTINES DON'T ATTEMPT
  1346				TO PRINT MESSAGES, AND RETURN.
  1347				@@;
  1348
  1349				EXTERNAL IFDET,PVYHNG,TTYFUW,MONHNG
  1350
  1351	001773'	261040	000004	EXDFNU:	PUSH	P,F		;Save pointer to device
  1352	001774'	260040	001777'		PUSHJ	P,EXIFNU
  1353	001775'	262040	000004		POP	P,F		;For RUN error "?Device XXX not available"
  1354	001776'	263040	000000		POPJ	P,
  1355
  1356	001777'	260040	000000*	EXIFNU:	PUSHJ	P,IFDET		;GET DDB, MAYBE LDB ADDRESS
  1357	002000'	263040	000000		  POPJ	P,		;IS ATTACHED, RETURN WITH U SETUP.
  1358	002001'	135300	003503'		LDB	T1,PRNTBP(J)	;DOES IT HAVE A PARENT?
  1359	002002'	326300	000000*		JUMPN	T1,CPOPJ	;IF SO, DON'T DO ANY KILLING OR WAITING STUFF
  1360				;	DOES IT HAVE A TRAPHANDLER FOR EXITS?
  1361	002003'	135300	000000*		LDB	T1,PVYHNG	;HAS NO PARENT. SEE WHAT DISCONNECT MODE IS
  1362	002004'	302300	000001		CAIE	T1,.PVHDT	;IF DETACH OR
  1363	002005'	306300	000002		CAIN	T1,.PVHCN	;CONTINUE ON DISCONNECT,
  1364	002006'	324740	000000*		 PJRST	TTYFUW		;WAIT UNTIL SOMEONE ATTACHES.
  1365	002007'	200300	000002		MOVE	T1,J		;NO, DO WHAT DISCONNECT WOULD HAVE DONE
  1366	002010'	260040	000000*		PUSHJ	P,MONHNG
  1367	002011'	400240	000000		SETZ	U,		;CLEAR THIS SO NO MESSAGES COME OUT
  1368	002012'	263040	000000		POPJ	P,		;AND RETURN.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 16
ERRCON.MAC	 6-NOV-87 12:32		HNGSTP - HALT A JOB WHEN A DEVICE IS NOT READY FOR I/O

  1369				COMMENT ;@@SUBROUTINES ERRSCP/ERRSCD
  1370				@@PURPOSE ERRSCP -  PRINT FOR LOCATION(PAGE ON KI) X, THEN ERRSCD
  1371					ERRSCD - PRINT AT USER X OR UUO AT USER/EXEC X
  1372				@@ENTRY	P1/PC OF ERR
  1373					M/LOCATION IF CALLED AT ERRSCP
  1374					U/LDB TO TYPE ON
  1375				@@ACCUM ?
  1376				@@EXIT ALWAYS NON-SKIP
  1377				@@;
  1378
  1379	002013'			ERRSCP:
  1380				IFCPU (KI),<
  1381					PUSHJ	P,INLMES
  1382					 ASCIZ / for page /
  1383					LDB	T1,[POINT 9,M,26] ;GET PAGE FROM M
  1384					PUSHJ	P,OCTPNT
  1385							;AND FALL INTO ERRSCD
  1386				>;END IFCPU (KI)
  1387				IFNCPU (KI),<
  1388	002013'	260040	001755*		PUSHJ	P,INLMES
  1389	002014'	203155	771100		 ASCIZ / for location /
	002015'	663374	360750
	002016'	647375	620000
  1390	002017'	550300	000013		HRRZ	T1,M	;GET FULL LOCATION
  1391	002020'	260040	003243'		PUSHJ	P,OCTPNT
  1392							;AND FALL INTO ERRSCD
  1393				>;END IFCPU (KI)
  1394
  1395	002021'	200340	000014	ERRSCD:	MOVE	T2,P1	;GET PC INTO T2 FOR PCP
  1396	002022'	603340	010000		TLNE	T2,PC.USR	;USER MODE
  1397	002023'	254000	002031'		JRST	ERRSC1		;PRINT PC AND STOP TTY
  1398	002024'	260040	002013*	ERRSCU:	PUSHJ	P,INLMES	;NO, PRINT WHERE UUO IS
  1399	002025'	355012	552636		 ASCIZ /; UUO/
	002026'	000000	000000
  1400	002027'	200340	000000*		MOVE	T2,%UPT+UPTPDL
  1401	002030'	275340	000001		SUBI	T2,1
  1402	002031'	260040	003236'	ERRSC1:	PUSHJ	P,PCP		;PRINT PC
  1403	002032'	324740	003165'		PJRST	TCLTTY
  1404
  1405				;PRINT "AT USER <C(P1)-1>" OR ";UUO AT <C(P1)-1>
  1406
  1407	002033'	364600	002021'	ERRSCM:	SOJA	P1,ERRSCD
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 17
ERRCON.MAC	 6-NOV-87 12:32		New externals used by STOPCODE processor

  1408				SUBTTL	New externals used by STOPCODE processor
  1409
  1410				REPEAT 0,<
  1411				DATE		;Universal date/time  (18-Nov-1858, 1/3 second resolution)
  1412				JBTPRG		;Table with name of file that program came from (not JBTNAM)
  1413				SCCTAB,SCCTBL	;Stopcode count table and length
  1414				SCLTAB		;Table with LH=ticks until next check, RH=limit
  1415				.CPxxx		;CPU data block for this CPU (equated to .C0xxx)
  1416				%SYSxx		;System-wide errors, GETTAB table .GTSYS=51
  1417				DEBUGF		;Debugging flags, whether or not to dump/reload
  1418				DIECDB		;Pointer to CPU Data Block (for FILDDT to set paging)
  1419				
  1420				REBOOT	COMMON	dump and reload the system
  1421				RCDSTB	COMMON	read CPU and device status blocks
  1422				TYPCSB	COMMON	type CPU status block
  1423				BUGDMP	MONBTS	copy all of physical memory to SYS:CRASH.EXE
  1424				FLTCHK	PICON	check if bits in T1 indicate a potential page fault
  1425				CSDMP	COMMON	do a cache sweep on a KL
  1426				SKPMRN	COMMON	skip if master PDP-11 is running on KL
  1427				SVPPC	SCNSER	save protocol status, start secondary
  1428				PRTDDB	COMCON	type DEVICE:FILE.EXT[P,PN] when F points to DDB
  1429				> ;End of REPEAT 0
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 18
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- DIE and GOBACK routines

  1430				SUBTTL	STOPCD -- DIE and GOBACK routines
  1431
  1432				;Routine to recover/reload after an internal system error.
  1433				;Called by the STOPCD macro with PUSHJ P,DIE (INFO and EVENT goto NODIE)
  1434				;Do a "147 RESTART" if a 2nd stopcode occurs during typeout from 1st stopcode.
  1435
  1436	002034'	356000	000000*	NODIE::	AOSN	.CPEVN##	;Flag for an INFO or EVENT stopcode
  1437	002035'	254000	002040'		 JRST	DIE0		;Don't set the main interlock 1st time thru
  1438	002036'	352000	000000*	DIE::	AOSE	.CPDWD##	;Interlock stopcode processor
  1439	002037'	264000	000000*		 JSR	CRS147##	;STOPCD(HALT,DIEREH,,<Recursion in Error Handler>)
  1440	002040'	262040	000000*	DIE0:	POP	P,.CPCPC##	;Store continue PC
  1441	002041'	331000	002036*		SKIPL	.CPDWD##	;If it's a DIE stopcode
  1442	002042'	255000	002040*	DIEDDT:: JFCL	.CPCPC##	;Put EDDT breakpoint here
  1443	002043'	700640	000000*		CONI	PI,.CPCPI##	;Save PI status
  1444	002044'	700600	001177		CONO	PI,PI.TFP+177	;Turn off all PI channels
  1445	002045'	202740	000017*		MOVEM	17,CRSHAC##+17	;Store current ACs
  1446	002046'	201740	000000*		MOVEI	17,CRSHAC##	; where FILDDT can find them,
  1447	002047'	251740	000016*		BLT	17,CRSHAC##+16	; in a system-wide table
  1448	002050'	201740	000000*		MOVEI	17,PREVAC##	;Place to store previous context ACs
  1449	002051'	256040	003506'		XCTFU	<BLT 17,PREVAC+17>;Store them after CRSHAC
  1450	002052'	200740	000017*		MOVE	17,CRSHAC##+17	;Restore 17, then go save all ACs in CDB
  1451	002053'	264000	000000*		JSR	.CPSVA##	;Save all AC blocks, make .CPACA point to them
  1452				EXTERN SAV30,BASAVE		;.CPSVA updates these locations
  1453	002054'	200040	000000*		MOVE	P,.CPEPD##	;Set up error PDL
  1454	002055'	336300	002042*		SKIPN	T1,.CPCPC##	;Get PC of stopcode
  1455	002056'	201300	002114'		 MOVEI	T1,DIEBPC+1	;If zero, point at "Bad PC" stopcode
  1456	002057'	275300	000001		SUBI	T1,1		;Back up incremented PC
  1457	002060'	202300	000000*		MOVEM	T1,.CPSPC##	;Store stop PC
  1458	002061'	200546	000000		MOVE	M,0(T1) 	;Get the XCT instruction
  1459	002062'	641540	256000		TLC	M,(XCT) 	;Clear these bits
  1460	002063'	603540	777740		TLNE	M,777740	;Make sure it was an XCT instruction
  1461	002064'	201560	002113'		 MOVEI	M,@DIEBPC	;If not, point to "Bad PC" data
  1462				IFCPU (KL),<
  1463	002065'	260040	000000*		PUSHJ	P,CSDMP##	;Dump all of cache to physical memory
  1464	002066'	260040	000000*		PUSHJ	P,SKPMRN##	;Skip if master PDP-11 is running
  1465	002067'	254200	002067'		 STOPCD (.,HALT,DIEMNR,,<Master PDP-11 not running>)
  1466				>  ;End of IFN FTKL10
  1467								;M points to start of literal block
  1468	002070'	260040	002147'		PUSHJ	P,DIE1		;Output STOPCODE, resume keep-alive via POPJ
  1469								;.CPCPC may be modified
  1470
  1471	002071'	260040	000000*	RESRET:	PUSHJ	P,DAEEST##	;Tell DAEMON(CHKPNT) about the stopcode
  1472	002072'	200300	002041*		MOVE	T1,.CPDWD##	;One of these flags should be 0, the other -1
  1473	002073'	270300	002034*		ADD	T1,.CPEVN##	;Was an INFO/EVENT code interrupted?
  1474	002074'	346300	002532'		AOJN	T1,RELOAD	;Yes, cannot continue
  1475	002075'	700600	001177		CONO	PI,PI.TFP+177	;Turn off all PI channels
  1476	002076'	201300	000177		MOVEI	T1,177		;All PI bits
  1477	002077'	404300	002043*		AND	T1,.CPCPI##	;Only the ones that were on
  1478	002100'	435300	002000		IORI	T1,PI.TNP	;Turn on selected PI's
  1479	002101'	202300	002077*		MOVEM	T1,.CPCPI##	;Save for CONO
  1480	002102'	514740	000000*		HRLZ	17,.CPACA##	;Where to restore the AC's from
  1481	002103'	251740	000017		BLT	17,17		;Restore them all
  1482	002104'	476000	002072*		SETOM	.CPDWD##	;Allow further STOPCD's
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 18-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- DIE and GOBACK routines

  1483	002105'	476000	002073*		SETOM	.CPEVN##	;Allow further EVENT/INFO codes
  1484		400000	000000		  ..=DF.SBD		;(CREF the use of the sign bit)
  1485	002106'	335000	000000*		SKIPGE	DEBUGF##	;Is system being debugged?
  1486	002107'	256000	000000*		 XCT	.CPDDT##	;Yes, jump to DDT (use GOBACK$G to continue)
  1487	002110'			DIECON::
  1488	002110'	261040	002055*	GOBACK::PUSH	P,.CPCPC##	;Set up continue PC
  1489				;*;	SETZM	SYSSNP##	;Disable the snapshot program
  1490	002111'	700620	002101*		CONO	PI,@.CPCPI##	;Turn on the PI system
  1491	002112'	263040	000000		POPJ	P,		;Return from DIE (.CPCPC may have been changed)
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 19
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Process tables

  1492				SUBTTL	STOPCD -- Process tables
  1493
  1494
  1495				COMMENT @
  1496				"Recent findings have show bugs that are adaptive and intellegent.
  1497				The study of such bugs has been hampered by the probablity that these
  1498				bugs themselves have bugs, producing erratic buglike behavior.  If
  1499				this is indeed true, it provides the first demonstration that Murphy's
  1500				Law is recursive, that it can invoke itself."
  1501
  1502				IEEE Spectrum, September 1984
  1503				@
  1504
  1505	002113'	256000	003507'	DIEBPC:: STOPCD (.,STOP,DIEBPC,,<Bad PC in DIE>)
  1506
  1507				;Tables for driving stopcode processing
  1508
  1509		400000	000000	S%FAST==1B0	;Flag for EVENT and INFO (don't switch to secondary protocol
  1510		200000	000000	S%NDDB==1B1	;Flag to suppress DDB/JOB typout
  1511		100000	000000	S%CSB== 1B2	;Flag to output CPU Status Block (hardware error detected)
  1512		040000	000000	S%EVNT==1B3	;Flag to indicate EVENT (as opposed to INFO or other stopcode)
  1513
  1514				DEFINE STPTAB,<;;Name, STP routine, CDB counter, GETTAB counter, flags
  1515				STP	NONAME,RELOAD,0,0,
  1516				STP	STOP,RELOAD,0,0,
  1517				STP	JOB,JOBSTP,.CPSNJ##,%SYNJS##,
  1518				STP	DEBUG,BUGSTP,.CPSND##,%SYNDS##,
  1519				STP	CPU,CPUSTP,.CPSNC##,%SYNCS##,<CSB>;;CPU or hardware failure
  1520				STP	INFO,INFSTP,.CPSNI##,%SYNIS##,<FAST,NDDB>
  1521				STP	EVENT,EVNSTP,.CPSNI##,%SYNIS##,<FAST,NDDB,EVNT>
  1522				STP	PATCH,EVNSTP,.CPSNI##,%SYNIS##,<FAST,NDDB,EVNT>
  1523				STP	DISK,DSKSTP,0,0,;;	;Set flag to do full DSKCLN and then RELOAD
  1524				>
  1525
  1526					DEFINE STP(TYP,RTN,CPLOC,SYLOC,FLAGS),<
  1527					IFN <.-STPTYP>-S$'TYP,<PRINTX ? Stopcode type TYP is out of order>
  1528					SIXBIT	\TYP\	>
  1529
  1530					XALL
  1531	002114'			STPTYP: STPTAB	^
  1532	002114'	565756	415545		SIXBIT	\NONAME\	^
  1533	002115'	636457	600000		SIXBIT	\STOP\	^
  1534	002116'	525742	000000		SIXBIT	\JOB\	^
  1535	002117'	444542	654700		SIXBIT	\DEBUG\	^
  1536	002120'	436065	000000		SIXBIT	\CPU\	^
  1537	002121'	515646	570000		SIXBIT	\INFO\	^
  1538	002122'	456645	566400		SIXBIT	\EVENT\	^
  1539	002123'	604164	435000		SIXBIT	\PATCH\	^
  1540	002124'	445163	530000		SIXBIT	\DISK\	^
  1541			000010	  STPMAX==.-STPTYP-1	;Maximum legal stopcode type
  1542
  1543					DEFINE STP(TYP,RTN,CPLOC,SYLOC,FLAGS),<
  1544					ZZ==0
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 19-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Process tables

  1545					IRP FLAGS,<ZZ=ZZ!S%'FLAGS>
  1546					EXP	ZZ ! RTN	;TYP
  1547					PURGE ZZ
  1548					>
  1549
  1550	002125'			PRCTAB: STPTAB	^
  1551	002125'	000000	000000*		EXP	ZZ ! RELOAD	;NONAME
  1552	002126'	000000	000000*		EXP	ZZ ! RELOAD	;STOP
  1553	002127'	000000	000000*		EXP	ZZ ! JOBSTP	;JOB
  1554	002130'	000000	000000*		EXP	ZZ ! BUGSTP	;DEBUG
  1555	002131'	000000	000000*		EXP	ZZ ! CPUSTP	;CPU
  1556	002132'	000000	000000*		EXP	ZZ ! INFSTP	;INFO
  1557	002133'	000000	000000*		EXP	ZZ ! EVNSTP	;EVENT
  1558	002134'	000000	000000*		EXP	ZZ ! EVNSTP	;PATCH
  1559	002135'	000000	000000*		EXP	ZZ ! DSKSTP	;DISK
  1560
  1561					DEFINE STP(TYP,RTN,CPLOC,SYLOC,FLAGS),<
  1562					XWD	SYLOC,CPLOC	;TYP>
  1563
  1564	002136'			SCTTAB: STPTAB	^
  1565	002136'	000000	000000		XWD	0,0	;NONAME^
  1566	002137'	000000	000000		XWD	0,0	;STOP^
  1567	002140'	000000*	000000*		XWD	%SYNJS##,.CPSNJ##	;JOB^
  1568	002141'	000000*	000000*		XWD	%SYNDS##,.CPSND##	;DEBUG^
  1569	002142'	000000*	000000*		XWD	%SYNCS##,.CPSNC##	;CPU^
  1570	002143'	000000*	000000*		XWD	%SYNIS##,.CPSNI##	;INFO^
  1571	002144'	000000*	002143*		XWD	%SYNIS##,.CPSNI##	;EVENT^
  1572	002145'	000000*	002144*		XWD	%SYNIS##,.CPSNI##	;PATCH^
  1573	002146'	000000	000000		XWD	0,0	;DISK^
  1574					SALL
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 20
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Routine to output the stopcode information

  1575				SUBTTL	STOPCD -- Routine to output the stopcode information
  1576
  1577				;Here for STOPCODE processing which might need to be run in secondary protocol
  1578				;The Keep-Alive function is disabled during typeout, restored via POPJ
  1579
  1580				;1) Determine type of stopcode
  1581				;2) If not INFO or EVENT, disable keep-alive checking (secondary protocol)
  1582				;3) Store stopcode type, name, PC, etc in the GETTAB table (for FILDDT & SYSTAT)
  1583				;4) If not INFO or EVENT, set output routine to one that does not use interrupts
  1584				;5) For EVENT, output "%% Event".  For all others, output 10 bells and "?STOPCD"
  1585				;6) Output date and time
  1586				;7) For STOP, JOB, and DEBUG, output job status and DDB
  1587				;8) If optional typeout routine is provided, call it with original ACs
  1588				;9) Output CPU status block for CPU stopcodes
  1589				;10) Call RELOAD, JOBSTP, BUGSTP, or CPOPJ depending on stopcode type
  1590				;11) If system is to be continued, check for too many stopcodes per minute
  1591				;12) Restore primary protocol and keep-alive functions on POPJ
  1592				;13) Code at DIECON will resume at continue address (stored in .CPCPC)
  1593
  1594	002147'	554313	000000	DIE1:	HLRZ	T1,0(M)		;Get opcode (should be PUSHJ P,DIE)
  1595	002150'	620300	000037		TRZ	T1,37		;Clear index and indirect fields
  1596	002151'	302300	256000		CAIE	T1,(XCT)	;Is it a second XCT in a row?
  1597	002152'	254000	002162'		 JRST	DIE1A		;No, M points to literal block from macro
  1598	002153'	200313	000000		MOVE	T1,0(M)		;Yes, get the XCT instruction
  1599	002154'	202300	000000*		MOVEM	T1,.CPSTY##	;Save outside of the ACs
  1600	002155'	200300	002102*		MOVE	T1,.CPACA##	;Restore ACs (only T1, M, and P were changed)
  1601	002156'	200546	000013		MOVE	M,M(T1)		; in case of XCT TABLE(T1)
  1602	002157'	200306	000006		MOVE	T1,T1(T1)
  1603	002160'	201560	002154*		MOVEI	M,@.CPSTY##	;Get address this XCT points to
  1604	002161'	254000	002147'		JRST	DIE1		;Check for multiple XCT in a row
  1605
  1606				;0(M)=PUSHJ P,DIE		;Format of the literal block
  1607				;1(M)=SIXBIT /NAME/		;Unique name or /?STOP?/
  1608				;2(M)=1B0+<TYPE_^D18>+CONTINUEADDRESS
  1609				;3(M)=DATA,,TYPEOUTADDRESS	;Optional, present if 1B0 set in 2(M)
  1610
  1611	002162'	202540	000000*	DIE1A:	MOVEM	M,.CPSCB##	;Store address of STOPCD block
  1612	002163'	135300	003512'		LDB	T1,[POINT 4,2(M),17] ;Get stopcode type
  1613	002164'	301300	000000		CAIL	T1,0		;Within range
  1614	002165'	303300	000010		CAILE	T1,STPMAX
  1615	002166'	201300	000001		 MOVEI	T1,S$STOP	;No, don't make things worse
  1616	002167'	202300	002160*		MOVEM	T1,.CPSTY##	;Save as stopcode type
  1617		400000	000000			..=S%FAST	;Put reference to sign bit in the CREF listing
  1618	002170'	337006	002125'		SKIPG	PRCTAB(T1)	;Is this a fast stopcode (INFO or EVENT)?
  1619	002171'	254000	002174'		 JRST	DIE1B		;Yes
  1620	002172'	260040	000000*		PUSHJ	P,RCDSTB##	;No, record CPU and device status blocks
  1621	002173'	260040	000000*		PUSHJ	P,SVPPC##	;Save primary protocol, disable keep alive
  1622
  1623				COMMENT ~  Note: for TOPS-10 only ($U implemented in FILDDT version 40 or later)
  1624				 The following code is explicitly to make it easier to automatically map in
  1625				 a crash.  The usual sequence would be to use a DDT file which would say:
  1626				 	DIECDB[ $Q-.CPCDB+.CPEPT[ $Q'1000$U	Set up EPT to match dead CPU
  1627				 	SPTTAB$6U				Set up SPT mapping (KL paging)
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 20-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Routine to output the stopcode information

  1628				 	.CPACA[ $Q$5U				Set up ACs active at the time
  1629				~  ;End of COMMENT
  1630
  1631	002174'	200300	000000*	DIE1B:	MOVE	T1,.CPSLF##	;Get physical pointer to the CDB
  1632	002175'	202300	000000*		MOVEM	T1,DIECDB##	;Save where FILDDT can find it
  1633	002176'	200313	000001		MOVE	T1,1(M) 	;Get name of stopcode
  1634	002177'	202300	000000*		MOVEM	T1,.CPSNM##	;	CDB
  1635	002200'	202300	000000*		MOVEM	T1,%SYSNM##	;	GETTAB
  1636	002201'	200300	002060*		MOVE	T1,.CPSPC##	;Get PC of STOPCD macro (points to XCT)
  1637	002202'	202300	000000*		MOVEM	T1,%SYSPC##	;	GETTAB
  1638	002203'	200300	002167*		MOVE	T1,.CPSTY##	;Get stopcode type
  1639	002204'	202300	000000*		MOVEM	T1,%SYSTY##	;	GETTAB
  1640	002205'	200300	000000*		MOVE	T1,DATE##	;Get universal date/time
  1641	002206'	202300	000000*		MOVEM	T1,.CPSDT##	;	CDB
  1642	002207'	202300	000000*		MOVEM	T1,%SYSDT##	;	GETTAB
  1643	002210'	200300	000000*		MOVE	T1,.CPCPN##	;CPU number
  1644	002211'	202300	000000*		MOVEM	T1,%SYSCP##	;	GETTAB
  1645	002212'	550313	000002		HRRZ	T1,2(M) 	;Get continuation address
  1646	002213'	306300	000001		CAIN	T1,1		;Is it <.+1> ?
  1647	002214'	350300	002110*		 AOS	T1,.CPCPC##	;Yes, make for a skip return
  1648	002215'	332000	000006		SKIPE	T1		;If nonzero,
  1649	002216'	202300	002214*		 MOVEM	T1,.CPCPC##	; set the saved PC to the continue address
  1650
  1651	002217'	200300	002203*	DIE2:	MOVE	T1,.CPSTY##	;Get stopcode type
  1652	002220'	336000	000000*		SKIPN	DINITF##	;Always use CTYWAT if still in once-only
  1653		400000	000000			..=S%FAST	;Put reference to sign bit in the CREF listing
  1654	002221'	331006	002125'		 SKIPL	PRCTAB(T1)	;Is it an INFO or EVENT stopcode?
  1655	002222'	634300	000006		  TDZA	T1,T1		;No, use non-interrupt output routine
  1656	002223'	201300	000002		   MOVEI T1,2		;Yes, output to CTY and OPR LDB for these
  1657	002224'	260040	000000*		PUSHJ	P,OPROUT##	;Tell SCNSER to use this for INLMES
  1658	002225'	200300	002217*		MOVE	T1,.CPSTY##	;Get stopcode type
  1659	002226'	200306	002125'		MOVE	T1,PRCTAB(T1)	;Get the control bits for this type of STOPCD
  1660	002227'	607300	040000		TLNN	T1,(S%EVNT)	;Is this an EVENT?
  1661	002230'	254000	002252'		 JRST	DIE3		;No, a real STOPCODE
  1662	002231'	260040	002024*		PUSHJ	P,INLMES##	;Yes, do not ding bell for an event
  1663					 ASCIZ /
  1664	002232'	064244	522500	%% /
	002233'	000000	000000
  1665	002234'	200300	002225*		MOVE	T1,.CPSTY##	;Get type
  1666	002235'	200346	002114'		MOVE	T2,STPTYP(T1)	;'EVENT' or 'PATCH'
  1667	002236'	260040	003310'		PUSHJ	P,PRNAME
  1668	002237'	260040	002231*		PUSHJ	P,INLMES##
  1669	002240'	203476	467740		 ASCIZ / stopcode /
	002241'	617374	462500
	002242'	000000	000000
  1670	002243'	200340	002177*		MOVE	T2,.CPSNM##	;Get stopcode name
  1671	002244'	260040	003310'		PUSHJ	P,PRNAME	;Output SIXBIT
  1672	002245'	260040	002237*		PUSHJ	P,INLMES##
  1673	002246'	203036	420000		 ASCIZ / at /
  1674	002247'	260040	000000*		PUSHJ	P,LOCTIM##	;Output date, time of day
  1675	002250'	260040	001766*		PUSHJ	P,CRLF##
  1676	002251'	254000	002314'		JRST	DIE5		;Common code
  1677
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 20-3
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Routine to output the stopcode information

  1678				;?JOB stopcode UUOXWL(176070) at 24-JUL-85 12:34:56 GMT
  1679
  1680	002252'	201340	000012	DIE3:	MOVEI	T2,^D10		;Send 10 bells
  1681	002253'	260040	002462'		PUSHJ	P,BELLEN
  1682	002254'	260040	002245*		PUSHJ	P,INLMES##	;CRLF and "?"
  1683					 ASCIZ /
  1684
  1685	002255'	064241	505032
  1686	002256'	051760	000000	?/
  1687	002257'	200300	002234*		MOVE	T1,.CPSTY##	;Get type
  1688	002260'	200346	002114'		MOVE	T2,STPTYP(T1)	;'STOP', 'JOB', 'DEBUG', 'INFO'
  1689	002261'	306300	000001		CAIN	T1,S$STOP	;'STOP'?
  1690	002262'	200340	003513'		 MOVE	T2,[SIXBIT /HALT/] ;Yes, don't say "STOP stop"
  1691	002263'	260040	003310'		PUSHJ	P,PRNAME
  1692	002264'	260040	002254*		PUSHJ	P,INLMES##
  1693	002265'	203476	467740		 ASCIZ / stopcode "/
	002266'	617374	462500
	002267'	210000	000000
  1694	002270'	200340	002243*		MOVE	T2,.CPSNM##	;Get stopcode name
  1695	002271'	260040	003310'		PUSHJ	P,PRNAME	;(up to 6 characters)
  1696	002272'	200300	002257*		MOVE	T1,.CPSTY##	;Get type
  1697	002273'	302300	000000		CAIE	T1,S$NONAME	;One with no name?
  1698	002274'	254000	002306'		 JRST	DIE4		;Has a name
  1699				;?NONAME stopcode "SCNSER+123(123456)"
  1700	002275'	260040	002264*		PUSHJ	P,INLMES##
  1701	002276'	254000	000000		 ASCIZ /+/
  1702	002277'	550300	002201*		HRRZ	T1,.CPSPC##	;Yes, get PC of XCT instruction
  1703	002300'	275313	000000		SUBI	T1,(M)		;Minus addr of stopcode block
  1704	002301'	260040	003265'		PUSHJ	P,PRTDI8	;Print offset from start of module
  1705	002302'	260040	000000*		PUSHJ	P,PRLPR##	;"("
  1706	002303'	550300	002277*		HRRZ	T1,.CPSPC##	;Get stop PC
  1707	002304'	260040	003243'		PUSHJ	P,OCTPNT
  1708	002305'	260040	000000*		PUSHJ	P,PRRPR##		;")"
  1709	002306'	260040	002275*	DIE4:	PUSHJ	P,INLMES##
  1710	002307'	211014	172100		 ASCIZ /" at /
	002310'	000000	000000
  1711	002311'	260040	002247*		PUSHJ	P,LOCTIM##	;Output date, time of day
  1712	002312'	260040	002250*		PUSHJ	P,CRLF
  1713	002313'	260040	002420'		PUSHJ	P,PRTSYS	;Output SYSNO and SERIAL etc
  1714	002314'	200300	002272*	DIE5:	MOVE	T1,.CPSTY##	;Stopcode type again
  1715	002315'	200306	002125'		MOVE	T1,PRCTAB(T1)	;Get control bits
  1716	002316'	603300	200000		TLNE	T1,(S%NDDB)	;Suppress DDB and job typeout?
  1717	002317'	254000	002345'		 JRST	NODDB
  1718				;If a job was running, output JOB then DDB, blame STOPCD on the job
  1719				;If at interrupt level, output DDB then JOB, blame STOPCD on the device
  1720	002320'	201000	077400		MOVEI	S,PI.IPA	;Get the "PI's ON" mask
  1721	002321'	404000	002111*		AND	S,.CPCPI##	;Set S nonzero if any interrupts in progress
  1722	002322'	200100	000000*		MOVE	J,.CPJOB##	;Last job scheduled for this CPU
  1723	002323'	336000	000000		SKIPN	S		;At interrupt level?
  1724	002324'	260040	002617'		 PUSHJ	P,WHATJB	;No, UUO level, output JOB info first
  1725	002325'	621200	777777		TLZ	F,-1		;Clear LH in case F points to a DDB
  1726	002326'	260040	002700'		PUSHJ	P,CHKDDB	;Make sure it's not garbage
  1727	002327'	254000	002343'		  JRST	NODDB0		;Not a DDB pointer
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 20-4
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Routine to output the stopcode information

  1728	002330'	135300	001623*		LDB	T1,PJOBN##	;Get owning job number from DDB
  1729	002331'	332000	000006		SKIPE	T1		;Must not be null job
  1730	002332'	303300	001702*		CAILE	T1,JOBMAX##	;Must not be too big
  1731	002333'	254000	002343'		 JRST	NODDB0		;DDB not valid
  1732	002334'	260040	002306*		PUSHJ	P,INLMES##
  1733	002335'	433235	462500		 ASCIZ /File /
	002336'	000000	000000
  1734	002337'	260040	000000*		PUSHJ	P,PRTDDB##	;Print DEVICE:FILE.EXT[P,Pn,SFD,SFD,SFD]
  1735	002340'	260040	002312*		PUSHJ	P,CRLF##
  1736	002341'	322000	002345'		JUMPE	S,NODDB		;Don't change J if STOPCD at UUO level
  1737	002342'	135100	002330*		LDB	J,PJOBN##	;Interrupt level - get owning job number
  1738	002343'	332000	000000	NODDB0:	SKIPE	S		;Output job info last if at interrupt level
  1739	002344'	260040	002617'		 PUSHJ	P,WHATJB	;Output job number, PPN, etc
  1740
  1741	002345'	200313	000002	NODDB:	MOVE	T1,2(M)		;Get bits field
  1742	002346'	603300	400000		TLNE	T1,400000	;Is there more information?
  1743	002347'	336313	000003		 SKIPN	T1,3(M) 	;Yes, must be nonzero
  1744	002350'	254000	002365'		  JRST	NOTYPE		;Nothing there
  1745	002351'	502300	002216*		HLLM	T1,.CPCPC##	;Store LH where routine can find it
  1746	002352'	621300	777777		TLZ	T1,-1		;Clear out for indirect
  1747	002353'	261040	000006		PUSH	P,T1		;Save on stack
  1748				IFN P-1,<PRINTX ? The code at NODDB+5 assumes that P=1>
  1749	002354'	200740	002155*		MOVE	17,.CPACA##	;Point to the saved AC block
  1750	002355'	200017	000000		MOVE	0,0(17) 	;Load up S
  1751	002356'	205757	000002		MOVSI	17,2(17)	;Source address for AC2
  1752	002357'	541740	000002		HRRI	17,2		;One past P
  1753	002360'	251740	000017		BLT	17,17		;Restore all ACs except for P
  1754	002361'	260061	000000		PUSHJ	P,@(P)		;Call routine, 18 bits of data in LH of .CPCPC
  1755	002362'	262040	000006		POP	P,T1		;Clean up the stack
  1756	002363'	201000	077400		MOVEI	S,PI.IPA	;Get the "PI's ON" mask
  1757	002364'	404000	002321*		AND	S,.CPCPI##	;Set S nonzero if any interrupts in progress
  1758
  1759	002365'	200300	002314*	NOTYPE:	MOVE	T1,.CPSTY##	;Get error type
  1760	002366'	200306	002125'		MOVE	T1,PRCTAB(T1)	;Get control bits
  1761	002367'	205340	000040		MOVSI	T2,(DF.RIP)	;Is RELOAD in progress on other CPU?
  1762	002370'	616340	002106*		TDNN	T2,DEBUGF##	;Don't output meaningless CSB if so
  1763	002371'	607300	100000		TLNN	T1,(S%CSB)	;Output CSB?
  1764	002372'	254000	002376'		 JRST	NOCSB		;No, don't type CSB for trivial errors
  1765		400000	000000			..=DF.SBD	;Put reference to sign bit in the CREF listing
  1766	002373'	335000	002370*		SKIPGE	DEBUGF##	;Want DDT?
  1767	002374'	254000	002401'		 JRST	DIERS0		;Yes, skip CSB typout and PUSHJ to processor
  1768	002375'	260040	000000*		PUSHJ	P,TYPCSB##	;Type CPU Status Block info on the CTY
  1769
  1770	002376'	200300	002365*	NOCSB:	MOVE	T1,.CPSTY##	;Get error type
  1771	002377'	550306	002125'		HRRZ	T1,PRCTAB(T1)	;Address of routine to process it
  1772	002400'	260046	000000		PUSHJ	P,(T1)		;One of RELOAD,JOBSTP,BUGSTP,CPUSTP,CPOPJ
  1773
  1774	002401'	200300	002376*	DIERS0: MOVE	T1,.CPSTY##	;Get error type
  1775	002402'	550346	002136'		HRRZ	T2,SCTTAB(T1)	;Address of the per CPU counter
  1776	002403'	350007	000000		AOS	(T2)		;Increment stopcode count
  1777	002404'	554346	002136'		HLRZ	T2,SCTTAB(T1)	;Address of the system-wide counter
  1778	002405'	350007	000000		AOS	(T2)		;Increment stopcode count
  1779	002406'	200346	002125'		MOVE	T2,PRCTAB(T1)	;Get control bits
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 20-5
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Routine to output the stopcode information

  1780	002407'	201300	003514'		MOVEI	T1,[ASCIZ /[Continuing system]/]
  1781	002410'	332000	000000*		SKIPE	SLOCRS##	;DSKCLN requested?
  1782	002411'	201300	003520'		 MOVEI	T1,[ASCIZ /Requesting FULL DSKCLN/]
  1783	002412'	607340	040000		TLNN	T2,(S%EVNT)	;No message if EVENT
  1784	002413'	260040	001372*		 PUSHJ	P,CONMES##	;Send to CTY (don't do a SEND ALL)
  1785	002414'	260040	002340*		PUSHJ	P,CRLF##
  1786	002415'	332000	000000*		SKIPE	NOCRS##		;Severe disk errors detected?
  1787	002416'	254000	002532'		 JRST	RELOAD		;Don't continue if so
  1788	002417'	263040	000000		POPJ	P,		;If SVPPC was called, resume primary protocol
  1789
  1790				;W1051, hardware XXX, KS-4097, base 4200, W1051-P034/P36-12, 10-12-86, M01720
  1791				;Called from DIE and from ONCE
  1792
  1793	002420'	200340	000000*	PRTSYS::MOVE	T2,.CPSNO##	;SYSNO this monitor was built for
  1794	002421'	260040	003316'		PUSHJ	P,PR6BIT
  1795	002422'	260040	002334*		PUSHJ	P,INLMES##
  1796	002423'	261015	060744		 ASCIZ /, hardware /
	002424'	623574	171312
	002425'	200000	000000
  1797	002426'	510340	000000*		HLLZ	T2,.CPLOG##	;'AA', 'BB', etc
  1798	002427'	260040	003316'		PUSHJ	P,PR6BIT
  1799	002430'	260040	002422*		PUSHJ	P,INLMES##
  1800	002431'	261000	000000		 ASCIZ /, /
  1801	002432'	510340	000000*		HLLZ	T2,.CPCPU##	;'KL', 'KI', 'KS', 'F3'
  1802	002433'	260040	003316'		PUSHJ	P,PR6BIT
  1803	002434'	201400	000055		MOVEI	T3,"-"
  1804	002435'	260040	000000*		PUSHJ	P,COMTYO##
  1805	002436'	550300	002432*		HRRZ	T1,.CPCPU##	;CPU serial number monitor was built for
  1806	002437'	260040	000000*		PUSHJ	P,PRTDEC##
  1807	002440'	260040	002430*		PUSHJ	P,INLMES##
  1808	002441'	261014	260746		 ASCIZ /, base /
	002442'	625000	000000
  1809	002443'	550300	002426*		HRRZ	T1,.CPLOG	;Base node number
  1810	002444'	260040	003265'		PUSHJ	P,PRTOCT
  1811	002445'	260040	002440*		PUSHJ	P,INLMES##
  1812	002446'	261000	000000		 ASCIZ /, /
  1813	002447'	201300	000000*		MOVEI	T1,CONFIG##	;Full system number
  1814	002450'	260040	002413*		PUSHJ	P,CONMES##
  1815	002451'	260040	002445*		PUSHJ	P,INLMES##
  1816	002452'	261000	000000		 ASCIZ /, /
  1817	002453'	201300	000000*		MOVEI	T1,SYSDAT##	;System build date
  1818	002454'	260040	002450*		PUSHJ	P,CONMES##
  1819	002455'	260040	002451*		PUSHJ	P,INLMES##
  1820	002456'	261000	000000		 ASCIZ /, /
  1821	002457'	200340	000000*		MOVE	T2,CNFSID##	;Configuration system ID number
  1822	002460'	260040	003310'		PUSHJ	P,PRNAME
  1823	002461'	324740	002414*		PJRST	CRLF##
  1824
  1825				;SUBROUTINE TO SEND C(T2) BELLS
  1826				;CLOBBERS T1, T2, T3, T4
  1827	002462'	550300	000000*	BELLEN: HRRZ	T1,.CPTOA##	;Get typeout routine
  1828	002463'	306300	000000*		CAIN	T1,CTYTYO##	;Using normal buffered typeout?
  1829	002464'	634300	000006	BELLS:: TDZA	T1,T1		;Noninterrupt routine - must delay
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 20-6
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Routine to output the stopcode information

  1830	002465'	201300	000001		 MOVEI	T1,1		;No delay for INFO or EVENT stopcodes
  1831	002466'	261040	000006		PUSH	P,T1		;Save flag
  1832	002467'	261040	000007		PUSH	P,T2		;Save count
  1833	002470'	201400	000007	BELOOP:	MOVEI	T3,"G"-100	;BELL
  1834	002471'	260040	002435*		PUSHJ	P,COMTYO##	;DING
  1835	002472'	377001	000000		SOSG	(P)		;Decrement count of bells to output
  1836	002473'	254000	000000*		 JRST	TTPOPJ##	;Done
  1837	002474'	332001	777777		SKIPE	-1(P)		;Need to delay?
  1838	002475'	254000	002470'		 JRST	BELOOP		;No delay for INFO or EVENT
  1839	002476'	205300	000001	IFCPU  (KL),<MOVSI T1,1> 	;Loop 2^18 times on a KL10
  1840				IFNCPU (KL),<MOVEI T1,200000>	;Loop 2^16 times for all others
  1841	002477'	120340	002501'		DMOVE	T2,BECODE	;Put delay in ACs to avoid erratic timing
  1842	002500'	254000	000007		JRST	T2		; due to presence or absence of cache
  1843
  1844	002501'	367300	000007	BECODE: SOJG	T1,T2		;(T2) Decrement and loop
  1845	002502'	254000	002470'		JRST	BELOOP		;(T3) Output another bell when done
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 21
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- CPUSTP = CPU stopcode

  1846				SUBTTL	STOPCD -- CPUSTP = CPU stopcode
  1847	002503'	260040	002455*	CPUSTP:	PUSHJ	P,INLMES##
  1848	002504'	375010	350252		 ASCIZ /? CPU or hardware error - / ;Hardware other than the disks
	002505'	203376	220320
	002506'	607454	473702
	002507'	713124	062744
	002510'	713376	220132
	002511'	200000	000000
  1849	002512'	254000	002532'		JRST	RELOAD
  1850
  1851				SUBTTL	STOPCD -- DSKSTP = DISK stopcode
  1852	002513'	200300	002303*	DSKSTP:	MOVE	T1,.CPSPC##	;PC of where error was detected
  1853	002514'	202300	002410*		MOVEM	T1,SLOCRS##	;Make nonzero to request full DSKCLN
  1854	002515'	254000	002532'		JRST	RELOAD
  1855
  1856				SUBTTL	STOPCD -- STPSTP = stopcode limit exceeded
  1857	002516'	260040	002503*	STPSTP:	PUSHJ	P,INLMES##
  1858	002517'	375012	372336		 ASCIZ /? Stopcode limit exceeded - /
	002520'	703075	762312
	002521'	203315	166722
	002522'	721014	574306
	002523'	627134	462710
	002524'	201324	000000
  1859	002525'	254000	002532'		JRST	RELOAD
  1860
  1861				SUBTTL	STOPCD -- INFSTP = INFO stopcode
  1862	002526'	263040	000000	INFSTP:	POPJ	P,		;No dump on INFO codes, no limit either
  1863
  1864				SUBTTL	STOPCD -- EVNSTP = EVENT stopcode
  1865	002527'	263040	000000	EVNSTP:	POPJ	P,		;No dump on EVENT codes, no limit either
  1866
  1867				SUBTTL	STOPCD -- DSKCLN - Set flag to do a full DSKCLN
  1868	002530'	262040	002514*	DSKCLN::POP	P,SLOCRS##	;Get PC of where error was detected
  1869	002531'	254020	002530*		JRST	@SLOCRS##	;"POPJ P,"
  1870
  1871				SUBTTL	STOPCD -- RELOAD = STOP or CPU stopcode
  1872
  1873		000040	000000		DF.RLD==DF.RIP
  1874	002532'	205300	000040	RELOAD::MOVSI	T1,(DF.RLD)	;Indicate that reload was requested
  1875	002533'	436300	002373*		IORM	T1,DEBUGF##	;For CRSCPY to notice
  1876	002534'	260040	002516*		PUSHJ	P,INLMES##
  1877	002535'	513135	467702		 ASCIZ /Reload monitor
	002536'	621015	567734
	002537'	647515	771032
  1878
  1879	002540'	050321	226532	----------------------------------------------------
	002541'	265325	526532
	002542'	265325	526532
	002543'	265325	526532
	002544'	265325	526532
	002545'	265325	526532
	002546'	265325	526532
	002547'	265325	526532
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 21-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- RELOAD = STOP or CPU stopcode

	002550'	265325	526532
	002551'	265325	526532
	002552'	265325	526532
  1880	002553'	064240	000000	/
  1881	002554'	201340	000024		MOVEI	T2,^D20		;20 BELLS
  1882	002555'	260040	002464'		PUSHJ	P,BELLS		;..
  1883				;*;	MOVE	T1,.CPSPC##	;Get the stop PC
  1884				;*;	MOVEM	T1,CRSHWD##	;Store location 30 for SYSTAT/X
  1885				;*;	MOVE	T1,.CPSNM##	;Get stopcode name
  1886				;*;	MOVEM	T1,CRSWHY##	;Store in location 24 for ONCE to check
  1887	002556'	324740	000000*		PJRST	REBOOT##	;Go to COMMON and reload monitor
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 22
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- BUGSTP = DEBUG stopcode

  1888				SUBTTL	STOPCD -- BUGSTP = DEBUG stopcode
  1889
  1890	002557'	260040	002711'	BUGSTP:	PUSHJ	P,STCLIM	;Has STOPCD limit been exceeded?
  1891	002560'	254000	002516'		  JRST	STPSTP		;Yes, output message and reload
  1892	002561'	205300	200000		MOVSI	T1,(DF.RDC)	;Want to Reload on Debug Codes?
  1893	002562'	612300	002533*		TDNE	T1,DEBUGF##
  1894	002563'	254000	002532'		 JRST	RELOAD		;Yes
  1895	002564'	205300	010000		MOVSI	T1,(DF.DDC)	;Want to suppress Dump on Debug Codes?
  1896	002565'	616300	002562*		TDNN	T1,DEBUGF##	;If flag is off (normal case),
  1897	002566'	260040	003150'		 PUSHJ	P,CRSDMP	;Take a continuable dump
  1898	002567'	263040	000000		POPJ	P,		;Return to DIERS0
  1899
  1900				SUBTTL	STOPCD -- JOBSTP = JOB stopcode
  1901
  1902	002570'	260040	002711'	JOBSTP::PUSHJ	P,STCLIM	;Has STOPCD limit been exceeded?
  1903	002571'	254000	002516'		  JRST	STPSTP		;Yes, output message and RELOAD
  1904	002572'	205300	100000		MOVSI	T1,(DF.RJE)	;Want to Reload on Job Error?
  1905	002573'	616300	002565*		TDNN	T1,DEBUGF##
  1906	002574'	332000	000000		 SKIPE	S		; or is PI in progress?
  1907	002575'	254000	002532'		  JRST	RELOAD		;Yes, do not continue
  1908	002576'	332000	002322*		SKIPE	.CPJOB		;Can't stop the null job
  1909	002577'	332000	000000*		SKIPE	.CPISF##	;Can't stop a job if In Scheduler Flag is set
  1910	002600'	254000	002532'		 JRST	RELOAD
  1911	002601'	205300	004000		MOVSI	T1,(DF.DJE)	;Want to suppress Dump on Job Errors?
  1912	002602'	616300	002573*		TDNN	T1,DEBUGF##	;If flag is off (normal case),
  1913	002603'	260040	003150'		 PUSHJ	P,CRSDMP	;Go take a continuable dump
  1914	002604'	260040	002534*		PUSHJ	P,INLMES##
  1915	002605'	556034	267744		 ASCIZ /[Aborting job]
	002606'	723235	663500
	002607'	653374	256432
  1916	002610'	050000	000000	/
  1917	002611'	260040	000000*		PUSHJ	P,GIVLOK##	;Give back locks this CPU owns
  1918	002612'	201300	002615'		MOVEI	T1,STPJOB	;Routine to kill off job (after PI reenabled)
  1919	002613'	202300	002351*		MOVEM	T1,.CPCPC##	;Store as continue PC
  1920	002614'	263040	000000		POPJ	P,		;Return to DIERS0
  1921
  1922				;This routine will be called for JOB stopcode after interrupts are re-enabled.
  1923				;Here to stop an ill fated user.
  1924
  1925	002615'	200100	002576*	STPJOB::MOVE	J,.CPJOB	;Job number
  1926	002616'	254000	000326'		JRST	ERRMED		;Output "Monitor Error Detected" and halt job
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 23
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- WHATJB and WHATUU

  1927				SUBTTL	STOPCD -- WHATJB and WHATUU
  1928				;Routine to type user name and store info in .GTSYS (GETTAB table 51)
  1929				;Call with job number in J, and nonzero in S if at interrupt level
  1930
  1931				;Frame 2  TTY12  SMITHJOSEPH[3,431116](TYMCOM-P034[377777,377777])
  1932				;Running (FTSYS)FILDDT[1,315372]
  1933				; UUO is 043300,,000014 at exec PC 123456
  1934				;MUUO is 047000,,777777 at user PC 000141
  1935
  1936	002617'	333000	000002	WHATJB:	SKIPLE	J		;Check job number
  1937	002620'	303100	002332*		CAILE	J,JOBMAX##
  1938	002621'	254000	002644'		 JRST	WHATUU		;Output failing UUO for S..EUE with null job
  1939	002622'	202100	000000*		MOVEM	J,%SYSJN##	;Store job number in GETTAB table 51
  1940	002623'	202100	000000*		MOVEM	J,.CPSJN##
  1941	002624'	550302	000000*		HRRZ	T1,TTYTAB##(J)	;Get pointer to DDB (LH of TTYTAB has flags)
  1942	002625'	200306	000000		MOVE	T1,(T1)		;Get name of controlling terminal
  1943	002626'	202300	000000*		MOVEM	T1,%SYSTN##
  1944	002627'	202300	000000*		MOVEM	T1,.CPSTN##
  1945	002630'	200302	000000*		MOVE	T1,JBTAUN##(J)	;Get user's logged-in PPN
  1946	002631'	202300	000000*		MOVEM	T1,%SYSPP##
  1947	002632'	202300	000000*		MOVEM	T1,.CPSPP##
  1948	002633'	260040	001754*		PUSHJ	P,PJOBX##	;Output job, TTY, username, PPN, crlf
  1949	002634'	200302	001764*		MOVE	T1,JBTFPN##(J)	;Program PPN
  1950	002635'	202300	000000*		MOVEM	T1,%SYSPD##
  1951	002636'	202300	000000*		MOVEM	T1,.CPSPD##
  1952	002637'	200342	001762*		MOVE	T2,JBTPRG##(J)	;Program name
  1953	002640'	202340	000000*		MOVEM	T2,%SYSPN##
  1954	002641'	202340	000000*		MOVEM	T2,.CPSPN##
  1955	002642'	260040	001755'		PUSHJ	P,ERRPRG	;Output program name
  1956	002643'	326000	002002*		JUMPN	S,CPOPJ##	;No UUO if at interrupt level
  1957					PFALL	WHATUU		;Else fall into WHATUU and return
  1958
  1959				;Routine to output UUO and PC of UUO.  Example:
  1960				;UUO is 043300,,000014 at exec PC 123456 called from MUUO at user PC 000331
  1961
  1962	002644'	200300	000424*	WHATUU::MOVE	T1,%UPT+UPTMUU	;Most recent UUO or illegal instruction
  1963	002645'	202300	000000*		MOVEM	T1,%SYSUU##
  1964	002646'	202300	000000*		MOVEM	T1,.CPSUU##
  1965	002647'	200340	000425*		MOVE	T2,%UPT+UPTMUP	;Get PC of UUO or illegal instruction
  1966	002650'	275340	000001		SUBI	T2,1		;PC was incremented as part of the trap
  1967	002651'	202340	000000*		MOVEM	T2,%SYSUP##
  1968	002652'	202340	000000*		MOVEM	T2,.CPSUP##
  1969	002653'	260040	002604*		PUSHJ	P,INLMES##
  1970	002654'	202532	547500		 ASCIZ / UUO is /
	002655'	647464	000000
  1971	002656'	200300	002646*		MOVE	T1,.CPSUU##	;UUO or instruction causing Ill Mem Ref
  1972	002657'	260040	003221'		PUSHJ	P,HWDPNT	;Print as octal halfwords
  1973	002660'	200340	002652*		MOVE	T2,.CPSUP##
  1974	002661'	260040	003236'		PUSHJ	P,PCP		;" at exec PC" or " at user PC"
  1975	002662'	200340	000000*		MOVE	T2,%UPT+UPTPDL	;Get user's top-level return PC
  1976	002663'	312340	000425*		CAME	T2,%UPT+UPTMUP	;Same?
  1977	002664'	336000	000000*		SKIPN	%UPT+UPTUUO##	;And top level MUUO not zero?
  1978	002665'	324740	002461*		 PJRST	CRLF##		;Yes
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 23-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- WHATJB and WHATUU

  1979	002666'	260040	002653*		PUSHJ	P,INLMES##	;No, Monitor did MUUO on behalf of user
  1980					ASCIZ /
  1981	002667'	064251	552652	MUUO is /
	002670'	475015	171500
	002671'	000000	000000
  1982	002672'	200300	000000*		MOVE	T1,%UPT+UPTUUO##;Get user-mode MUUO instruction
  1983	002673'	260040	003221'		PUSHJ	P,HWDPNT	;Print as octal halfwords
  1984	002674'	200340	000000*		MOVE	T2,%UPT+UPTPDL	;Get user-mode PC saved at top of stack
  1985	002675'	275340	000001		SUBI	T2,1		;Backup PC to point to MUUO (not return PC)
  1986	002676'	260040	003236'		PUSHJ	P,PCP		;" at user PC 000000"
  1987	002677'	324740	002665*		PJRST	CRLF
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 24
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- CHKDDB and STCLIM

  1988				SUBTTL	STOPCD -- CHKDDB and STCLIM
  1989
  1990				;ROUTINE TO CHECK A DDB ADDRESS BEFORE USING IT TO TYPE FILE INFORMATION
  1991				;DURING DIE PROCESSING.
  1992				;CALL:	MOVEI	F,ADDRESS
  1993				;	PUSHJ	P,CHKDDB
  1994				;	  RETURN HERE IF ADDRESS IS ILLEGAL FOR SOME REASON
  1995				;	RETURN HERE IF ADDRESS IS OK
  1996
  1997	002700'	315200	000000*	CHKDDB:	CAMGE	F,SYSSIZ##	;LARGER THAN THE LOW SEG?
  1998	002701'	307200	001000		CAIG	F,1000		;OR TOO SMALL?
  1999	002702'	304000	000000		 CAIA			;YES, MAY STILL BE IN FUNNY SPACE
  2000	002703'	254000	000000*		  JRST	CPOPJ1##	;GIVE SKIP RETURN
  2001				; TYMCOM-X does not put DDBs in funny space
  2002				;*;	CAIL	F,.FPMC		;LEGAL ADDRESS IN
  2003				;*;	CAIL	F,.FPMC+NWMCP	;  FUNNY SPACE?
  2004				;*;	 POPJ	P,		;NO, BAD DDB ADDRESS
  2005	002704'	257304	000000		MAP	T1,(F)		;MAP THE ADDRESS
  2006	002705'	260040	000000*		PUSHJ	P,FLTCHK##	;WILL REFERENCE FAULT?
  2007	002706'	263040	000000		  POPJ	P,		;YES, BAD ADDRESS
  2008				; TYMCOM-X does not have DEFSFD, use DEVATB instead
  2009	002707'	257304	000000*		MAP	T1,DEVATB##(F)	;LAST ADDRESS IN DDB REFERENCED BY PRTDDB
  2010	002710'	324740	002705*		PJRST	FLTCHK##	;CHECK ADDRESS AND RETURN
  2011
  2012				;ROUTINE TO SEE IF THIS STOPCD HAS CAUSED US TO EXCEED ON OF THE
  2013				;STOPCDS-PER-UNIT-TIME LIMITS.
  2014				;CALL:	PUSHJ	P,STCLIM
  2015				;	  RETURN HERE IF A LIMIT HAS BEEN EXCEEDED
  2016				;	  RETURN HERE IF NOT
  2017				; SCLTAB::XWD	^D60,  LIM1MS	;Period = 1 minute,  Limit = LIM1MS = 2
  2018				;	  XWD	^D480, LIM8MS	;Period = 8 minutes, Limit = LIM8MS = 4
  2019				;	  XWD	^D3600,LIM1HS	;Period = 1 hour,    Limit = LIM1HS = 8
  2020				; SCLTBL=3 (SCLTAB and SCCTAB defined in COMMON)
  2021
  2022	002711'	335000	002602*	STCLIM:	SKIPGE	DEBUGF##	;IF DEBUGGING
  2023	002712'	254000	002703*		 JRST	CPOPJ1##	;THEN NO STOPCD LIMITS
  2024	002713'	205300	000000*		MOVSI	T1,-SCCTBL##	;BUILD AOBJN POINTER TO TABLE
  2025	002714'	350346	000000*	STCLI1:	AOS	T2,SCCTAB##(T1)	;INCREMENT NEXT COUNT
  2026	002715'	550406	000000*		HRRZ	T3,SCLTAB##(T1)	;GET THE LIMIT
  2027	002716'	301350	000000		CAIL	T2,(T3)		;EXCEED THE LIMIT?
  2028	002717'	263040	000000		 POPJ	P,		;YES, GIVE ERROR RETURN
  2029	002720'	253300	002714'		AOBJN	T1,STCLI1	;NO, LOOP FOR NEXT
  2030			000001	XP .SLDSC,1	;Sleep request to Decrement Stopcode Count
  2031	002721'	554300	002715*		HLRZ	T1,SCLTAB##+0	;GET PERIOD OF LOWEST ENTRY IN TABLE (60 SECONDS)
  2032	002722'	505300	404000		HRLI	T1,(1B0+<.SLDSC>B6+0B18) ;Flag for seconds, call DECSCC, at 0
  2033	002723'	136300	000000*		IDPB	T1,CLOCK##	;Set to call DECSCC 60 seconds from now
  2034	002724'	254000	002712*		JRST	CPOPJ1##	;GIVE SKIP RETURN
  2035
  2036
  2037				;ROUTINE TO DECREMENT A STOPCD COUNT AND RESUBMIT A CLOCK QUEUE REQUEST
  2038				;FOR THE NEXT HIGHER COUNT, IF ONE EXISTS.
  2039				;CALL:	MOVEI	T1,INDEX INTO SCCTAB
  2040				;	PUSHJ	P,DECSCC
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 24-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- CHKDDB and STCLIM

  2041				;	  RETURN HERE ALWAYS
  2042
  2043				;Called from CLOCK1 with data in T1
  2044	002725'	375006	002714*	DECSCC::SOSGE	SCCTAB##(T1)	;DECREMENT COUNT
  2045	002726'	402006	002725*		 SETZM	SCCTAB##(T1)	;LEAVE ZERO IF IT WAS ZERO
  2046	002727'	350000	000006		AOS	T1		;INCREMENT LEVEL
  2047	002730'	301300	000000*		CAIL	T1,SCCTBL##	;DONE THE LAST LEVEL?
  2048	002731'	263040	000000		 POPJ	P,		;YES, RETURN NOW
  2049	002732'	200346	002721*		MOVE	T2,SCLTAB##(T1)	;GET WORD WITH NEW PERIOD
  2050	002733'	274346	777777*		SUB	T2,SCLTAB##-1(T1) ;SUBTRACT OLD PERIOD
  2051	002734'	557000	000007		HLRZS	T2		;KEEP JUST DIFFERENCE IN SECONDS
  2052	002735'	505340	404000		HRLI	T2,(1B0+<.SLDSC>B6) ;Flag for seconds, call DECSCC,
  2053	002736'	137300	003525'		DPB	T1,[POINT 7,T2,18]  ;Put current level in job number field
  2054	002737'	700600	000400		SYSPIF			;TELL SLAVE CPU TO NOT INTERRUPT THE IDPB PAIR
  2055	002740'	136340	002723*		IDPB	T2,CLOCK##	;STORE REQUEST
  2056	002741'	324740	000000*		PJRST	ONPOPJ##	;RETURN INTERLOCK AND POPJ
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 25
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Common typeout routines (4th arg of STOPCD macro)

  2057				SUBTTL	STOPCD -- Common typeout routines (4th arg of STOPCD macro)
  2058
  2059				;ROUTINES FOR STOPCODE MACRO TYPE OUT
  2060				;ALL ROUTINES WILL HAVE THE FORM DIE???::
  2061				;WHERE ??? ARE 3 LETTERS DESCRIPTIVE OF THE ROUTINE
  2062				;AN AUTOMATIC CARRIAGE RETURN/LINE FEED IS DONE BY CALLER
  2063
  2064
  2065				;ROUTINE TO TYPE OUT UNINAM(U) DURING STOPCD
  2066	002742'	260040	002666*	DIEUNI::PUSHJ	P,INLMES##	;START THE OUTPUT
  2067	002743'	527355	172100		ASCIZ	/Unit = /
	002744'	365000	000000
  2068	002745'	200340	002354*		MOVE	T2,.CPACA##	;GET ADDRESS OF AC SET
  2069	002746'	200347	000005		MOVE	T2,U(T2)	;GET "U" AT CRASH
  2070	002747'	200347	000000*		MOVE	T2,UNINAM##(T2)	;GET THE NAME
  2071	002750'	324740	003310'		PJRST	PRNAME		;PRINT OUT SIXBIT AND RETURN
  2072
  2073				; ROUTINE TO TYPE OUT STRNAM(P2) DURING A STOPCODE
  2074	002751'	260040	002742*	DIESTR::PUSHJ	P,INLMES##	;TYPE INTRODUCTION
  2075	002752'	517516	272706		ASCIZ	/Structure = /
	002753'	723536	262500
	002754'	365000	000000
  2076	002755'	200355	000000*		MOVE	T2,STRNAM##(P2)	;GET STR NAME
  2077	002756'	324740	003310'		PJRST	PRNAME		;TYPE IT AND RETURN
  2078
  2079				;Here from FILRIB when there are too many disk errors.
  2080				;This replaces STOPCD(NO) = <manual boots>+<manual once>+<full DSKCLN>
  2081
  2082	002757'	200300	002513*	DSKDIE::MOVE	T1,.CPSPC##	;Store PC of STOPCD(NO)
  2083	002760'	202300	002415*		MOVEM	T1,NOCRS##	; in NOCRS so COMMON won't tell BOOTS "/D"
  2084	002761'	265300	002454*		PJSP	T1,CONMES##	;Output message and POPJ
  2085	002762'	423236	365500		 ASCIZ /Disk is unsafe - requesting manual BOOTS with no dump.
	002763'	647464	072734
	002764'	717034	662500
	002765'	265016	262742
	002766'	727136	372322
	002767'	673164	066702
	002770'	673534	166100
	002771'	412371	752246
	002772'	203575	172320
	002773'	203355	720310
	002774'	727336	027032
  2086	002775'	051245	225124	***** Need to do a FULL DSKCLN when the disk is fixed. *****
	002776'	251011	662712
	002777'	621016	467500
	003000'	623364	060500
	003001'	432531	446100
	003002'	422471	341630
	003003'	471016	764312
	003004'	671016	464312
	003005'	203115	171726
	003006'	203236	320314
	003007'	647614	562134
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 25-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Common typeout routines (4th arg of STOPCD macro)

	003010'	201245	225124
  2087	003011'	250321	200000	/				;POPJ back to DIE
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 26
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Common typeout routines (4th arg of STOPCD macro)

  2088				;Routine to type out additional data during BUGINF
  2089				;Called via:
  2090				;	JSP	T1,BGCTYP
  2091				;	SIXBIT /NAME/
  2092				;	EXP    ADDR
  2093				;	SIXBIT /NAME2/
  2094				;	EXP    ADDR2
  2095				;	EXP	0       ;Returns by POPJ at end
  2096
  2097	003012'	200600	000006	BGCTYP::MOVE	P1,T1		;Copy pointer to data
  2098	003013'	257314	000000	BUGTY1:	MAP	T1,(P1)		;Make sure location is accessible
  2099	003014'	260040	002710*		PUSHJ	P,FLTCHK##	;Make sure it won't fault
  2100	003015'	263040	000000		  POPJ	P,		;Will fault, give up
  2101	003016'	336014	000000		SKIPN	(P1)		;Hit zero at end?
  2102	003017'	263040	000000		 POPJ	P,		;Yes
  2103	003020'	661600	400000		TLO	P1,400000	;Remember that something was typed
  2104	003021'	260040	002751*		PUSHJ	P,INLMES##	;Space entries apart
  2105	003022'	201004	000000		 ASCIZ /   /
  2106	003023'	200354	000000		MOVE	T2,(P1)		;Get item name
  2107	003024'	260040	003310'		PUSHJ	P,PRNAME
  2108	003025'	260040	003021*		PUSHJ	P,INLMES##
  2109	003026'	351000	000000		 ASCIZ /: /
  2110	003027'	257314	000001		MAP	T1,1(P1)	;Make sure this won't fault
  2111	003030'	260040	003014*		PUSHJ	P,FLTCHK##
  2112	003031'	263040	000000		  POPJ	P,		;Abort instead of faulting
  2113	003032'	200354	000001		MOVE	T2,1(P1)	;Get the address of the item
  2114	003033'	257307	000000		MAP	T1,(T2)		;Check if it is legal
  2115	003034'	260040	003030*		PUSHJ	P,FLTCHK##
  2116	003035'	263040	000000		  POPJ	P,
  2117	003036'	200314	000001		MOVE	T1,1(P1)	;Get address
  2118	003037'	200340	002745*		MOVE	T2,.CPACA##	;Address of saved ACs
  2119	003040'	270340	000006		ADD	T2,T1		;Offset into the AC save block
  2120	003041'	307300	000017		CAIG	T1,17		;Item in the crash ACs?
  2121	003042'	334307	000000		 SKIPA	T1,(T2)		;Yes, fetch from proper location
  2122	003043'	200306	000000		  MOVE	T1,(T1)		;No, get directly
  2123	003044'	260040	003272'		PUSHJ	P,PRT22A	;Print as halfwords
  2124	003045'	271600	000001		ADDI	P1,1		;Increment for doublewords
  2125	003046'	344600	003013'		AOJA	P1,BUGTY1	;Loop until 0 is found
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 27
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Common typeout routines (4th arg of STOPCD macro)

  2126				;Routines to output the contents of one accumulator on the CTY
  2127
  2128	003047'	261040	000006	PRTT1::	PUSH	P,T1		;Routine to output the contents of T1
  2129	003050'	260040	003025*		PUSHJ	P,INLMES##	;This routine called by STOPCD processor
  2130	003051'	417375	672312		 ASCIZ /Contents of T1 = /
	003052'	673516	320336
	003053'	631012	430500
	003054'	365000	000000
  2131	003055'	262040	000006	PRTT0:	POP	P,T1		;Get saved value
  2132	003056'	260040	003221'		PUSHJ	P,HWDPNT	;Print as halfwords
  2133	003057'	324740	002677*		PJRST	CRLF##
  2134
  2135	003060'	261040	000007	PRTT2::	PUSH	P,T2		;Routine to output the contents of T2
  2136	003061'	260040	003050*		PUSHJ	P,INLMES##	;This routine called by STOPCD processor
  2137	003062'	417375	672312		 ASCIZ /Contents of T2 = /
	003063'	673516	320336
	003064'	631012	431100
	003065'	365000	000000
  2138	003066'	324740	003055'		PJRST	PRTT0
  2139
  2140	003067'	261040	000010	PRTT3::	PUSH	P,T3		;Routine to output the contents of T3
  2141	003070'	260040	003061*		PUSHJ	P,INLMES##	;This routine called by STOPCD processor
  2142	003071'	417375	672312		 ASCIZ /Contents of T3 = /
	003072'	673516	320336
	003073'	631012	431500
	003074'	365000	000000
  2143	003075'	324740	003055'		PJRST	PRTT0
  2144
  2145	003076'	261040	000011	PRTT4::	PUSH	P,T4		;Routine to output the contents of T4
  2146	003077'	260040	003070*		PUSHJ	P,INLMES##	;This routine called by STOPCD processor
  2147	003100'	417375	672312		 ASCIZ /Contents of T4 = /
	003101'	673516	320336
	003102'	631012	432100
	003103'	365000	000000
  2148	003104'	324740	003055'		PJRST	PRTT0
  2149
  2150	003105'	260040	003077*	PRTJOB::PUSHJ	P,INLMES##	;This routine called by STOPCD processor
  2151	003106'	503454	573322		 ASCIZ /Previous JOB = /
	003107'	677536	320224
	003110'	476044	036500
	003111'	000000	000000
  2152	003112'	200300	001547*		MOVE	T1,JOB
  2153	003113'	260040	002437*		PUSHJ	P,PRTDEC
  2154	003114'	260040	003105*		PUSHJ	P,INLMES##
  2155	003115'	261014	161706		 ASCIZ /, accumulator J = /
	003116'	727336	566302
	003117'	723376	220224
	003120'	201724	000000
  2156	003121'	324740	001640*		PJRST	PJOB##		;Type J as decimal and CRLF
  2157
  2158	003122'	261040	000014	PRTP1::	PUSH	P,P1		;Routine to output the contents of P1
  2159	003123'	260040	003114*		PUSHJ	P,INLMES##	;This routine called by STOPCD processor
  2160	003124'	417375	672312		 ASCIZ /Contents of P1 = /
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 27-2
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Common typeout routines (4th arg of STOPCD macro)

	003125'	673516	320336
	003126'	631012	030500
	003127'	365000	000000
  2161	003130'	324740	003055'		PJRST	PRTT0
  2162
  2163	003131'	261040	000005	PRTPGU::PUSH	P,U		;Routine to output the contents of U and PG
  2164	003132'	261040	000003		PUSH	P,PG
  2165	003133'	260040	003123*		PUSHJ	P,INLMES##	;This routine called by STOPCD processor
  2166	003134'	417375	672312		 ASCIZ /Contents of PG = /
	003135'	673516	320336
	003136'	631012	043500
	003137'	365000	000000
  2167	003140'	262040	000006		POP	P,T1		;Get saved value
  2168	003141'	260040	003221'		PUSHJ	P,HWDPNT	;Print as halfwords
  2169	003142'	260040	003133*		PUSHJ	P,INLMES##	;Then next part
  2170	003143'	261012	567322		 ASCIZ /, Unit # (U) = /
	003144'	721004	320120
	003145'	525224	036500
	003146'	000000	000000
  2171	003147'	324740	003055'		PJRST	PRTT0		;Restore U, and fall into common code
  2172
  2173				;ROUTINE TO CALL BUGDMP TO TAKE A CONTINUABLE STOPCD DUMP
  2174				;AND THEN SET DF.RQC IN DEBUGF WHICH WILL CAUSE CRSCPY
  2175				;TO BE CALLED BY THE BOOT CPU AT THE NEXT TICK.  WE
  2176				;CAN'T CALL CRSCPY DIRECTLY BECAUSE THE SCNSER INTERLOCK
  2177				;MAY NOT BE FREE.
  2178				;ENTER AT FRCCPY TO JUST SET DF.RQC (FROM ADDSDL)
  2179				;CALL:	PUSHJ	P,CRSDMP
  2180				;	RETURN HERE ALWAYS
  2181
  2182	003150'	260040	000000*	CRSDMP:	PUSHJ	P,BUGDMP##	;Call MONBTS to take a dump
  2183	003151'	263040	000000		  POPJ	P,		;Couldn't
  2184					PFALL	FRCCPY		;Set flag to run CRSCPY
  2185
  2186				;Routine to set flag to run CRSCPY (called if BUGDMP is successful)
  2187				;Also called from ONCE to run CRSCPY when system starts up
  2188
  2189	003152'	205300	001000	FRCCPY::MOVSI	T1,(DF.RQC)	;If the CRSCPY request has not been
  2190	003153'	205340	000100		MOVSI	T2,(DF.DCC)	; disabled via the /NOCOPY startup
  2191	003154'	616340	002711*		TDNN	T2,DEBUGF##	; switch, then set DF.RQC in DEBUGF to
  2192	003155'	436300	003154*		 IORM	T1,DEBUGF##	; cause the CRSCPY routine to be called
  2193	003156'	412340	003155*		ANDCAM	T2,DEBUGF##	; on the next clock tick
  2194	003157'	263040	000000		POPJ	P,		;End of FRCCPY/CRSDMP
  2195
  2196				;Routine to start up the CRASH-COPY program to copy SYS:CRASH.EXE
  2197				;Called from once-a-tick code if DF.RQC was set in DEBUGF
  2198
  2199				;CRSCPY::SKIPGE	DEBUGF##	;Don't do anything if debugging
  2200				;*;	 POPJ	P,
  2201				;*;	PUSHJ	P,FRCSET##	;Set up to store characters in FRCLIN's input
  2202				;*;	MOVE	T2,CCPNAM##	;Get SIXBIT name of program to run
  2203				;*;	PUSHJ	P,PRNAME	;Store in FRCLIN's input bufer
  2204				;*;	PJRST	CRLF##		;Add CRLF and return
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 27-3
ERRCON.MAC	 6-NOV-87 12:32		STOPCD -- Common typeout routines (4th arg of STOPCD macro)

  2205
  2206				SUBTTL	End of STOPCD processor (see REBOOT:: and .CPSLF in COMMON)
  2207				;-------------------------------------------------------------------------------
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 28
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2208				SUBTTL	ROUTINE TO PRINT MUUO PC AND STOP JOB
  2209				;IF IN USER MODE PC WILL PRINT AS "AT USER LOC XXX"
  2210				;IF IN EXEC MODE "AT EXEC LOC XXX; EXEC CALLED FORM EXEC/USER/ LOC YYY
  2211
  2212	003160'	200340	000000*	UUOPCP:	MOVE T2,%UPT+UPTPDL	;PC of user's MUUO is at top of PDL
  2213	003161'	275340	000001		SUBI	T2,1		;POINT TO THE ACTUAL UUO
  2214	003162'	260040	003236'		PUSHJ	P,PCP		;PRINT " AT EXEC XXX" OR " AT USER "
  2215	003163'	607340	010000		TLNN	T2,PC.USR	;PC IN USER MODE?
  2216	003164'	324740	002024'		PJRST	ERRSCU		;NO, TELL HIM WHERE UUO IS
  2217				;	PJRST	TCLTTY		;CLEAR TTY INPUT BUFFER AND PUT IT IN MONITOR MODE
  2218
  2219				;ROUTINE TO CLEAR TTY INPUT BUFFER AND PUT IT IN MONITOR MODE.
  2220
  2221	003165'	260040	000000*	TCLTTY:	PUSHJ	P,TTYFND	;GET ORIGINAL U AND F FROM C(J)
  2222	003166'	322240	002643*		JUMPE	U,CPOPJ		;IF NO LINE, FORGET IT.
  2223	003167'	260040	000000*	TCLTT0:	PUSHJ	P,TSETBI	;CLEAR TYPE AHEAD
  2224	003170'	260040	000000*		PUSHJ	P,PRRSP1	;PRINT WATCH DATA AND CRLF
  2225	003171'	324740	000000*		PJRST	TTYSTC		;AND PUT TTY IN MONITOR MODE.
  2226
  2227				;ROUTINE TO RESET U TO JOB'S LDB IF ANY, PRINT WATCH DATA AND PERIOD,
  2228				; STOP TERMINAL, BUT DO NOT CLEAR TYPE AHEAD.
  2229				; USED BY EXIT AND EXIT 1, IF JOB IS NOT DETACHED. (SO NEVER COME
  2230				; IN WITH OPR'S LDB)
  2231
  2232	003172'	260040	003057*	TNCTTY:	PUSHJ	P,CRLF
  2233	003173'	260040	000000*	E1STTY:	PUSHJ	P,PRRSP3	;WATCH DATA, CRLF, PERIOD
  2234	003174'	324740	003171*		PJRST	TTYSTC		;AND PUT TTY IN COMMAND MODE.
  2235
  2236				;ROUTINE TO HANDLE TTY ON TIME LIMIT EXCEEDED
  2237				; IF DETACHED, PUT IT INTO
  2238				; TO WAIT. WHEN IT COMES OUT OF WAIT ON ATTACH,
  2239				; JOB WILL RESCHEDULE AND PRINT TIME LIMIT EXCEEDED NEXT TIME
  2240				; AROUND THRU RSCHED.
  2241				;ROUTINE TO STOP TELETYPE FOR TIME LIMIT EXCEEDED.
  2242				; ERRFNU MUST BE SET AS THE TTY FINDING ROUTINE.
  2243				; MUST ENTER WITH U SETUP TO LINE OR 0, F SETUP TO DDB ADDRESS OF
  2244				; TTY OR 0.
  2245
  2246				EXTERNAL TTYSOW,CIP6,PJBSTS,TTYFNU,TIOWQ,TTYSTC,PRRSP1,PRRSP3
  2247
  2248	003175'	326240	003167'	TLETTY:	JUMPN	U,TCLTT0	;IF LDB, DO NORMAL THING.
  2249	003176'	326200	003200'		JUMPN	F,TLTOW		;NO LDB, IF DDB, PUT FRAME INTO TO WAIT
  2250	003177'	263040	000000		POPJ	P,		;NOTHING, JUST RETURN.
  2251
  2252				;HERE IF NO LINE, PUT INTO IO WAIT IF THERE IS A DDB
  2253	003200'	260040	000000*	TLTOW:	PUSHJ	P,TTYSOW	;SET OUTPUT WAIT IN SCNSER
  2254	003201'	205000	000001		MOVSI	S,IOW	;PUT DDB INTO IOW
  2255	003202'	436004	000002		IORM	S,DEVIOS(F)
  2256	003203'	201300	000000*		MOVEI	T1,TIOWQ
  2257	003204'	137300	000000*		DPB	T1,PJBSTS
  2258	003205'	263040	000000		POPJ	P,		;AND RETURN.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 29
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2259				;ROUTINE TO STOP JOB, BUT RETURN TO CALLER AND LET HIM GO THRU NORMAL USRXIT
  2260				; USED FOR BAD INTERRUPT ADDRESS
  2261
  2262				EXTERNAL KJSTOP,STOP1,USCHED
  2263
  2264	003206'	260040	001225*	BISTOP:	PUSHJ	P,KJSTOP	;STOP THE JOB
  2265	003207'	201300	003166*		MOVEI	T1,CPOPJ	;RETURN WITH A POPJ FROM CLKTRP
  2266	003210'	542300	000425*		HRRM	T1,%UPT+UPTMUP	;
  2267	003211'	254000	000000*		JRST	KTRRET##
  2268
  2269				;ROUTINE TO STOP JOB CONTINUABLY
  2270
  2271	003212'	260040	001651*	HISTOP:	PUSHJ	P,STOP1		;STOP JOB CONTINUABLY.
  2272	003213'	324740	001656*		PJRST	WSCHED		;AND CALL SCHEDULER. POPJ RETURN TO JRST ERR???
  2273
  2274				;ROUTINE TO STOP FOR EXIT 1,
  2275
  2276	003214'	260040	003212*	E1STOP:	PUSHJ	P,STOP1		;STOP THE JOB (DON'T SET JERR, SO IT COMES BACK)
  2277	003215'	254000	000000*		JRST	USCHED		;AND CALL THE SCHEDULER.
  2278
  2279				;ROUTINE CALLED WHEN IT IS DESIRED TO STOP A FRAME AND INTERRUPT
  2280				; ITS PARENT OR TRAPHANDLER BUT NOT STORE AN EXIT CODE OR
  2281				; INCREMENT EXIT COUNT IN THE TARGET FRAME. USED FOR HALT COMMAND,
  2282				; HALT FRMOP.
  2283
  2284	003216'	260040	001711'	TRHALT::PUSHJ	P,HLTTRP	;INTERRUPT TRAPHANDLER OR PARENT IF ANY
  2285	003217'	324740	003214*		  PJRST	STOP1		;WAS TRAPHANDLER OR PARENT
  2286	003220'	324740	003217*		PJRST	STOP1		;WAS NO TRAPHANDLER OR PARENT.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 30
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2287				;ROUTINE TO TYPE A NUMBER AS HALFWORDS SEPARATED BY COMMAS.
  2288				;CALL:	MOVE	T1,NUMBER
  2289				;	PUSHJ	P,HWDPNT
  2290				;	RETURN
  2291
  2292	003221'	261040	000006	HWDPNT::PUSH	P,T1		;SAVE T1 FOR RH
  2293	003222'	557000	000006		HLRZS	T1		;KEEP JUST LH
  2294	003223'	260040	003243'		PUSHJ	P,OCTPNT	;PRINT AS 6 OCTAL DIGITS
  2295	003224'	260040	003142*		PUSHJ	P,INLMES	;PRINT THE TWO COMMAS
  2296	003225'	261300	000000		ASCIZ/,,/		;...
  2297	003226'	262040	000006		POP	P,T1		;RESTORE T1 FOR RH
  2298	003227'	324740	003243'		PJRST	OCTPNT		;PRINT RH AND RETURN
  2299
  2300				;ROUTINE TO PRINT PC AS:
  2301				;1) "EXEC LOC XXX" OR "USER LOC XXX"
  2302				;CALL:	MOVE T2,PC TO PRINT(LH=PC FLAGS)
  2303				;	PUSHJ P,PCP
  2304
  2305	003230'	203036	420312	XMODE:	ASCIZ / at exec PC /
	003231'	743134	320240
	003232'	415000	000000
  2306	003233'	203036	420352	UMODE:	ASCIZ / at user PC /
	003234'	717136	220240
	003235'	415000	000000
  2307
  2308	003236'	201300	003230'	PCP::	MOVEI	T1,XMODE	;ASSUME PC IN EXEC MODE
  2309	003237'	603340	010000		TLNE	T2,PC.USR	;IS IT?
  2310	003240'	201300	003233'		MOVEI	T1,UMODE	;NO, USER MODE
  2311	003241'	260040	002761*		PUSHJ	P,CONMES	;PRINT ONE OR OTHER
  2312	003242'	550300	000007		HRRZ	T1,T2		;PRINT RIGHT HALF IN OCTAL
  2313								; FALL INTO OCTPNT
  2314
  2315				;ROUTINE TO PRINT 6 DIGIT OCTAL NUMBER
  2316				;CALL:	MOVEI U,U DATA BLOCK ADDRESS FOR TTY
  2317				;	HRR T1, OCTAL NUMBER
  2318				;	PUSHJ P,OCTPNT
  2319				;	RETURN T2,PRESERVED,T1 DESTROYED
  2320
  2321	003243'	514300	000006	OCTPNT::HRLZ	T1,T1		;MOVE TO LH FOR ROTATING
  2322	003244'	660300	700000		TRO	T1,700000	;SETUP AN END FLAG
  2323
  2324	003245'	241300	000003	OCTP1:	ROT	T1,3		;GET NEXT OCTAL DIGIT
  2325	003246'	607300	777777		TLNN	T1,777777	;WAS THAT FLAG?
  2326	003247'	263040	000000		POPJ	P,		;YES, DO NOT PRINT IT
  2327	003250'	261040	000006		PUSH	P,T1		;SAVE T1 OVER I/O ROUTINE
  2328	003251'	260040	003262'		PUSHJ	P,PRTNUM	;NO, PRINT OCTAL DIGIT
  2329	003252'	262040	000006		POP	P,T1		;RESTORE T1
  2330	003253'	541300	000000		HRRI	T1,0		;CLEAR RH
  2331	003254'	254000	003245'		JRST	OCTP1		;GET NEXT OCTAL DIGIT
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 31
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2332	003255'	231300	000012	PRTDIG::IDIVI	T1,12		;DIVIDE BY 10
  2333	003256'	506341	000000		HRLM	T2,(P)		;RT ON PD LIST
  2334	003257'	322300	003261'		JUMPE	T1,.+2		;FINISHED?
  2335	003260'	260040	003255'		PUSHJ	P,PRTDIG	;NO, CALL S OR F
  2336	003261'	554301	000000	PRTNMM:	HLRZ	T1,(P)		;YES, GET LAST NUMBER
  2337	003262'	201406	000060	PRTNUM:	MOVEI	T3,"0"(T1)	;CONVERT TO ASCII
  2338	003263'	324740	002471*		PJRST	COMTYO##	;AND TYPE IT OUT
  2339
  2340				;RECURSIVE OCTAL PRINT ROUTINE
  2341				;CALL:	MOVE T1,<OCTAL NUMBER>
  2342	003264'	260040	003265'		PUSHJ P,PRTOCT
  2343
  2344	003265'			PRTDI8::
  2345	003265'	231300	000010	PRTOCT::IDIVI	T1,10		;DIVIDE BY 8
  2346	003266'	506341	000000		HRLM	T2,(P)		;PUT ON STACK
  2347	003267'	322300	003261'		JUMPE	T1,PRTNMM	;FINISHED?
  2348	003270'	260040	003265'		PUSHJ	P,PRTDI8	;NO - LOOP
  2349	003271'	324740	003261'		PJRST	PRTNMM		;OUTPUT
  2350
  2351				;SUBROUTINE TO PRINT 22 BIT OCTAL ADDRESS
  2352				;CALL:	MOVE	T1,22 BIT ADDRESS
  2353				;	PUSHJ	P,PRT22A
  2354				;	ALWAYS RETURN
  2355
  2356	003272'	261040	000006	PRT22A::PUSH	P,T1		;SAVE 22 BIT ADDRESS
  2357	003273'	554301	000000		HLRZ	T1,(P)		;GET HIGH ORDER HALF
  2358	003274'	322300	003300'		JUMPE	T1,PRT22B	;IS IT 0 (USUALLY EXCEPT BIG SYSTEMS)
  2359	003275'	260040	003265'		PUSHJ	P,PRTDI8	;NO, PRINT AS LEADING 0 SUPPRESSED OCTAL
  2360	003276'	260040	003224*		PUSHJ	P,INLMES	;THEN TWO COMMAS
  2361	003277'	261300	000000		 ASCIZ	/,,/
  2362	003300'	262040	000006	PRT22B:	POP	P,T1		;GET LOW ORDER HALF
  2363	003301'	324740	003243'		PJRST	OCTPNT		;PRINT AS NON ZERO SUPPRESSED OCTAL (RH ONLY)
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 32
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2364				;ROUTINE TO PRINT "DEVICE XXX"
  2365				;	MOVEI F,<ADDRESS OF DEVICE NAME TO PRINT>
  2366				;	PUSHJ P,ERNAM
  2367
  2368	003302'	260040	003276*	ERNAM::	PUSHJ	P,INLMES
  2369	003303'	623136	664706		 ASCIZ /device /
	003304'	625000	000000
  2370	003305'	336000	000004		SKIPN	F	;IF NO F SETUP,
  2371	003306'	334340	003526'		 SKIPA	T2,[SIXBIT/??????/] ;THEN SAY DON'T KNOW
  2372	003307'	200344	000000		MOVE	T2,DEVNAM(F)	;NO, GET DEVICE NAME
  2373					PFALL	PRNAME
  2374
  2375				;Routine to output sixbit name
  2376				;CALL	MOVE U,ADDRESS OF LDB
  2377				;	MOVE T2,NAME
  2378				;	PUSHJ P,PRNAME
  2379
  2380	003310'	322340	003207*	PRNAME::JUMPE	T2,CPOPJ##	;Stop when no more (no trailing blanks)
  2381	003311'	201300	000000		MOVEI	T1,0
  2382	003312'	246300	000006		LSHC	T1,6		;SHIFT IN NEXT CHAR.
  2383	003313'	201406	000040		MOVEI	T3,40(T1)	;CONVERT SIXBIT TO ASCII
  2384	003314'	260040	003263*		PUSHJ	P,COMTYO	;OUTPUT CHARACTER
  2385	003315'	254000	003310'		JRST	PRNAME
  2386
  2387				;Routine to output sixbit name, ignoring leading blanks
  2388
  2389	003316'	322340	000000*	PR6BIT::JUMPE	T2,PRSPC##	;Print a single space if whole word is blank
  2390	003317'	603340	770000		TLNE	T2,770000	;Left justified?
  2391	003320'	254000	003310'		 JRST	PRNAME		;Yes
  2392	003321'	242340	000006		LSH	T2,6		;No, make it
  2393	003322'	254000	003316'		JRST	PR6BIT
  2394
  2395				;Routine to output name in full (including leading and trailing blanks)
  2396
  2397	003323'	200300	003527'	PRNAMF::MOVE	T1,[POINT 6,T2]	;Print full name in T2
  2398	003324'	134400	000006	PRNAM1:	ILDB	T3,T1		;Get char
  2399	003325'	271400	000040		ADDI	T3,40		;Convert to ASCII
  2400	003326'	260040	003314*		PUSHJ	P,COMTYO
  2401	003327'	603300	770000		TLNE	T1,770000	;Ran out of byte pointer?
  2402	003330'	254000	003324'		 JRST	PRNAM1		;No, do all 6
  2403	003331'	263040	000000		POPJ	P,
  2404
  2405				;ROUTINE TO PRINT FILE NAME AND EXTENSION IF NONZERO.
  2406				; P3/ FILE NAME
  2407				; P4/ ZERO OR EXTENSTION TO PRINT
  2408
  2409
  2410	003332'	200340	000016	ERFNAM:	MOVE	T2,P3		;FIRST PRINT FILE NAME
  2411	003333'	260040	003310'		PUSHJ	P,PRNAME
  2412	003334'	322740	003310*		JUMPE	P4,CPOPJ	;IF NO EXTENSTION, JUST RETURN
  2413	003335'	260040	000000*		PUSHJ	P,PRPER##	;PRINT A DOT
  2414	003336'	200340	000017		MOVE	T2,P4		;GET EXTENSTION
  2415	003337'	324740	003310'		PJRST	PRNAME		;PRINT EXTENSTION AND RETURN.
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 32-2
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2416
  2417				;ROUTINE TO PRINT OUT CRLF AND A QUESTION MARK FOR SEGCON ERRORS.
  2418
  2419	003340'	265300	003241*	CRLFQ:	PJSP	T1,CONMES	;PRINT ? AND CRLF
  2420					ASCIZ/
  2421	003341'	064247	700000	?/
  2422
  2423	003342'	000000	000000		$END	(ECN)

  2424	003343'	000000	000001

  2425	003344'	000000	000002

  2426	003345'	000000	000003

  2427	003346'	000000	000004

  2428	003347'	000000	000005

  2429	003350'	000000	000006

  2430	003351'	000000	000007

  2431	003352'	000001	000000

  2432	003353'	000001	000001

  2433	003354'	000001	000002

  2434	003355'	000001	000003

  2435	003356'	000001	000004

  2436	003357'	000001	000005

  2437	003360'	000001	000006

  2438	003361'	000002	000000

  2439	003362'	000002	000001

  2440	003363'	000002	000002

  2441	003364'	000002	000003

  2442	003365'	000002	000004

  2443	003366'	000002	000005

  2444	003367'	000003	000000

  2445	003370'	000003	000001

ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 32-3
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2446	003371'	000003	000002

  2447	003372'	000003	000003

  2448	003373'	000003	000004

  2449	003374'	000004	000000

  2450	003375'	000004	000001

  2451	003376'	000004	000002

  2452	003377'	000004	000003

  2453	003400'	000004	000004

  2454	003401'	000004	000005

  2455	003402'	000004	000006

  2456	003403'	000004	000007

  2457	003404'	000005	000000

  2458	003405'	000005	000001

  2459	003406'	000005	000002

  2460	003407'	000005	000003

  2461	003410'	000005	000004

  2462	003411'	000005	000005

  2463	003412'	000005	000006

  2464	003413'	000005	000007

  2465	003414'	000005	000010

  2466	003415'	000005	000011

  2467	003416'	000005	000012

  2468	003417'	260040	002036'

  2469	003420'	604147	654445

  2470	003421'	000002	000000

  2471	003422'	111101	000000

  2472	003423'	260040	002036'
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 32-4
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB


  2473	003424'	515545	000000

  2474	003425'	400001	000000

  2475	003426'	000000	001331'

  2476	003427'	362532	052174

  2477	003430'	000000	000000

  2478	003431'	363414	163712

  2479	003432'	711014	660722

  2480	003433'	663536	262574

  2481	003434'	000000	000000

  2482	003435'	363355	720302

  2483	003436'	617074	571746

  2484	003437'	370000	000000

  2485	003440'	363454	560710

  2486	003441'	203375	666362

  2487	003442'	370000	000000

  2488	003443'	363115	171350

  2489	003444'	745740	000000

  2490	003445'	363576	264750

  2491	003446'	647354	737000

  2492	003447'	363416	561330

  2493	003450'	647067	600000

  2494	003451'	363074	161720

  2495	003452'	627107	600000

  2496	003453'	363535	670302

  2497	003454'	637134	437000

  2498	003455'	700140	000000*

ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 32-5
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB

  2499	003456'	251300	001455'

  2500	003457'	201300	001645*

  2501	003460'	542301	000000

  2502	003461'	254000	001430*

  2503	003462'	260040	002036'

  2504	003463'	456044	545766

  2505	003464'	000001	000000

  2506	003465'	200200	000004

  2507	003466'	260040	002036'

  2508	003467'	604147	564362

  2509	003470'	000002	000000

  2510	003471'	260040	002036'

  2511	003472'	655154	000000

  2512	003473'	000004	000000

  2513	003474'	260040	002036'

  2514	003475'	456545	000000

  2515	003476'	000002	000000

  2516	003477'	000000	000000*

  2517	003500'	260040	002036'

  2518	003501'	656557	455152

  2519	003502'	000001	000000

  2520	003503'	301402	000000*

  2521	003504'	260040	003310'

  2522	003505'	254000	001733'

  2523	003506'	251740	000017*

  2524	003507'	260040	002036'

  2525	003510'	445145	426043
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 32-6
ERRCON.MAC	 6-NOV-87 12:32		ROUTINE TO PRINT MUUO PC AND STOP JOB


  2526	003511'	000001	000000

  2527	003512'	220413	000002

  2528	003513'	504154	640000

  2529	003514'	556075	767350

  2530	003515'	647356	564734

  2531	003516'	635016	374746

  2532	003517'	723135	556400

  2533	003520'	513136	172712

  2534	003521'	717515	167316

  2535	003522'	202152	546230

  2536	003523'	202112	345606

  2537	003524'	462340	000000

  2538	003525'	210700	000007

  2539	003526'	373737	373737

  2540	003527'	440600	000007

  2541						;End of ERRCON (ECNLIT: ECNEND:)
  2542
NO ERRORS DETECTED
PROGRAM BREAK IS 003531
10K CORE USED
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 33
ERRCON.MAC	 6-NOV-87 12:32		SYMBOL TABLE

AB.USR		000000	EXT	DEBUGF		003156'	EXT	ERRDOP		000474'	INT	ERRWRV		000040'	INT
ABKACS		001436'	INT	DECSCC		002725'	INT	ERREUF		001066'	INT	ESTOP		001657'	EXT
ABKSET		001426'	EXT	DEVATB		002707'	EXT	ERREX1		000627'	INT	EUE		001577'	INT
ABTCPL		001550'	EXT	DEVHNG		001610'	INT	ERREXI		000614'	INT	EVNSTP		002527'	
ABTUUO		003457'	EXT	DEVIOS		000002	SIN	ERRFCL		000726'	INT	EXCAB1		001417'	
ADRBRK		001424'	INT	DEVNAM		000000	SIN	ERRFEX		000637'	INT	EXCABK		001406'	
ADRERR		001511'	INT	DF.DCC	000100	000000	SPD	ERRFNF		001030'	INT	EXCDFL		001505'	
ALR620		001747'	EXT	DF.DDC	010000	000000	SPD	ERRFNU		001767'		EXCFLG		000400	SIN
ALRACT		000040	SIN	DF.DJE	004000	000000	SPD	ERRFX1		000733'	INT	EXCMPE		001316'	INT
ALRUSR		000100	SIN	DF.RDC	200000	000000	SPD	ERRHDV		000455'	INT	EXCPDL		001500'	INT
BASAVE		000000	EXT	DF.RIP	000040	000000	SPD	ERRHLT		000565'	INT	EXCPIO		001467'	INT
BECODE		002501'		DF.RJE	100000	000000	SPD	ERRICO		000370'	INT	EXCTPL		001507'	
BELLEN		002462'		DF.RLD	000040	000000	SPD	ERRIDM		000414'	INT	EXDFNU		001773'	
BELLS		002464'	INT	DF.RQC	001000	000000	SPD	ERRIIA		000121'	INT	EXIFNU		001777'	
BELOOP		002470'		DF.SBD	400000	000000	SPD	ERRILI		000547'	INT	F		000004	INT
BGCTYP		003012'	INT	DIE		002036'	INT	ERRILU		000517'	INT	FEXPR1		001733'	
BISTOP		003206'		DIE0		002040'		ERRIMR		000020'	INT	FEXPRT		001726'	
BUGDMP		003150'	EXT	DIE1		002147'		ERRIMU		000100'	INT	FLGHNG		000002	SIN
BUGSTP		002557'		DIE1A		002162'		ERRIUC		000436'	INT	FLGMPT		020000	SIN
BUGTY1		003013'		DIE1B		002174'		ERRJSU		000672'	INT	FLTCHK		003034'	EXT
CHKAB1		001542'		DIE2		002217'		ERRJSV		000710'	INT	FORTY		001573'	EXT
CHKABT		001541'		DIE3		002252'		ERRMED		000326'	INT	FRCCPY		003152'	INT
CHKDDB		002700'		DIE4		002306'		ERRMGF		001173'	INT	GETOPR		001663'	EXT
CIP6		000000	EXT	DIE5		002314'		ERRMHB		001132'	INT	GIVLOK		002611'	EXT
CLKPC1		001325'	EXT	DIEBPC		002113'	INT	ERRNSA		001211'	INT	GOBACK		002110'	INT
CLKPC2		001326'	EXT	DIECDB		002175'	EXT	ERRNSF		001051'	INT	HISTOP		003212'	
CLKTR1		001246'	EXT	DIECON		002110'	INT	ERROCI		000344'	INT	HLTTR1		001723'	
CLOCK		002740'	EXT	DIEDDT		002042'	INT	ERROP1		001750'		HLTTRP		001711'	
CNFSID		002457'	EXT	DIEMNR		002067'	INT	ERROPR		001746'		HNGSTP		001617'	INT
COMNT1		001247'	EXT	DIERS0		002401'		ERRPAR		000306'	INT	HNGSTW		001642'	
COMNT2		001240'	EXT	DIESTR		002751'	INT	ERRPCO		000003'	INT	HNSTOP		001647'	
COMTYO		003326'	EXT	DIEUNI		002742'	INT	ERRPGN		000766'	INT	HOLD		000000	EXT
CONFIG		002447'	EXT	DINITF		002220'	EXT	ERRPHE		000225'	INT	HWDPNT		003221'	INT
CONMES		003340'	EXT	DSKCLN		002530'	INT	ERRPIO		000170'	INT	IFDET		001777'	EXT
CPOPJ		003334'	EXT	DSKDIE		002757'	INT	ERRPOV		000153'	INT	ILLINS		001600'	INT
CPOPJ1		002724'	EXT	DSKSTP		002513'		ERRPRG		001755'	INT	IME		001323'	INT
CPUKI		000001	SPD	E1STOP		003214'		ERRRMF		001154'	INT	INFSTP		002526'	
CPUKL		000002	SPD	E1STTY		003173'		ERRSC1		002031'		INLMES		003302'	EXT
CPUKS		000003	SPD	ECNEND		003530'	INT	ERRSCD		002021'		IOACT		010000	SIN
CPUSTP		002503'		ECNLIT		003342'	INT	ERRSCM		002033'		IOHNG		000100	SIN
CPUTYP		000002	SPD	EMUERR		001575'		ERRSCP		002013'		IOW		000001	SIN
CPZZ		000000	SPD	EPDLOV		001502'	INT	ERRSCU		002024'		IPOPJ1		001725'	EXT
CRDFL%		001555'	EXT	EPFTAB		001456'	INT	ERRSE0		001700'		J		000002	INT
CRLF		003172'	EXT	ERFNAM		003332'		ERRSES		001674'		JBTABT		001544'	EXT
CRLFQ		003340'		ERNAM		003302'	INT	ERRSET		001677'		JBTAUN		002630'	EXT
CRS147		002037'	EXT	ERRABK		000137'	INT	ERRSEX		001676'		JBTFPN		002634'	EXT
CRSDMP		003150'		ERRADC		000056'	INT	ERRSWP		001657'	INT	JBTFTR		003503'	EXT
CRSHAC		002046'	EXT	ERRCAL		000577'	INT	ERRTLE		000654'	INT	JBTPC		001265'	EXT
CSDMP		002065'	EXT	ERRCAN		001112'	INT	ERRTPL		000244'	INT	JBTPIP		001237'	EXT
CTYTYO		002463'	EXT	ERRCIO		000270'	INT	ERRTRE		000750'	INT	JBTPRG		002637'	EXT
DAEEST		002071'	EXT	ERRCLS		000005	SPD	ERRTT1		001741'		JBTSTS		001724'	EXT
DATE		002205'	EXT	ERRCON		000000'	ENT	ERRTTY		001734'		JBYECF		001711'	EXT
DEBUGF		003156'	EXT	ERRDFL		000206'	INT	ERRUUE		000533'	INT	JBYEXC		001716'	EXT
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 33-2
ERRCON.MAC	 6-NOV-87 12:32		SYMBOL TABLE

JBYHNG		001643'	EXT	PI.TFP		001000	SPD	S$ENTR	777777	777775	SIN	TSTKTP		001475'	EXT
JBYPER		001473'	EXT	PI.TNP		002000	SPD	S$EVEN		000006	SIN	TSTTRP		001243'	EXT
JBYPGT		001241'	EXT	PIOMOD		000000	EXT	S$HALT	777777	777777	SIN	TTPOPJ		002473'	EXT
JDCON		020000	SIN	PJBSTS		003204'	EXT	S$INFO		000005	SIN	TTYERP		001735'	EXT
JOB		003112'	EXT	PJOB		003121'	EXT	S$JOB		000002	SIN	TTYFND		003165'	EXT
JOBMAX		002620'	EXT	PJOBN		002342'	EXT	S$NAME		000000'	SPD	TTYFNU		001770'	EXT
JOBSTP		002570'	INT	PJOBX		002633'	EXT	S$NONA		000000	SIN	TTYFUW		002006'	EXT
KJSTOP		003206'	EXT	PJRST	324740	000000		S$PATC		000007	SIN	TTYSOW		003200'	EXT
KTRRET		003211'	EXT	PJSP	265000	000000		S$STOP		000001	SIN	TTYSTC		003174'	EXT
KTRRT1		003461'	EXT	PJUMPE	322000	000000		S$TEMP	000001	000000	SPD	TTYSTR		000000	EXT
LOCTIM		002311'	EXT	PR6BIT		003316'	INT	S$XCT	777777	777776	SIN	TTYTAB		002624'	EXT
LUUOPC		001566'	INT	PRCTAB		002125'		S%CSB	100000	000000	SPD	TYPCSB		002375'	EXT
LUUPDL		001564'		PREVAC		002050'	EXT	S%EVNT	040000	000000	SPD	TYPIM1		001365'	
M		000013	INT	PRLPR		002302'	EXT	S%FAST	400000	000000	SPD	TYPIME		001331'	
MAPBTS		000011	SPD	PRNAM1		003324'		S%NDDB	200000	000000	SPD	U		000005	INT
MAPTBL		001375'		PRNAME		003310'	INT	S..EUE		001577'	INT	UIL		001576'	INT
MONHNG		002010'	EXT	PRNAMF		003323'	INT	S..IME		001323'	INT	UMODE		003233'	
MONSTR		001660'	EXT	PRPER		003335'	EXT	S..UIL		001576'	INT	UNINAM		002747'	EXT
NOCREA		001551'	INT	PRRPR		002305'	EXT	SAV30		000000	EXT	UPFTAB		001274'	
NOCRS		002760'	EXT	PRRSP1		003170'	EXT	SCCTAB		002726'	EXT	UPFTBT		001252'	
NOCSB		002376'		PRRSP3		003173'	EXT	SCCTBL		002730'	EXT	UPSABK		001417'	EXT
NODDB		002345'		PRSPC		003316'	EXT	SCLTAB		002732'	EXT	UPTABK		000000	EXT
NODDB0		002343'		PRT22A		003272'	INT	SCTTAB		002136'		UPTABL		000000	EXT
NODIE		002034'	INT	PRT22B		003300'		SETIOD		001612'	EXT	UPTECN		001710'	EXT
NOTYPE		002365'		PRTDDB		002337'	EXT	SKPMRN		002066'	EXT	UPTEDV		000000	EXT
OCTP1		003245'		PRTDEC		003113'	EXT	SLOCRS		002531'	EXT	UPTEL1		000000	EXT
OCTPNT		003243'	INT	PRTDI8		003265'	INT	SPFW.U		400000	SIN	UPTELC		000000	EXT
ONPOPJ		002741'	EXT	PRTDIG		003255'	INT	STCLI1		002714'		UPTEPC		001704'	EXT
OPROUT		002224'	EXT	PRTDIR		001761'	EXT	STCLIM		002711'		UPTETP		000000	EXT
P		000001	INT	PRTJOB		003105'	INT	STOP1		003220'	EXT	UPTEUP		001706'	EXT
P1		000014	INT	PRTNMM		003261'		STPJOB		002615'	INT	UPTJOB		001700'	EXT
P2		000015	INT	PRTNUM		003262'		STPMAX		000010	SPD	UPTMUP		000425	SIN
P3		000016	INT	PRTOCT		003265'	INT	STPSTP		002516'		UPTMUU		000424	SIN
P4		000017	INT	PRTP1		003122'	INT	STPTYP		002114'		UPTOPP		000501	SIN
PAGFLE		001317'	EXT	PRTPGU		003131'	INT	STRNAM		002755'	EXT	UPTPDL		001705'	EXT
PAGFLU		001270'	EXT	PRTPPN		001765'	EXT	SVPPC		002173'	EXT	UPTPFW		000500	SIN
PAGNCR		001556'	INT	PRTSYS		002420'	INT	SYSDAT		002453'	EXT	UPTSTS		000000	EXT
PAGUDE		001251'	INT	PRTT0		003055'		SYSSIZ		002700'	EXT	UPTUII		000000	EXT
PC.ADR		001000	SIN	PRTT1		003047'	INT	T1		000006	INT	UPTUUO		000000	EXT
PC.USR		010000	SIN	PRTT2		003060'	INT	T2		000007	INT	UPTXII		000000	EXT
PCP		003236'	INT	PRTT3		003067'	INT	T3		000010	INT	USCHED		003215'	EXT
PDNMUP		001600'	EXT	PRTT4		003076'	INT	T4		000011	INT	USRABK		001311'	
PFDFC%		000000	EXT	PVYHNG		002003'	EXT	TAKTRP		001720'	EXT	USRILR		001305'	
PFSWE%		000000	EXT	PX.MEM		000004	SPD	TCLTT0		003167'		USRMP2		001272'	INT
PFW.A		100000	SIN	PX.SRC		000001	SPD	TCLTTY		003165'		USRMPE		001262'	INT
PFW.H		200000	SIN	PXCT	256000	000000		TIOWQ		003203'	EXT	USRMPT		001226'	INT
PFW.R		001000	SIN	RCDSTB		002172'	EXT	TLETTY		003175'		USRSP1		001250'	
PFW.W		040000	SIN	REBOOT		002556'	EXT	TLTOW		003200'		USRSPF		001231'	
PG		000003	INT	RELOAD		002532'	INT	TNCTTY		003172'		USRXIT		001271'	EXT
PI		000004	SPD	RESRET		002071'		TPOPJ		000000	EXT	UTRP		040000	SIN
PI.IPA		077400	SPD	S		000000	INT	TRHALT		003216'	INT	UUOADR		001513'	INT
PI.OFF		000400	SPD	S$CPU		000004	SIN	TSETBI		003167'	EXT	UUOEIJ		001703'	INT
PI.TFP		001000	SPD	S$DEBU		000003	SIN	TSTKOT		001644'	EXT	UUOERR		001563'	INT
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88 PAGE 33-3
ERRCON.MAC	 6-NOV-87 12:32		SYMBOL TABLE

UUOMNR		001560'	INT	..0077		000000	SPD	..0322		000000	SPD	
UUOPCP		003160'		..0100		000000	SPD	..0326		000000	SPD	
W		000012	INT	..0104		000000	SPD	..0327		000000	SPD	
WHATJB		002617'		..0105		000000	SPD	..0335		000000	SPD	
WHATUU		002644'	INT	..0111		000000	SPD	..0336		000000	SPD	
WRADB	700140	000000		..0112		000000	SPD	..0342		000000	SPD	
WSCHED		003213'	EXT	..0116		000000	SPD	..0343		000000	SPD	
XMODE		003230'		..0117		000000	SPD	..0347		000000	SPD	
XXXPDL		001503'		..0125		000000	SPD	..0350		000000	SPD	
%SYNCS		000000	EXT	..0126		000000	SPD	..0354		000000	SPD	
%SYNDS		000000	EXT	..0134		000000	SPD	..0355		000000	SPD	
%SYNIS		000000	EXT	..0135		000000	SPD	..0361		000000	SPD	
%SYNJS		000000	EXT	..0142		000000	SPD	..0362		000000	SPD	
%SYSCP		002211'	EXT	..0143		000000	SPD	.CPACA		003037'	EXT	
%SYSDT		002207'	EXT	..0147		000000	SPD	.CPCPC		002613'	EXT	
%SYSJN		002622'	EXT	..0150		000000	SPD	.CPCPI		002364'	EXT	
%SYSNM		002200'	EXT	..0155		001647'	SPD	.CPCPN		002210'	EXT	
%SYSPC		002202'	EXT	..0156		000000	SPD	.CPCPU		002436'	EXT	
%SYSPD		002635'	EXT	..0164		000000	SPD	.CPDDT		002107'	EXT	
%SYSPN		002640'	EXT	..0165		000000	SPD	.CPDWD		002104'	EXT	
%SYSPP		002631'	EXT	..0171		000000	SPD	.CPEPD		002054'	EXT	
%SYSTN		002626'	EXT	..0172		000000	SPD	.CPEVN		002105'	EXT	
%SYSTY		002204'	EXT	..0176		000000	SPD	.CPISF		002577'	EXT	
%SYSUP		002651'	EXT	..0177		000000	SPD	.CPJOB		002615'	EXT	
%SYSUU		002645'	EXT	..0203		003212'	SPD	.CPLOG		002443'	EXT	
%UPS		001674'	EXT	..0204		000000	SPD	.CPSCB		002162'	EXT	
%UPT		001677'	EXT	..0210		000000	SPD	.CPSDT		002206'	EXT	
%UPX		003477'	EXT	..0211		000000	SPD	.CPSJN		002623'	EXT	
..	400000	000000		..0215		000000	SPD	.CPSLF		002174'	EXT	
..0001		000000	SPD	..0216		000000	SPD	.CPSNC		002142'	EXT	
..0002		000000	SPD	..0223		003214'	SPD	.CPSND		002141'	EXT	
..0006		000000	SPD	..0224		000000	SPD	.CPSNI		002145'	EXT	
..0007		000000	SPD	..0227		000000	SPD	.CPSNJ		002140'	EXT	
..0013		000000	SPD	..0230		000000	SPD	.CPSNM		002270'	EXT	
..0014		000000	SPD	..0234		000000	SPD	.CPSNO		002420'	EXT	
..0020		000000	SPD	..0235		000000	SPD	.CPSPC		002757'	EXT	
..0021		000000	SPD	..0241		000000	SPD	.CPSPD		002636'	EXT	
..0026		000000	SPD	..0242		000000	SPD	.CPSPN		002641'	EXT	
..0027		000000	SPD	..0247		000000	SPD	.CPSPP		002632'	EXT	
..0033		003206'	SPD	..0250		000000	SPD	.CPSTN		002627'	EXT	
..0034		000000	SPD	..0255		000000	SPD	.CPSTY		002401'	EXT	
..0040		003212'	SPD	..0256		000000	SPD	.CPSUP		002660'	EXT	
..0041		000000	SPD	..0261		003214'	SPD	.CPSUU		002656'	EXT	
..0045		000000	SPD	..0262		000000	SPD	.CPSVA		002053'	EXT	
..0046		000000	SPD	..0266		000000	SPD	.CPTOA		002462'	EXT	
..0052		000000	SPD	..0267		000000	SPD	

ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

AB.USR	    37%
ABKACS	   980	   981	   988#
ABKSET	   974%	   974
ABTCPL	  1043%	  1080	  1083
ABTUUO	  1013%	  1025	  1190	  1205%
ADRBRK	   958	   972#
ADRERR	  1040#
ALR620	    33%	  1211	  1302
ALRACT	  1210
ALRUSR	  1301
BASAVE	  1452%
BECODE	  1841	  1844#
BELLEN	  1681	  1827#
BELLS	  1829#	  1882
BELOOP	  1833#	  1838	  1845
BGCTYP	  2097#
BISTOP	   322	  2264#
BUGDMP	  2182%	  2182
BUGSTP	  1554	  1890#
BUGTY1	  2098#	  2125
CHKAB1	  1040	  1077#
CHKABT	  1018	  1035	  1038	  1045	  1076#
CHKDDB	  1726	  1997#
CIP6	  2246%
CLKPC1	    39%	   871
CLKPC2	    39%	   872
CLKTR1	   777%	   800
CLOCK	  2033%	  2033	  2055%	  2055
CNFSID	  1821%	  1821
COMNT1	   777%	   801
COMNT2	   777%	   794
COMTYO	  1804%	  1804	  1834%	  1834	  2338%	  2338	  2384	  2400
CONFIG	  1813%	  1813
CONMES	   940	  1784%	  1784	  1814%	  1814	  1818%	  1818	  2084%	  2084	  2311	  2419
CPOPJ	  1359	  1956%	  1956	  2222	  2265	  2380%	  2380	  2412
CPOPJ1	  1235%	  2000%	  2000	  2023%	  2023	  2034%	  2034
CPUKI	   781	   782	   824	   825	   863	   864	   879	   916	  1048	  1049	  1057	  1058	  1124	  1125
	  1380	  1387
CPUKL	    37	  1462	  1839	  1840
CPUKS	   956	  1000	  1001
CPUSTP	  1555	  1847#
CPUTYP	    37	   781	   782	   824	   825	   863	   864	   879	   916	   956	  1000	  1001	  1048	  1049
	  1057	  1058	  1124	  1125	  1380	  1387	  1462	  1839	  1840
CPZZ	    37#	    37	   781#	   781	   782#	   782	   824#	   824	   825#	   825	   863#	   863	   864#	   864
	   879#	   879	   916#	   916	   956#	   956	  1000#	  1000	  1001#	  1001	  1048#	  1048	  1049#	  1049
	  1057#	  1057	  1058#	  1058	  1124#	  1124	  1125#	  1125	  1380#	  1380	  1387#	  1387	  1462#	  1462
	  1839#	  1839	  1840#	  1840
CRDFL%	  1090%	  1097
CRLF	   567	   942	  1186	  1293	  1319%	  1319	  1675%	  1675	  1712	  1735%	  1735	  1785%	  1785	  1823%
	  1823	  1978%	  1978	  1987	  2133%	  2133	  2232
CRLFQ	  2419#
CRS147	  1439%	  1439
CRSDMP	  1897	  1913	  2182#
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

CRSHAC	  1445%	  1445	  1446%	  1446	  1447%	  1447	  1450%	  1450
CSDMP	  1463%	  1463
CTYTYO	  1828%	  1828
DAEEST	  1471%	  1471
DATE	  1640%	  1640
DEBUGF	  1485%	  1485	  1762%	  1762	  1766%	  1766	  1875%	  1875	  1893%	  1893	  1896%	  1896	  1905%	  1905
	  1912%	  1912	  2022%	  2022	  2191%	  2191	  2192%	  2192	  2193%	  2193
DECSCC	  2044#
DEVATB	  2009%	  2009
DEVHNG	  1158#
DEVIOS	  1158	  1163	  2255
DEVNAM	   299	   430	   446	   462	   486	   499	   671	  1047	  2372
DF.DCC	  2190
DF.DDC	  1895
DF.DJE	  1911
DF.RDC	  1892
DF.RIP	  1761	  1873
DF.RJE	  1904
DF.RLD	  1873#	  1874
DF.RQC	  2189
DF.SBD	  1484	  1765
DIE	    12	    13	   804	   869	  1032	  1098	  1134	  1136	  1245	  1438#	  1505
DIE0	  1437	  1440#
DIE1	  1468	  1594#	  1604
DIE1A	  1597	  1611#
DIE1B	  1619	  1631#
DIE2	  1651#
DIE3	  1661	  1680#
DIE4	  1698	  1709#
DIE5	  1676	  1714#
DIEBPC	  1455	  1461	  1505#
DIECDB	  1632%	  1632
DIECON	  1487#
DIEDDT	  1442#
DIEMNR	  1465#
DIERS0	  1767	  1774#
DIESTR	  2074#
DIEUNI	  2066#
DINITF	  1652%	  1652
DSKCLN	  1868#
DSKDIE	  2082#
DSKSTP	  1559	  1852#
E1STOP	   572	   632	  2276#
E1STTY	   578	  2233#
ECNEND	  2541#
ECNLIT	  2423#
EMUERR	  1107	  1127	  1133#	  1146
EPDLOV	  1032#
EPFTAB	   867	   992#
ERFNAM	   609	   622	   651	   694	   719	  2410#
ERNAM	   308	   438	   454	   470	   494	   507	   679	  1182	  2368#
ERRABK	   264	   331#	   859
ERRADC	   264	   296#	  1041	  1068
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

ERRCAL	   512	   551#
ERRCAN	   643	   724#
ERRCIO	   351	   397#	  1216
ERRCLS	   264#	   265	   275	   286	   297	   312	   322	   331	   342	   351#	   352	   363	   374	   385
	   398	   408	   418	   427#	   428	   444	   460	   474	   484	   497	   512#	   513	   523	   533
	   542	   552	   561#	   561	   572	   580	   591	   601	   614	   627	   632	   643#	   643	   654
	   669	   684	   699	   709	   724	   734	   744	   754	   764
ERRCON	    12	    13#	    16
ERRDFL	   351	   362#	   812	   839	  1036	  1099
ERRDNA	   643	   669#
ERRDOP	   427	   497#	  1191
ERREUF	   643	   709#
ERREX1	   561	   572#
ERREXI	   561	   561#
ERRFCL	   561	   627#
ERRFEX	   561	   580#
ERRFNF	   643	   684#
ERRFNU	   304	   434	   450	   466	   490	   503	  1328#
ERRFX1	   561	   632#
ERRHDV	   427	   483#
ERRHLT	   512	   542#	  1151
ERRICO	   427	   443#
ERRIDM	   427	   459#
ERRIIA	   264	   322#	   873
ERRILI	   512	   532#	  1149
ERRILU	   512	   512#	  1112
ERRIMR	   264	   274#	   849
ERRIMU	   264	   311#	  1046	  1050	  1055	  1059	  1065	  1069
ERRIUC	   427	   473#
ERRJSU	   561	   601#
ERRJSV	   561	   614#
ERRMED	   351	   417#	  1926
ERRMGF	   643	   754#
ERRMHB	   643	   734#
ERRNSA	   643	   764#
ERRNSF	   643	   699#
ERROCI	   427	   427#
ERROP1	  1213	  1303#
ERROPR	  1297	  1301#
ERRPAR	   351	   407#
ERRPCO	   264	   264#	   850
ERRPGN	   643	   654#
ERRPHE	   351	   373#	   842
ERRPIO	   351	   351#	   811	   838	  1021	  1023	  1028
ERRPOV	   264	   341#
ERRPRG	  1307	  1311#	  1955
ERRRMF	   643	   744#
ERRSC1	  1397	  1402#
ERRSCD	   272	   349	  1395#	  1407
ERRSCM	   549	  1407#
ERRSCP	   283	   294	   309	   320	   339	   360	   371	   382	   395	  1379#
ERRSCU	   471	   495	  1398#	  2216
ERRSE0	  1239	  1242#
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

ERRSES	  1238#
ERRSET	   267	   278	   289	   302	   315	   324	   334	   344	   355	   366	   377	   388	   400	   410
	   420	   432	   448	   464	   476	   488	   501	   515	   525	   535	   544	   554	   563	   574
	   583	   593	   605	   618	   629	   635	   645	   657	   673	   688	   701	   713	   726	   736
	   746	   756	   766	  1241#
ERRSEX	  1240#
ERRSWP	  1208#
ERRTLE	   561	   591#
ERRTPL	   351	   384#	   815	   843	  1039
ERRTRE	   643	   643#
ERRTT1	  1291	  1295#
ERRTTY	   269	   280	   291	   317	   326	   336	   346	   357	   368	   379	   390	   402	   412	   422
	   478	   517	   527	   537	   546	   556	  1289#
ERRUUE	   512	   522#
ERRWRV	   264	   285#	   837
ESTOP	  1206%	  1208
EUE	  1136#
EVNSTP	  1557	  1558	  1865#
EXCAB1	   966#	   982
EXCABK	   957#	  1000
EXCDFL	   997	  1035#
EXCFLG	  1264
EXCMPE	   862#
EXCPDL	  1030#
EXCPIO	   996	  1018#
EXCTPL	  1004	  1038#
EXDFNU	   675	  1351#
EXIFNU	   565	   576	   585	   607	   620	   637	   647	   659	   690	   703	   715	   728	   738	   748
	   758	   768	  1352	  1356#
F	   299	   430	   446	   462	   486	   499	   671	   787	   788	   868	   957	   959	   960	  1046
	  1047	  1076	  1158	  1163	  1173	  1177	  1199	  1289	  1292	  1295	  1328	  1330	  1351	  1353
	  1725	  1997	  1998	  2005	  2009	  2249	  2255	  2370	  2372
FEXPR1	  1274	  1277#
FEXPRT	   589	   641	  1271#
FLGHNG	  1187
FLGMPT	   792
FLTCHK	  2006%	  2006	  2010%	  2010	  2099%	  2099	  2111%	  2111	  2115%	  2115
FORTY	  1125%	  1125
FRCCPY	  2184	  2189#
GETOPR	    34%	  1176	  1212
GINST	   981#	   981	   982	  1076#	  1076	  1077	  1449#	  1449	  1450
GIVLOK	  1917%	  1917
GOBACK	  1488#
HISTOP	   331	   542	  2271#
HLTTR1	  1259	  1264#
HLTTRP	  1253#	  2284
HNGSTP	  1171#
HNGSTW	  1178	  1187#
HNSTOP	   497	  1195#
HOLD	    33%
HWDPNT	   918	  1972	  1983	  2132	  2168	  2292#
IFDET	  1349%	  1356
ILLINS	  1144#
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

IME	   869#
INFSTP	  1556	  1862#
INLMES	   270	   281	   292	   306	   318	   327	   337	   347	   358	   369	   380	   391	   393	   403
	   413	   423	   436	   439	   452	   455	   468	   479	   492	   505	   508	   518	   528	   538
	   547	   557	   568	   587	   597	   610	   623	   639	   649	   661	   665	   677	   680	   692
	   695	   705	   717	   720	   730	   740	   750	   760	   770	   877%	   877	   921%	   921	   927%
	   927	  1179	  1183	  1214	  1303	  1311%	  1311	  1388	  1398	  1662%	  1662	  1668%	  1668	  1672%
	  1672	  1682%	  1682	  1692%	  1692	  1700%	  1700	  1709%	  1709	  1732%	  1732	  1795%	  1795	  1799%
	  1799	  1807%	  1807	  1811%	  1811	  1815%	  1815	  1819%	  1819	  1847%	  1847	  1857%	  1857	  1876%
	  1876	  1914%	  1914	  1969%	  1969	  1979%	  1979	  2066%	  2066	  2074%	  2074	  2104%	  2104	  2108%
	  2108	  2129%	  2129	  2136%	  2136	  2141%	  2141	  2146%	  2146	  2150%	  2150	  2154%	  2154	  2159%
	  2159	  2165%	  2165	  2169%	  2169	  2295	  2360	  2368
IOACT	  1162
IOHNG	  1161
IOW	  1159	  2254
IPOPJ1	  1235%	  1256	  1266
J	   790	   793	   819	   822	   823	   969	  1077	  1079	  1082	  1171	  1175	  1196	  1201	  1242
	  1243	  1244	  1254	  1255	  1256	  1261	  1265	  1296	  1313	  1315	  1317	  1358	  1365	  1722
	  1737	  1925	  1936	  1937	  1939	  1940	  1941	  1945	  1949	  1952
JBTABT	  1043%	  1079
JBTAUN	  1945%	  1945
JBTFPN	  1313%	  1313	  1317%	  1317	  1949%	  1949
JBTFTR	  1236%	  1255	  1296	  1358
JBTPC	   822%	   822
JBTPIP	   778%	   793
JBTPRG	  1315%	  1315	  1952%	  1952
JBTSTS	    38%	   969	  1196	  1265%	  1265
JBYECF	  1253%	  1253
JBYEXC	  1258%	  1258
JBYHNG	  1188	  1205%
JBYPER	  1013%	  1022
JBYPGT	   778%	   795
JDCON	  1195
JOB	    40%	   790	   819	   823	  1067	  1077	  1082	  2152
JOBMAX	  1235%	  1244	  1730%	  1730	  1937%	  1937
JOBSTP	  1553	  1902#
KJSTOP	   264	   274	   285	   296	   311	   341	   351	   362	   373	   384	   397	   407	   417	   427
	   443	   459	   473	   483	   512	   522	   532	   551	   561	   580	   601	   614	   627	   643
	   654	   669	   684	   699	   709	   724	   734	   744	   754	   764	  2262%	  2264
KTRRET	  2267%	  2267
KTRRT1	   866%	   866	   970	   976	  1027
LISTSN	     3	     6
LOCTIM	  1674%	  1674	  1711%	  1711
LUUOPC	  1119#	  1122
LUUPDL	  1118#	  1120	  1121
M	   277	   288	   301	   314	   333	   354	   365	   376	   387	   656	   663	   787	   858	   959
	  1093	  1094	  1095	  1125	  1126	  1147	  1150	  1390	  1458	  1459	  1460	  1461	  1594	  1598
	  1601	  1603	  1611	  1612	  1633	  1645	  1703	  1741	  1743
MAPBTS	   934	   953#
MAPTBL	   935	   936	   944#	   953
MONHNG	  1349%	  1366
MONSTR	  1206%	  1209
NOCREA	  1093#
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

NOCRS	  1786%	  1786	  2083%	  2083
NOCSB	  1764	  1770#
NODDB	  1717	  1736	  1741#
NODDB0	  1727	  1731	  1738#
NODIE	  1436#
NOTYPE	  1744	  1759#
OCTP1	  2324#	  2331
OCTPNT	   926	  1276	  1391	  1707	  2294	  2298	  2321#	  2363
ONPOPJ	  2056%	  2056
OPROUT	  1657%	  1657
P	    13	   264	   267	   269	   270	   272	   274	   278	   280	   281	   283	   285	   289	   291
	   292	   294	   296	   302	   304	   306	   308	   309	   311	   315	   317	   318	   320	   324
	   326	   327	   329	   334	   336	   337	   339	   341	   344	   346	   347	   349	   351	   355
	   357	   358	   360	   362	   366	   368	   369	   371	   373	   377	   379	   380	   382	   384
	   388	   390	   391	   393	   395	   397	   400	   402	   403	   405	   407	   410	   412	   413
	   415	   417	   420	   422	   423	   425	   427	   432	   434	   436	   438	   439	   441	   443
	   448	   450	   452	   454	   455	   457	   459	   464	   466	   468	   470	   471	   473	   476
	   478	   479	   481	   483	   488	   490	   492	   494	   495	   501	   503	   505	   507	   508
	   510	   512	   515	   517	   518	   520	   522	   525	   527	   528	   530	   532	   535	   537
	   538	   540	   544	   546	   547	   549	   551	   554	   556	   557	   559	   563	   565	   567
	   568	   570	   574	   576	   578	   583	   585	   587	   589	   593	   595	   597	   599	   605
	   607	   609	   610	   612	   618	   620	   622	   623	   625	   629	   635	   637	   639	   641
	   645	   647	   649	   651	   652	   657	   659	   661	   664	   665	   667	   673	   675	   677
	   679	   680	   682	   688	   690	   692	   694	   695	   697	   701	   703	   705	   707	   713
	   715	   717	   719	   720	   722	   726	   728	   730	   732	   736	   738	   740	   742	   746
	   748	   750	   752	   756	   758	   760	   762	   766	   768	   770	   772	   783	   797	   799
	   800	   804	   820	   826	   847	   865	   869	   870	   877	   918	   920	   921	   925	   926
	   927	   929	   933	   940	   962	   973	   977	  1018	  1024	  1026	  1030	  1031	  1032	  1035
	  1038	  1040	  1045	  1081	  1098	  1105	  1120	  1121	  1134	  1136	  1144	  1160	  1164	  1171
	  1172	  1173	  1174	  1176	  1177	  1179	  1182	  1183	  1185	  1186	  1189	  1197	  1198	  1199
	  1200	  1201	  1212	  1213	  1214	  1245	  1254	  1260	  1261	  1262	  1273	  1276	  1289	  1290
	  1292	  1295	  1299	  1303	  1306	  1311	  1314	  1316	  1318	  1328	  1329	  1330	  1331	  1351
	  1352	  1353	  1354	  1356	  1357	  1366	  1368	  1388	  1391	  1398	  1402	  1440	  1453	  1463
	  1464	  1468	  1471	  1488	  1491	  1505	  1620	  1621	  1657	  1662	  1667	  1668	  1671	  1672
	  1674	  1675	  1681	  1682	  1691	  1692	  1695	  1700	  1704	  1705	  1707	  1708	  1709	  1711
	  1712	  1713	  1724	  1726	  1732	  1734	  1735	  1739	  1747	  1748	  1754	  1755	  1768	  1772
	  1784	  1785	  1788	  1794	  1795	  1798	  1799	  1802	  1804	  1806	  1807	  1810	  1811	  1814
	  1815	  1818	  1819	  1822	  1831	  1832	  1834	  1835	  1837	  1847	  1857	  1862	  1865	  1868
	  1876	  1882	  1890	  1897	  1898	  1902	  1913	  1914	  1917	  1920	  1948	  1955	  1969	  1972
	  1974	  1979	  1983	  1986	  2006	  2007	  2028	  2048	  2066	  2074	  2099	  2100	  2102	  2104
	  2107	  2108	  2111	  2112	  2115	  2116	  2123	  2128	  2129	  2131	  2132	  2135	  2136	  2140
	  2141	  2145	  2146	  2150	  2153	  2154	  2158	  2159	  2163	  2164	  2165	  2167	  2168	  2169
	  2182	  2183	  2194	  2214	  2221	  2223	  2224	  2232	  2233	  2250	  2253	  2258	  2264	  2271
	  2276	  2284	  2292	  2294	  2295	  2297	  2311	  2326	  2327	  2328	  2329	  2333	  2335	  2336
	  2342	  2346	  2348	  2356	  2357	  2359	  2360	  2362	  2368	  2384	  2400	  2403	  2411	  2413
P1	   264	   274	   285	   296	   311	   341	   351	   362	   373	   384	   397	   407	   417	   427
	   443	   459	   473	   483	   512	   522	   532	   551	   791	   803	   855	   856	   857	   931
	   938	   939	  1105	  1106	  1122	  1123	  1144	  1145	  1174	  1198	  1246	  1395	  1407	  2097
	  2098	  2101	  2103	  2106	  2110	  2113	  2117	  2124	  2125	  2158
P2	   934	   935	   936	   941	  2076
P3	   603	   616	   686	   711	  2410
P4	   604	   617	   687	   712	  2412	  2414
PAGFLE	   865%	   865
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

PAGFLU	   783%	   783	   826%	   826
PAGNCR	  1098#
PAGUDE	   804#	   807	   829	   834
PC.ADR	   855	   961	   972
PC.USR	  1106	  1145	  1396	  2215	  2309
PCP	   920	  1402	  1974	  1986	  2214	  2308#
PDNMUP	  1105%	  1105	  1144%	  1144
PFDFC%	   777%
PFSWE%	   777%
PFW.A	  1051	  1053	  1060	  1062
PFW.H	  1049	  1058
PFW.R	  1052	  1061
PFW.W	  1051	  1053	  1060	  1062
PG	  2164
PI	  1133	  1443	  1444	  1475	  1490	  2054
PI.IPA	  1133	  1720	  1756
PI.OFF	  2054
PI.TFP	  1444	  1475
PI.TNP	  1478
PIOMOD	    34%
PJBSTS	  2246%	  2257
PJOB	  1185%	  1185	  2156%	  2156
PJOBN	  1056	  1066	  1175%	  1175	  1728%	  1728	  1737%	  1737
PJOBX	  1306%	  1306	  1948%	  1948
PR6BIT	  1794	  1798	  1802	  2389#	  2393
PRCTAB	  1550#	  1618	  1654	  1659	  1715	  1760	  1771	  1779
PREVAC	  1448%	  1448	  1449
PRLPR	  1705%	  1705
PRNAM1	  2398#	  2402
PRNAME	  1273	  1316	  1667	  1671	  1691	  1695	  1822	  2071	  2077	  2107	  2373	  2380#	  2385	  2391
	  2411	  2415
PRNAMF	  2397#
PRPER	  2413%	  2413
PRRPR	  1708%	  1708
PRRSP1	  2224	  2246%
PRRSP3	  2233	  2246%
PRSPC	  2389%	  2389
PRT22A	   933	  2123	  2356#
PRT22B	  2358	  2362#
PRTDDB	  1734%	  1734
PRTDEC	  1806%	  1806	  2153
PRTDI8	  1704	  2344#	  2348	  2359
PRTDIG	   664	  2332#	  2335
PRTDIR	  1314%	  1314
PRTJOB	  2150#
PRTNMM	  2336#	  2347	  2349
PRTNUM	  2328	  2337#
PRTOCT	  1810	  2342	  2345#
PRTP1	  2158#
PRTPGU	  2163#
PRTPPN	  1318%	  1318
PRTSYS	  1713	  1793#
PRTT0	  2131#	  2138	  2143	  2148	  2161	  2171
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

PRTT1	  2128#
PRTT2	  2135#
PRTT3	  2140#
PRTT4	  2145#
PVYHNG	  1349%	  1361
PX.MEM	   981	  1076	  1449
PX.SRC	   981	  1449
RCDSTB	  1620%	  1620
REBOOT	  1887%	  1887
RELOAD	  1474	  1551	  1552	  1787	  1849	  1854	  1859	  1874#	  1894	  1907	  1910
RESRET	  1471#
S	  1158	  1159	  1161	  1162	  1163	  1172	  1200	  1720	  1721	  1723	  1736	  1738	  1756	  1757
	  1906	  1956	  2254	  2255
S$CPU	  1134	  1135	  1536
S$DEBU	  1535
S$DISK	  1540
S$ENTR	    12	    18	   805	   807	   829	   834	   870	   992	   998	  1002	  1033	  1099	  1135	  1137
	  1246	  1466	  1506
S$EVEN	   804	   869	  1032	  1098	  1134	  1136	  1245	  1505	  1538
S$HALT	    12	   804	   807	   829	   834	   869	   992	   998	  1002	  1032	  1098	  1134	  1136	  1245
	  1465	  1466	  1505
S$INFO	   804	   869	  1032	  1098	  1134	  1136	  1245	  1505	  1537
S$JOB	   804	   805	  1098	  1099	  1136	  1137	  1534
S$NAME	    16#
S$NONA	    15	    18	   805	   808	   830	   835	   870	   993	   999	  1003	  1033	  1099	  1135	  1137
	  1246	  1466	  1506	  1532	  1697
S$PATC	   804	   869	  1032	  1098	  1134	  1136	  1245	  1505	  1539
S$STOP	   869	   870	  1032	  1033	  1245	  1246	  1505	  1506	  1533	  1615	  1689
S$TEMP	    12#	    12	   804#	   804	   807#	   807	   829#	   829	   834#	   834	   869#	   869	   992#	   992
	   998#	   998	  1002#	  1002	  1032#	  1032	  1098#	  1098	  1134#	  1134	  1136#	  1136	  1245#	  1245
	  1465#	  1465	  1505#	  1505
S$XCT	    18	   805	   807	   808	   829	   830	   834	   835	   870	   992	   993	   998	   999	  1002
	  1003	  1033	  1099	  1135	  1137	  1246	  1466	  1506
S%CSB	  1511#	  1555	  1763
S%EVNT	  1512#	  1557	  1558	  1660	  1783
S%FAST	  1509#	  1556	  1557	  1558	  1617	  1653
S%NDDB	  1510#	  1556	  1557	  1558	  1716
S..EUE	  1136#
S..IME	   869#	   992	   998	  1002
S..UIL	  1134#
SAV30	  1452%
SCCTAB	  2025%	  2025	  2044%	  2044	  2045%	  2045
SCCTBL	  2024%	  2024	  2047%	  2047
SCLTAB	  2026%	  2026	  2031%	  2031	  2049%	  2049	  2050%	  2050
SCTTAB	  1564#	  1775	  1777
SETIOD	  1160%	  1160
SKPMRN	  1464%	  1464
SLOCRS	  1781%	  1781	  1853%	  1853	  1868%	  1868	  1869%	  1869
SPFW.U	   868	   957
STCLI1	  2025#	  2029
STCLIM	  1890	  1902	  2022#
STOP1	   591	  1197	  2262%	  2271	  2276	  2285	  2286
STPJOB	  1918	  1925#
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

STPMAX	  1541#	  1614
STPSTP	  1857#	  1891	  1903
STPTYP	  1531#	  1532	  1533	  1534	  1535	  1536	  1537	  1538	  1539	  1540	  1541	  1666	  1688
STRNAM	  2076%	  2076
SVPPC	  1621%	  1621
SYSDAT	  1817%	  1817
SYSSIZ	  1997%	  1997
T1	   265	   266	   275	   276	   286	   287	   297	   298	   299	   300	   312	   313	   322	   323
	   331	   332	   342	   343	   352	   353	   363	   364	   374	   375	   385	   386	   398	   399
	   408	   409	   418	   419	   428	   429	   430	   431	   444	   445	   446	   447	   460	   461
	   462	   463	   474	   475	   484	   485	   486	   487	   497	   498	   499	   500	   513	   514
	   523	   524	   533	   534	   542	   543	   552	   553	   561	   562	   572	   573	   580	   581
	   591	   592	   601	   602	   614	   615	   627	   628	   632	   633	   643	   644	   654	   655
	   663	   669	   670	   671	   672	   684	   685	   699	   700	   709	   710	   724	   725	   734
	   735	   744	   745	   754	   755	   764	   765	   782	   785	   791	   792	   795	   796	   820
	   821	   822	   825	   828	   864	   867	   870	   871	   872	   917	   924	   925	   929	   930
	   931	   932	   936	   961	   962	   963	   964	   965	   966	   967	   968	   969	   972	   973
	   974	   975	   977	   978	   980	   981	  1022	  1023	  1025	  1026	  1047	  1049	  1051	  1052
	  1053	  1056	  1058	  1060	  1061	  1062	  1066	  1067	  1078	  1079	  1080	  1081	  1093	  1096
	  1097	  1147	  1148	  1188	  1195	  1196	  1209	  1210	  1211	  1247	  1248	  1253	  1257	  1258
	  1259	  1264	  1265	  1275	  1296	  1297	  1301	  1302	  1313	  1358	  1359	  1361	  1362	  1363
	  1365	  1390	  1454	  1455	  1456	  1457	  1458	  1472	  1473	  1474	  1476	  1477	  1478	  1479
	  1594	  1595	  1596	  1598	  1599	  1600	  1601	  1602	  1612	  1613	  1614	  1615	  1616	  1618
	  1631	  1632	  1633	  1634	  1635	  1636	  1637	  1638	  1639	  1640	  1641	  1642	  1643	  1644
	  1645	  1646	  1647	  1648	  1649	  1651	  1654	  1655	  1656	  1658	  1659	  1660	  1665	  1666
	  1687	  1688	  1689	  1696	  1697	  1702	  1703	  1706	  1714	  1715	  1716	  1728	  1729	  1730
	  1741	  1742	  1743	  1745	  1746	  1747	  1755	  1759	  1760	  1763	  1770	  1771	  1772	  1774
	  1775	  1777	  1779	  1780	  1782	  1805	  1809	  1813	  1817	  1827	  1828	  1829	  1830	  1831
	  1839	  1844	  1852	  1853	  1874	  1875	  1892	  1893	  1895	  1896	  1904	  1905	  1911	  1912
	  1918	  1919	  1941	  1942	  1943	  1944	  1945	  1946	  1947	  1949	  1950	  1951	  1962	  1963
	  1964	  1971	  1982	  2005	  2009	  2024	  2025	  2026	  2029	  2031	  2032	  2033	  2044	  2045
	  2046	  2047	  2049	  2050	  2053	  2082	  2083	  2084	  2097	  2098	  2110	  2114	  2117	  2119
	  2120	  2121	  2122	  2128	  2131	  2152	  2167	  2189	  2192	  2256	  2257	  2265	  2266	  2292
	  2293	  2297	  2308	  2310	  2312	  2321	  2322	  2324	  2325	  2327	  2329	  2330	  2332	  2334
	  2336	  2337	  2345	  2347	  2356	  2357	  2358	  2362	  2381	  2382	  2383	  2397	  2398	  2401
	  2419
T2	   796	   847	   848	   919	   935	   937	   938	   939	  1187	  1208	  1271	  1272	  1275	  1315
	  1317	  1395	  1396	  1400	  1401	  1666	  1670	  1680	  1688	  1690	  1694	  1761	  1762	  1775
	  1776	  1777	  1778	  1779	  1783	  1793	  1797	  1801	  1821	  1832	  1841	  1842	  1844	  1881
	  1952	  1953	  1954	  1965	  1966	  1967	  1968	  1973	  1975	  1976	  1984	  1985	  2025	  2027
	  2049	  2050	  2051	  2052	  2053	  2055	  2068	  2069	  2070	  2076	  2106	  2113	  2114	  2118
	  2119	  2121	  2135	  2190	  2191	  2193	  2212	  2213	  2215	  2309	  2312	  2333	  2346	  2371
	  2372	  2380	  2389	  2390	  2392	  2397	  2410	  2414
T3	   799	  1803	  1833	  2026	  2027	  2140	  2337	  2383	  2398	  2399
T4	   582	   634	  1238	  1240	  1241	  1242	  1246	  1247	  1248	  1252	  2145
TAKTRP	  1260%	  1260
TCLTT0	  2223#	  2248
TCLTTY	   329	   405	   415	   510	   652	   667	   682	   697	   707	   722	   732	   742	   752	   762
	   772	  1403	  2221#
TIOWQ	  2246%	  2256
TLETTY	   599	  2248#
TLTOW	  2249	  2253#
TNCTTY	   570	   612	   625	  2232#
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

TPOPJ	  1205%
TRHALT	  2284#
TSETBI	    34%	  2223
TSTKOT	  1189	  1205%
TSTKTP	  1013%	  1024
TSTTRP	   777%	   797
TTPOPJ	  1836%	  1836
TTYERP	  1287%	  1290
TTYFND	    33%	  2221
TTYFNU	    34%	   595	  1329	  2246%
TTYFUW	  1349%	  1364
TTYSOW	  2246%	  2253
TTYSTC	  2225	  2234	  2246%
TTYSTR	    34%
TTYTAB	  1941%	  1941
TYPCSB	  1768%	  1768
TYPIM1	   935#	   941
TYPIME	   869	   877#
U	   305	   435	   451	   467	   491	   504	   566	   577	   586	   596	   608	   621	   638	   648
	   660	   676	   691	   704	   716	   729	   739	   749	   759	   769	  1178	  1249	  1298	  1367
	  2069	  2163	  2222	  2248
UIL	  1134#
UMODE	  2306#	  2310
UNINAM	  2070%	  2070
UPFTAB	   803	   828	   834#
UPFTBT	   785	   807#
UPSABK	    35%	   966
UPTABK	    35%	   858	   975
UPTABL	    35%	   857	   965	   978
UPTECN	  1236%	  1252
UPTEDV	   260%	   300	   431	   447	   463	   487	   500	   672
UPTEL1	   260%	   604	   617	   687	   712
UPTELC	   260%	   277	   288	   301	   314	   333	   354	   365	   376	   387	   582	   603	   616	   634
	   656	   686	   711	  1271
UPTEPC	  1236%	  1246
UPTETP	   260%	   266	   276	   287	   298	   313	   323	   332	   343	   353	   364	   375	   386	   399
	   409	   419	   429	   445	   461	   475	   485	   498	   514	   524	   534	   543	   553	   562
	   573	   581	   592	   602	   615	   628	   633	   644	   655	   670	   685	   700	   710	   725
	   735	   745	   755	   765
UPTEUP	  1236%	  1248
UPTJOB	   260%	  1235%	  1242
UPTMUP	  1123	  1965	  1976	  2266
UPTMUU	  1126	  1962
UPTOPP	   917	   919
UPTPDL	    35%	   856	   963	  1150	  1247	  1400	  1975	  1984	  2212
UPTPFW	   782	   825	   864	   924
UPTSTS	    35%	   967
UPTUII	    36%	   788
UPTUUO	  1977%	  1977	  1982%	  1982
UPTXII	    36%	   960
USCHED	  2262%	  2277
USRABK	   841	   855#
USRILR	   813	   836	   840	   847#
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

USRMP2	   828#
USRMPE	   818#
USRMPT	   780#
USRSP1	   798	   803#
USRSPF	   785#
USRXIT	    39%	   784	   827
UTRP	   968
UUOADR	   874	  1045#
UUOEIJ	  1245#
UUOERR	  1108	  1112#
UUOMNR	  1105#
UUOPCP	   425	   441	   457	   481	   520	   530	   540	   559	  1277	  2212#
W	   848	  1019	  1020
WHATJB	  1724	  1739	  1936#
WHATUU	  1938	  1957	  1962#
WSCHED	    39%	  1202	  2272
XMODE	  2305#	  2308
XXXPDL	  1030	  1031	  1033#
ZZ	   981#	   981	  1076#	  1076	  1449#	  1449	  1551#	  1551	  1552	  1552#	  1553	  1553#	  1554	  1554#
	  1555	  1555#	  1556	  1556#	  1557	  1557#	  1558	  1558#	  1559	  1559#	  1560
ZZ1	   981#	   981	  1076#	  1076	  1449#	  1449
%SYNCS	  1569%	  1569
%SYNDS	  1568%	  1568
%SYNIS	  1570%	  1570	  1571%	  1571	  1572%	  1572
%SYNJS	  1567%	  1567
%SYSCP	  1644%	  1644
%SYSDT	  1642%	  1642
%SYSJN	  1939%	  1939
%SYSNM	  1635%	  1635
%SYSPC	  1637%	  1637
%SYSPD	  1950%	  1950
%SYSPN	  1953%	  1953
%SYSPP	  1946%	  1946
%SYSTN	  1943%	  1943
%SYSTY	  1639%	  1639
%SYSUP	  1967%	  1967
%SYSUU	  1963%	  1963
%UPS	    35%	  1238
%UPT	    35%	   264	   274	   285	   296	   311	   322	   331	   341	   351	   362	   373	   384	   397
	   407	   417	   427	   443	   459	   473	   483	   497	   512	   522	   532	   542	   551	   561
	   572	   580	   591	   601	   614	   627	   632	   643	   654	   669	   684	   699	   709	   724
	   734	   744	   754	   764	   782	   788	   825	   856	   857	   858	   864	   917	   919	   924
	   960	   963	   965	   967	   975	   978	  1123	  1126	  1150	  1241	  1271	  1400	  1962	  1965
	  1975	  1976	  1977	  1982	  1984	  2212	  2266
%UPX	    35%	  1240
..	  1484#	  1617#	  1653#	  1765#
..0001	   264#	   268	   273
..0002	   264#	   266
..0003	   265#	   265
..0004	   267#	   267	   268
..0005	   270#	   270	   272
..0006	   274#	   279	   284
..0007	   274#	   276	   277
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

..0010	   275#	   275
..0011	   278#	   278	   279
..0012	   281#	   281	   283
..0013	   285#	   290	   295
..0014	   285#	   287	   288
..0015	   286#	   286
..0016	   289#	   289	   290
..0017	   292#	   292	   294
..0020	   296#	   303	   305	   310
..0021	   296#	   298	   300	   301
..0022	   297#	   297
..0023	   302#	   302	   303
..0024	   306#	   306	   308
..0025	   309#	   309
..0026	   311#	   316	   321
..0027	   311#	   313	   314
..0030	   312#	   312
..0031	   315#	   315	   316
..0032	   318#	   318	   320
..0033	   322#	   325	   330
..0034	   322#	   323
..0035	   322#	   322
..0036	   324#	   324	   325
..0037	   327#	   327	   329
..0040	   331#	   335	   340
..0041	   331#	   332	   333
..0042	   331#	   331
..0043	   334#	   334	   335
..0044	   337#	   337	   339
..0045	   341#	   345	   350
..0046	   341#	   343
..0047	   342#	   342
..0050	   344#	   344	   345
..0051	   347#	   347	   349
..0052	   351#	   356	   361
..0053	   351#	   353	   354
..0054	   352#	   352
..0055	   355#	   355	   356
..0056	   358#	   358	   360
..0057	   362#	   367	   372
..0060	   362#	   364	   365
..0061	   363#	   363
..0062	   366#	   366	   367
..0063	   369#	   369	   371
..0064	   373#	   378	   383
..0065	   373#	   375	   376
..0066	   374#	   374
..0067	   377#	   377	   378
..0070	   380#	   380	   382
..0071	   384#	   389	   396
..0072	   384#	   386	   387
..0073	   385#	   385
..0074	   388#	   388	   389
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

..0075	   391#	   391	   393
..0076	   393#	   393	   395
..0077	   397#	   401	   406
..0100	   397#	   399
..0101	   398#	   398
..0102	   400#	   400	   401
..0103	   403#	   403	   405
..0104	   407#	   411	   416
..0105	   407#	   409
..0106	   408#	   408
..0107	   410#	   410	   411
..0110	   413#	   413	   415
..0111	   417#	   421	   426
..0112	   417#	   419
..0113	   418#	   418
..0114	   420#	   420	   421
..0115	   423#	   423	   425
..0116	   427#	   433	   435	   442
..0117	   427#	   429	   431
..0120	   428#	   428
..0121	   432#	   432	   433
..0122	   436#	   436	   438
..0123	   439#	   439
..0124	   439#	   439	   441
..0125	   443#	   449	   451	   458
..0126	   443#	   445	   447
..0127	   444#	   444
..0130	   448#	   448	   449
..0131	   452#	   452	   454
..0132	   455#	   455
..0133	   455#	   455	   457
..0134	   459#	   465	   467	   472
..0135	   459#	   461	   463
..0136	   460#	   460
..0137	   464#	   464	   465
..0140	   468#	   468	   470
..0141	   471#	   471
..0142	   473#	   477	   482
..0143	   473#	   475
..0144	   474#	   474
..0145	   476#	   476	   477
..0146	   479#	   479	   481
..0147	   483#	   489	   491	   496
..0150	   483#	   485	   487
..0151	   484#	   484
..0152	   488#	   488	   489
..0153	   492#	   492	   494
..0154	   495#	   495
..0155	   497#	   502	   504	   511
..0156	   497#	   498	   500
..0157	   497#	   497
..0160	   501#	   501	   502
..0161	   505#	   505	   507
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

..0162	   508#	   508
..0163	   508#	   508	   510
..0164	   512#	   516	   521
..0165	   512#	   514
..0166	   513#	   513
..0167	   515#	   515	   516
..0170	   518#	   518	   520
..0171	   522#	   526	   531
..0172	   522#	   524
..0173	   523#	   523
..0174	   525#	   525	   526
..0175	   528#	   528	   530
..0176	   532#	   536	   541
..0177	   532#	   534
..0200	   533#	   533
..0201	   535#	   535	   536
..0202	   538#	   538	   540
..0203	   542#	   545	   550
..0204	   542#	   543
..0205	   542#	   542
..0206	   544#	   544	   545
..0207	   547#	   547	   549
..0210	   551#	   555	   560
..0211	   551#	   553
..0212	   552#	   552
..0213	   554#	   554	   555
..0214	   557#	   557	   559
..0215	   561#	   564	   566	   571
..0216	   561#	   562
..0217	   561#	   561
..0220	   563#	   563	   564
..0221	   568#	   568
..0222	   568#	   568	   570
..0223	   572#	   575	   577	   579
..0224	   572#	   573
..0225	   572#	   572
..0226	   574#	   574	   575
..0227	   580#	   584	   586	   590
..0230	   580#	   581	   582
..0231	   580#	   580
..0232	   583#	   583	   584
..0233	   587#	   587	   589
..0234	   591#	   594	   596	   600
..0235	   591#	   592
..0236	   591#	   591
..0237	   593#	   593	   594
..0240	   597#	   597	   599
..0241	   601#	   606	   608	   613
..0242	   601#	   602	   603	   604
..0243	   601#	   601
..0244	   605#	   605	   606
..0245	   610#	   610
..0246	   610#	   610	   612
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

..0247	   614#	   619	   621	   626
..0250	   614#	   615	   616	   617
..0251	   614#	   614
..0252	   618#	   618	   619
..0253	   623#	   623
..0254	   623#	   623	   625
..0255	   627#	   630	   631
..0256	   627#	   628
..0257	   627#	   627
..0260	   629#	   629	   630
..0261	   632#	   636	   638	   642
..0262	   632#	   633	   634
..0263	   632#	   632
..0264	   635#	   635	   636
..0265	   639#	   639	   641
..0266	   643#	   646	   648	   653
..0267	   643#	   644
..0270	   643#	   643
..0271	   645#	   645	   646
..0272	   649#	   649	   651
..0273	   652#	   652
..0274	   654#	   658	   660	   668
..0275	   654#	   655	   656
..0276	   654#	   654
..0277	   657#	   657	   658
..0300	   661#	   661	   663
..0301	   665#	   665
..0302	   665#	   665	   667
..0303	   669#	   674	   676	   683
..0304	   669#	   670	   672
..0305	   669#	   669
..0306	   673#	   673	   674
..0307	   677#	   677	   679
..0310	   680#	   680
..0311	   680#	   680	   682
..0312	   684#	   689	   691	   698
..0313	   684#	   685	   686	   687
..0314	   684#	   684
..0315	   688#	   688	   689
..0316	   692#	   692	   694
..0317	   695#	   695
..0320	   695#	   695	   697
..0321	   699#	   702	   704	   708
..0322	   699#	   700
..0323	   699#	   699
..0324	   701#	   701	   702
..0325	   705#	   705	   707
..0326	   709#	   714	   716	   723
..0327	   709#	   710	   711	   712
..0330	   709#	   709
..0331	   713#	   713	   714
..0332	   717#	   717	   719
..0333	   720#	   720
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

..0334	   720#	   720	   722
..0335	   724#	   727	   729	   733
..0336	   724#	   725
..0337	   724#	   724
..0340	   726#	   726	   727
..0341	   730#	   730	   732
..0342	   734#	   737	   739	   743
..0343	   734#	   735
..0344	   734#	   734
..0345	   736#	   736	   737
..0346	   740#	   740	   742
..0347	   744#	   747	   749	   753
..0350	   744#	   745
..0351	   744#	   744
..0352	   746#	   746	   747
..0353	   750#	   750	   752
..0354	   754#	   757	   759	   763
..0355	   754#	   755
..0356	   754#	   754
..0357	   756#	   756	   757
..0360	   760#	   760	   762
..0361	   764#	   767	   769	   773
..0362	   764#	   765
..0363	   764#	   764
..0364	   766#	   766	   767
..0365	   770#	   770	   772
.CPACA	  1480%	  1480	  1600%	  1600	  1749%	  1749	  2068%	  2068	  2118%	  2118
.CPCPC	  1440%	  1440	  1442%	  1442	  1454%	  1454	  1488%	  1488	  1647%	  1647	  1649%	  1649	  1745%	  1745
	  1919%	  1919
.CPCPI	  1443%	  1443	  1477%	  1477	  1479%	  1479	  1490%	  1490	  1721%	  1721	  1757%	  1757
.CPCPN	  1643%	  1643
.CPCPU	  1801%	  1801	  1805%	  1805
.CPDDT	  1486%	  1486
.CPDWD	  1438%	  1438	  1441%	  1441	  1472%	  1472	  1482%	  1482
.CPEPD	  1453%	  1453
.CPEVN	  1436%	  1436	  1473%	  1473	  1483%	  1483
.CPISF	  1909%	  1909
.CPJOB	  1722%	  1722	  1908	  1925
.CPLOG	  1797%	  1797	  1809
.CPSCB	  1611%	  1611
.CPSDT	  1641%	  1641
.CPSJN	  1940%	  1940
.CPSLF	  1631%	  1631
.CPSNC	  1569%	  1569
.CPSND	  1568%	  1568
.CPSNI	  1570%	  1570	  1571%	  1571	  1572%	  1572
.CPSNJ	  1567%	  1567
.CPSNM	  1634%	  1634	  1670%	  1670	  1694%	  1694
.CPSNO	  1793%	  1793
.CPSPC	  1457%	  1457	  1636%	  1636	  1702%	  1702	  1706%	  1706	  1852%	  1852	  2082%	  2082
.CPSPD	  1951%	  1951
.CPSPN	  1954%	  1954
.CPSPP	  1947%	  1947
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Symbol cross reference

.CPSTN	  1944%	  1944
.CPSTY	  1599%	  1599	  1603%	  1603	  1616%	  1616	  1638%	  1638	  1651%	  1651	  1658%	  1658	  1665%	  1665
	  1687%	  1687	  1696%	  1696	  1714%	  1714	  1759%	  1759	  1770%	  1770	  1774%	  1774
.CPSUP	  1968%	  1968	  1973%	  1973
.CPSUU	  1964%	  1964	  1971%	  1971
.CPSVA	  1451%	  1451
.CPTOA	  1827%	  1827
.PVHCN	  1363
.PVHDT	  1362
.SLDSC	  2030#	  2032	  2052
ERRCON - MONITOR DETECTED ERROR HANDLING ROUTINES	MACRO 12.5-46.0 14:33 13-JAN-88
ERRCON.MAC	 6-NOV-87 12:32		Macro/Opdef cross reference

ERRS	   101#	   263
IFADF	   168#	   265	   270	   275	   281	   286	   292	   297	   306	   309	   312	   318	   322	   327
	   331	   337	   342	   347	   352	   358	   363	   369	   374	   380	   385	   391	   393	   398
	   403	   408	   413	   418	   423	   428	   436	   439	   444	   452	   455	   460	   468	   471
	   474	   479	   484	   492	   495	   497	   505	   508	   513	   518	   523	   528	   533	   538
	   542	   547	   552	   557	   561	   568	   572	   580	   587	   591	   597	   601	   610	   614
	   623	   627	   632	   639	   643	   649	   652	   654	   661	   665	   669	   677	   680	   684
	   692	   695	   699	   705	   709	   717	   720	   724	   730	   734	   740	   744	   750	   754
	   760	   764	   770
IFCPU	    37	   781	   824	   863	   879	  1001	  1048	  1057	  1124	  1380	  1462	  1839
IFNCPU	   782	   825	   864	   916	   956	  1000	  1049	  1058	  1125	  1387	  1840
IFOID	   176#	   267	   278	   289	   302	   315	   324	   334	   344	   355	   366	   377	   388	   400
	   410	   420	   432	   448	   464	   476	   488	   501	   515	   525	   535	   544	   554	   563
	   574	   583	   593	   605	   618	   629	   635	   645	   657	   673	   688	   701	   713	   726
	   736	   746	   756	   766
PFALL	  1108	  1127	  1307	  1957	  2184	  2373
PJRST	   268	   273	   279	   284	   290	   295	   303	   310	   316	   321	   325	   330	   335	   340
	   345	   350	   356	   361	   367	   372	   378	   383	   389	   396	   401	   406	   411	   416
	   421	   426	   433	   442	   449	   458	   465	   472	   477	   482	   489	   496	   502	   511
	   516	   521	   526	   531	   536	   541	   545	   550	   555	   560	   564	   571	   575	   579
	   584	   590	   594	   600	   606	   613	   619	   626	   630	   631	   636	   642	   646	   653
	   658	   668	   674	   683	   689	   698	   702	   708	   714	   723	   727	   733	   737	   743
	   747	   753	   757	   763	   767	   773	   942	  1036	  1083	  1216	  1277	  1293	  1319	  1364
	  1403	  1823	  1887	  1978	  1987	  2010	  2056	  2071	  2077	  2133	  2138	  2143	  2148	  2156
	  2161	  2171	  2216	  2225	  2234	  2272	  2285	  2286	  2298	  2338	  2349	  2363	  2415
PJSP	  2084	  2419
PJUMPE	  1080
PRNTBP	  1255	  1296	  1358
PXCT	   981	  1076	  1449
PXGEN	   981	  1076	  1449
STOPCD	    11	   804	   807	   829	   834	   869	   992	   998	  1002	  1032	  1098	  1134	  1136	  1245
	  1465	  1505
STP	  1526#	  1532	  1533	  1534	  1535	  1536	  1537	  1538	  1539	  1540	  1543#	  1551	  1552	  1553
	  1554	  1555	  1556	  1557	  1558	  1559	  1561#	  1565	  1566	  1567	  1568	  1569	  1570	  1571
	  1572	  1573
STPTAB	  1514#	  1531	  1550	  1564
SYSPIF	  2054
UMOVE	  1076
WRADB	   975
X	   186#	   264	   274	   285	   296	   311	   322	   331	   341	   351	   362	   373	   384	   397
	   407	   417	   427	   443	   459	   473	   483	   497	   512	   522	   532	   542	   551	   561
	   572	   580	   591	   601	   614	   627	   632	   643	   654	   669	   684	   699	   709	   724
	   734	   744	   754	   764
XCTFU	   981	  1076	  1449
XP	  2030
$END	  2423    cPXZ