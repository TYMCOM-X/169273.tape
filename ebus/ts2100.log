!SYSNO
TYMSHARE F33-P035/D-7 1-12-88
!DAYTIME
11-DEC-1988 22:49:46 PST

!
!R (SYS)NAD      ; Create the ISIS Kernel from NDxxxx.TYM
1.5
;X   ND2100.CMD

;; ISIS-II Version 7.03 for PDP-10 host 32 on node 2100
;@   (SOURCE)I2IS07.I03

End of assembly
;@   ND2100.TYM

End of assembly
;@   GOODGY.NQA

End of assembly
;@   (SOURCE)I2IS07.R03

SYNC 1BE2 244E
CLOCKS 244E 258E
IPI 258E 27EE
FLASH 27EE 2C9A
KCAREA 2C9A 2F28
TTY 2F28 3200
KERNEL 3200 8D30
DDT 8D30 0BE00
   3279d bufferlets allocated to dispatcher
DISPAT 0BE00 17800
.............................................



    ***  ISIS-II  ***
      Version 7.3d

TYMNET-II Node 2100, Kernel Host 1294
Maximum slot number is 6

       >>> HARDWARE CONFIGURATION <<<

Expects enhanced sync microcode
Expects enhanced async microcode
Expects MAC II
Expects maximum baud rate of 1200
Expects 1 sync board(s)
Expects 1 IPI processor(s)
   IPI device 0 has device address 88

       >>> SLOT CONFIGURATIONS <<<

SLOT 0, NODE CODE, has 250 K-bytes of core, from 17800 to 55FFF
   3 logical unit(s)
   L.U. 0 is sync line 0
   L.U. 1 is sync line 1
   L.U. 2 is sync line 2

SLOT 1 has 10 K-bytes of core, from 56000 to 587FF
   1 logical unit(s)
   L.U. 0 is M.Board channel 0

SLOT 2 has 16 K-bytes of core, from 58800 to 5C7FF
   no logical units

SLOT 3 has 20 K-bytes of core, from 5C800 to 617FF
   no logical units

SLOT 4 has 20 K-bytes of core, from 61800 to 667FF
   no logical units

SLOT 5 has 20 K-bytes of core, from 66800 to 6B7FF
   no logical units

SLOT 6 has 532 K-bytes of core, from 6B800 to 0F07FF
   no logical units

***Highest location used in this configuration is 0F0800

Requires 966d k-bytes of core


.............................................


Code Generated:  12/12/88  06:49:48 GMT

.............................................

End of assembly
;X   (SOURCE)I2IS07.P03

;; ISIS-II Version 7.03 Patch File

;@   (SOURCE)I2IS07.Q03

ISIS 7.03 PATCH 1
  Fixes reversed CTS and DSR on HDLC micro.

ISIS 7.03 PATCH 2
  This patch is superseded by patch 4.

ISIS 7.03 PATCH 3
  Causes ISIS to read memory error log before crashing.

ISIS 7.03 PATCH 4
  Refreshes CPU and MAC registers to avoid degradation.
  (Updated version of patch 2)

ISIS 7.03 PATCH 5
  Correctly initializes registers for checking newlog bit array

ISIS 7.03 PATCH 6
  Wraps around accounting char counts when count exceeds 28 bits

ISIS 7.03 PATCH 7
Patch to prevent disk from doing retries on a 
controller errror

ISIS 7.03 PATCH 8
  Corrects initialization order of Emulated Sync.
  Also it allows window for interrupts to be flushed
  during initialization.

ISIS 7.03 PATCH 9
have DCSLOT free channels for ports in time-out
or clean-up

ISIS 7.03 PATCH 10
Have KRASHI report crashes to dispatcher
and pause slot for 4 seconds

ISIS 7.03 PATCH 11
Keep DDT Mask command from crashing machine

ISIS 7.03 PATCH 12
Have restart SVC disable watch-frog timer

ISIS 7.03 PATCH 13
Crash ISIS on DMA parity error

ISIS 7.03 PATCH 14 
 CLEAR DHANG ON SYSTEM CRASH 

ISIS 7.03 PATCH 15 
THIS PATCH IS USED TO CORRECT  A TID RECOGNITION5 
FOR 300 BAUD WHEN USING HIGH SPEED INTERRUPTS.

ISIS 7.03 PATCH 16 
ISIS VERSION GREATER 6 ALLOWS WRITING PAST SEGMENT 
BOUNDARIES WITHOUT PROTECTION.  CHANGES MADE FOR  
MULTIMEG SUPPORT INDUCED THIS PROBLEM.  THIS PATCH 
PROTECTS ISIS FROM OVER WRITING BOUNDARIES. 
See NSR 1772 

ISIS 7.03 PATCH 17
This patch fixes timing problems associated
with the initialization of HDLC micro-engine
channels that are emulation TYMNET sync.

End of assembly


1;F   ND2100.NIB

70;T
0,SUMTBL;P
INTLEN,IEND-INTLEN;P
%P
SEGF,SFSIZE;P
%Q
EXIT

!R (SYS)NAD      ; Create the node code for slot 0 from NDxxxx.TYM
1.5
;X   ND2100.C00

;; UPDATED 87/08/18 ND2100 ISIS-II T-II, node 2100 for PDP-10 host 32
;A   (SOURCE)TII05.I22

End of assembly
;A   ND2100.TYM

End of assembly
;A   ISXRAY.GGY

End of assembly
;A   (SOURCE)TII05.R22

End of assembly
;A   (SOURCE)TII05.F22


TYMNET-II Node Code, Version 5.22, ISIS Node

Node: 2100  Kernel Host: 1294

Ports:		Lines:		Links:
   128d Pthru	     3d Sync	     2d TIILNK
     3d Xray	     0d SIO	     1d XLNK
		     3d Total	     3d Total
   256d Disp
     7d Krnl

Maximum number of circuits =  437d 


Bufferlet storage space:

  5F98x bytes (  24d KB) for  437d circuit buffers ( 56d bytes per circuit)
 0D37Ax bytes ( 53d KB) for  277d history buffers (195d bytes per termination)
 13312x bytes ( 77d KB) for  437d total circuits  (179d bytes per circuit)


Memory used by this configuration = 3E800x, 250d KB.

Optimal amount of memory for this configuration =   225d  KB.

End of assembly
;A   (SOURCE)TII05.P22


PATCH added on 870811 at 0900 by JLADEN.
     Starts at ATTLI0+20 and is 10x bytes long
<<< FIX RESET VERSION COMPATIBILTY PROBLEM >>>

PATCH added on 870907 at 0138 by SDW.
     Starts at RTBFA2+4 and is 6x bytes long
<<< PATCH TO FIX REGISTER USAGE BY IMPROVED REBUILD ROUTINE >>>

PATCH added on 870211 at 1800 by SDW.
     Starts at HSTDI4+0C and is 4x bytes long
<<< Patch to have XRAY HS U command display up hosts that have no ports >>>

PATCH added on 880121 at 1301 by sdw.RESET1.
     Starts at ATTL05-8 and is 6x bytes long
	Continues at PATCH1+0 and is 3Ax bytes long
<<< Make old style reset packet always have old style reset data >>>

PATCH added on 880122 at 2028 by sdw.RESET2.
     Starts at ATTLIN+8 and is 6x bytes long
	Continues at PATCH1+3A and is 38x bytes long
<<< Handle neighbor switching between old and expanded resets >>>

PATCH added on 880126 at 1756 by sdw.RES4M1.
     Starts at G04MIN and is 6x bytes long
	Continues at PATCH0+0 and is 0Ex bytes long
	Continues at PATCH1+72 and is 0D8x bytes long
<<< Send a old style reset every four minutes to help lines to come up >>>

PATCH added on 880126 at 1845 by sdw.RES4M2.
     Starts at G01SE3 and is 6x bytes long
	Continues at PATCH1+12A and is 8Ax bytes long
<<< Part 2 of patch to occasionally send old style resets. >>>

PATCH added on 880306 at 109 by sdw.FIX DB.
     Starts at DBEGIN and is 6x bytes long
	Continues at PATCH1+1B4 and is 1Cx bytes long
<<< Disable DB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 123 by sdw.FIX WB.
     Starts at XWRBUF and is 6x bytes long
	Continues at PATCH1+1D0 and is 1Ax bytes long
<<< Disable WB command from local Xray to prevent crash or corrupted data >>>

PATCH added on 880305 at 134 by sdw.REMZAP.
     Starts at REMZA6+2 and is 6x bytes long
	Continues at PATCH1+1EA and is 10x bytes long
<<< Fix potential crash when Xray user zaps before clearing delay circuits >>>

PATCH added on 880307 at 0934 by sdw.NETIDBG.
     Starts at ATTNID and is 12x bytes long
	Continues at PATCH0+12 and is 8x bytes long
<<< Do not put neighbor with bad NETID on node's bad guy list >>>

PATCH added on 880317 at 1523 by sdw.XRAYIN.
     Starts at XRYIN7 and is 4x bytes long
<<< Fix local XRAY to have a dismiss when waiting for character >>>

PATCH added on 880408 at 1500 by SLN.FNDLNK.
     Starts at CRQZOG+6 and is 0Ex bytes long
	Continues at LEP9V2-20 and is 0Ex bytes long
	Continues at PATCH1+1FA and is 4Cx bytes long
<<< Fix crash 0007 from Qexec corruption >>>

PATCH added on 880410 at 1525 by sdw.ATT.R2.
     Starts at ATTLDW and is 6x bytes long
	Continues at PATCH1+246 and is 14x bytes long
<<< Fix crash in line attach logic due to corrupted register >>>

PATCH added on 880405 at 2334 by sdw.WSZDWN.
     Starts at MCHD04+4 and is 6x bytes long
	Continues at TRLINZ and is 6x bytes long
	Continues at PATCH1+25A and is 66x bytes long
	Continues at PATCH0+1A and is 18x bytes long
<<< Fix windowsize matchdown to restore to original when link goes down >>>

PATCH added on 880425 at 1713 by sdw.HSecNS.
     Starts at XSTMS0 and is 4Cx bytes long
<<< Fix NS to show proper time spent in H-SEC process >>>

PATCH added on 880426 at 2214 by sdw.KDCMTS.
     Starts at XNEI7B and is 6x bytes long
	Continues at PATCH1+2C0 and is 1Ax bytes long
<<< Fix Xray KD command to correctly count number of command circuits >>>

PATCH added on 880623 at 1330 by sdw.OOPS.
     Starts at SFAIL-0a and is 6x bytes long
	Continues at PATCH1+2DA and is 10x bytes long
<<< Save R0 and R1 when doing software crashes >>>

PATCH added on 880706 at 1301 by CMR.XRDBRM.
     Starts at DBEGI8 and is 6x bytes long
	Continues at PATCH1+2EA and is 20x bytes long
<<< Reset INTXRF flag when entering 'DB' command >>>

PATCH added on 880725 at 1500 by sdw.DBFILL.
     Starts at DBEGI5 and is 6x bytes long
	Continues at PATCH1+2FA and is 1Ex bytes long
<<< Prevent crash caused by delay circuits using all bufferlets >>>
End of assembly
1;F   ND2100.N00

SEG0,RSEG0;P
SEG1,S1SIZE;P
SEGD,SDSIZE;P
SEGF,SFSIZE;P
CTA,CTASIZ;P
%P
%Q
EXIT

!R (SYS)NAD      ; Create the Engine code that runs in Slot 1 from NDxxxx1.5
.T01

Undefined not allowed   ?
;X   ND2100.C01

;;      EBUS INTERFACE COMMAND FILE - SYSTEM #: 32 (PDP-10 host)
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND2100.T01

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10BAA
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3116d, requires 0D00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       9d K-bytes of core
End of assembly
1;F   ND2100.N01

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!; Slot 2 comes from EBUS02.O02
!R (SYS)NAD      ; Create Joe's test code that runs in Slot 3 from NDxxxx1.5
.T03

Undefined not allowed   ?
;X   ND2100.C03

;;      JOE'S TEST SLOT, HOST 24.
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND2100.T03

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10BAA
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3116d, requires 0D00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       9d K-bytes of core
End of assembly
1;F   ND2100.N03

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!R (SYS)NAD      ; Create Carl's test code that runs in Slot 4 from NDxxx1.5
x.T04

Undefined not allowed   ?
;X   ND2100.C04

;;      CARL'S TEST SLOT, HOST 28.
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND2100.T04

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10BAA
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3116d, requires 0D00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       9d K-bytes of core
End of assembly
1;F   ND2100.N04

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!R (SYS)NAD      ; Create Osman's test code that runs in Slot 5 from NDxx1.5
xx.T05

Undefined not allowed   ?
;X   ND2100.C05

;;      OSMAN'S TEST SLOT, HOST 57.
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND2100.T05

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10BAA
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3116d, requires 0D00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       9d K-bytes of core
End of assembly
1;F   ND2100.N05

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!R (SYS)NAD      ; Create the big slot code that runs in Slot 6 from NDxx1.5
xx.T06

Undefined not allowed   ?
;X   ND2100.C06

;;      BIG SLOT, TEST HOST 930.
;@   (SOURCE)EBUS02.I00

End of assembly
;@   ND2100.T06

End of assembly
;@   (SOURCE)EBUS02.R00

Start.Lib Version 0.05
SEG 2 SIZE = 1100

RING 0E0000 101BA 
CRASH.LIB    11-15-84 AWT
THIS VERSION HAS AN OPTION FOR EXTENDED CRASH PROCESSING.
CRASH 101BA 103B8
STATUS 103B8 105EE
EBUS 105EE 10BAA
DEFAULT AREA PROTECTIONS ASSUMED.

SEGMENT 0-length 404d, requires 200x bytes of core.
SEGMENT 1-length 3116d, requires 0D00x bytes of core.
SEGMENT 2-length 4480d, requires 1200x bytes of core.
SEGMENT 0E-length 476d, requires 200x bytes of core.
       9d K-bytes of core
End of assembly
1;F   ND2100.N06

CTA,CTASIZ;P
SEG0,S0SIZE;P
SEG1,S1SIZE;P
SEG2,S2SIZE;P
%P
%Q
EXIT

!
!; Build BND file.  Note that the 68K code is the same in all bases.
!R (SYS)MERLIN
MERGE AND LINK ISIS SLOTS
VERSION  2.10
* TS2100.BND=ND2100.NIB,ND2100.N00,ND2100.N01,(EBUS)EBUS02.O02/S,ND2100.N03,ND2100.N04,ND2100.N05,ND2100.N06




         SLOT MAP

SLOT BEGINS ENDS
 0   17800  55FFF
 1   56000  587FF
 2   58800  5C7FF
 3   5C800  617FF
 4   61800  667FF
 5   66800  6B7FF
 6   6B800  F07FF




    MAP OF SLOT  0

SEG  BEGINS ENDS
 0   18800  1ECFF
 1   1ED00  2A5FF
 2   2A600  3A5FF
 3   3A600  4A5FF
 4   4A600  4E4FF
13   4E500  55FFF
14   17800  187FF




    MAP OF SLOT  1

SEG  BEGINS ENDS
 0   56200  56393
 1   56400  5702B
 2   57100  5827F
14   56000  561DB




    MAP OF SLOT  2   (S-RECORD)

BEGINS ENDS
58800  5AAAC




    MAP OF SLOT  3

SEG  BEGINS ENDS
 0   5CA00  5CB93
 1   5CC00  5D82B
 2   5D900  5EA7F
14   5C800  5C9DB




    MAP OF SLOT  4

SEG  BEGINS ENDS
 0   61A00  61B93
 1   61C00  6282B
 2   62900  63A7F
14   61800  619DB




    MAP OF SLOT  5

SEG  BEGINS ENDS
 0   66A00  66B93
 1   66C00  6782B
 2   67900  68A7F
14   66800  669DB




    MAP OF SLOT  6

SEG  BEGINS ENDS
 0   6BA00  6BB93
 1   6BC00  6C82B
 2   6C900  6DA7F
14   6B800  6B9DB

EXIT

!
!DIRECT ND2100.*,TS2100.*

TS2100  BND      77  11-DEC-88 2255    ALL RD  NO     38656
ND2100  N06       7  11-DEC-88 2254    ALL RD  NO      2688
ND2100  N05       7  11-DEC-88 2254    ALL RD  NO      2688
ND2100  N04       7  11-DEC-88 2254    ALL RD  NO      2688
ND2100  N03       7  11-DEC-88 2254    ALL RD  NO      2688
ND2100  N01       7  11-DEC-88 2254    ALL RD  NO      2688
ND2100  N00     108  11-DEC-88 2253    ALL RD  NO     54656
ND2100  NIB      43  11-DEC-88 2250    ALL RD  NO     21120
TS2100  CTL       2  11-DEC-88 2249    ALL RD  NO       186
ND2100  C06       2  11-DEC-88 2244    ALL RD  NO        34
ND2100  BAK       2  11-DEC-88 2243    ALL RD  NO        34
ND2100  C05       2  11-DEC-88 2243    ALL RD  NO        34
ND2100  C04       2  11-DEC-88 2242    ALL RD  NO        34
ND2100  C03       2  11-DEC-88 2241    ALL RD  NO        34
ND2100  T06       2  11-DEC-88 2239    ALL RD  NO        23
ND2100  T05       2  11-DEC-88 2239    ALL RD  NO        22
ND2100  T04       2  11-DEC-88 2238    ALL RD  NO        22
ND2100  T03       2  11-DEC-88 2237    ALL RD  NO        22
ND2100  TYM       3  11-DEC-88 2227    ALL RD  NO       759
ND2100  C00       2  11-DEC-88 2219    ALL RD  NO        54
ND2100  CMD       2  11-DEC-88 2219    ALL RD  NO        45
TS2100  LOG       1  11-DEC-88 2212    ALL RD  NO      5120
TS2100  BAK       2  11-DEC-88 2211    ALL RD  NO       183
ND2100  BND      67  11-DEC-88 2134    ALL RD  NO     33536
ND2100  LOG       6  11-DEC-88 2123    ALL RD  NO      2311
ND2100  T01       2  11-DEC-88 2113    ALL RD  NO        82
ND2100  C01       2  24-AUG-88 1719    ALL RD  NO        40

!LOGOUT
1680.50 tru
terminal time: 0:06:12
    