




						
	THE PURPOSE OF THE E-BUS PROJECT IS TO REMOVE TYMNET I
	VARIAN BASE NODES FROM THE PUBLIC NETWORK BUT STILL 
	ALLOW THE HOST PDP-10 COMPUTERS TO ACCESS THE NETWORK
	USING MINI ENGINES.

	IT IS RECOMMENDED THAT AT LEAST 2 PERSONS ARE ON SITE
	FOR THE E-BUS CONVERSION. THIS WILL MAKE THE CONVERSION
	EASIER AND WILL PREVENT DAMAGE TO THE COMPONENTS DURING
	REMOVAL AND INSTALLATION.

	THE LOCATION OF THE COMPONENTS FOUND WITHIN A VARIAN
	BASE ARE SHOWN IN THE ENCLOSED DRAWING AND DESCRIBED
	BELOW. THIS SHOULD MAKE THE INSTRUCTIONS FOR PREPARING
	THE VARIAN BASE EASIER TO FOLLOW. FOR REMOVAL OF THE
	COMPONENTS FOLLOW THE INSTRUCTIONS IN THE `PREPARATION
	OF THE VARIAN BASE' SECTION OF THIS DOCUMENT.

		A) I/0 POWER SUPPLY, NOT REMOVED.
		B) I/O POWER SUPPLY, NOT REMOVED.
		C) MAIN CHASSIS POWER SUPPLY, REMOVE.
		D) MAIN CHASSIS/FRONT CONSOLE, REMOVE.
		E) HORIZONTAL PADDLE CARD, REMOVE.
		F) EXPANSION CHASSIS, REMOVE.
		G) CARD CAGE, NOT REMOVED.
		H) CONNECTOR PANEL, REMOVE.
		I) INTERFACE PANEL, NOT REMOVED.
		J) BLOWER, NOT REMOVED.

	THE FOLLOWING COMPONENTS WILL BE REMOVED FROM THE MINI 
	ENGINE CABINET AND MOUNTED IN THE VARIAN CABINET FOR THE 
	E-BUS CONVERSION. FOLLOW THE INSTRUCTIONS IN THE 
	`INSTALLATION OF THE E-BUS UPGRADE KIT' SECTION OF THIS
	DOCUMENT.

		K) MINI ENGINE POWER SUPPLY.
		L) FRONT CONSOLE.
		M) MINI ENGINE CHASSIS.
		N) SIO CARD CAGE.
		O) CONNECTOR PANEL.

	ALSO INSURE THAT YOU HAVE BEEN SENT THE FOLLOWING PARTS 
	WITH THE E-BUS UPGRADE KIT.
							QTY.
							---
		1) E-BUS INF. BOARD, PART #570009-001    1
		2) E-BUS CABLES, PART #160232-001	 2





		 PREPARATION OF THE VARIAN BASE
		--------------------------------


	1) DISCONNECT ALL AC POWER CONNECTED TO THE VARIAN BASE
	   CABINET.

	2) REMOVE THE VARIAN CPU POWER SUPPLY AS FOLLOWS:

		- DISCONNECT THE AC POWER CORD.
		- DISCONNECT THE 3 MOLEX POWER CABLES THAT CONNECT 
		  THE CPU P.S. TO THE MAIN CHASSIS AT CONNECTORS 
		  J1, J2, AND J3. THESE CONNECTIONS ARE IN THE BACK
		  OF THE CABINET.
		- REMOVE THE 4 MOUNTING SCREWS ON THE FRONT OF
		  THE POWER SUPPLY.
		- SLIDE THE P.S. FORWARD AND REMOVE FROM THE 
		  FRONT OF THE CABINET. CAUTION: THE POWER SUPPLY
		  IS HEAVY. YOU MAY ALSO NEED SOMEONE TO FEED THE 
		  CABLES THROUGH AS YOU REMOVE THE POWER SUPPLY.

	3) REMOVE THE HORIZONTAL PADDLE CARD AND CABLE LOCATED
	   IN THE LOWER RIGHT REAR OF THE MAIN CHASSIS.	

	4) REMOVE THE VARIAN CHASSIS FRONT PANEL AS FOLLOWS:

		- RELEASE THE SPRING LATCHES THEN SWING THE TOP
		  OF PANEL DOWN.
		- DISCONNECT THE POWER AND RIBBON CABLES.
		- RELEASE THE SLIDE MOUNTING BRACKETS AND REMOVE
		  THE FRONT PANEL.

	5) REMOVE THE FOUR MOUNTING SCREWS FOR THE VARIAN CPU
	   CHASSIS, SLIDE THE CHASSIS FORWARD, THEN REMOVE THE 
	   CHASSIS FROM THE FRONT OF THE CABINET.

	6) REMOVE THE VARIAN EXPANSION CHASSIS AS FOLLOWS:

		- DISCONNECT THE 201 INTERFACE CONNECTORS AND CABLES
		  FROM THE THE CARDS WITHIN THE EXPANSION CHASSIS.
		- REMOVE THE 4 MOUNTING SCREWS FOR THE EXPANSION
		  CHASSIS. THE SCREWS ARE LOCATED IN THE FRONT
		  OF THE CABINET.
		- REMOVE THE EXPANSION CHASSIS.

	7) REMOVE THE CONNECTOR PANEL AS FOLLOWS:

		- DISCONNECT ALL CABLES FROM THE CONNECTOR PANEL.
		- REMOVE THE FOUR MOUNTING SCREWS FOR THE CONNECTOR
		  PANEL.
		- REMOVE THE CONNECTOR PANEL.


		 INSTALLATION OF THE E-BUS UPGRADE KIT
		---------------------------------------

	1) PRE-ASSEMBLE THE MOUNTING BRACKETS AND INSTALL 1 SET IN THE
	   VARIAN CABINET UNDER THE EXISTING I/O POWER SUPPLIES. LEAVE
	   ENOUGH ROOM TO MOUNT THE MINI ENGINE POWER SUPPLY AND HAVE
	   A FEW EXTRA INCHES OF SPACE FOR VENTILATION.

	2) REMOVE THE POWER SUPPLY FROM THE MINI ENGINE AS FOLLOWS:

		- DISCONNECT THE A.C. POWER CORD.
		- DISCONNECT THE POWER CABLE AT THE J1 CONNECTOR.
		- REMOVE THE GROUND STRAP AND ANY POWER CORDS
		  CONNECTED TO THE POWER SUPPLY.
		- REMOVE THE P.S. MOUNTING SCREWS AND SAVE THEM.
		- REMOVE THE POWER SUPPLY.

	3) MOUNT THE MINI ENGINE POWER SUPPLY IN THE VARIAN AS FOLLOWS:

		- INSTALL THE POWER SUPPLY FROM THE REAR OF THE VARIAN
		  CABINET AND PLACE IT ON THE MOUNTING RAILS.
		- INSURE THAT THE J1 CONNECTOR IS FACING THE FRONT OF
		  THE CABINET. 		
		- USE THE MOUNTING SCREWS YOU REMOVED FROM THE MINI
		  AND SECURE THE POWER SUPPLY TO THE VARIAN CABINET.

	4) INSTALL THE SECOND SET OF MOUNTING RAILS ABOVE THE VARIAN
	   CARD CAGE AND BELOW THE MINI ENGINE POWER SUPPLY. LEAVE
           ENOUGH ROOM TO MOUNT A FRONT CONSOLE BELOW THE MINI ENGINE
	   POWER SUPPLY AND A MINI CHASSIS BELOW THE FRONT CONSOLE.	

	5) MOUNT THE SPRING LATCH CLIPS FOR THE FRONT CONSOLE BELOW
	   THE MINI ENGINE POWER SUPPLY IN THE FRONT OF THE VARIAN
	   CABINET.

	6) REMOVE MINI ENGINE CHASSIS AS FOLLOWS:

		- DISCONNECT CABLES FROM THE SYNC, ASYNC, AND SIO
		  MOTHER CARDS.
		- DISCONNECT THE FRONT CONSOLE CABLES FROM THE ROM &
		  I/O AND CHASSIS.
		- REMOVE ANY GROUND STRAPS CONNECTED TO THE CHASSIS.
		- REMOVE THE MOUNTING SCREWS AND SAVE THEM.
		- REMOVE THE CHASSIS.

	7) INSTALL THE MINI ENGINE CHASSIS IN THE VARIAN CABINET
	   AS FOLLOWS:

		- INSTALL FROM THE FRONT OF THE VARIAN CABINET AND
		  PLACE ON THE MOUNTING RAILS.
		- SECURE THE CHASSIS TO THE CABINET WITH THE SCREWS
		  YOU REMOVED FROM THE MINI ENGINE.
		- CONNECT THE GROUND STRAP FROM THE MINI POWER 
		  SUPPLY TO THE CHASSIS.
		- CONNECT THE POWER CONNECTOR FROM THE CHASSIS TO THE 
		  J1 CONNECTOR ON THE POWER SUPPLY.

	8) MOUNT THE FRONT CONSOLE ON THE LATCH SPRING CLIPS AND THEN
	   CONNECT THE FRONT CONSOLE TO THE ROM & I/O AND CHASSIS.

	9) INSTALL THE E-BUS CARD AS FOLLOWS:
		- NOTE: OFF = OPEN, ON = CLOSED.
		- SWITCH SETTINGS FOR THE SWITCH AT LOCATION A3 ARE 1
		  OFF, 2 - 8 ON.
		- SWITCH SETTINGS FOR THE SWITCH AT LOCATION C3 ARE
		  1 AND 5 OFF, THE REST ON.
		- THE E-BUS BOARD SHOULD BE INSTALLED IN SLOT 1 OR 0
		  OF THE MINI CHASSIS. IF AN SIO MOTHER IS TO BE
		  INSTALLED THE SIO BOARD WILL GO IN SLOT 1 AND THE 
		  E-BUS WILL GO IN SLOT 0. 
		- THE SLOT SHOULD BE SET UP FOR A DMA DEVICE BY REMOVING
		  JUMPERS 122 - 222 AND 137 - 237. INSURE THAT JUMPERS
		  ARE INSTALLED BETWEEN 127 - 227, 128 - 228, AND 134 -
		  234.

	10) THE E-BUS CARD CONNECTS TO THE INTERFACE PANEL ON THE VARIAN
	   AS FOLLOWS:

		- SWING OPEN THE INTERFACE PANEL. 
		- SOME VARIANS WILL HAVE 2 INTERFACE PANEL BOARDS. TO
		  FIND THE ACTIVE PANEL CHECK LOCATION 8H. PIN 4 IS JUMPERED 
		  TO PIN 16 OR THIS LOCATION IS MARKED AS ADDRESS 34 FOR THE
		  ACTIVE BOARD.
		- REMOVE THE EXISTING CABLES AT LOCATIONS X7 AND X8 ON THE
		  INTERFACE PANEL BOARD.
		- CONNECT 1 E BUS CABLE TO P4 ON THE E BUS CARD, RUN THE
		  CABLE THROUGH THE HOLE PROVIDED FOR CABLES IN THE
		  INTERFACE PANEL, AND CONNECT TO X8 ON THE INTERFACE 
		  PANEL BOARD.
		- CONNECT THE OTHER E-BUS CABLE TO P1, RUN THROUGH THE 
		  INTERFACE PANEL, AND CONNECT TO X7 ON THE INTERFACE
		  PANEL BOARD.
		- CABLES SHOULD BE CONNECTED RED TO THE LEFT ON THE E-BUS
		  BOARD AND RED TO THE TOP ON THE INTERFACE PANEL.

	11) IF AN SIO MOTHER BOARD WILL BE USED WITH THE MINI ENGINE
	    PERFORM THE FOLLOWING:

		- MOUNT THE SIO CARD CAGE IN THE REAR OF THE VARIAN
		  CABINET, UNDER THE MINI CHASSIS.
		- MAKE THE SIO MOTHER TO DAUGHTER BOARD CONNECTIONS.

	12) MOUNT THE CONNECTOR PANEL FOR THE MINI ENGINE AS FOLLOWS:

		- CONNECT 6 STANDOFF HEX ADAPTERS TO THE FRONT OF THE
		  CONNECTOR PANEL. THIS WILL RECESS THE CONNECTOR PANEL
		  INTO THE VARIAN CABINET.
		- IF A SIO CARD CAGE IS INSTALLED MOUNT THE CONNECTOR
		  PANEL UNDER THE CARD CAGE. IF NOT MOUNT THE CONNECTOR 
		  PANEL UNDER THE MINI CHASSIS.
		- MAKE THE CONNECTIONS BETWEEN THE SYNC BOARD AND THE
		  CONNECTOR PANELS.  

	13) RUN THE STANDARD DIAGS ON THE ENGINE AND THEN RUN THE E-BUS
	    TEST LISTED IN THIS DOCUMENT.


		     ********************
		     **	IMPORTANT NOTE **
		     ********************


	ALL E-BUS BOARDS THAT ARE BEING INSTALLED SHOULD BE CHECKED 
	TO INSURE THAT THEY HAVE THE LATEST REVISION PROMS AND ALL
	REWORKS HAVE BEEN PERFORMED.

	A) QUICK CHECK: PROMS

	AT LOCATION 6L ON THE E-BUS BOARD THE PROM SHOULD BE LABELED
	AS 'EBUSBG 1.0' AND 'E01E LOW.'

	AT LOCATION 8L ON THE E-BUS BOARD THE PROM SHOULD BE LABELED
	AS 'EBUSBG 1.0' AND '9659 HI.'

	IF THEY ARE NOT LABELED AS 'EBUSBG 1.0' YOU NEED TO REPLACE 
	THESE PROMS WITH THE 'EBUSBG 1.0' VERSION.

	B) QUICK CHECK: REWORK

	AT LOCATION 9Z ON THE SOLDER SIDE OF THE BOARD THERE SHOULD
	BE A JUMPER CONNECTING PIN 11 TO POST E28-C. E28-C IS AT
	LOCATION 9Z ALSO BUT IS MARKED ON THE COMPONENT SIDE OF THE
	BOARD. IF 9Z-11 IS CONNECTED TO E28-C THE REWORK HAS ALREADY 
	BEEN COMPLETED.

	REWORK INSTRUCTIONS:

	THIS REWORK REQUIRES 1 CUT, 1 JUMP, AND .3 FEET OF 30 AWG 
	WIRE.

	1) CUT TRACE ON SOLDER SIDE AT 9Z-10.

	2) JUMPER E28-C TO 9Z-11.

	THIS REWORK IS PER ECO 85-477 AND REQUIRES NO UPDATE TO THE 
	BOARD OR SCHEMATICS. IF YOU HAVE ANY PROBLEMS WITH THESE
	INSTRUCTIONS CONTACT TIM DEGOOSH AT NTS.


		E-BUS TEST PROCEDURES
		---------------------

	    TO TEST THE E-BUS BOARD THE ENGINE MUST HAVE E-BUS CODE
	    LOADED. AFTER THE CODE IS LOADED CONNECT A TERMINAL TO THE
	    TTY PORT ON THE E-BUS BOARD. THIS IS THE RIGHTMOST PORT ON
	    THE E-BUS BOARD.

	    ENTER XPIBUG BY PRESSING THE RIGHTMOST (ABORT) BUTTON ON
	    THE FRONT OF THE E-BUS BOARD.  

	    TO TEST THE BOARD YOU WILL HAVE TO MODIFY SOME REGISTERS.
	    THE FOLLOWING LIST WILL SHOW YOU THE REGISTERS AND EXPLAIN
	    THEIR FUNCTIONS.

		 D0 = HIGH ORDER 32 BITS OF TEST DATA.
		 D1 = LOW ORDER 4 BITS OF TEST DATA.
		 D2 = TEST START ADDRESS.
		 D3 = TEST END ADDRESS.
		 D4 = MISMATCH COUNTER. (ERRORS)
		 D5 = HIGH ORDER DATA READ.
		 D6 = LOW ORDER DATA READ.

	TEST 1
	------

	    TEST 1 WRITES DATA INTO THE HOST SYSTEM AND THEN READS
	    THE DATA FROM THE HOST, CONSTANTLY CHECKING FOR MISMATCHES
	    BETWEEN THE DATA THAT HAS BEEN WRITTEN AND THE DATA THAT
	    IS READ.

	    THE FOLLOWING STEPS EXPLAIN HOW TO SET UP THE TEST. THERE
	    IS A QUICK REFERENCE GUIDE THAT WILL BE HELPFUL AFTER YOU
	    HAVE READ THROUGH THESE STEPS.

	1 - ENTER A TEST PATTERN INTO REGISTER D0. THIS PATTERN WILL
	    HAVE 8 HEX CHARACTERS. THE FOLLOWING IS AND EXAMPLE OF HOW
	    TO ENTER DATA INTO A REGISTER.

		XPIBUG 1.009 - 17 JUNE 84> .D0 12345678 'CR'

	    THIS WILL ENTER THE PATTERN 12345678 INTO REGISTER D0.
	    INSURE THAT YOU ENTER THE '.' BEFORE THE REGISTER NUMBER.
	
	2 - ENTER A TEST BIT INTO REGISTER D1. THIS WILL BE THE LSB.

	3 - SET A STARTING ADDRESS INTO REGISTER D2. THIS ADDRESS
	    CAN BE FROM 0000 - FFFE. FFFF IS THE HIGHEST ADDRESS THAT
	    CAN BE ADDRESSED.

	4 - SET AN ENDING ADDRESS INTO REGISTER D3. ONCE AGAIN FFFE
	    IS THE HIGHEST ADDRESS THAT CAN BE ADDRESSED.

	5 - ENTER ALL ZEROS INTO REGISTERS D4, D5, AND D6.

	6 - CLEAR THE BREAKPOINT BY ENTERING 'NOBR'. THEN SET A BREAKPOINT
	    BY ENTERING 'BR 7C6A'. THIS BREAKPOINT MUST BE SET OR THE TEST
	    WILL RUN CONTINUOSLY. 

	7 - ENTER 'DF' TO DISPLAY THE REGISTERS. THE DF COMMAND WILL
	    DISPLAY 16 REGISTERS BUT YOU WILL ONLY BE INTERESTED IN
	    D0 - D6. INSURE THAT YOUR REGISTERS ARE SET UP PROPERLY.
	    IF YOU NEED TO CHANGE A REGISTER JUST ENTER THE NEW
	    DATA AND THEN DISPLAY THE REGISTERS AGAIN.

	8 - ENTER 'GO 7C00' 'CR'. THIS STARTS THE TEST.
	      
	9 - AFTER THE TEST RUNS IT WILL DISPLAY 16 REGISTERS. ONCE AGAIN
	    YOU WILL ONLY BE INTERESTED IN REGISTERS D0 - D7. CHECK FOR
	    THE FOLLOWING DATA IN THESE REGISTERS.

		A) D0 = D5.
		B) D1 = D6.
		C) D2 = D3 + 1.
		D) D4 = 0.

	    IF ANY OF THESE REGISTERS HAVE INCORRECT DATA THE TEST HAS
	    FAILED. SET UP AND RUN THE TEST AGAIN. IF TEST STILL FAILS
	    CALL NTS OR GO TO TEST 2.

	    IF ALL REGISTERS HAVE THE CORRECT DATA THE TEST HAS PASSED.
	    GO TO STEP 10.

       10 - ENTER 'GO 5000'. INSURE THAT THE E-BUS SLOT IS RUNNING BY
	    LOGGING INTO DDT. THEN HAVE THE HOST SYSTEM BROUGHT UP.
	    AFTER THE HOST IS BROUGHT UP CHECK THE HOST STATUS THROUGH
	    DDT. IF ANY PROBLEMS ARE ENCOUNTERED CALL NTS.

	TEST 2
	------

	    TEST 2 IS ONLY USED WHEN TEST 1 HAS FAILED. THIS TEST IS TO
	    PROVIDE THE HOST SUPPORT TECHNICIANS WITH A MEANS OF TESTING
	    THE VARIAN INTERFACE CARDS AND THE PDP-10 MEMORY ACCESS.

	    THE TEST CONTINUALLY WRITES DATA TO THE SAME LOCATION IN THE
	    PDP-10 MEMORY.

	1 - ENTER A TEST PATTERN INTO REGISTERS D0 AND D1.

	2 - SET REGISTER 2 TO ANY ADDRESS BETWEEN 00000000 - 0000FFFF.

	3 - ENTER 'GO 7D00' TO EXECUTE THE TEST. THE TEST RUNS CONTINUALLY
	    UNTILL THE ABORT BUTTON IS PRESSED ON THE E-BUS BOARD.

	4 - WHILE THIS TEST IS RUNNING THE SIGNALS SHOULD BE TRACED FROM
	    THE E-BUS BOARD TO THE INTERFACE PANEL, THROUGH THE INTERFACE
	    CARDS THEN TO THE PDP-10 MEMORY. RESULTS OF THIS TESTING WILL 
	    INDICATE THE DEFECTIVE EQUIPMENT.

	5 - AFTER REPLACING OR FIXING THE DEFECTIVE EQUIPMENT GO BACK AND
	    RUN TEST 1.




		E-BUS TESTING QUICK REFERENCE GUIDE
		-----------------------------------


        CONNECT TERMINAL TO E-BUS AND PRESS ABORT BUTTON.

	1) XPIBUG 1.009 - 17 JUNE 84> .D0 12345678 'CR'

	2) XPIBUG 1.009 - 17 JUNE 84> .D1 00000009 'CR'

	3) XPIBUG 1.009 - 17 JUNE 84> .D2 00000001 'CR'

	4) XPIBUG 1.009 - 17 JUNE 84> .D3 0000FFFE 'CR'

	5) XPIBUG 1.009 - 17 JUNE 84> .D4 00000000 'CR'

	   XPIBUG 1.009 - 17 JUNE 84> .D5 00000000 'CR'

	   XPIBUG 1.009 - 17 JUNE 84> .D6 00000000 'CR'

	6) XPIBUG 1.009 - 17 JUNE 84> NOBR 'CR'
		
	   XPIBUG 1.009 - 17 JUNE 84> BR 7C6A 'CR'

	7) XPIBUG 1.009 - 17 JUNE 84> DF 'CR'

	   PC=7C6A SR=2709=.S7.N..C US=FFFF SS=000007C2
	   D0=12345678 D1=00000009 D2=00000001 D3=0000FFFE
	   D4=00000000 D5=00000000 D6=00000000 D7=00000000

	8) XPIBUG 1.009 - 17 JUNE 84> GO 7C00 'CR'

	   PHYSICAL ADDRESS= 00007C00

	   D0=12345678 D1=00000009 D2=0000FFFF D3=0000FFFF
	   D4=00000000 D5=12345678 D6=00000009 D7=00000000

	9) XPIBUG 1.009 - 17 JUNE 84> GO 5000 'CR'

		

	





		E-BUS TROUBLESHOOTING GUIDE
		---------------------------

	1- EXAMINE ENGINE FRONT CONSOLE. IS ENGINE RUNNING?

		YES - GO TO STEP 3.
		N0  - GO TO STEP 2.

	2 - DUMP AND RELOAD THE ENGINE.

	3 - CONNECT A TERMINAL TO THE TTY PORT ON THE ENGINE. LOG
	    INTO DDT BY TYPING 'DNSONLY' THEN A CARRIAGE RETURN.

	4 - YOU WILL BE PROMPTED FOR A SLOT #, GIVE THE E-BUS SLOT
	    NUMBER. THIS WILL PUT YOU IN THE SLOT AT AN ASTERIK 
	    PROMPT. IT WILL ALSO GIVE YOU A STATUS MESSAGE FOR THE
	    SLOT. IS THE SLOT RUNNING?

		NO  - GO TO STEP 6
		YES - GO TO STEP 5

	5 - IF THE SLOT IS RUNNNING ENTER '?HOST' 'CR' AT THE 
	    ASTERIK PROMPT. IF THE HOST IS ANSWERED AND PORTS ARE IN
	    USE THE E-BUS AND HOST ARE OPERATING PROPERLY. IF THE
	    HOST IS GONE OR DOWN GO TO STEP 14. THE FOLLOWING IS AN
	    EXAMPLE OF AN ACTIVE E-BUS HOST.

		A) DNSONLY 'CR'
		   NODE:4200
		   HOST:2901

		B) SLOT #: 1
		   SLOT 01 RUNNING:DDT

		C) *?HOST 'CR'
		   0 Host 29d has 96d ports, is answered
		   25d ports in use 	
		   


	6 - IF THE SLOT IS NOT LOADED YOU WILL HAVE TO LOAD. IF THE
	    SLOT IS DOWN PULL THE IRING AND ORING FOR THE E-BUS SLOT.
	    INSURE THAT THE DATA IS PULLED ON HARDCOPY AND THE NFMI 
	    AND CEI ARE INCLUDED. THE PROCEDURES FOR PULLING THESE 
	    RINGS ARE AS FOLLOWS.

		A) *R E0084,4 'CARRIAGE RETURN'
		    E0084 O37C 03FC

		B) *R E0068,8 'CARRIAGE RETURN'
		    E0068 0002 0900 0002 0100

		C) *R 20900,400 'CARRIAGE RETURN'
		   'ALL IRING DATA'

		D) *R 20100,400 'CARRIAGE RETURN'
		   'ALL ORING DATA'
	
	    	E) *ZZ



	  STEP A GIVES THE SIZE OF THE IRING AND ORING. THE BUFFER
	  SIZE FOR THE PARTICULAR SLOT YOU ARE WORKING ON MAY BE
	  DIFFERENT.

	  STEP B GIVES THE POINTER TO THE IRING AND ORING BUFFERS. THE
	  ADDRESS E0068 WILL ALWAYS CONTAIN THE IRING AND ORING POINTERS
	  BUT THE IRING AND ORING MAY START AT DIFFERENT ADDRESSES
	  DEPENDING ON THE SLOT.

	  STEP C PULLS THE IRING BUFFERS AND THE NFMI AND CEI FOR THE IRING.
          THE FIRST 4 BYTE ADDRESS GIVEN IN STEP 2 IS THE BEGINNING OF THE 
	  IRING. READ THIS ADDRESS FOR THE SIZE GIVEN IN STEP 1 PLUS 4 FOR 
	  THE NFMI AND CEI.

	  STEP D PULLS THE ORING BUFFERS AND THE NFMI AND CEI FOR THE ORING.
	  THE SECOND 4 BYTE ADDRESS GIVEN IN STEP 2 IS THE BEGINNING OF THE
	  ORING. READ THIS ADDRESS FOR THE SIZE GIVEN IN STEP 1 PLUS 4 FOR
	  THE NFMI AND CEI.

	  STEP E LOGS YOU OUT OF DDT.

	  THE ACTUAL ADDRESSES AND DATA YOU PULL WILL PROBABLY BE DIFFERENT
	  BUT YOU MAY WANT TO USE THIS AS A GUIDE.

	7 - REMOVE THE TERMINAL FROM THE TTY PORT ON THE ENGINE AND
	    CONNECT TO THE TTY PORT ON THE E-BUS BOARD. THIS IS THE
	    RIGHTMOST PORT.
	    
	    ENTER XPIBUG BY PRESSING THE RIGHTMOST (ABORT) BUTTON ON
	    THE E-BUS BOARD.

	8 - ENTER 'MD 900' 'CR'.

	9 - XPIBUG WILL DISPLAY 16 BYTES STARTING AT LOCATION 900.
	    THE 4 BYTE WORD AT 900 IS THE PERMANENT MESSAGE AREA FOR
	    ISIS-to-IPI MESSAGES. THE 4 BYTE WORD AT 904 IS THE 
	    PERMANENT MESSAGE AREA FOR IPI-to-ISIS MESSAGES.

	    FROM THE XPI POINT OF VIEW ENGINE ADDRESSES BEGIN AT 
	    E00000. THE ADDRESSES AT 900 AND 904 WILL BE SOMETHING 
	    SIMILAR TO 00E02560 AND 00E02568, RESPECTIVLY.

       10 - NOW ENTER 'MD E02560'. THIS IS THE ADDRESS FROM LOCATION
	    900. THE ADDRESS YOU USE WILL PROBABLY BE DIFFERENT.

       11 - XPIBUG WILL DISPLAY 16 BYTES FROM THE ADDRESS SPECIFIED.
	    THE FIRST BYTE DISPLAYED IS A MESSAGE BYTE FROM ISIS. A
	    CRASH MESSAGE FROM ISIS IS 13. A CRASH MESSAGE FROM THE 
	    ISIS SLOT INTERFACE TO THE E-BUS BOARD IS 03.

	    THE IPI-to-ISIS MESSAGE WILL BE DISPLAYED IN THESE 16 
	    BYTES ALSO. THE 11TH AND 12TH BYTES ARE IPI MESSAGE BYTES.
	    IF THE 12TH BYTE IS 03 THEN THE E-BUS HAS SENT A CRASH
	    MESSAGE TO ISIS. THE 11TH BYTE IS THE CRASH TYPE. CRASH 
	    TYPES ARE:

		50 = UNKNOWN OR ILLEGAL MESSAGE FROM ISIS
		08 = PDP10 INTERFAME-OUT
		09 = PDP10 INTERFACE PARITY ERROR
		0A = PDP10 INTERFACE DOES NOT RESPOND


       12 - PRINT OR COPY THIS DATA REGARDING ISIS AND IPI MESSAGES
	    FOR USE BY NTD PERSONNEL RESPONSIBLE FOR ISIS/E-BUS
            SOFTWARE.

       13 - IF THE ISIS MESSAGE WAS 13 THE NODE WILL HAVE TO BE 
	    RELOADED. OTHERWISE A RELOAD ON THE SLOT SHOULD GET THE
	    E-BUS RUNNING AGAIN.

       14 - IF THE SLOT IS RUNNING ENTER 'R 0DC,4' AT THE ASTERIK
	    PROMPT AND THEN PRESS 'CARRIAGE RETURN.' THIS WILL GIVE
	    YOU A 4 BYTE ADDRESS. THIS ADDRESS WILL BE USED AS A
	    POINTER FOR THE E-BUS CRASH DATA. THEN ENTER 'ZZ' TO
	    EXIT DDT. THE FOLLOWING IS AN EXAMPLE.

	    A)	DNSONLY 'CR'
		NODE:4200
		HOST:2901

	    B)	SLOT #:	1
		SLOT 01 RUNNING:DDT
	    C)	*R 0DC,4 'CR'
		000DC  00E62540	

	    D)  *Z LOGGING OFF? Z

       15 - REMOVE THE TERMINAL FROM THE TTY PORT ON THE ENGINE
	    AND CONNECT TO THE TTY PORT ON THE E-BUS BOARD. THIS 
	    IS THE PORT ON THE RIGHT.

       16 - PRESS THE ABORT BUTTON ON THE E-BUS BOARD. THIS IS THE
	    RIGHTMOST BUTTON ON THE BOARD. THIS WILL PUT YOU INTO
	    XPIBUG ON THE E-BUS BOARD.

       17 - ENTER 'BM 0 3FFFF 00E62540.' THE BM COMMAND MOVES THE
	    DATA FROM ADDRESSES 0 THROUGH 3FFFF ON THE E-BUS BOARD
	    TO THE E-BUS ISIS SLOT. THE ADDRESS 00E62540 SPECIFIES 
	    WHERE TO START STORING THIS DATA WITHIN THE E-BUS SLOT. 

	    THE ADDRESS YOU USE IS FROM STEP 11, PART C. THIS IS
	    4 BYTE ADDRESS YOU RECEIVE WHEN YOU READ LOCATION 0DC.

	18 - ENTER 'GO 5000' 'CR.' THIS EXECUTES THE E-BUS CODE.
	     NOTE: AFTER EXECUTING THE E-BUS CODE YOU WILL NOT RECEIVE 
	     ANY MORE OUTPUT TO YOUR TERMINAL. THE FOLLOWING IS AN
	     EXAMPLE.

		A) PRESS THE ABORT BUTTON.

		B) XPIBUG  1.009 - 17 JUNE 84> BM 0 3FFFF 0062540 'CR'
		   PHYSICAL ADDRESS=
		   PHYSICAL ADDRESS=
		
		C) XPIBUG  1.009 - 17 JUNE 84> GO 5000 'CR'


	19 - HAVE THE HOST SYSTEM BROUGHT UP AND THEN CHECK THE E-BUS
	     SLOT WITH THE '?HOST' COMMAND. IF THE HOST IS ANSWERED
	     AND PORTS ARE IN USE ALL IS WELL. IF NOT GO THE THE E-BUS 
	     TEST PROCEDURES SECTION.


		E-BUS TROUBLESHOOOTING, QUICK GUIDE
		-----------------------------------

	THE E-BUS RESTART GUIDE SHOULD BE USED TO GET VALUABLE INFO
	CONCERNING A CRASH, THEN RESTART THE CODE AND BRING UP THE
	HOST WITH MINIMAL DOWN TIME.
			
	1) ENGINE RUNNING?

		YES - GO TO STEP 2.
		NO  - DUMP AND RELOAD.

	2) LOG INTO DDT. IS E-BUS SLOT RUNNING?

		YES - GO TO STEP 3.
		NO  - A) PULL THE IRING AND ORING.		
		      B) ENTER XPIBUG, GET IPI MESSAGES.
		      C) DUMP AND RELOAD.

	3) ENTER 'R ODC,4', WRITE THE DATA DISPLAYED, THEN ENTER 'ZZ'.

	4) PLUG TERMINAL INTO E-BUS TTY PORT, PRESS ABORT BUTTON.

	5) ENTER 'BM 0 3FFF (DATA FROM STEP 3)' 'CR'.

	6) ENTER 'GO 5000' 'CR'.

	7) BRING UP HOST AND TEST.	
uh<[E