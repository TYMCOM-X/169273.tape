usrgde.txt, last modified 5/26/83, zw


               TYM-Pascal User's Guide
               Preliminary Version








                          PROPRIETARY DOCUMENT INFORMATION
                          ----------- -------- -----------


               The material contained in this document is  proprietary
               and  confidential to Tymshare, Incorporated, and is not
               to  be  used,  reproduced  or   disclosed   except   in
               accordance   with   program  license  or  with  written
               permission  from  the  legal  division   of   Tymshare,
               Incorporated,  20705  Valley  Green  Drive,  Cupertino,
               California 95014.


                        Copyright (C) 1979, 1980 by         
                                      Tymshare, Inc.


































               6 February 1980


               TYM-Pascal User's Guide                         Page i
               Preliminary Version


                                  TABLE OF CONTENTS



               1.   THE COMPILER                                     1

               2.   COMMAND LINES                                    2

               2.1  <Source file> [/<Options>]                       2
               2.2  /<Options>                                       4
               2.3  <Rel file>,<List file>=<Source file>[/<Options>] 4
               2.4  @ <Command file>                                 5
               2.5  <Program> !                                      6

               3.   OPTIONS                                          7

               3.1  Command Line Options                             7
               3.2  Block Options                                    8
               3.3  Source Directives                                8
               3.4  Conditional Compilation                         10
               3.5  Option Descriptions                             12
               3.6  Summary                                         29

               4.   COMPILER OUTPUT                                 31

               4.1  The Source Listing                              31
               4.2  The Cross-Reference Listing                     31
               4.3  Annotated Listing                               33

               5.   MISCELLANEOUS TOPICS                            41

               5.1  Loading and Running a Pascal Program            41
               5.2  The COMPILE Command                             42
               5.3  Running the Compiler From Another Program       42





















               6 February 1980


               TYM-Pascal User's Guide                        Page 1
               Preliminary Version


               1.  The Compiler


		The TYM-Pascal compiler is located in different directories
		under different names depending on the system you are on.

		On system 55 or 26:
		RUN (PASNEW)PASCAL

		On system 54:
		RUN (FTSYS)NEWPAS

                    When you run the compiler, it will type a  message
               to  let  you know that it really is the compiler.  This
               message also identifies the compiler version  that  you
               are  running.  (If  you  ever  have  problems  with the
               compiler, be sure to include the version number in your
               bug report or change request.)







































               6 February 1980                            The Compiler

               TYM-Pascal User's Guide                        Page 2
               Preliminary Version


               2.  Command Lines



                    The  compiler is controlled by command lines which
               it reads from the terminal or from a command  file.  It
               will  accept  several different kinds of command lines,
               which are described in this section.

                    Whenever the compiler wants  a  new  command  line
               from the terminal, it will prompt

                         *

               and  wait  for  you to enter a command.  You can type a
               command line, or you can tell the compiler to  stop  by
               typing  a  blank  line  (i.e., just a carriage return).
               The  compiler  doesn't  care  whether  you  type   your
               commands  in  upper case, lower case, or a combination.
               Furthermore, it  will  ignore  spaces,  except  in  the
               middle  of  file  names, option names, numbers, and the
               like.

                    In   the   command   line   descriptions    below,
               <source file> is the name of a file containing the text
               of a Pascal program  or  module.  If  no  extension  is
               specified  on this file name, the compiler assumes that
               it is ".PAS".  <Options> represents a  list  of  option
               switches.  The  options list always begins with a slash
               ("/").  The  compiler  options  and  their  syntax  are
               discussed in detail in the "Options" section.




               2.1  <Source file> [/<Options>]


                    This  is  the  command line that you will probably
               use most often.  It tells the  compiler  to  compile  a
               specified  source file and produce a relocatable binary
               file.  The relocatable binary file  name  will  be  the
               same  as the source file name, except that it will have
               an extension of ".REL"  and  will  be  in  the  current
               directory.  In  addition, if you ask the compiler for a
               listing, the listing file name will be the same as  the
               source file name, except that it will have an extension
               of ".LST" and will be in the current directory.

                    A few of the options that you may use  are  listed
               below.  All  of  these  options,  and  many others, are
               described in detail in the "Options" section.



               6 February 1980                           Command Lines

               TYM-Pascal User's Guide                        Page 3
               Preliminary Version


                    CHECK      - generates code to check  for  runtime
                                 errors
                    DEBUG      - compiles  a module so you can use the
                                 Pascal debugger with it
                    NOCODE     - suppresses the generation of  machine
                                 code
                    NOFINISH   - suppresses  code  generation if there
                                 are any warning messages
                    OPTIMIZE   - generates more efficient code
                    SOURCE     - creates a listing file for the module
                    STATISTICS - types    information    about     the
                                 compilation at your terminal
                    SYMBOLS    - adds descriptions of declared symbols
                                 to the listing file
                    TERSE      - types error numbers and line  numbers
                                 instead  of  error  messages  and the
                                 text of the lines
                    XREF       - adds     symbolic     cross-reference
                                 information to the listing file


                    Example:  Suppose  you  have  a Pascal source file
               named  "SNAKES.PAS",  and  you  want  to  compile   it,
               creating  a  binary file named "SNAKES.REL".  You don't
               care about getting a listing, and you  are  happy  with
               the   default   options  (runtime  error  checking,  no
               optimization, etc.)  You can use the command line:

                    PASCAL: SNAKES


                    Example:  You are debugging a module whose  source
               is  in  "NEWTS.PAS",  and  you  want  to use the Pascal
               debugger.  You also  want  a  listing  of  the  module,
               complete  with information about the locations and uses
               of all the symbols in  it.  You  can  use  the  command
               line:

                    PASCAL: NEWTS/DEBUG,SOURCE,SYMBOLS,XREF

               This  will  create  a  binary file named "NEWTS.REL", a
               listing file named "NEWTS.LST", and a  debugger  symbol
               file  named  "NEWTS.DEB".  When you load "NEWTS.REL" as
               part of a program, the Pascal debugger will be included
               automatically.


                    Example:  Suppose  you  think  you  have  finished
               debugging program TOADS.  You  don't  expect  any  more
               runtime  errors,  and  you want the compiled program to
               run as quickly as possible.  However, if there are  any
               errors   during   compilation,   or  even  any  warning
               messages, then you don't want the  compiler  to  bother


               6 February 1980                           Command Lines

               TYM-Pascal User's Guide                        Page 4
               Preliminary Version


               with  code  generation.  Finally,  you want to know how
               long the compiler takes to compile the program, and how
               much core the program will require.  You can accomplish
               all this with the command line:

                    PASCAL: TOADS/NOCHECK,OPTIMIZE,STATISTICS,NOFINISH


                    Example:  You  have  just  started  working  on  a
               module  in  "IGUANA.HSS", and you want to see if you've
               made any mistakes so far.  The module  isn't  complete,
               though,  so  there's no point in wasting time by having
               the compiler generate code for it.  Therefore, you tell
               the compiler just to check the module for syntactic and
               semantic errors by typing the command line:

                    PASCAL: IGUANA.HSS/NOCODE




               2.2  /<Options>


                    If you type a  command  line  containing  just  an
               options  list,  and  no  source  file  name,  then  the
               switches in  the  options  list  will  become  the  new
               default   switches,   replacing  the  compiler  default
               switches on all  subsequent  command  lines.  They  may
               still  be  overridden  by  the switches on a particular
               command  line.  For  example,   to   compile   programs
               "THREE",  "LITTLE", "PIGS" and "WOLF", and get listings
               of all of  them  except  "PIGS",  you  could  type  the
               commands:

                    PASCAL: /SOURCE
                    PASCAL: THREE
                    PASCAL: LITTLE
                    PASCAL: PIGS/NOSOURCE
                    PASCAL: WOLF
                    PASCAL:




               2.3  <Rel file>,<List file>=<Source file> [/<Options>]


                    This is the most general form of the command line.
               The simple command line in section  2.1  lets  you  use
               option  switches  to  say  whether you want listing and
               relocatable binary files, but it doesn't give  you  any
               choice  about their names.  On the other hand, when you


               6 February 1980                           Command Lines

               TYM-Pascal User's Guide                        Page 5
               Preliminary Version


               use this command format, which is distinguished by  the
               equal  sign  preceding  the  source file name, you must
               specify names for the listing and binary files, or they
               won't  be  created  at  all.  (You  can  leave  off the
               extensions, in which case the compiler will  assume  an
               extension of ".REL" for the relocatable binary file and
               ".LST" for the listing file.)

                    When you specify a listing file name, the compiler
               will print a source listing unless you suppress it with
               "/NOSOURCE".  This  differs  from  the  simple  command
               format,  which  will  give you a source listing only if
               you request it with "/SOURCE".

                    The binary and listing file names are optional  in
               this command.  Here are some examples:


                    PASCAL: FEE,FIE=FOE

               This   command  will  compile  source  file  "FOE.PAS",
               creating a binary file named "FEE.REL"  and  a  listing
               file named "FIE.LST".


                    PASCAL: MEEK.FAH=MIGHTY.FIG

               This  command  will  compile  source file "MIGHTY.FIG",
               creating a  binary  file  named  "MEEK.FAH".  Since  no
               listing file name is specified, no listing file will be
               created.


                    PASCAL: ,LIST=SOURCE

               This command will compile  "SOURCE.PAS"  and  create  a
               listing file named "LIST.LST", but it will not create a
               relocatable binary file, since no binary file  name  is
               given.  Note that the comma is necessary to set off the
               listing file name, regardless of  whether  there  is  a
               binary file.


                    PASCAL: =TESTER

               In this command, neither a binary nor a listing file is
               specified.  Therefore, the compiler will only check the
               source  file  "TESTER.PAS" for errors, typing any error
               messages   at   the   terminal.   The   command    form
               "=<source file>"  is  equivalent  to the simple command
               "<source file>/NOCODE".




               6 February 1980                           Command Lines

               TYM-Pascal User's Guide                        Page 6
               Preliminary Version


               2.4  @ <Command file>


                    If you have to type the same sequence  of  command
               lines  frequently, you can put them in a file, and then
               tell the compiler to read its commands from  that  file
               instead  of  from  the terminal.  You do this by typing
               "@<command file>" to the compiler, where <command file>
               is  the  name of the file you want the compiler to read
               its commands from.  If you omit the extension from  the
               command  file  name, the compiler will first look for a
               file with the extension ".CCL"; if it can't find  that,
               it will look for a file with the extension ".CMD".  The
               compiler  will  read  and  process  commands  until  it
               reaches  the end of the command file; then it will come
               back and ask for another command from the terminal.

                    Blank lines in a command file are ignored,  unlike
               blank  lines from the terminal, which tell the compiler
               to stop.  If you want the  compiler  to  stop  when  it
               reaches  the  end of your command file, you can end the
               file with a line containing only an "/EXIT" switch.




               2.5  <Program> !


                    This command tells the compiler to  start  another
               program  executing in its place.  <Program> is the name
               of the program to be executed.  If you don't specify  a
               "device:"  in the file name, the specified program will
               be executed in  the  "SYS:"  directory.  Therefore,  to
               execute  a program in your own directory, you must type
               "DSK:<program>!".  To execute a program in  some  other
               directory, use "DSK:<program>[ppn]!".

                    This  command is provided primarily for the use of
               programs which run the compiler automatically and  have
               some  other  program  run when the compiler is finished
               (see section 5.3).  However, you can also use it to  go
               from  the  compiler to the  loader  without  having  to
               having to terminate the compiler and type  "R LINK".


                    WARNING:  If  you run a program with this command,
               and it is a program that can be run automatically  with
               a  command  file  (for  example,  the  loader,  or  the
               compiler itself),  and  there  is  a  stray  tmpcor  or
               "###nam.TMP" file lying around for it, then the program
               will start executing commands from the file rather than
               from the terminal (see section 5.3).


               6 February 1980                           Command Lines

               TYM-Pascal User's Guide                        Page 7
               Preliminary Version


               3.  Options



                    Options are directives which cause the compiler to
               perform its processing differently  than  it  otherwise
               might.  You  can  specify  options  either on a command
               line or in the text of a source file.




               3.1  Command Line Options


                    You can specify almost any  option  on  a  command
               line.  An options list is set off from the remainder of
               the command line by a slash ("/").  Individual  options
               in  the  list  may  be  separated  from  one another by
               slashes or commas:

               PASCAL: WIGGLE/SOURCE,STAT,OPTIMIZE
                    PASCAL: GOOSE/DEBUG/SOURCE/OPTIMIZE

                    Many option switches take  parameters.  A  numeric
               parameter  may  be  separated from the option name by a
               colon (":"), equal sign ("="), or spaces, or it may  be
               enclosed  in  parentheses.  For  example, the following
               are all  acceptable  ways  of  specifying  the  STORAGE
               switch:

                    /STORAGE 1024
                    /STORAGE:1024
                    /STORAGE=1024
                    /STORAGE(1024)

                    Other  options  take  a  list  of  identifiers  as
               parameters.  For such options, a single  parameter  may
               be  separated  from  the  option name by a colon, equal
               sign, or spaces, or may  be  enclosed  in  parentheses,
               just   as   for   a   numeric  parameter.  If  multiple
               identifiers are specified, then they must  be  enclosed
               in   parentheses   and   separated   with  commas.  The
               following are some possible forms of the ENABLE switch:

                    /ENABLE TESTING
                    /ENABLE:FLEEGLE
                    /ENABLE=RIGHT
                    /ENABLE(MISCELLANEOUS)
                    /ENABLE(TRIAL1, TRIAL2, TRIAL8)





               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 8
               Preliminary Version


                    Examples:

                    /NOSOURCE,XREF,SYMBOLS
                    /ENABLE (FISH) /DISABLE (FOWL)
                    /CHECK,TRACE,STORAGE=5000,NOOVERLAY




               3.2  Block Options


                    You can also specify many options within the  text
               of  a program or module.  Most such options are classed
               as block options, meaning they  are  always  associated
               with a program, module, procedure or function.  You can
               specify block options in a special  options  clause  on
               the heading statement of the block to which the options
               apply.  This clause consists of  the  keyword  OPTIONS,
               followed  by a list of individual options, separated by
               commas.  The options clause  syntax  is  less  flexible
               than  the  options  list on the command line:  you must
               enclose  all  option  parameters  in  parentheses.  The
               entire  options  clause comes just before the semicolon
               at the end of the block heading.

                    When you specify an option in a block heading, the
               option  applies  to  any inner procedures or functions.
               Thus,  an  "OPTIONS  DEBUG"  clause  on   the   program
               statement  of  a  program will cause the entire program
               and all the procedures and functions within  it  to  be
               compiled in debug mode.  An option that is specified on
               an inner block overrides any options that are specified
               on  an  outer  block;  thus,  if  the  main  program is
               declared with "OPTIONS XREF", and an inner procedure is
               declared   with   "OPTIONS   NOXREF",  then  the  inner
               procedure (and any other procedures within it) will  be
               compiled without the xref option.  Similarly, an option
               that you type on the command line will be overridden by
               an  option  that  is  declared on the program or module
               statement in the source file.

                    For the exceptional cases where you  may  want  to
               specify  an option to apply only to a single block (and
               not to any blocks declared within it), you may  precede
               an  option  name  in an options clause with an asterisk
               ("*").  For example, "PROGRAM GARGLE OPTIONS  ASSEMBLY"
               will   produce   an  assembly  listing  of  the  entire
               compilation, but  "PROGRAM  GARGLE  OPTIONS  *ASSEMBLY"
               will  only  produce  an  assembly  listing  of the main
               program.




               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 9
               Preliminary Version


                    Examples:

                    MODULE BAGELS
                      OPTIONS DUMP (CREAM_CHEESE, LOX);

                    PROGRAM WHIPS_AND_LEATHER
                      OPTIONS STORAGE (10), OVERLAY,
                              NOCHECK, ALLOC (1);

                    FUNCTION FROG_SIZE (FROG: RIBBIT): INTEGER
                      OPTIONS OPTIMIZE;

                    EXTERNAL PROCEDURE GROTESQUE
                      OPTIONS FORTRAN;

                    PROCEDURE WAFFLE
                      OPTIONS DUMP (SYRUP), *ASSEMBLY;




               3.3  Source Directives


                    There are certain options  and  compiler  commands
               that  you can specify in a Pascal source file, but that
               have more to do with the text of the file than with its
               content.  Examples  are commands to set the page length
               of the compilation listing  or  to  include  text  from
               another  file  in  a compilation.  It wouldn't make any
               sense to give these commands in an options clause on  a
               procedure  heading,  so  you give them on a source line
               that has a dollar  sign  ("$")  in  column  one  and  a
               directive keyword starting in column two.

                    You  can  put  only  one  option  or  command on a
               directive line.  The syntax for  source  directives  is
               the  same  as  for  command  line  options:  a  numeric
               parameter or single identifier may be set off from  the
               option  name  with  spaces,  a  colon, an equal sign or
               parentheses; a list of identifiers must be enclosed  in
               parentheses and separated with commas.  Directive lines
               may contain Pascal comments, but a comment that  starts
               on  a directive line must be entirely contained on that
               line.

                    Examples:

                    $LENGTH 80
                    $INCLUDE SALAMI.TYP      (* SAUSAGE DEFINITIONS *)
                    $IF FLAG                 (* SALUTE REQUIRED? *)
                    $ENABLE (APRIL, JUNE)



               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 10
               Preliminary Version


               3.4  Conditional Compilation


                    TYM-Pascal allows you to have text in your program
               which  may  or  may  not  be compiled, depending on the
               values of switches which may be set  at  compile  time.
               This  facility  is  provided  by the ENABLE and DISABLE
               options, which  set  and  reset  flags,  and  the  $IF,
               $IFANY,  $IFNOT,  $IFNONE  and $ENDIF directives, which
               identify code to be conditionally compiled.

                    ENABLE and DISABLE may  be  specified  as  command
               line  options,  or  as  the $ENABLE and $DISABLE source
               directives.  ENABLE turns on all the flags in  a  list;
               DISABLE  turns  them  off.  The  flags  themselves  are
               simply identifiers.  You can use any  identifier  as  a
               conditional  compilation flag, regardless of whether it
               is used a symbol in your program, or even as  a  Pascal
               reserved word.  If not defined, a flag is off.

                    There are four conditional compilation directives.
               Each one takes  a  list  of  flags,  and  conditionally
               compiles  some  Pascal  text,  depending on whether the
               flags are on or off.  The four directives are:

                    $IF     - compile text if ALL flags are ON
                    $IFANY  - compile text if ANY flags are ON
                    $IFNOT  - compile text if ANY flags are OFF
                    $IFNONE - compile text if ALL flags are OFF

               Thus, $IFNOT is the complement of $IF, and  $IFNONE  is
               the complement of $IFANY.

                    The  four  directives  all  have  the same syntax.
               They may be used in two different ways:

                    (A)  $IF (<flags>) <Pascal text>

                    (B)  $IF (<flags>)
                         <Pascal text>
                         $ENDIF

               You can conditionally compile a single line of text  by
               putting  the text after the flags on the directive line
               itself.  If you have more than one line of text  to  be
               conditionally compiled, then there must be nothing (not
               even comments) following the  flags  on  the  directive
               line.  All  text  lines  between the $IF and a matching
               $ENDIF will be under the control of the $IF  directive.
               You  can  nest  $IF/$ENDIF  pairs to any depth.  On the
               compiler listing, code under $IF control which  is  not
               compiled  will  be marked with an asterisk ("*") in the
               left margin.


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 11
               Preliminary Version


                    Example:   Suppose   you   have   a    conditional
               compilation  flag,  "DEBUGGING".  If  the flag is true,
               you want to include  the  type  definitions  from  file
               "DEBUG.TYP".   Otherwise,   you  want  to  include  the
               definitions from "NORMAL.TYP".  You could use the  code
               sequence:

                    $IF DEBUGGING
                    $INCLUDE DEBUG.TYP
                    $ENDIF
                    $IFNOT DEBUGGING
                    $INCLUDE NORMAL.TYP
                    $ENDIF

               (Even  though  only  a  single  line  of  code is being
               conditionally compiled, it is a directive  line,  which
               must begin in column 1, so you must use $IF/$ENDIF.)


                    Example:  For  debugging,  at  a  certain point in
               your  program  you  want   to   conditionally   compile
               statements  to print the value of "X" if flag "TRACE_X"
               is on, the value of "Y" if "TRACE_Y"  is  on,  and  the
               value  of  "Z"  if  "TRACE_Z" is on.  You could use the
               directives:

                    $IF TRACE_X   WRITE (TTY, X);
                    $IF TRACE_Y   WRITE (TTY, Y);
                    $IF TRACE_Z   WRITE (TTY, Z);
                    $IFANY (TRACE_X, TRACE_Y, TRACE_Z)  WRITELN (TTY);


                    Example:  You have three  conditional  compilation
               flags,  "LEFT",  "RIGHT"  and  "CENTER".  You  want the
               constant "MODE" to be 0 if only "CENTER" is  on,  1  if
               "CENTER"  is  not  on and "LEFT" or "RIGHT" is, or 2 if
               all three flags are on.


                    $IF CENTER
                    $IFNONE (LEFT, RIGHT)   CONST MODE = 0;
                    $ENDIF

                    $IFANY (LEFT, RIGHT)
                    $IFNOT CENTER
                      CONST MODE = 1;
                    $ENDIF
                    $ENDIF

                    $IF (LEFT, RIGHT, CENTER)   CONST MODE = 2;





               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 12
               Preliminary Version


                    Example:  Suppose you have a large  collection  of
               include  files,  some  of  which  include a common type
               file, "COMMON.TYP".  When you include all  these  files
               in a single compilation, you don't want the definitions
               in "COMMON.TYP" to be  compiled  more  than  once.  You
               might give "COMMON.TYP" the following structure:

                    $IFNOT COMMON_HAS_BEEN_COMPILED
                     .
                     .
                    <the type definitions>
                     .
                     .
                    $ENABLE COMMON_HAS_BEEN_COMPILED
                    $ENDIF

               Note:   This   may   be   a   "clever"  application  of
               conditional compilation, but it is not necessarily good
               technique.  Keep  in  mind  the  cost  of  opening  and
               reading "COMMON.TYP" every time it is included, even if
               it is not compiled.




               3.5  Option Descriptions


                    This  section  describes  the options and compiler
               commands which are  available  for  you  to  use.  Each
               description  begins with the option name.  Most options
               may be abbreviated, so the minimum abbreviation for  an
               option  is  underlined.  Many options can be negated by
               preceding them with "NO"; such options are indicated by
               "[NO]"  before  the  option name.  A few options can be
               preceded by either "NO" or "AUTO"; these are  indicated
               by  "[NO|AUTO]".  The option name is followed by a list
               of the contexts it can be used in.  These are:

                    Command - may be used on a command line.

                    Block - may be used in an options  clause  in  any
                         program,   module,   procedure   or  function
                         heading.

                    Program - may be used in an options  clause  on  a
                         program heading.

                    Module  -  may  be  used in an options clause on a
                         module heading.

                    Directive - may be  used  in  a  source  directive
                         line.


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 13
               Preliminary Version


               The  allowable  contexts  are  followed  by the default
               value of the option,  a  description  of  the  option's
               meaning, and any special notes on its use.



               ALLOC=<code>
                    Context:  Command, Program
                    Default:  ALLOC=0

                    The  ALLOC  option  selects the storage allocation
                    algorithm to be used for the processing of NEW and
                    DISPOSE  calls  in  a  program.  It  may  only  be
                    specified on the PROGRAM statement or command line
                    of the main program compilation.

                    <Code>  is  an integer between 0 and 99.  The only
                    storage allocation algorithms defined  at  present
                    are   ALLOC=0,  which  brings  in  the  "standard"
                    allocator (the quick-fit algorithm), and  ALLOC=1,
                    which  brings  in  the  first-fit  algorithm.  The
                    first-fit algorithm uses the available memory more
                    efficiently than the quick-fit algorithm (i.e., it
                    doesn't waste as much space),  but  it  also  runs
                    more  slowly.  Therefore, you will probably prefer
                    to use ALLOC=0 for most applications, and  ALLOC=1
                    for  programs  whose  memory requirements become a
                    problem.


               [NO]ASSEMBLY
                    Context:  Command, Block
                    Default:  NOASSEMBLY

                    You can  use  the  ASSEMBLY  option  to  tell  the
                    compiler  to  produce  a  symbolic  assembly  code
                    listing of the generated  code  for  one  or  more
                    blocks  of  a  compilation.  The  assembly listing
                    will appear  at  the  end  of  the  listing  file.
                    NOASSEMBLY suppresses the assembly code listing.


               [NO]BANNER
                    Context:  Command
                    Default:  BANNER

                    If the BANNER option is set, then the listing file
                    will begin with  two  banner  pages.  Each  banner
                    page will have the program or module name in large
                    letters,  the   full   source   file   name,   the
                    compilation date, the compiler version, and a list
                    of all  the  options  used  for  the  compilation.
                    NOBANNER suppresses the banner pages.


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 14
               Preliminary Version


               [NO]CALLS
                    Context:  Command, Block
                    Default:  NOCALLS

                    You  can  use the CALLS option to obtain a listing
                    of all the routines  from  which  a  procedure  or
                    function  is called.  The calls listing appears as
                    part of the cross-reference  output  (see  SYMBOLS
                    and  XREF), which comes between the source listing
                    and the assembly  listing  in  the  listing  file.
                    NOCALLS suppresses the calls listing.


               [NO]CHECK [ (<switches>) ]
                    Context:  Command, Block
                    Default:  CHECK

                    You  can use the CHECK option to tell the compiler
                    to generate code to test for a  variety  of  error
                    conditions  at runtime.  You select the particular
                    check conditions you want  by  typing  a  list  of
                    switches.

                    The <switches> are simply one or more identifiers.
                    Each switch may be abbreviated to its first  three
                    letters.  The legal check switches, and the errors
                    they check for, are:

                    ASSERTIONS:  If  assertion  checking  is  on,
                         then  calls  to  the  built-in procedure
                         ASSERT  will  be  compiled  as   runtime
                         tests.  Otherwise,  ASSERT  calls simply
                         serve as commentary.

                    CASES:  This option controls the effect of  a
                         case  statement  when  the  value of the
                         case   index   expression    does    not
                         correspond  to  one  of the case labels.
                         If  case  checking  is  on,  this  is  a
                         runtime  error.  Otherwise,  such a case
                         statement has no effect.

                    COMPATIBILITY:  When  one  entire  array  (or
                         record  containing an array) is assigned
                         to another,  and  one  or  both  of  the
                         arrays  are  generic  or  flexible, this
                         check will  make  sure  that  they  have
                         matching upper and lower bounds.

                    FILES:  When  a  file  variable is used in an
                         i/o operation, or the file's  buffer  is
                         examined  ("file_var^"), this check will
                         make sure that the file is not NILF.  It


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 15
               Preliminary Version


                         will also detect some unopened files.

                    POINTERS:  When  a  pointer  is dereferenced,
                         this  check  will  make  sure  that  the
                         pointer is not NIL.  It will also detect
                         some uninitialized pointers.

                    STRINGS:  This check will make sure that  the
                         index  and  length  in  a SUBSTRING call
                         refer to a  substring  which  is  really
                         within the base string.

                    SUBSCRIPTS:  This  check  will make sure that
                         the subscripts in an array reference are
                         within the bounds of the array.

                    VALUES:  When a value is assigned to a scalar
                         or subrange variable,  this  check  will
                         make sure that the value is in the range
                         of legal values for the variable.

                    If you type CHECK without any  switches,  then  it
                    enables  all  the  runtime  error checks.  NOCHECK
                    without any switches disables all error checking.

                    If you use CHECK with  a  list  of  switches,  the
                    compiler  will  generate error checks only for the
                    conditions in the list.  For example, if you  type
                    "/CHECK  (SUB,STR,VAL)"  on  the command line, and
                    you have "CHECK (COM,SUB)" in the  options  clause
                    of  the  program  heading,  then COMPATIBILITY and
                    SUBSCRIPTS will be checked, and STRINGS and VALUES
                    will  not  be,  since  an  option  on  the program
                    heading overrides an option on the command line.

                    NOCHECK with a list of  switches  simply  disables
                    the  specified  error checks.  It has no effect on
                    any switches that are not in the list.


               [NO]CODE
                    Context:  Command
                    Default:  CODE

                    If you  type  NOCODE  on  the  command  line,  the
                    compiler  will  not  generate machine code for the
                    compiled program.  CODE causes machine code to  be
                    generated.   Notice  the  difference  between  the
                    commands  ",LIST=SOURCE  /ASSEMBLY"  and   "SOURCE
                    /NOCODE, ASSEMBLY".  The first one will not create
                    a  binary  file,  but  the  compiler  will   still
                    generate   machine  code  so  it  can  produce  an
                    assembly  listing.  The  second   one   will   not


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 16
               Preliminary Version


                    generate  machine  code, and therefore it will not
                    produce an assembly listing, either.


               [NO]DEBUG
                    Context:  Command, Program, Module
                    Default:  NODEBUG

                    The DEBUG  option  always  applies  to  an  entire
                    compilation.  It  causes a program or module to be
                    compiled in debug mode, so that  it  can  be  used
                    with  the  Pascal  debugger.  Compilation in debug
                    mode produces a debugger symbol table  file  which
                    has  the same name as the relocatable binary file,
                    but an extension  of  ".DEB".  NODEBUG  suppresses
                    debug   mode  compilation,  and  will  delete  any
                    existing  debugger  symbol  table  file  for  this
                    module.  If NOCODE is specified, or no binary file
                    is created, then the DEBUG/NODEBUG option will  be
                    ignored.  Refer  to the TYM-Pascal Debugger User's
                    Guide for more details.


               DISABLE (<flags>)
                    Context:  Command, Directive
                    Default:  None

                    The DISABLE option turns off a set of  compilation
                    switches.  It  is  the  complement  of  the ENABLE
                    option,  which  turns  compilation  switches   on.
                    DISABLE  and  ENABLE  are used in conjunction with
                    the  various  $IF  source  directives  to  control
                    conditional    compilation    (see    "Conditional
                    Compilation").

                    The <flags> are one  or  more  identifiers.  As  a
                    consequence  of the DISABLE option, all the listed
                    identifiers are marked as false.

                    Flags  are  false  unless  they   are   explicitly
                    enabled;  thus,  any flags which are never defined
                    with a DISABLE or ENABLE option are turned off  by
                    default.


               [NO]DUMP (<switches>)
                    Context:  Command, Block
                    Default:  None

                    The  DUMP  option  is  provided to obtain dumps of
                    compiler   internal   data    structures    during
                    compilation.  It takes a list of <switches>, which
                    are simply identifiers indicating particular  data


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 17
               Preliminary Version


                    structures  to  be  dumped.  NODUMP  disables  any
                    specified  switches.  All  output  from  the  DUMP
                    option  is printed on a file with the same name as
                    the source  file,  and  an  extension  of  ".DMP".
                    Unless you are working on the compiler itself, you
                    will  probably  never  have  any  reason   (except
                    curiosity) to use the DUMP option.


               ENABLE (<flags>)
                    Context:  Command, Directive
                    Default:  None

                    The  ENABLE  option  turns on a set of compilation
                    switches.  It is the  complement  of  the  DISABLE
                    option,  which  turns  compilation  switches  off.
                    DISABLE and ENABLE are used  in  conjunction  with
                    the  various  $IF  source  directives  to  control
                    conditional    compilation    (see    "Conditional
                    Compilation").

                    The  <flags>  are  one  or more identifiers.  As a
                    consequence of the ENABLE option, all  the  listed
                    identifiers are marked as true.

                    Flags   are   false  unless  they  are  explicitly
                    enabled; thus, any flags which are  never  defined
                    with  a DISABLE or ENABLE option are turned off by
                    default.


               ENDIF
                    Context:  Directive
                    Default:  None

                    The $ENDIF directive marks the end of a portion of
                    text  which  is being conditionally compiled under
                    the control of an $IF, $IFANY, $IFNOT  or  $IFNONE
                    directive.  An  $ENDIF  directive  that  does  not
                    match some $IF directive is illegal.


               EXIT
                    Context:  Command
                    Default:  None

                    The EXIT command tells the compiler to  stop.  The
                    current  command  line  will  not be processed any
                    further.  A command line containing an EXIT switch
                    is  equivalent  to  a  blank  line  entered at the
                    terminal.  It is the only way to stop the compiler
                    from a command file, since blank lines are ignored
                    in command files (see "@ <Command file>").


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 18
               Preliminary Version


               [NO]FINISH
                    Context:  Command
                    Default:  FINISH

                    You can use the FINISH option to tell the compiler
                    to  compile  a  program  or module, even if it has
                    errors in it, as long as they  are  all  non-fatal
                    errors  (i.e.,  warnings).  NOFINISH tells the the
                    compiler to treat any error as a fatal error.


               FORTRAN
                    Context:  Block
                    Default:  None

                    You  can  only  specify  OPTIONS  FORTRAN  on  the
                    declaration  of an external procedure or function.
                    It tells the compiler that this  external  routine
                    was  compiled with the Fortran compiler, so it had
                    better be called with a Fortran calling  sequence.
                    (The  DEC Fortran-10 calling sequence is used.  No
                    facility is provided for calling F40 routines.)


               [NO]GLOBAL
                    Context:  Command, Program, Module
                    Default:  NOGLOBAL

                    The GLOBAL option tells the compiler to produce  a
                    file containing information about all the routines
                    declared or called in the module  being  compiled.
                    This cross reference file has the same name as the
                    listing file, but with  an  extension  of  ".SYM".
                    (If  you suppress the listing file with one of the
                    command  line  formats   "relfile=sourcefile"   or
                    "=sourcefile",  then  the  compiler won't create a
                    cross reference file, either.)   A  collection  of
                    global  cross  reference files may be processed by
                    the SCRAP or  XREF  utility  programs  to  provide
                    global  cross reference information about a system
                    made up of several modules.


               HEADER <file name>
                    Context:  Directive
                    Default:  None

                    The  $HEADER  directive  tells  the  compiler   to
                    include  the  text  of the file with the specified
                    <file name> in the source file at this  point,  if
                    the  SOURCE option is in effect and a listing file
                    is being created.  If NOSOURCE  is  in  effect  or
                    there is no listing file, the $HEADER directive is


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 19
               Preliminary Version


                    ignored.  Thus, you would probably want to  use  a
                    $HEADER directive to include a file that contained
                    only   comments,    such    as    module    header
                    documentation.  If  there  is  no extension on the
                    <file name>, the compiler assumes an extension  of
                    ".INC".  The  text in an included file may contain
                    nested $INCLUDE, $HEADER and  $SYSTEM  directives.
                    (Refer to the $INCLUDE and $SYSTEM directives.)


               IF (<flags>) [ <text> ]
                    Context:  Directive
                    Default:  None

                    The  $IF  directive will cause its controlled text
                    to be compiled if all of  the  <flags>  are  true.
                    (See "Conditional Compilation".)


               IFANY (<flags>) [ <text> ]
                    Context:  Directive
                    Default:  None

                    The  $IFANY  directive  will  cause its controlled
                    text to be compiled if  any  of  the  <flags>  are
                    true.  (See "Conditional Compilation".)


               IFNONE (<flags>) [ <text> ]
                    Context:  Directive
                    Default:  None

                    The  $IFNONE  directive  will cause its controlled
                    text to be compiled if none  of  the  <flags>  are
                    true.  (See "Conditional Compilation".)


               IFNOT (<flags>) [ <text> ]
                    Context:  Directive
                    Default:  None

                    The  $IFNOT  directive  will  cause its controlled
                    text to be compiled if not all of the <flags>  are
                    true  (i.e., if any of the flags are false).  (See
                    "Conditional Compilation".)


               INCLUDE <file name>
                    Context:  Directive
                    Default:  None

                    The  $INCLUDE  directive  tells  the  compiler  to
                    include  the  text  of the file with the specified


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 20
               Preliminary Version


                    <file name> in the source file at this  point.  If
                    there  is  no  extension  on  the <file name>, the
                    compiler will assume an extension of  ".INC".  The
                    $INCLUDE   directive   differs  from  the  $HEADER
                    directive in that the specified file  will  always
                    be   included.   It   differs   from  the  $SYSTEM
                    directive in that the included text will be listed
                    if  the  source file is being listed.  The text in
                    an included  file  may  contain  nested  $INCLUDE,
                    $HEADER and $SYSTEM directives.


               LENGTH=<page size>
                    Context:  Command, Directive
                    Default:  LENGTH=45

                    You can use the LENGTH option to tell the compiler
                    the   page   length   for   your   listing   file.
                    <Page size>  is  the number of lines to be printed
                    on each page.  It must be between 4 and 255.

                    If you have a LENGTH directive  before  the  first
                    non-directive  line  of your file, the length from
                    that directive will take effect  starting  at  the
                    beginning  of  the listing file.  All other LENGTH
                    directives take effect with the page on which they
                    are specified.


               [NO]MAP
                    Context:  Command, Block
                    Default:  NOMAP

                    You  can  use  the  MAP  option  to  obtain  a map
                    relating  the  line  numbers  for  a  block   with
                    addresses   in   the   generated  code.  You  will
                    actually get two  listings,  one  sorted  by  line
                    number  and  one  sorted by code address.  The map
                    listing comes after  the  source  listing  in  the
                    listing  file  (after the assembly listing, if you
                    get one).


               [NO]NAMES
                    Context:  Command
                    Default:  NONAMES

                    You can use the NAMES option on the  command  line
                    to  have the compiler tell you when it begins each
                    compilation.  It will type a message with the name
                    of  the  main  source  file  for  the compilation.
                    NONAMES suppresses the  typing  of  this  message.
                    The NAMES option is particular useful when you are


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 21
               Preliminary Version


                    compiling  from  an  indirect  command  file  (see
                    section  2.4),  and want to know when the compiler
                    begins compiling each module.


               [NO]OPTIMIZE
                    Context:  Command, Block
                    Default:  NOOPTIMIZE

                    If you use the OPTIMIZE option, the compiler  will
                    transform  and  rearrange the code being compiled,
                    in an attempt to reduce the space it takes up  and
                    the  time  it takes to run.  On some programs, the
                    code  improvement   with   optimization   can   be
                    dramatic.  However, optimization can also increase
                    the  time   required   to   compile   a   program.
                    Furthermore,  some  compiler  errors will manifest
                    themselves only when  optimization  is  performed;
                    and certain marginally legal programming practices
                    may work in an unoptimized  program,  but  violate
                    assumptions  made during optimization.  Therefore,
                    during development and debugging  you  are  better
                    off  compiling  your modules without optimization.
                    You can then recompile your modules with  OPTIMIZE
                    when you think you have them working right.

                    The  DEBUG  option suppresses the OPTIMIZE option,
                    since optimization could leave the debugger unable
                    to  find  the statements in the program, while the
                    debugger could violate the assumptions made by the
                    optimizer.


               [NO]OVERLAY
                    Context:  Command, Module
                    Default:  NOOVERLAY

                    You  can  specify the OVERLAY option on the module
                    statement or command line of a module  compilation
                    (not  a  main  program)  to tell the compiler that
                    this module will be  part  of  an  overlay  to  be
                    processed  by  the  Pascal overlay manager (ODMS).
                    NOOVERLAY suppresses special overlay processing.


               [NO]QBLOCKS
                    Context:  Command, Block
                    Default:  QBLOCKS

                    You can use the QBLOCKS option to control the  use
                    of  quick  block  analysis by the compiler.  Quick
                    block analysis is a compiler feature which  allows
                    the  generation  of more efficient code.  However,


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 22
               Preliminary Version


                    it limits the amount of information  you  can  get
                    from a stack trace after a runtime error.  QBLOCKS
                    tells the compiler to use  quick  block  analysis;
                    NOQBLOCKS   tells   it   not   to.  DEBUG  implies
                    NOQBLOCKS.


               [NO|AUTO]QUICK
                    Context:  Command
                    Default:  AUTOQUICK

                    The compiler has  two  separate  code  generators.
                    The    optimizing    code    generator    produces
                    high-quality  code,  but  is   quite   slow.   The
                    checkout  code  generator  produces less efficient
                    code, but runs  more  quickly.  You  can  use  the
                    QUICK  option  to  choose  the  code generator you
                    want.  QUICK  tells  the  compiler  to   use   the
                    checkout   code   generator.   (Since   only   the
                    optimizing code generator can do optimization, the
                    OPTIMIZE  option  will  be  ignored if you specify
                    QUICK).  NOQUICK tells the  compiler  to  use  the
                    optimizing  code  generator.  AUTOQUICK allows the
                    compiler to make the  choice:  the  compiler  will
                    use  the  optimizing code generator if you specify
                    the OPTIMIZE option for any part of  the  program,
                    and   will   use   the   checkout  code  generator
                    otherwise.


               PAGE <text>
                    Context:  Directive
                    Default:  None

                    The PAGE directive causes a new page to be started
                    in  the listing file, and resets the subtitle that
                    is printed at the top of each  listing  page.  The
                    subtitle is set to the text of the directive line,
                    starting  with  the  first   non-blank   character
                    following  the  PAGE  keyword.  The pagination and
                    subtitles produced by the PAGE directive are  used
                    by  the  Pascal  debugger to identify lines in the
                    source file.


               [NO|AUTO]SOURCE
                    Context:  Command, Directive
                    Default:  AUTOSOURCE

                    You can use  the  SOURCE  option  to  control  the
                    listing  of your Pascal source file.  SOURCE tells
                    the compiler to list the source file, and NOSOURCE
                    tells  it not to list the source file.  AUTOSOURCE


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 23
               Preliminary Version


                    tells the compiler to list the source file if  you
                    specify  a  list  file name explicitly, and not to
                    list the source file if you use the simple command
                    line  format.  Since  SOURCE may be specified as a
                    directive, you can turn it  on  and  off  to  list
                    selected  portions  of  your  source file.  Notice
                    that even if you specify NOSOURCE, you  may  still
                    get  a  listing  file if you specify other listing
                    options such as ASSEMBLY, SYMBOLS, or MAP.


               [NO]SPECIAL [ (<switches>) ]
                    Context:  Command, Block
                    Default:  NOSPECIAL

                    There are certain constructs in  TYM-Pascal  whose
                    use is normally unnecessary, and can easily result
                    in  program  errors  and  non-portable   programs.
                    Therefore,  the  compiler  will  only  let you use
                    these constructs if you use  the  SPECIAL  option,
                    which  indicates  that  you know that what you are
                    doing is dangerous.

                    The <switches> are simply one or more identifiers.
                    Each  switch may be abbreviated to its first three
                    letters.  The  legal  special  switches,  and  the
                    constructs they allow, are:

                    COERCIONS:  This  switch  allows  you  to use
                         pointer  type  names  to  perform   type
                         coercions.  In particular, it allows use
                         of    the     constructs     "<ptr type>
                         (<integer>)", which returns a pointer of
                         the  specified  type,  pointing  to  the
                         specified  absolute memory location, and
                         "<ptr type> (<pointer>)", which turns  a
                         pointer  of  one  type into a pointer of
                         another type.  It also allows the use of
                         the standard function ADDRESS, which can
                         create a pointer to any variable.

                    PTR:  This  switch  allows  you  to   declare
                         variables  of  type PTR in your program.
                         Type PTR is a predefined type, which  is
                         compatible with all other pointer types.

                    WORD:  This  switch  allows  you  to  use the
                         predefined type MACHINE_WORD,  which  is
                         very  much  like type INTEGER.  However,
                         the   set   of   legal   values   of   a
                         MACHINE_WORD  variable  depends  of  the
                         machine  for  which  the   compiler   is
                         generating  code,  and  is chosen (a) to


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 24
               Preliminary Version


                         include all legal  INTEGER  values,  and
                         (b)  to completely fill a target machine
                         "word".  On  the  PDP-10,  this  is  the
                         range  -(2**35)..(2**35)-1;  on the VAX,
                         it  is  the  range  -(2**31)..(2**31)-1.
                         This  switch  also  relaxes  the  normal
                         compiler restriction  that  all  integer
                         constants   be  in  the  range  of  type
                         INTEGER, allowing integer  constants  in
                         the range of type MACHINE_WORD instead.

                    You  should  be  especially  careful  if  you  use
                    pointer coercions or type PTR in conjunction  with
                    the  OPTIMIZE  option,  since their use can easily
                    invalidate  the  assumptions  that  the  optimizer
                    makes  about  the  behaviour  of  data  in  Pascal
                    programs.

                    If  you  use  SPECIAL  or  NOSPECIAL  without  any
                    switches,  it  will  allow  or disallow all of the
                    special constructs.  SPECIAL or NOSPECIAL  with  a
                    list  of  switches  simply allows or disallows the
                    specified constructs, and has  no  effect  on  any
                    switches that are not in the list.


               [NO]STANDARD
                    Context:  Command, Program, Module
                    Default:  NOSTANDARD

                    The  STANDARD  option  tells the compiler to treat
                    any constructs that are not in standard Pascal  as
                    errors.  This  option  is  not yet implemented; at
                    present, it is ignored.


               [NO]STATISTICS
                    Context:  Command
                    Default:  NOSTATISTICS

                    You can use the STATISTICS option on  the  command
                    line  to  have the compiler type information about
                    the compilation.  It will type the  run  time  (in
                    CPU  seconds)  used  by each pass of the compiler,
                    and the  amount  of  code,  constant,  and  static
                    storage  space  allocated for the compiled module.
                    NOSTATISTICS suppresses the typing of  compilation
                    statistics.







               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 25
               Preliminary Version


               STORAGE=<words>
                    Context:  Command, Program
                    Default:  STORAGE=2048

                    The  STORAGE  option specifies the number of words
                    to be allocated to the program stack  at  runtime.
                    The program stack contains all local variables and
                    return information for called procedures, as  well
                    as  any  buffers  and  control  blocks  which  are
                    allocated when files are opened.  You may need  to
                    specify  a  larger  stack  size  than  the default
                    because  your   program   has   deeply   recursive
                    procedures,  has  procedures with very large local
                    variables, has many files open at the  same  time,
                    or  simply  because  it  is  a large program.  The
                    STORAGE  option  may  only  be  specified  on  the
                    PROGRAM  statement  or  command  line  of the main
                    program compilation.










               [NO]SYMBOLS
                    Context:  Command, Block
                    Default:  NOSYMBOLS

                    You can use the SYMBOLS option to obtain a list of
                    all  the  symbols  declared  in  a block and their
                    attributes:   kind   of   symbol   (const,   type,
                    variable,  etc.),  type,  where  declared, address
                    (for variables) or  location  (for  labels),  etc.
                    The   symbols  listing  appears  as  part  of  the
                    cross-reference output (see CALLS and XREF), which
                    comes  between the source listing and the assembly
                    listing in the listing file.  If you also  specify
                    XREF,  then  the  cross-reference  list  for  each
                    symbol  will  follow   its   symbol   description.
                    NOSYMBOLS suppresses the symbols listing.


               SYSTEM <file name>
                    Context:  Directive
                    Default:  None

                    The   $SYSTEM  directive  tells  the  compiler  to
                    include the text of the file  with  the  specified
                    <file name>  in  the  source  file  at this point.


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 26
               Preliminary Version


                    Unlike text included with the $HEADER and $INCLUDE
                    directives,   text   included   with  the  $SYSTEM
                    directive will never  be  listed  in  the  listing
                    file.  Thus, $SYSTEM is useful for including files
                    which would increase the  bulk  of  a  compilation
                    listing,  without improving its comprehensibility.
                    If there is no extension on the  <file name>,  the
                    compiler assumes an extension of ".INC".  The text
                    in an included file may contain  nested  $INCLUDE,
                    $HEADER and $SYSTEM directives.


               TERSE
                    Context:  Command
                    Default:  VERBOSE

                    You  can  use the TERSE command option to tell the
                    compiler to print only an error number and a  line
                    number  on  the terminal when it detects an error.
                    TERSE is the complement of  VERBOSE,  which  tells
                    the  compiler to print the text of the source line
                    and the full error message.


               TITLE <text>
                    Context:  Directive
                    Default:  None

                    The TITLE directive sets the title that is printed
                    on  the  first  line  of  each page of the listing
                    file.  The  title  is  set  to  the  text  of  the
                    directive  line, starting with the first non-blank
                    character following the TITLE keyword.

                    If you have a TITLE  directive  before  the  first
                    non-directive  line  of  your file, then the title
                    from that line will  also  appear  in  the  banner
                    pages  at  the  start of the listing file (see the
                    BANNER  option).  Other  TITLE   directives   take
                    effect  starting  with  the next listing page.  If
                    you don't have a TITLE directive  in  your  source
                    file,  the  source  file name will be used for the
                    title.  A TITLE directive does  not  start  a  new
                    page.


               [NO]TRACE
                    Context:  Command, Block
                    Default:  TRACE

                    If you specify the TRACE option, the compiler will
                    produce  data  words  to  let  you  get  a   stack
                    trace-back of a program.  You can get a trace-back


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 27
               Preliminary Version


                    in two ways:  an executing program  can  call  the
                    built-in   procedure   TRACE,   or  you  can  type
                    "REENTER", "CONTINUE" after a  program  terminates
                    abnormally.  NOTRACE  suppresses generation of the
                    TRACE information.  Since TRACE  only  requires  a
                    few  words  per procedure, and is extremely useful
                    when new bugs appear in a program, it  is  usually
                    worthwhile   to   compile   even  your  production
                    programs in TRACE mode.  If you specify the  DEBUG
                    option,  you  will  automatically  get TRACE along
                    with it.


               VERBOSE
                    Context:  Command
                    Default:  VERBOSE

                    You can use the VERBOSE command option to tell the
                    compiler  to  print  the  source line text and the
                    full error message on the terminal when it detects
                    an  error.  VERBOSE  is  the  complement of TERSE,
                    which tells the compiler to print  only  an  error
                    number and a line number.


               WIDTH=<columns>
                    Context:  Command, Directive
                    Default:  WIDTH=102

                    You  can use the WIDTH option to tell the compiler
                    the page width for your  listing  file.  <Columns>
                    is the number of characters that can be printed on
                    a line.  It must be between 20  and  255.  Listing
                    file  lines  that  will  not  fit in the specified
                    width will be truncated.

                    If you have a WIDTH  directive  before  the  first
                    non-directive  line  of  your file, the width from
                    that directive will be in effect starting  at  the
                    beginning  of  the  listing file.  All other WIDTH
                    directives take  effect  at  the  point  they  are
                    specified.


               [NO]XREF
                    Context:  Command, Block
                    Default:  NOXREF

                    You  can  use  the XREF option to obtain a list of
                    all the places that each  symbol  in  a  block  is
                    used,  and  how it is used in each place (e.g., it
                    is passed as a var parameter; it is  modified;  it
                    is  declared;  etc.).  The cross-reference listing


               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 28
               Preliminary Version


                    comes between the source listing and the  assembly
                    listing  in the listing file.  If you also specify
                    SYMBOLS, then the cross-reference  list  for  each
                    symbol will follow its symbol description.  NOXREF
                    suppresses the symbolic cross-reference output.


















































               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 29
               Preliminary Version


               3.6  Summary

                   Command                     Ctxt1    Default

                   ALLOC=<code>                 CP      ALLOC=0
               [NO]ASSEMBLY                     CB      NOASSEMBLY
               [NO]BANNER                       C       NOBANNER
               [NO]CALLS                        CB      NOCALLS
               [NO]CHECK [(<switches>)]2        CB      CHECK
               [NO]CODE                         C       CODE
               [NO]DEBUG                        CPM     NODEBUG
                   DISABLE (<flags>)            CD      None
               [NO]DUMP (<switches>)            CB      None
                   ENABLE (<flags>)             CD      None
                   ENDIF                        D       None
                   EXIT                         C       None
               [NO]FINISH                       C       FINISH
                   FORTRAN                      B       None
               [NO]GLOBAL                       CB      NOGLOBAL
                   HEADER <file name>           D       None
                   IF (<flags>) [ <text> ]      D       None
                   IFANY (<flags>) [ <text> ]   D       None
                   IFNONE (<flags>) [ <text> ]  D       None
                   IFNOT (<flags>) [ <text> ]   D       None
                   INCLUDE <file name>          D       None
                   LENGTH=<page size>           CD      LENGTH=45
               [NO]MAP                          CB      NOMAP
               [NO]NAMES                        C       NONAMES
               [NO]OPTIMIZE                     CB      NOOPTIMIZE
               [NO]OVERLAY                      CM      NOOVERLAY
                   PAGE <text>                  D       None
               [NO]QBLOCKS                      CB      QBLOCKS
          [NO|AUTO]QUICK                        C       AUTOQUICK
          [NO|AUTO]SOURCE                       CD      AUTOSOURCE
               [NO]SPECIAL [(<switches>)]3      CB      NOSPECIAL
               [NO]STANDARD                     CPM     NOSTANDARD
               [NO]STATISTICS                   C       NOSTATISTICS
                   STORAGE=<words>              CP      STORAGE=2048
               [NO]SYMBOLS                      CB      NOSYMBOLS
                   SYSTEM <file name>           D       None
                   TERSE                        C       VERBOSE4
                   TITLE <text>                 D       None
               [NO]TRACE                        CB      TRACE
                   VERBOSE                      C       VERBOSE4
                   WIDTH=<columns>              CD      WIDTH=102
               [NO]XREF                         CB      NOXREF









               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 30
               Preliminary Version


               Notes:

                   1Contexts are:
                       B - Procedure and function headings
                       C - Command line
                       D - Directives
                       M - Module heading
                       P - Program heading

                   2CHECK    switches    are    ASSERTIONS,     CASES,
                    COMPATIBILITY,     FILES,    POINTERS,    STRINGS,
                    SUBSCRIPTS, and VALUES.

                   3SPECIAL switches are COERCIONS, PTR, and WORD.

                   4TERSE and VERBOSE are complementary switches.







































               6 February 1980                                 Options

               TYM-Pascal User's Guide                        Page 31
               Preliminary Version


               4.  Compiler Output



               4.1  The Source Listing


                    The compiler will write a source  listing  if  you
               specify  the  SOURCE option on the command line or on a
               directive line in the source file.  Each  page  of  the
               source  listing  begins  with  a title line, a subtitle
               line and a blank line.  The title line gives  the  name
               of  the  program  or  module  being  compiled (from the
               program, module or  datamodule  heading),  the  current
               title  (from  the  $TITLE  directive), and the date and
               time  of  compilation.  The  subtitle  line  gives  the
               current  file  number and the section number within the
               file, the section title (from the $PAGE directive)  and
               the number of the page in the source listing.

                    At  the  end  of  the  source file listing, a file
               index and a section index are printed.  The file  index
               contains  a  line  for  each  source  file  used in the
               compilation, giving the file number, file  level,  page
               number and file name.  The main file (the one specified
               on the command line) is file 0;  subsequent  files  are
               numbered  in  the  order  that  they  are opened during
               compilation.  The main file is at level 0; if a file is
               included by a $INCLUDE, $SYSTEM or $HEADER directive in
               a level 'n' file, then the included file  is  at  level
               'n'+1.  The  page  number  is the number of the page in
               the source listing on which the  $INCLUDE,  $SYSTEM  or
               $HEADER directive for the file may be found.

                    The  section  index contains a line for each $PAGE
               directive in the  compilation  which  has  a  non-blank
               section   title.   These  are  sorted  alphatically  by
               section  name.  Each  line  gives  the  section  number
               (within  its file), the number of the file in which the
               $PAGE directive occurred (you can look up the file name
               in  the  file  index),  the  page  number in the source
               listing of the first  page  of  the  section,  and  the
               section title.




               4.2  The Cross-Reference Listing


                    The  compiler will write a cross-reference listing
               if you specify the SYMBOLS, XREF or CALLS option on the
               command   line   or   on   any   block   heading.   The


               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 32
               Preliminary Version


               cross-reference listing contains  a  section  for  each
               block   (i.e.,   each  program,  module,  procedure  or
               function) for which at least one of the cross-reference
               options is specified.  The sections are arranged in the
               same order that the block headings occur in the  source
               file.  Each  section begins with a block name, followed
               by a list of "enclosing blocks" -- that is,  the  block
               containing   this   block,  the  block  containing  the
               containing block, etc.  The name,  kind  and  level  of
               each  enclosing  block  are  printed.  The  kind may be
               "program", "module",  "procedure"  or  "function".  The
               main program is at level 1, top-level procedures are at
               level 2, etc.

                    If the CALLS option is specified, and the block is
               a  procedure  or  function,  then the list of enclosing
               blocks is followed by a list of  all  the  blocks  that
               call this block.

                    The SYMBOLS option produces one line of output for
               each symbol  defined  in  the  block,  in  alphabetical
               order.  Each  symbol  line  begins with the symbol name
               (no more than  18  characters).  If  the  symbol  is  a
               variable,  constant  or  parameter,  then  its  name is
               followed by a colon and the name of its type, if it has
               a  named  type,  or  its  type  kind  (e.g.,  "scalar",
               "array", etc.) if its type is unnamed.

                    The next entry in the symbol  line  describes  the
               symbol.  A variable, constant, procedure or function is
               described with a storage class  ("public",  "external",
               "static",  or  no class, indicating an ordinary symbol)
               and the kind "var", "const", "procedure" or "function".
               A  parameter  is  described  as  a "var parameter" or a
               "value parameter".  A type symbol  is  described  as  a
               "scalar  type",  "string type", "pointer type", etc.  A
               label is simply described as a "label".

                    The next symbol line entry is the  location  where
               the symbol is declared, in the form

                    <file number> - <section number> / <line number>

               where   "<file number>-"   is   not   printed   if  the
               declaration    is    in    the    main    file,     and
               "<section number>/"  is  not printed if the declaration
               is in the first section (section 0)  of  its  file.  If
               the  symbol  is a variable or parameter, the last entry
               in the line has the form "+nnnnnn", and represents  the
               address  of the symbol relative to the low segment, the
               stack frame of the current block, or a  parameter  list
               whose  address  is passed to the current block.  If the
               symbol is a label, the last entry in the  line  is  the


               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 33
               Preliminary Version


               location  of  the  line  at  which  the  label actually
               occurs.

                    The  XREF  option  produces  a  list  of  all  the
               references  to  each  symbol  declared  in  the current
               block.  If you also specify  the  SYMBOLS  option,  the
               reference list follows the symbol line for each symbol.
               The reference list is simply a list of lines  on  which
               references to the symbol occur.  Each line has the form
               "<file number> -  <page number>  /  <line number>",  as
               described  above, and is followed by a usage code.  The
               usage codes are:

               "V" - the value of the symbol is used.

               "M" - the  value  of  the  symbol  is  modified  by  an
                    assignment  or a read.  (If the symbol is a label,
                    then an "M" code represents the line on which that
                    label occurs.) 

               "P"  -  the  symbol  is  used  as  a var parameter in a
                    procedure or function call.

               "R" - the symbol is used in a "with" statement,  or  as
                    an argument in a call to the ADDRESS function.

               "D"  -  the reference is the declaration of the symbol.
                    (No "D" references will be printed if the  SYMBOLS
                    option is also specified.)




               4.3  Annotated Listing


                    This  section  contains  a listing produced by the
               NEWPAS compiler, with notes on some of the  details  in
               the listing.  The program was in file "PBTREE.PAS", and
               was compiled with the command line

                         Pascal: PBTREE/SOURCE,NOBANNER













               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 34
               Preliminary Version

























































               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 35
               Preliminary Version

























































               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 36
               Preliminary Version

























































               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 37
               Preliminary Version

























































               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 38
               Preliminary Version

























































               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 39
               Preliminary Version

























































               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 40
               Preliminary Version

























































               6 February 1980                         Compiler Output

               TYM-Pascal User's Guide                        Page 41
               Preliminary Version


               5.  Miscellaneous Topics



               5.1  Loading and a Running Pascal Program


                    When you have compiled the main  program  and  any
               additional modules making up a Pascal program, you will
               have a collection of relocatable binary files.  Suppose
               that    their   names   are   "MAIN.REL",   "MOD1.REL",
               "MOD2.REL", ... "MODN.REL".  There may also be  one  or
               more  libraries  containing  modules  that your program
               needs:  for example, RND:RDLIB  or  RND:IOLIB.  Suppose
               that the libraries you need are "LIB1.REL", "LIB2.REL",
               ... "LIBN.REL".  The commands that you need to put  all
               these  relocatable files together and get an executable
               program named "PROG.EXE" are as  follows  ("."  is  the
               monitor prompt, and "*" is the LINK prompt):

                    .R LINK
                    *MAIN
                    *MOD1
                     ...
                    *MODN
                    */SEARCH LIB1
                     ...
                    */SEARCH LIBN
                    */GO
                    .SSAVE PROG

                    LINK is the system program which turns relocatable
               binary files into executable  programs.  Command  lines
               to  LINK give the names of the relocatable binary files
               (".REL" is the default extension).  LINK command  lines
               beginning   with   "/SEARCH"  identify  library  files.
               Library files contain multiple relocatable modules, and
               the  /SEARCH  command  tells  LINK  to  load only those
               modules which are needed for the program.  "/GO"  tells
               LINK  that  all  the relocatable binary files have been
               specified, and that it can  go  ahead  and  create  the
               program.  LINK  then  terminates,  leaving  the  loaded
               program in core, and the "SSAVE PROG" command tells the
               monitor to save the loaded program in file "PROG.EXE".

                    There are many other ways you could accomplish the
               same result, and LINK has many other  capabilities  and
               features.  To  learn  more  about  LINK,  refer  to the
               DECsystem10 LINK-10 Programmer's Reference Manual.  The
               "SSAVE"   command   is  described  in  the  DECsystem10
               Operating System Commands Manual.




               6 February 1980                    Miscellaneous Topics

               TYM-Pascal User's Guide                        Page 42
               Preliminary Version


               5.2  The COMPILE Command


                    The Pascal compiler can be run automatically  with
               the  monitor  commands "COMPILE", "LOAD", "EXECUTE" and
               "DEBUG".  However,   this   facility   has   not   been
               implemented in the preliminary release of NEWPAS.




               5.3  Running the Compiler From Another Program


                    You  can  write  a  program  which  will  run  the
               compiler  automatically.  To  do  this,  it  must   run
               RND:NEWPAS  using  the  RUN UUO with a run-offset of 1.
               If you are programming in Pascal, use procedure RUN  in
               RDLIB,  with  the  PROMPT  parameter set to TRUE.  This
               tells the compiler to take its commands  from  a  file,
               rather than from the terminal.

                    Before  your  program  runs  the compiler, it must
               create a command file for it.  The compiler  will  look
               first  for  a  tmpcor file named "PAS".  If there is no
               such  file,  it  will  look  for  a  disk  file   named
               "###PAS.TMP", where ### is the job number.

                    Tmpcor  files are a special mechanism used to pass
               small  amounts  of  information  from  one  program  to
               another.  While  it is possible to create a tmpcor file
               from  Pascal,  it  isn't  easy.  Therefore,   you   are
               probably  better  off  creating  a  "###PAS.TMP"  file.
               Remember that when a program writes a file  whose  name
               begins  with  "###",  the system automatically replaces
               the ### with the job number.

                    When the compiler is run from another program,  it
               will  execute the commands in its command file and then
               stop.  Only if it cannot find a command  file  will  it
               print a message and ask for commands from the terminal,
               as if it had been run normally.

                    When it is run automatically with a command  file,
               the compiler will not type prompts to the terminal, and
               it will type out the command lines from the  file  only
               if  they  contain errors.  Blank lines in command files
               are ignored; the compiler won't stop until  it  reaches
               the  end  of  the file, or reads a command line with an
               "/EXIT" switch.





               6 February 1980                    Miscellaneous Topics



  
 QSa