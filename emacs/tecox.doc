


                TECOX Command String Format
 
The basic command string is as follows:
 
   MACRO FILE SPEC,OUTPUT FILE SPEC=INPUT FILE SPEC%PARAMETERS
                or
   @INDIRECT FILE SPEC
 
        INDIRECT FILE SPEC ::= File from which commands are to read
        MACRO FILE SPEC ::= TECO macro file for input to output
                transformation
        OUTPUT FILE SPEC ::= File to be EW'ed or EA'ed (if no input)
        INPUT FILE SPEC ::= File to be ER'ed (if specified)
        PARAMETERS ::= Text to be left in buffer for TECO macro
                to operate on
                                                                  Page 2


                TECOX Command String Format
 
Switches may be specified. They are:
 
        /C -- Read checkpoint file in lieu of TTY commands
                MACRO FILE SPEC is taken as the checkpoint file spec
        /Q -- Quietly restart. Disable T commands
                during a checkpoint restart.
        /A -- Append input into core
        /N -- Prevent automatic command checkpointing
                (to DSK:###TEC.CHP)
        /B -- Use regular backup procedure (.BAK in LIEU of .Z##)
        /Z -- Use continuous backup procedure (.Z## in LIEU of .BAK)
        /M -- Interpret 1st or 2nd file spec as file to be made
        /G -- Short for /GENLSN (Generate Line Sequence Numbers)
                                                                  Page 3


                TECOX Command String Format
 
Switches continued:
 
        /S -- Short for /SUPLSN (Suppress Line Sequence Numbers)
        /X -- Short for /XBASIC (BASIC Line Sequence Numbers)
        /Y -- Short for /YBASIC (SOS Line Sequence Numbers)
        /R -- Re-edit -- Position pointer to end of text buffer
        /E:nnn -- Interpret 1st file spec as a macro file
                (nnn optional for loading &E)
        /P:nnn -- Load &P with number nnn
        /W -- Scan SWITCH.INI
        /F -- Fast execution option
        /L -- Use TECO initialization table in user's area
                (instead of SYS:TECOX.TAB)
        /T -- Use a .TAB file for initialization
        /O -- Use local TECO error table (DSK:TECO.ERR)
        /H -- Types help file in HLP: (SYS:) if not file specified,
                Types file as the help message if specified
        /D -- Types documentation file in DOC: (SYS:) if no file
                specified, Types file as the documentation file
                if specified
        /-s -- Negate switch s
                                                                  Page 4


 


                                 TECOX


                   TEXT EDITOR AND CORRECTOR EXTENDED


                          BASIC DOCUMENTATION



                               C. JACOBUS
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                       Page 5


     THIS DOCUMENTATION IS PROVIDED FOR STANDARD DEC TECO USERS.  TECOX,
THE  STANDARD  C.   S.   L.   EDITOR  IS  DEC  COMPATIBLE  IN MOST WAYS.
FOLLOWING ARE EXAMPLES OF DEC TECO START UPS AND  THE  EQUIVALENT  TECOX
START UPS.

TO CREATE A FILE:
        DEC TECO                TECOX
        MAKE FILE-SPEC  MAKE FILE-SPEC

TO EDIT A FILE:
        DEC TECO                TECOX
        TECO FILE-SPEC  TECO FILE-SPEC

TO ENTER TECO WITHOUT INITIALIZING FILES:
        DEC TECO                TECOX
        R TECO                  R TECO
                                #CR

TO RESTART AFTER A MONITOR CRASH (SEE NEXT SECTION FOR FURTHER DETAILS):
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                       Page 6


        DEC TECO                TECOX
        HAS NO SUCH FACILITY    R TECO
                                #CHECKPOINT NAME/C
                        OR
                                R TECO
                                #CHECKPOINT NAME/C/Q

     THE FILE-SPEC IS A STANDARD DEC FILE  SPECIFIER.   IT  MAY  INCLUDE
PROTECTION  CODES  AND  SUB  FILE  DIRECTORY  SPECIFICATIONS  (SEE USERS
HANDBOOK).  THE CHECKPOINT NAME IS  THE  NAME  OF  THE  CHECKPOINT  FILE
CREATED  BY  TECOX  BEFORE THE MONITOR CRASH OCCURED.  /Q INDICATES THAT
DURING THE RESTART T COMMANDS ARE TO BE  SKIPPED.   THIS  CUTS  DOWN  ON
OUTPUT  TO  THE  RESTART CONSOLE.  THE CHECKPOINT FILE SPECIFIER HAS THE
FORM NNNTEC.CHP WHERE NNN IS THE 3 DIGIT DECIMAL JOB NUMBER  BEFORE  THE
CRASH.  TO FIND THAT NAME DO THE FOLLOWING:

                        DIRECT *.CHP/S

THEN USE THE .CHP FILE WITH THE NEWEST CREATION DATE.  ALSO REMEMBER  TO
                                                                  Page 7


DELETE UNNEEDED .CHP, .BAK, AND .Z## FILES PERIODICALLY.
                                                                  Page 8


 


                                 TECOX


                   TEXT EDITOR AND CORRECTOR EXTENDED


                         FURTHER DOCUMENTATION



                               C. JACOBUS
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                       Page 9


     TECOX IS A MODIFIED VERSION OF DEC TECO THAT HAS BEEN  EXPANDED  TO
PROVIDE  SAFE,  MORE  CONVENIENT, AND CRASH PROOF TEXT EDITING.  TOWARDS
THESE ENDS SEVERAL THINGS HAVE  BEEN  DONE.   A  MASTER  COMMAND  STRING
INTERPRETER,  COMMAND  CHECKPOINTING,  AND  REVOLVING BACKUP FILING HAVE
BEEN INSTALLED.

     EXCEPT FOR THE COMMANDS SPECIFIED IN THE FOLLOWING DISCUSSIONS  ALL
EDITING PROCEEDS AS EXPLAINED IN DEC TECO DOCUMENTATION.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 10
TECOX INITIALIZATION


     TECOX INITIALIZES ITSELF TO THE SPECIFIC TERMININAL UPON  WHICH  IT
IS  RUNNING.   THAT  IS DURING THE INITIALIZATION PROCESS A FILE IN SYS:
OR THE USER'S  AREA  CALLED  TECOX.TAB  IS  READ.   THIS  FILE  CONTAINS
INFORMATION  ABOUT  EACH  TERMINAL  CONNECTED  TO THE SYSTEM.  IT MAY BE
DESIRABLE TO HAVE AUTO TYPE OUT AFTER SEARCH TURNED ON IF  THE  USER  IS
LOGGED  INTO  A  VIDEO TERMINAL, HOWEVER THIS IS PROBABLY UNDESIRABLE IF
THE TERMINAL IS A SLOW SPEED TTY.

     THE FOLLOWING IS AN EXAMPLE OF THE TECOX.TAB FILE.  THE 1ST COMMAND
SEQUENCE  (ENDING WITH $$) WILL ALWAYS BE EXECUTED REGARDLESS OF COMMAND
CONSOLE NAME.  EACH SEQUENCE PRECEEDED BY A TTY NAME WILL BE EXECUTED IF
TECOX  IS  RUNNING  AT THAT CONSOLE.  IF TECOX IS RUNNING AT NONE OF THE
EXPLICITLY DECLARED CONSOLES THEN THE LINE PRECEEDED BY OTHER:  WILL  BE
EXECUTED.   IF NO LINES PRECEEDED BY A CONSOLE QUALIFIER (OR OTHER:) ARE
FOUND TO MATCH AND THEREFORE NO SETUP COMMANDS  ARE  EXECUTED,  THEN  AN
ERROR  MESSAGE  IS  GENERATED.   TWO ^G'S WILL CLEAR THE ERROR CONDITION
HOWEVER.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 11
TECOX INITIALIZATION


$$
TTY0:0^X33ES$0EL$0EH$0EU$$
TTY1:0^X124ES$1EL$0EH$-1EU$$
TTY2:0^X33ES$0EL$0EH$0EU$$
TTY3:0^X33ES$1EL$0EH$0EU$$
TTY4:0^X33ES$1EL$0EH$0EU$$
TTY5:0^X124ES$1EL$0EH$-1EU$$
TTY6:0^X33ES$1EL$0EH$0EU$$
TTY7:0^X33ES$1EL$0EH$0EU$$
TTY10:0^X33ES$1EL$0EH$0EU$$
TTY11:0^X124ES$1EL$0EH$-1EU$$
TTY12:0^X33ES$1EL$0EH$0EU$$
TTY13:0^X33ES$0EL$0EH$0EU$$
TTY14:0^X33ES$0EL$0EH$0EU$$
TTY15:0^X33ES$0EL$0EH$0EU$$
TTY16:0^X33ES$0EL$0EH$0EU$$
TTY17:0^X33ES$0EL$0EH$0EU$$
TTY20:0^X33ES$0EL$0EH$0EU$$
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 12
TECOX INITIALIZATION


TTY21:0^X33ES$0EL$0EH$0EU$$
TTY22:0^X33ES$0EL$0EH$0EU$$
TTY23:0^X33ES$0EL$0EH$0EU$$
TTY24:0^X33ES$0EL$0EH$0EU$$
TTY25:0^X124ES$1EL$0EH$-1EU$$
TTY26:0^X33ES$0EL$0EH$0EU$$
TTY27:0^X33ES$1EL$0EH$0EU$$
OTHER:0^X0ES$0EL$0EH$0EU$$

     IF THE USER'S AREA CONTAINS THE TECOX.TAB FILE THEN  THIS  WILL  BE
USED INSTEAD OF THE ONE IN THE SYS:  AREA.  THIS ALLOWS THE USER TO HAVE
TECOX COME UP WITH THE OPERATING PARAMETERS  HE  DESIRES.   ALSO,  IF  A
SEQUENCE  OF  COMMANDS  IS TO BE EXECUTED EVERY STARTUP (SUCH AS LOADING
MACROS INTO Q-REGISTERS), THEN  THESE  MAY  BE  INCLUDED  IN  THE  FIRST
UNCONDITIONAL COMMAND SEQUENCE.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 13
TECOX COMMANDS NOT IN DEC TECO


     THIS SECTION DESCRIBES THE COMMANDS ADDED TO DEC  TECO  (I.E.   NOT
THE  FRONT  END  COMMAND  STRING PROCESSOR).  THESE COMMANDS PROVIDE FOR
REVOLVING BACKUPS, RETURN TO THE MASTER COMMAND  STRING  PROCESSOR  FROM
THE TECO EDIT COMMAND PROCESSOR, AND ADDITIONAL CONVENIENT FUNCTIONS.

EL -- SET LINE TYPE OUT MODE

     THIS COMMAND IS LIKE ES IN OPERATION.  THAT  IS,  USED  WITHOUT  AN
OPERAND  IT  RETURNS  THE VALUE OF THE TYPE OUT FLAGING SWITCH.  WITH AN
OPERAND IT SETS SAME.   THIS  SWITCH  WHEN  NOT  ZERO  CAUSES  ALL  LINE
ORIENTED  TYPE  OUT  TO  BE PRECEEDED BY A RELATIVE LINE NUMBER FROM THE
CURRENT LINE CONTAINING THE POINTER.

EN -- SET THE NO-ER-ERROR SWITCH

     THIS COMMAND IS USED TO TURN OFF LOOKUP ERRORS  FROM  ER  COMMANDS.
IF  TYPED  WITHOUT  AN  ARGUMENT IT RETURNS THE VALUE OF THE NO-ER-ERROR
SWITCH.  USED WITH THE VALUE 0 THE SWITCH IS TURNED OFF  (THE  DEFAULT).
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 14
TECOX COMMANDS NOT IN DEC TECO


WITH  A  NON-ZERO  VALUE  THE SWITCH IS TURNED ON.  IF THIS SWITCH IS ON
ER'S RETURN VALUES.  0 IF NO ERROR OCCURS, NON-ZERO  IF  AN  ERROR  DOES
OCCUR.  SEE ER UNDER DEC TECO COMMANDS MODIFIED IN TECOX.

EP -- PAGE THOUGH A FILE

     THIS COMMAND IS ANALOGOUS TO THE DEC TECO  EX  EXCEPT  IN  LIEU  OF
EXITING  TO  THE  MONITOR  UPON  COMPLETION  IT RETURNS TO THE TECO EDIT
COMMAND PROCESSOR.

EE -- PAGE THOUGH A FILE AND RESTART TECOX

     THIS COMMAND IS THE SAME AS EP$ED$ (ED TO BE DESCRIBED NEXT).

ED -- RESTART TECOX

     THIS COMMAND JUMPS TO THE TECOX START ADDRESS.  THIS HAS THE EFFECT
OF  RE-ENTERING  THE  TECOX  MASTER COMMAND STRING INTERPRETER.  IF THIS
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 15
TECOX COMMANDS NOT IN DEC TECO


COMMAND IS EXECUTED WITH OUTPUT FILES OPEN, THEY ARE NOT CLOSED OR PAGED
THOUGH  AND  ARE  THERFORE  LOST.   IF  FILES  ARE OPEN THE FOLLOWING IS
PRINTED FOR USER VERIFICATION:

FILES OPEN, ARE YOU SURE?("Y" OR "N"):

IF Y IS TYPE THE COMMAND GOES THOUGH, IF N IS TYPED THE COMMAND SEQUENCE
IS STOPPED.

EA -- SET UP FOR REVOLVING BACKUPS

     THIS COMMAND HAS THE SAME AFFECT AS THE STANDARD DEC TECO EB EXCEPT
THAT  UPON  DOING  AN EX, EP, EE, OR EF THE FOLLOWING SEQUENCE OF EVENTS
TAKE PLACE:


   1)OUTPUT FILE IS CLOSE (NAMED ###TEC.TMP)  --  NOTE  THOUGH  OUT  THE
     FOLLOWING  DISCUSSIONS  ###TEC  REPRESENTS 3 DECIMAL DIGIT USER JOB
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 16
TECOX COMMANDS NOT IN DEC TECO


     NUMBER WITH LEADING ZEROSTEC.

   2)USER UFD IS OPENED AND SCANNED FOR ALL FILES HAVING THE  SAME  FILE
     NAME  AS  THE  INPUT  FILE BEING EDITED AND EXTENTIONS Z## WHERE ##
     REPRESENTS A 2 DIGIT DECIMAL NUMBER.

   3)THE OLD INPUT FILE  IS  RENAMED  TO  THE  SAME  FILE  NAME  AND  AN
     EXTENTION  Z##  SUCH THAT THE 2 DIGIT DECIMAL NUMBER IS LARGER THAN
     ANY FOUND IN THE UFD SCAN.

   4)THE .TMP FILE (OUTPUT FILE) IS RENAMED TO THE ORIGINAL  INPUT  FILE
     NAME AND EXTENTION.


     THIS OPERATION DIFFERS FROM THE EB TYPE OPENED  FILE  PROCEDURE  IN
STEPS  2, 3, AND 4.  THE EB COMMAND (WHICH IS STILL OPERATIONAL) DOES NO
UFD SCAN AND ALWAYS GIVES THE OLD INPUT FILE THE NEW EXTENTION  OF  BAK.
THE  OLD  BAK  FILE  IS DELETED AND THE TMP FILE IS RENAMED THE ORIGINAL
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 17
TECOX COMMANDS NOT IN DEC TECO


INPUT FILE NAME AND EXTENTION.

     THIS COMMAND PROVIDES FOR  MANY  BACKUP  LEVELS  IN  LIEU  OF  ONE,
HOWEVER USUALLY AFTER A SERIES OF EDITS THE FILES WITH EXTENTIONS OF Z??
ARE DELETED DUE TO THE  LARGE  DISK  SPACE  USAGE.   THIS  COMMAND  THEN
PRIMARILY PROVIDES A SAFEGUARD AGAINST UNINTENTIONAL LOSS OF FILE DUE TO
MULTIPLE ENTRIES AND EXITS FROM THE EDITOR DURING  A  SINGLE  STRING  OF
EDIT, COMPILE, AND RUN TASKS.

EQ -- SET SEQUENCE INCREMENT

     THIS COMMAND MAYBE GIVEN BEFORE OR DURING EDITING OF FILES TO WHICH
SEQUENCE NUMBERS ARE TO BE ATTACHED (/GENLSN).  THE DEFAULT INCREMENT IS
RETURNED IF NO ARGUMENT IS SPECIFIED AND THE INCREMENT  IS  SET  IF  THE
ARGUMENT  IS  INCLUDED.   NOTE  THAT FOR BASIC FILES /XBASIC OR THE .BAS
EXTENTION SHOULD BE INCLUDED IN THE FILE DESCRIPTOR SO THAT PROPER  LINE
SEQUENCE  NUMBERS  MAY  BE  PROCESSED  OR GENERATED (THE DEFAULT WITH NO
/XBASIC IS STANDARD SOS FORMAT LINE NUMBERS).  IF THE .BAS EXTENTION  IS
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 18
TECOX COMMANDS NOT IN DEC TECO


USED WITH THE /YBASIC SWITCH SOS LINE NUMBERS WILL BE GENERATED.

EV -- SET EDIT MODE DEFAULT

     THIS COMMAND WITH NO ARGUMENT RETURNS THE EDIT COMMAND MODE.   WITH
ARGUMENT  IT  SETS  THE  EDIT COMMAND MODE.  IF SET TO 1, THE EB COMMAND
BEHAVES AS THE EA COMMAND DESCRIBED ABOVE, AND THE EA COMMAND BEHAVES AS
DOES  THE  EB  COMMAND  (ORDINARY  BACKUPS).  IF SET TO 0, THE EB AND EA
COMMAND BEHAVE AS ADVERTIZED.  THIS COMMAND ALLOWS THE USER TO  SET  THE
DESIRED EDIT MODE IN HIS TECOX.TAB FILE.

EC -- RENAME OR DELETE THE LAST ER'ED FILE

     THIS COMMAND ALLOWS RENAMING OR DELETION OF THE  LAST  ER'ED  FILE.
IT  IS  ILLEGAL DURING AN EA OR EB COMMAND SEQUENCE EVEN THOUGH AN INPUT
FILE IS OPEN.  THIS IS FOR ADDED PROTECTION FOR THE CASUAL USER (SOMEONE
WHO  ONLY KNOWS ABOUT THE TECO AND MAKE COMPIL CLASS COMMANDS).  IF EC$$
IS TYPED (NO FILE NAME SPECIFIED) THE LAST ER'ED  FILE  IS  DELETED  AND
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 19
TECOX COMMANDS NOT IN DEC TECO


CLOSED.   IF  A  FILE NAME IS TYPED THE LAST ER'ED FILE IS RENAMED.  THE
FOLLOWING EXPLAINS BY EXAMPLE THE POSSIBLE  FILE  DESCRIPTOR  FORMS  AND
THEIR EFFECTS:

                                EC NAME$

     THIS UPDATES THE NAME ONLY.  EXTENTION, PROTECTION,  PPN,  AND  SUB
FILE SPECIFICATION REMAIN THE SAME.

                               EC NAME.$

     THIS UPDATES NAME AND EXTENTION.  THE EXTENTION IS SET TO THE BLANK
EXTENTION.

                              EC NAME.EXT$

     THIS UPDATES NAME AND EXTENTION.  THE EXTENTION IS SET TO EXT.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 20
TECOX COMMANDS NOT IN DEC TECO


                             EC NAME[N,M]$

     THIS UPDATES NAME AND PROJECT-PROGRAMMER NUMBER (IF YOU HAVE ENOUGH
PRIVILEGES !).  EXTENTION IS NOT AFFECTED.

                    EC NAME[,,SFD0,SFD1, ... ,SFDN]$

     THIS UPDATES THE NAME AND SUB FILE PATH.  THE PPN AND EXTENTION ARE
NOT AFFECTED.

                              EC NAME[,,]$

     THIS UPDATES THE NAME AND ENTERS  THE  FILE  AT  THE  ZEROTH  LEVEL
DIRECTORY (THE UFD).  THE PPN IS NOT AFFECTED.

                             EC NAME[N,M,]$

     THIS UPDATES THE NAME, THE PPN, AND ENTERS  THE  FILE  IN  THE  UFD
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 21
TECOX COMMANDS NOT IN DEC TECO


LEVEL DIRECTORY FOR THE SPECIFIED PPN.

     THE EC COMMAND AS YOU CAN SEE AFTER THE ABOVE EXAMPLES UPDATES  THE
PARAMETERS  OF  THE FILE GIVEN IN THE LAST ER.  ONLY THE FILE DESCRIPTOR
ELEMENTS  SPECIFIED  WILL  BE  CHANGED.   THE  EXAMPLES   ARE   ONLY   A
REPESENTATIVE  SAMPLING  OF  THE  POSSIBLE  ONES,  CHOSEN  TO CONVEY THE
GENERAL COMMAND FORMAT.  NOTE AGAIN THAT FOR ALL RENAME  OPERATIONS  THE
FILE  NAME  MUST  BE  SPECIFIED.   FOR DELETE OPERATIONS NO FILE NAME IS
GIVEN.

F= -- FIXED SEARCH COMMAND

     THIS COMMAND IS A SEARCH CLASS COMMAND (SUCH AS S, N, AND _).   THE
GENERAL  FORM  IS  F=SEARCH  ARGUMENTS$.   FOR  A  DESCRIPTION OF SEARCH
ARGUMENTS SEE THE DEC  TECO  DOCUMENTATION  IN  THE  DECSYSTEM/10  USERS
MANUAL.   THIS  COMMAND  CHECKS  THE  STRING FOLLOWING THE POINTER FOR A
MATCH AGAINST SEARCH ARGUMENTS.  IF THERE IS NO MATCH THE POINTER IS NOT
MOVED  AND  THE  SEARCH  FAILS.   IF THE TEXT FOLLOWING THE POINTER DOES
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 22
TECOX COMMANDS NOT IN DEC TECO


MATCH THE POINTER IS MOVED TO END OF THE MATCHING STRING AND THE  SEARCH
SUCCEEDS.   IF  THE  :F=SEARCH ARGUMENTS$ SUCCEEDS IT TAKES VALUE OF -1.
IF IT FAILS THE  VALUE  RETURNED  IS  0.   THIS  COMMAND  ALLOWS  STRING
CHECKING FOLLOWED BY CONDITIONALS WITHOUT FEAR OF POINTER MOVEMENT.

"$ ...  ' -- CONDITIONAL ELSE

     THIS COMMAND WHEN FOLLOWING ANOTHER CONDITIONAL COMMAND ("  ...   '
COMMANDS)  PROVIDES  AN  ELSE  CLAUSE  TO  BE  PERFORMED IF THE PREVIOUS
COMMAND WAS FALSE.  THE ...  MAY BE ANY STRING  OF  TECO  COMMANDS.   AN
ELSE CLAUSE NOT PRECEEDED BY ANOTHER CONDITIONAL WILL NEVER BE EXECUTED.

^H -- ERASE A CHARACTER

     IN DEC TECO CONTROL H AND  ^H  BOTH  RETURN  THE  TIME.   IN  TECOX
CONTROL  H  HAS  BEEN  CHANGED  TO  ALLOW  CHARACTER  ERASURE (ECHOED AS
BACKSPACE).  PAST THE INPUT SCANNER CONTROL H WILL STILL RETURN THE TIME
(^H STILL RETURNS TIME), THAT IS CONTROL H IN MACROS STILL WORKS.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 23
TECOX COMMANDS NOT IN DEC TECO


FO -- IMAGE MODE OUTPUT

     THIS COMMAND  SENDS  THE  CHARACTER  WHOSE  CODE  IS  THE  ARGUMENT
(DECIMAL  IF  NO  ^O) TO THE CONTROL CONSOLE FOLLOWING ANY CHARACTERS IN
THE TTY OUTPUT BUFFER.  THIS IS USED FOR GRAPHICS  OPERATIONS  (EXAMPLE:
101FO -- SENDS AN UPPER CASE A).

W -- WAIT ON EVENT

     THIS COMMAND IS USED FOR SEVERAL  DIFFERENT  PURPOSES.   THE  FIRST
FORM IS NNNW WHERE NNN IS THE NUMBER OF MILLISECONDS TO SLEEP.  NNN MUST
BE POSITIVE.  THE HIBER UUO IS USED IF POSSIBLE.  IF NOT THE  SLEEP  UUO
IS USED.

     THE NEXT FORM IS 0W.  THIS RETURNS -1  IF  THE  OUTPUT  TTY  BUFFER
CONTAINS NO CHARACTERS, 0 IF CHARACTERS EXIST.

     THE -NNNW FORM RETURNS -1 IF THE TTY INPUT BUFFER CONTAINS KEYS AND
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 24
TECOX COMMANDS NOT IN DEC TECO


0 IF NOT.

     A W COMMAND WITHOUT A VALUE IS  LEGAL  WITHIN  MACROS  ONLY.   THIS
COMMAND  INSERTS  INTO  THE  TEXT  BUFFER  (BEFORE THE POINTER) THE NEXT
CHARACTER FROM THE LAST MACRO CONTEXT.  CHARACTERS READ BY THE W COMMAND
ARE  SKIPPED  ON  MACRO RETURN.  WRACING (SEE THE ?  COMMAND IN DEC
TECO DOCUMENTATION), ALL CHARACTERS READ BY THE W COMMAND ARE ECHOED  AS
?CHARACTER.   THE  FOLLOWING  EXAMPLE  MAY  MAKE  THE  OPERATION OF THIS
COMMAND MORE CLEAR.  LET US SUPPOSE THE FOLLOWING MACRO IS  LOADED  INTO
Q-REGISTER 1:
                                  WWW$
THE USER THEN EXECUTES THIS MACRO IN ANOTHER MACRO OR FROM COMMAND LEVEL
AS FOLLOWS:
                                 M1ABC$
THE M1 EXECUTES THE MACRO IN Q-REGISTER 1.  THE FIRST W INSERTS INTO THE
TEXT  BUFFER  THE  LETTER  A.   THE  NEXT THE LETTER B, AND THE LAST THE
LETTER C.  THE MACRO RETURNS TO THE $ AND EXECUTION AT THE CALLING LEVEL
CONTINUES.  IF THE TEXT BUFFER WAS EMPTY BEFORE THE MACRO WAS CALLED THE
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 25
TECOX COMMANDS NOT IN DEC TECO


RESULT WOULD BE:
                                 ABC^
WHERE ^ REPRESENTS THE CURRENT BUFFER POINTER LOCATION.

FW -- EXTENDED W COMMAND

     THIS COMMAND WORKS IN A MANER SIMILAR TO THE W COMMAND  WITHOUT  AN
ARGUMENT.  FOR THIS COMMAND THE ARGUMENT IS THE NUMBER OF MACRO CONTEXTS
DEEP FROM WHICH CHARACTERS ARE TO  BE  INSERTED.   THE  DEPTH  COUNT  IS
ALWAYS  A  NEGATIVE NUMBER.  -1FW IS EQUIVALENT TO W.  -2FW INSERTS FROM
THE NEXT LEVEL DEEPER AND THEREFORE IS ONLY LEGAL IN A MACRO CALLED FROM
DEEPER  THAN 1ST LEVEL (THAT IS, IF THE USER DOES AN M1 AND THE MACRO IN
Q-REGISTER 1 DOES AN M2 THE MACRO IN Q-REGISTER 2 MAY DO  A  -2FW).   IT
MIGHT BE NOTED THAT A SPECIAL Q-REGISTER (SEE THE NEXT SECTION) HAS BEEN
ESTABLISHED THAT CONTAINS THE MACRO LEVEL COUNT.  THIS  ALLOWS  A  MACRO
EXECUTING  AT ANY DEPTH TO KNOW HOW FAR UP COMMAND LEVEL IS.  THUS USING
THE FW COMMAND CHARACTERS CAN BE FETCHED FROM COMMAND  LEVEL  IN  NESTED
MACRO CALLS.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 26
TECOX COMMANDS NOT IN DEC TECO


:NNN= AND :NNN== -- PRINT A NUMBER WITH NO CR, LF

     THESE COMMANDS WORK SIMILARLY TO THE NNN= AND NNN== COMMANDS IN DEC
TECO.   THE  DIFFERENCE BEING THAT NO CARRIAGE RETURN, LINEFEED SEQUENCE
IS  DONE  AFTER  THE  NUMBER  NNN  IS  PRINTED  (IN  DECIMAL  OR   OCTAL
RESPECTIVELY).
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 27
DEC TECO COMMANDS MODIFIED IN TECOX


     SEVERAL STANDARD DEC TECO COMMANDS HAVE BEEN MODIFIED  OR  EXTENDED
TO INCREASE THE POWER OR SAFETY OF THEIR EXECUTION.

     ALL E CLASS COMMANDS THAT CLOSE FILES HAVE BEEN  MODIFIED  SO  THAT
FILE  DESCRIPTORS MAY BE INCLUDED AS IN THE EB, ER, EA, AND EW COMMANDS.
THIS FILE DESCRIPTOR IS USED TO  ISSUE  A  RUN  UUO  FOR  THE  SPECIFIED
PROGRAM  FILE.   THE  DEFAULT DEVICE IS SYS:  AND DEFAULT EXTENTIONS ARE
.SAV, .SHR, OR .LOW.  IF NO FILE IS SPECIFIED NO RUN UUO IS  ISSUED  AND
THE  COMMANDS  EXECUTE  AS USUAL.  THE CLOSE CLASS COMMANDS MODIFIED ARE
EE, EF, EP, EX, AND EG.

     ALL TECOX FILE DESCRIPTORS  EXCEPT  THOSE  IN  THE  E  CLASS  CLOSE
COMMANDS  MENTIONED  ABOVE MAY CONTAIN SUB-FILE DIRECTORY AND PROTECTION
SPECIFICATIONS.  FOR THE EB AND EA COMMANDS, ANY BACKUP  FILES  WILL  BE
ENTERED INTO THE SAME SFD CONTAINING THE FILE BEING EDITED.  SFDS MAY BE
16 DEEP OR TO THE LEVEL  GENERATED  INTO  THE  MONITOR  (WHICH  EVER  IS
SMALLER).   THE  PROTECTION SPECIFICATION IS ONLY USED FOR THE EW AND EC
COMMANDS.  IF THE PROTECTION IS SPECIFIED IN THE EW COMMAND IT  USED  IN
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 28
DEC TECO COMMANDS MODIFIED IN TECOX


LIEU  OF 155.  IF SPECIFIED IN THE EC COMMAND THE PROTECTION OF THE FILE
BEING RENAMED IS CHANGED AS REQUIRED.

     THE ER COMMAND HAS BEEN MODIFIED SO THAT UNDER  STRANGE  CONDITIONS
LOOKUP  ERRORS  WILL NOT CAUSE COMMAND STRING ERRORS.  IF THE EN COMMAND
IS USED TO DISABLE ER ERRORS (1EN$) THE ER COMMAND RETURNS  VALUES.   IF
THE VALUE RETURNED IS 0 NO ERROR OCCURED AND THE INPUT FILE IS OPEN.  IF
THERE ARE ERRORS THE RETURN IS -262144 + THE LOOKUP  ERROR  RETURN  CODE
(SEE  ERROR  CODES  IN  MONITOR  CALLS HANDBOOK) TO SET ER'S BACK TO THE
NORMAL MODE AGAIN USE THE EN COMMAND (0EN$).

     THE EU COMMAND HAS BEEN ALTERED SO THAT IF TT LC IS  SET  CHARACTER
FLAGING  MAY STILL OCCUR.  -1EU, 1EU, AND 0EU REMAIN UNCHANGED AND CAUSE
THE APPROPRIATE FLAGING ONLY IF THE TTY IS SET AS UPPER  CASE  (TT  UC).
2EU  HAS  BEEN  ADDED  TO  ALLOW UPPER CASE FLAGING EVEN WITH TT LC SET.
-2EU CAUSES LOWER CASE FLAGING EVEN WHEN TT LC IS SET.  NOTE WITH  2  OR
-2 EVEN MESSAGES ARE FLAGED.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 29
DEC TECO COMMANDS MODIFIED IN TECOX


     OTHER COMMANDS THAT  BEHAVE  DIFFERENTLY  THAN  DEC  STANDARD  TECO
COMMANDS ARE _ SEARCH AND Y.  BECAUSE THESE CAN DO SO MUCH DAMAGE TO THE
EDIT BUFFER UNDER APPROPRIATE CONDITIONS, THE USER MUST VERIFY THE FIRST
USAGE  OF THESE COMMANDS IN EACH SEPARATE COMMAND SEQUENCE.  IF TECOX IS
IN EB (OR EA) MODE, THERE IS TEXT IN THE BUFFER, AND EITHER A _ OR  A  Y
IS ENCOUNTED THE FOLLOWING IS TYPED:

DESTROYS BUFFER, ARE YOU SURE?("Y" OR "N"):

IF Y IS TYPED Y OR  _  IS  ENABLED  FOR  THE  DURATION  OF  THE  COMMAND
SEQUENCE.  IF N IS TYPED THE COMMAND SEQUENCE IS CANCELLED.

     ALSO ADDED ARE SEVERAL SPECIAL Q-REGISTERS WHOSE VALUES ARE SET  BY
TECOX AS FOLLOWS:

  Q-REG .  ;  THIS REGISTER GETS THE LAST  COMMAND  SEQUENCE  TYPED  (AS
     WOULD Q-REG 1 AFTER A *1 COMMAND).
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 30
DEC TECO COMMANDS MODIFIED IN TECOX


  Q-REG - ;  THIS REGISTER GET THE ASCII STRING DELIMITED  BY  THE  LAST
     ER$.  THE TERMINATING $ IS INCLUDED (ALSO LAST EA OR EB).

  Q-REG , ;  THE REGISTER GETS THE LAST ASCII STRING DELIMITED  BY  EW$.
     AGAIN  THE  $  IS  INCLUDED.   IF EA$ OR EB$ WERE ENTERED THEN THIS
     REGISTER GETS #EA# OR #EB#$ RESPECTIVELY.

  Q-REG + AND * ;  THESE GET N AND I RESPECTIVELY AFTER A  I,NM  COMMAND
     (MACRO) IF IM IS TYPED THEN * IS NOT CHANGED AND + GETS I.

  Q-REG / ;  THIS GETS THE LAST ASCII  STRING  DELIMITED  BY  EC$.   ONE
     TRAILING $ IS INCLUDED.

  Q-REG &A ;  THIS Q-REGISTER IS SIMILAR TO .  ABOVE  HOWEVER  DOES  NOT
     GET  LOADED  IF THE PREVIOUS COMMAND STRING CONTAINED AN M&A$ OR AN
     M&B$.  THIS REGISTER MAY BE M'ED (RUN AS  A  MACRO)  REPEATEDLY  TO
     RE-EXECUTE  THE  LAST  COMMAND  STRING  (UNLIKE  .   --  ONE M.$ IS
     POSSIBLE;  THE NEXT ONE WILL CAUSE A PUSH DOWN OVERFLOW).  THIS  IS
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 31
DEC TECO COMMANDS MODIFIED IN TECOX


     THE "AGAIN" REGISTER.

  Q-REG &B ;  THIS Q-REGISTER GETS THE OLD VALUE OF &A WHEN &A IS LOADED
     WITH  A  NEW  STRING.   THAT IS, TO EXECUTE ONE COMMAND STRING BACK
     TYPE M&B$$.

  Q-REG &C ;  THIS IS RESERVED

  Q-REG &D ;  THIS REGISTER IS  EXECUTED  AFTER  EACH  COMMAND  SEQUENCE
     COMPLETED  IF  IT CONTAINS TEXT.  THE MACRO STRING IN THIS REGISTER
     IS INTENDED TO PROVIDE SPECIAL  WINDOW  DISPLAYS  ON  GRAPHICS  CRT
     TERMINALS.  UNLESS LOADED IT WILL NOT CONTAIN TEXT.

  Q-REG &E ;  THIS REGISTER GETS THE NUMERIC VALUE FOLLOWING THE  /E:NNN
     SWITCH FROM THE TECOX MASTER COMMAND STRING IF ONE IS PRESENT.  NNN
     MAY BE PRECEEDED BY AN + OR - SIGN.

  Q-REG &F ;  THIS REGISTER IS INCREMENTED FOR EACH FORMFEED PRINTED  BY
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 32
DEC TECO COMMANDS MODIFIED IN TECOX


     TECOX (MAXIMUM COUNTED IS 201).

  Q-REG &G ;  RESERVED

  Q-REG &H ;  RESERVED

  Q-REG  &I  ;   THIS  CONTAINS  THE  ITERATION  DEPTH  COUNT.   IT   IS
     INCREMENTED  FOR  EACH  AND DECREMENTED FOR EACH .  IT IS ZEROED AT
     COMMAND LEVEL.

  Q-REG &J ;  THIS HOLDS THE MACRO CONTEXT  DEPTH.   IT  IS  EFFECTIVELY
     INCREMENTED  FOR  EACH  M COMMAND EXECUTED.  IT IS DECREMENTED ON M
     COMMAND RETURN.

  Q-REG &K ;  THIS REGISTER GETS THE TEXT KILLED FROM THE TEXT BUFFER IN
     AN N,MK COMMAND.  THIS ALLOWS THE USER ONE CHANCE TO REPLACE TEXTED
     IMPROPERLY KILLED.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 33
DEC TECO COMMANDS MODIFIED IN TECOX


  Q-REG &L ;  THIS REGISTER IS INCREMENTED FOR EACH LINEFEED PRINTED  BY
     TECOX (UP TO 201).

  Q-REG &M ;  THIS REGISTER IS LOADED WITH A MACRO STRING  AND  EXECUTED
     WHEN  MACROS ARE AUTOMATICALLY LOADED FROM THE TECOX MASTER COMMAND
     STRING.  SEE THE SECTION ON TECOX MACROS.

  Q-REG &N ;  THIS GETS THE LAST  SEARCH  STRING.   THAT  IS,  WHEN  THE
     FOLLOWING  COMMAND  IS  EXECUTED  (STHIS IS THE END$$), &N GETS THE
     STRING "THIS IS THE END".  TO SET A DEFAULT SEARCH STRING (A STRING
     TO  BE  SEARCHED  FOR  IN  THE S$$ COMMAND), &N IS LOADED WITH THAT
     STRING.  IN A MACRO TO SAVE THE CALLER'S SEARCHING  CONTEXT  &N  IS
     PUSHED ([&N$).

  Q-REG &O ;  THIS GETS THE COMMAND  LEVEL  CHARACTER  COUNT.   FOR  THE
     COMMAND SEQUENCE 0TTZJ-T$$ THIS REGISTER WOULD CONTAIN 9.

  Q-REG &P ;  THIS REGISTER GETS THE  NUMERIC  ARGUMENT  OF  THE  /P:NNN
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 34
DEC TECO COMMANDS MODIFIED IN TECOX


     SWITCH.  NNN MAY POSITIVE OR NEGATIVE (MAY INCLUDE + OR -).

  Q-REG &Q ;  RESERVED

  Q-REG &R ;  THIS GETS INCREMENTED FOR EVERY VERTICAL  TAB  PRINTED  BY
     TECOX UP TO 201.

  Q-REG &S ;  THIS REGISTER IS EXECUTED  AFTER  EACH  SUCCESSFUL  SEARCH
     COMMAND  IS  COMPLETED  IF IT CONTAINS TEXT.  THIS MAY ALSO BE USED
     FOR SPECIAL GRAPHICS DISPLAYS OR MAY BE  USED  AS  A  SPECIAL  AUTO
     TYPEOUT   GENERATOR.   IT  IS  NOT  EXECUTED  FOR  SEARCH  COMMANDS
     PRECEEDED BY :.  UNLESS LOADED IT WILL NOT CONTAIN TEXT.

  Q-REG &T -- THIS REGISTER GETS ANY TEXT INSERTED INTO THE TEXT  BUFFER
     EXCEPT  WHEN INSERTED USING THE G COMMAND (TEXT FROM A Q-REGISTER).
     THIS INCLUDES TEXT FROM THE \, I, FW, W, FS, AND FN COMMANDS.

  Q-REG &U ;  THIS CONTAINS THE SEARCH FLAG.   IT  IS  -1  IF  THE  LAST
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 35
DEC TECO COMMANDS MODIFIED IN TECOX


     SEARCH  WAS  SUCCESSFUL AND 0 IF NOT.  TO SAVE THE SEARCH FLAG IN A
     MACRO THAT DOES SEARCHES IT MAY BE PUSHED ([&U$).

  Q-REG &V ;  THIS CONTAINS THE STRING LENGTH FLAG.  THIS IS THE  NUMBER
     OF  CHARACTERS  LAST  MANIPULATED IN THE TEXT BUFFER.  THAT IS, THE
     NUMBER OF CHARACTERS INSERTED, DELETED, OR COPIED TO/FROM THE  TEXT
     BUFFER  IN  ANY  INSERT  OR  Q-REGISTER  COMMAND.  THIS FLAG MAY BE
     OBTAINED USING THE DEFUNCT DEC TECO V COMMAND ALSO.  THE V  COMMAND
     RETURNS A VALUE (EQUIVALENT TO Q&V).

  Q-REG &W ;  RESERVED

  Q-REG &X ;  RESERVED

  Q-REG &Y ;  THIS REGISTER GETS THE TEXT BUFFER IMMEDIATELY BEFORE A  Y
     COMMAND  IS  DONE (IF THE Y COMMAND IS CANCELLED &Y IS NOT LOADED).
     THIS ALLOWS THE POSSIBLILITY OF RECOVERY FROM ONE ERRONEOUS Y.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 36
DEC TECO COMMANDS MODIFIED IN TECOX


  Q-REG &Z ;  THIS CONTAINS THE "SILENCE" FLAG.  IF =0 INDICATES THAT  T
     COMMANDS  ARE ENABLED.  IF NOT =0 T COMMANDS ARE DISABLED.  THIS IS
     SET BY THE /Q SWITCH IN COMBINATION WITH THE  /C  SWITCH.   WHEN  A
     CHECKPOINT  RESTART  (OR  WITH  @ AND INDIRECT COMMAND SEQUENCE) IS
     DONE IT WILL BE CLEARED ON THE NEXT T COMMAND ISSUED.

  Q-REG 9 ;  THIS CONTAINS THE USER'S PROGRAMMER NUMBER        _

  Q-REG 8 ;  THIS CONTAINS THE USER'S PROJECT NUMBER        _

  Q-REG 7 ;  THIS CONTAINS THE CURRENT JOB NUMBER        _

  Q-REG &0-&6 ;  NOT CURRENTLY RESERVED BUT MAY BE IN THE FUTURE.

     IT SHOULD BE NOTED HERE THAT ALL OF THE ABOVE  Q-REGISTERS  MAY  BE
MANIPULATED  USING THE STANDARD COMMANDS (G, Q, X, [, ], %), HOWEVER THE
SPECIAL VALUES INDICATED WILL BE AUTOMATICALLY SET WHEN APPROPRIATE.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 37
TECOX COMMAND CHECKPOINTING


     WHEN ENTERED THOUGH THE MASTER COMMAND STRING  INTERPRETER  (THOUGH
THE  R  OR  RU COMMANDS) TECOX WRITES A CHECKPOINT AFTER EVERY FULL DISK
BLOCK OF CHARACTERS TYPED BY THE  USER  AND  AFTER  EVERY  TYPED  DOUBLE
ALTMODES.   THE  CHECKPOINT IS WRITTEN IN UPDATE MODE TO INSURE THAT THE
MONITOR REMEMBERS THE RECORD IF IT LATER CRASHES.  THIS FEATURE  MAY  BE
TURNED OFF FOR SLIGHTLY BETTER COMMAND RESPONSE.

     IN THE EVENT OF A CRASH, THE USER FILE BEING EDITED  REFLECTS  ITS'
STATE  BEFORE EDITING HAD STARTED.  THE CHECKPOINT FILE CONTAINS ALL THE
INFORMATION NEEDED TO BRING THE FILE  BACK  UP  TO  DATE  (TO  THE  LAST
INCOMPLETE  COMMAND).  BY TYPING THE APPROPRIATE COMMAND STRING ON ENTRY
TO TECOX AFTER THE CRASH, THE EDITING MAY BE DRIVEN FROM THE  CHECKPOINT
FILE RATHER THAT THE USER'S TTY.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 38
TECOX MASTER COMMAND STRING


     THIS SECTION IS AN ELABORATION OF THE INFORMATION TYPED  ON  TYPING
/H TO TECOX AFTER RECEIVING THE # PROMPT CHARACTER.

   1)START TECOX BY ONE OF THE FOLLOWING:

     R TECO

   OR

     RU TECO

   2)TECOX WILL SIGNAL ENTRY INTO MASTER COMMAND STRING VIA A # PROMPT.

   3)TYPE ONE OF THE FOLLOWING COMMAND STRING FORMS

     #CR

       IMMEDIATELY ENTER TECO EDIT COMMAND PROCESSOR
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 39
TECOX MASTER COMMAND STRING


     #=INPUT FILENAME.EXT[M,N,SFD0, ...  ,SFDN]

       EQUIVALENT TO ERINPUT FILENAME.EXT[M,N,SFD0, ...  ,SFDN]$$

     #FILENAME.EXT[M,N,SFD0, ...  ,SFDN]

       EQUIVALENT TO EA FILENAME.EXT[M,N,SFD0, ...   ,SFDN]$$  (NOTE  EA
     GENERATES .Z## FILES AS BACKUPS)

     #FILENAME.EXT[M,N,SFD0, ...  ,SFDN]/M

       EQUIVALENT TO EW FILENAME.EXT[M,N,SFD0, ...  ,SFDN]$$

     #OUTPUT.EXT[M,N,SFD0, ...  ,SFDN]=INPUT.EXT[M,N,SFD0, ...  ,SFDN]

       EQUIVALENT       TO       EW       OUTPUT.EXT[M,N,SFD0,       ...
     ,SFDN]$ERINPUT.EXT[M,N,SFD0, ...  ,SFDN]$$
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 40
TECOX MASTER COMMAND STRING


     #001TEC/C

       INITIAL CHECKPOINT RERUN USING DSK:001TEC.CHP AS  THE  CHECKPOINT
     INPUT  FILE.   NOTE  THAT  FOR THIS FORM DSK:  AND .CHP ARE ASSUMED
     HOWEVER, ANY FILE DESCRIPTOR MAY BE TYPED INSTEAD.

     #001TEC/C/Q

       THIS IS THE SAME AS ABOVE EXCEPT THAT FOR  THE  DURATION  OF  THE
     CHECKPOINT  UPDATE  THE  T (TYPE) COMMAND IS DISABLED.  THIS CAUSES
     LESS OUTPUT AT THE CONTROL CONSOLE.

     #@INDIRECT FILENAME.EXT[M,N,SFD1,SFD2, ...  ,SFDN]

       THIS COMMAND FORM IS SIMILAR TO STARTING A CHECKPOINT RERUN.  THE
     COMMAND  FILE  IS  READ  FOR  TECO  COMMANDS RATHER THAT THE USER'S
     TERMINAL.  AS WITH THE /C SWITCH, /Q MAY BE INCLUDED TO  DISABLE  T
     COMMANDS.   IT MIGHT BE NOTED THAT HERE AS WITH CHECKPOINT RESTART,
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 41
TECOX MASTER COMMAND STRING


     THE COMMAND FILE MAY BE  LOCATED  IN  A  SUB-FILE  DIRECTORY.   THE
     DEFAULT  DEVICE  IS  DSK:,  AND THE DEFAULT EXTENTION IS .CCL.  THE
     MAJOR DIFFERENCES BETWEEN A CHECKPOINT RESTART (/C) AND AN INDIRECT
     EDIT (@) FOLLOW.

     1) ON RESTART EX$$ IS CONTINUED AFTER, ON INDIRECT FILE READING  IT
     EXITS FROM TECOX

     2) ON RESTART COMMAND READING PROCEEDS THROUGH ERRORS, ON  INDIRECT
     FILE READING TECOX REVERTS CONTROL TO THE USER'S TERMINAL ON ERRORS

     3) AFTER RESTART COMPLETION CHECKPOINTING WILL  BE  ON  (IF  NO  /N
     SWITCH  GIVEN),  AFTER  INDIRECT FILE PROCESSING CHECKPOINT WILL BE
     OFF.


OTHER PERIPHERAL SWITCHES TO BE USED WITH ABOVE.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 42
TECOX MASTER COMMAND STRING


   /-S -- NEGATE A SWITCH
     ANY OF THE FOLLOWING SWITCHES MAY  BE  NEGATED  BY  PRECEEDING  THE
     SWITCH  LETTER  BY  A - SIGN.  THAT IS IF /M MEANS MAKE A FILE THEN
     /-M MEANS DO NOT MAKE A FILE.

   /A -- APPEND ALL THE INPUT FILE INTO CORE (FORMFEEDS ARE PRESERVED)

   /R -- TO BE USED IN CONJUNCTION WITH /A, POSITION THE POINTER TO  THE
     END OF THE TEXT APPENDED INTO CORE

   /N -- DISABLE CHECKPOINT CREATION

   /B -- USE  REGULAR  BACKUP  PROCEDURE  (WILL  GET  .BAK  EXTENTIONS),
     REVOLVING BACKUP METHOD IS THE DEFAULT

   /Z -- USE REVOLVING BACKUP METHOD (IN THE TECO COMPIL  CLASS  COMMAND
     THE  REGULAR  BACKUP  PROCEDURE  IS  DEFAULT;   THIS  SWITCH ALLOWS
     SPECIFICATION OF THE REVOLVING METHOD  IN  THIS  CASE;   SEE  TECOX
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 43
TECOX MASTER COMMAND STRING


     THROUGH CCL SECTION).

   /L -- USE TECOX.TAB FILE FROM USER'S AREA (NOT FROM SYSTEM AREA)
     IT TRIES TO READ FILE IN USER'S AREA AND IF IT FAILS THEN TRIES  IT
     THE SYSTEM AREA.

   /T -- USE A TAB FILE FOR INITIALIZATION
     THIS CAUSES THE TECOX.TAB FILE TO  LOOKED-UP.   /-T  INHIBITS  THIS
     LOOKUP.

   /F -- REQUEST FAST EXECUTION
     THIS CAUSES ALL SPECIAL Q-REGISTERS THAT ARE USUALLY  AUTOMATICALLY
     LOADED  WITH  TEXT  VALUES  NOT  TO  BE  LOADED.   THIS SPEEDS MANY
     COMMANDS BY AS MUCH AS A FACTOR OF 4.

   /O -- USE LOCAL TECO.ERR FILE (FOR ERROR MESSAGES)

   /H -- IF FILE IS SPECFIED IT IS  TYPED  AS  THE  HELP  FILE,  IF  NOT
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 44
TECOX MASTER COMMAND STRING


     HLP:TECOX.HLP,  THEN  SYS:TECOX.HLP ARE TRIED.  DEFAULT DEVICE NAME
     IS HLP:, DEFAULT EXTENTION IS .HLP.

   /D -- IF FILE IS SPECFIED IT IS TYPED AS THE DOCUMENTATION  FILE,  IF
     NOT  DOC:TECOX.DOC,  THEN  SYS:TECOX.DOC ARE TRIED.  DEFAULT DEVICE
     NAME IS DOC:, DEFAULT EXTENTION IS .DOC.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 45
TECOX SWITCHES IN SWITCH.INI


     A SINGLE LINE FOR TECOX  INITIALIZATION  MAY  BE  INCLUDED  IN  THE
USER'S  SWITCH.INI  COMMAND  FILE.   THE  LINE  IS STARTED WITH THE NAME
STRING 'TECOX'.  FOLLOWING THIS, THROUGH THE NEXT LINE  TERMINATOR,  ARE
SWITCHES  TO  BE CONCATENATED TO THE END OF ALL COMMAND STRINGS TYPED TO
THE MASTER COMMAND  DECODER  (PREVIOUS  SECTION).   ANY  SWITCHES  LEGAL
DURING COMMAND TYPE IN ARE LEGAL IN THE SWITCH.INI ENTRY.

     NOTE THAT THE /-W SWITCH MAY BE TYPED TO THE MASTER COMMAND DECODER
SO  THAT  THE  SWITCH.INI  FILE IS NOT SCANNED.  THIS ALLOWS THE USER TO
OVERRIDE DEFAULT SPECIFICATIONS IF NECESSARY.

     IF PRESENT TMP:SWI IS READ RATHER THAN DSK:SWITCH.INI.  THIS SPEEDS
STARTING INITIALIZATION.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 46
TECOX MACROS


     THERE ARE 3 WAYS TO  IMPLEMENT  MACROS  USING  TECOX.   ONE  IS  TO
PREPARE  A  MACRO  NAME.CCL  FILE  AND  USE  THE  INDIRECT  FILE READING
FACILITY, ALLOWING THE USER TO WATCH EACH COMMAND EXECUTE.  THIS  METHOD
IS ROUGHLY EQUIVALENT TO GENERATING A BATCH TECO STREAM.

     OF COURSE, IT IS POSSIBLE TO WRITE A MACRO IN THE  SAME  MANNER  AS
FOR DEC TECO, EFFECTING THE LOAD AND EXECUTION BY HAND.

     HOWEVER,THE MOST USEFUL WAY TO WRITE MACROS IS TO MAKE FURTHER  USE
OF  THE COMMAND STRING INTERPRETER.  IN ADDITION TO THE PREVIOUS COMMAND
STRING FORMATS THE MASTER COMMAND STRING  INTERPRETER  MAY  BE  USED  TO
PRE-LOAD AND INITIALIZE THE RUNNING ENVIRONMENT FOR TECOX MACROS.

     EXECUTION THOUGH THE COMMAND STRING INTERPRETER IS EFFECTED BY  THE
FOLLOWING COMMAND STRING FORMS:

   #MACRO FILE.EXT[M,N,SFD0, ...  ,SFDN]/E
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 47
TECOX MACROS


   #MACRO FILE.EXT,OUTPUT.EXT=INPUT.EXT

   #MACRO FILE.EXT,OUTPUT.EXT=INPUT.EXT%PARAMETERS

   #MACRO FILE.EXT%PARAMETERS

     THE  MACRO  FILES  ABOVE  ARE  APPENDED  INTO  CORE,  LOADED   INTO
Q-REGISTER   &M   AND   EXECUTED   AFTER   THE  APPROPRIATE  ENVIRONMENT
INITIALIZATION.

     THE FIRST FORM REQUIRES THE MACRO TO DO ALL ITS  OWN  SETUP.   WHEN
EXECUTED NOTHING IS IN THE TEXT BUFFER AND NO FILES ARE OPEN.

     THE SECOND FORM IS EXECUTED AGAIN WITH NOTHING IN THE TEXT  BUFFER,
HOWEVER  THE  INPUT  FILE  HAS  BEEN  ER'ED AND THE OUTPUT FILE HAS BEEN
EW'ED.

     THE THIRD FORM IS A MACRO COMMAND STRING AT ITS BEST.  IN THIS FORM
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 48
TECOX MACROS


THE  MACRO  IS  EXECUTED  (FROM  Q-REGISTER  &M) AFTER THE INPUT FILE IS
ER'ED, THE OUTPUT FILE IS EW'ED AND THE  PARAMETER  STRING  IS  INSERTED
INTO  THE TEXT BUFFER (TO BE PARSED BY THE MACRO).  THE LOCATION COUNTER
POINTS TO THE END OF THE BUFFER.

     THE LAST FORM IS CALL  WITH  NO  FILES  PRE-OPENED,  BUT  WITH  THE
PARAMETER STRING INSERTED INTO THE BUFFER.

     THE PARAMETER STRINGS HAVE TWO FORMATS.  THE FIRST IS  FOR  STRINGS
NOT  CONTAINING  TERMINATOR CHARACTERS (CR,LF,FF,VT, ...).  IN THIS FORM
THE 1ST CHARACTER AFTER THE % IS A NON " AND THE PARAMETER IS TERMINATED
BY THE FIRST TERMINATOR.

     THE OTHER MORE GENERAL FORM HAS A " AFTER THE %.  IN THIS FORM  THE
PARAMETER  STRING  MAY CONTAIN TERMINATORS AND IS TERMINATED BY THE NEXT
OCCURENCE OF ".  IF " IS WANTED AS A CHARACTER, THE STRING  ""  IS  USED
AND  ONE  OF  THE  PAIR  IS  REMOVED BEFORE BUFFER INSERTION.  AFTER THE
TERMINATING " A REAL LINE TERMINATOR IS STILL REQUIRED BUT WILL  NOT  BE
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 49
TECOX MACROS


INSERTED.

     TO PASS NUMERIC ARGUMENTS TO A MACRO FROM THE MASTER COMMAND STRING
TECOX  PROVIDES  AN  ADDITIONAL  FORM OF /E SWITCH.  /E:NNN CAN BE TYPED
WHERE NNN IS A SIGNED INTEGER OF LESS  THAN  6  CHARACTERS.   THIS  WILL
CAUSE THE FOLLOWING TO BE EXECUTED (NNNU&E$).

     SIMILARLY THE /P:NNN SWITCH MAY BE USED.  THIS CAUSES &P TO BE  SET
TO  NNN (USING THE NNNU&P$ COMMAND).  IT SHOULD BE NOTED, THE THE /E:NNN
STILL IMPLIES MACRO LOADING AND EXECUTION  HOWEVER  THE  /P:NNN  IMPLIES
ONLY LOADING OF Q-REGISTER &P.
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 50
ALTERNATE COMMAND FORM


     THE 1ST TECOX COMMAND STRING MAY BE PUT ON THE SAME LINE AS  THE  R
OR RU COMMAND BY PRECEEDING THE COMMAND STRING BY A ;.

EXAMPLE:

     R TECO;FOOBAR.BRF

EQUIVALENT TO

     R TECO
     #FOOBAR.BRF
TECOX -- TEXT EDITOR AND CORRECTOR EXTENDED                      Page 51
TECOX THROUGH CCL


     TECOX (IN SYS:  AS TECO)  IS  CURRENTLY  THE  STANDARD  COORDINATED
SCIENCE LABORATORY TEXT EDITOR.  WHEN INVOKED BY THE COMPIL PROGRAM (THE
TECO OR MAKE COMMANDS) IT IS RUN USING THE CCL CONVENTION.  WHEN STARTED
VIA  THE  R  OR  RUN  COMMANDS  IT  IS STARTED USING THE RUN WITHOUT CCL
CONVENTION.   TECOX  THEN  EITHER  ENTERS  THE  COMMAND  STRING   PARSER
DISCUSSED PREVIOUSLY OR A CCL LINKAGE HANDLER.

     IF TECOX IS ENTERED THOUGH THE  NON-CCL  ROUTE  THEN  ALL  PREVIOUS
COMMAND  STRING  DISCUSSIONS  ARE APPLICABLE.  IF THE CCL ENTRY IS TAKEN
(AS IN TECO AND MAKE COMMANDS) THE INITIAL COMMAND DIALOG IS TAKEN  FROM
TEMCOR  OR  DISK  AS  REQUIRED.  THIS DIALOG IS PARSED AS WOULD BE INPUT
RECEIVED FROM THE TTY AFTER A NORMAL R OR RUN COMMAND WITH THE FOLLOWING
EXCEPTIONS.   IF THE TECO COMMAND ORIGINATED THE CALL EB WILL BE USED TO
INITIALIZE THE SPECIFIED FILE FOR EDIT (WHEN EX'ED THE BACKUP FILE  WILL
GET  THE  .BAK  EXTENTION  RATHER  THAN  .Z##).   IF  THE  MAKE  COMMAND
ORIGINATED THE CALL, EW IS USED TO INITIALIZE  THE  FILE  (THE  FILE  IS
CREATED).  ANY TECO ERRORS DETECTED BEFORE THE END OF THE FIRST EW OR EB
WILL EXIT TO MONITOR LEVEL AFTER ERROR MESSAGE PRINTING.
X_r&‹