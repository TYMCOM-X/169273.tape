RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
TPARAM	23-DEC-86 12:29	

     1				;PROGRAM CAPABILITIES
     2			000100	ACRCAP==:100                 ;I MAY RECEIVE RANK COMPRESSED DATA RECORD
     3			000040	KATCAP==:40                  ;I MAY RECEIVE KATAKANA DATA
     4			000020	BINCAP==:20                  ;I MAY RECEIVE BINARY DATA
     5			000010	UPDCAP==:10                  ;I MAY RECEIVE BINARY UPDATE MODE DATA
     6				;ASSEMBLY AND TEST SWITCHES
     7			000001	TESTNG== 1                   ;PRINT LOGIN MESSAGES FROM SLAVE HOST
     8				;PROTOCOL VERSION
     9			000001	VERNUM==:1
    10				;MESSAGE TYPES
    11			000100	MBOT== 100      ;LOWER BOUND FOR MESSAGE TYPES
    12			000101	DNRCOD== 101 ;REQUEST SLAVE TO BE DONOR.  NO RESPONSE.
    13			000102	RCVCOD== 102 ;REQUEST SLAVE TO BE RECEIVER.  NO RESPONSE.
    14			000103	FLKCOD== 103 ;ASCII FILE NAME FOLLOWS AFTER 1 BYTE GIVING COUNT.
    15				;              (RETURNS FAILCD IF FILE NOT FOUND OR FLKSCD IF FILE FOUND.
    16				;              (IF THE SLAVE & CONTROLLER ARE BOTH 940 THEN THE USUAL
    17				;              (SECURITY RULES ARE RELAXEED AND THE LOOKUP SUCCEEDS
    18				;              (IF THE FILE IS PRESENT, RETURNING 9 BYTES CONTAINING
    19				;              (INFORMATION FROM THE FIRST 3 WORDS OF THE FD ENTRY.
    20			000104	SUCCOD== 104 ;OPTION ACCEPTED
    21			000105	ULKCOD== 105 ;ASCII USERNAME FOLLOWS AFTER 1 BYTE GIVING COUNT.
    22				;              (LOOKS UP THE USER NAME IN THE LUD AND RETURNS A ULKSCD IF
    23				;              (FOUND AND A ULKRCD IF NOT FOUND.  IF THE SLAVE & CONTROLLER
    24				;              (ARE BOTH 940 THEN A SUPER GFD IS PERFORMED TO REACH THE
    25				;              (FILE DIRECTORY OF THE SPECIFIED USER, AND GAN, FDPT, AND UUN
    26				;              (FROM THE LUD ENTRY ARE RETURNED AS 9 BYTES.
    27			000106	FLKFCD== 106 ;FILE NOT FOUND--NOT CONSIDERED AN ERROR
    28			000107	ABTCOD==: 107 ;STOP WHAT YOU ARE DOING, ABORT
    29			000110	BCMCOD== 110 ;START DATA RECORD, BINARY COMPRESSION METHOD
    30			000111	ACMCOD== 111 ;START DATA RECORD, ASCII COMPRESSION METHOD
    31			000112	ACKCOD== 112 ;ACKNOWLEDGEE RECORD CHECKSUM AND BYTECOUNT MATCH
    32			000113	NAKCOD== 113 ;CHECKSUM AND/OR BYTECOUNT DO NOT MATCH
    33			000114	FINCD1== 114 ;DONOR HAS SENT ALL RECORDS IN FILE AND IS HAPPY.  FOLLOWED
    34				;              (BY 1 BYTE COUNT OF BYTES FOLLOWING  TOTAL FILE BYTES SENT
    35				;              (BY DONOR.  USED BY UPDATE MODE CLOSE TO TRUNCATE FILE TO
    36				;              (THE CORRECT DATA LENGTH.  WHEN DONOR AND RECEIVER
    37				;              (ARE BOTH 940 THIS WILL BE 3 BYTES CONTAINING CPTOP.
    38			000115	FINCD2== 115 ;RECEIVER HAS WRITTEN AND CLOSED FILE SUCCESSFULLY
    39			000116	FPFCOD== 116 ;FILE PROTECTION FAILURE
    40			000117	OPFCOD== 117 ;OPEN FAILURE
    41			000120	BZCOD==  120 ;BUFFER ZAPPED
    42				; OPTION TYPES 121-130 RESPOND 104 OR 133 IF NOT IMPLEMENTED
    43			000121	CPACOD== 121 ;SPECIFY COMPRESSION.  FOLLOWED BY 1 BYTE
    44				;              (0= NONE
    45				;              (1= BINARY
    46				;              (2= ASCII
    47				;              (3= ASCII AUTO
    48			000122	ONLCOD== 122 ;ON LOWER CASE.  FOLLOWED BY A BYTE OF ALL 1'S TO PERMIT
    49				;              (LOWER CASE, ALL 0'S TO CONVERT LOWER TO UPPER CASE
    50				;              (DEFAULT IS TO PERMIT LOWER CASE
    51			000124	TRUCOD== 124 ;FOLLOWED BY 1 BYTE INDICATING COLUMN TO BEGIN
    52				;              (TRUNCATION.  IF 0 THEN TURN OFF TRUNCATION.
    53			000125	TRICOD== 125 ;REMOVE TRAILING BLANKS.  FOLLOWED BY A BYTE OF ALL 1'S
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-2
TPARAM	23-DEC-86 12:29	

    54				;              (TO SUPPRESS TRAILING BLANKS OR A BYTE OF ALL 0'S TO KEEP
    55				;              (TRAILING BLANKS  (DEFAULT)
    56			000127	VARCOD== 127 ;PRODUCE VARIABLE LENGTH RECORDS (DEFAULT)
    57				;              (FOLLOWED BY 4 BYTES GIVING MAXIMUM RECORD SIZE
    58			000130	FIXCOD== 130 ;PAD WITH BLANKS TO MAKE FIXED LENGTH RECORDS.
    59				;              (FOLLOWED BY 4 BYES OF RECORD LENGTH.
    60			000131	LOGCOD==:131 ;TELL SLAVE TO LOG OFF
    61			000132	CHKCOD== 132 ;START DATA CHECKSUM RECORD
    62			000133	NICOD==  133 ;REQUESTED OPERATION IS NOT IMPLEMENTED
    63			000134	EORCOD== 134 ;END OF TRANSMISSION RECORD
    64			000135	EOTCOD== 135 ;TRANSMISSION RECORD IS LAST IN FILE
    65			000136	QUICOD==:136 ;ABORT THE CURRENT OPERATION, QUIT SLAVE, AND RETURN
    66				;              (TO OPERATING SYSTEM COMMAND LEVEL.
    67			000137	OPNCOD== 137 ;REQUEST SLAVE OPEN FILE FOR DATA TRANSFER (DIRECTION
    68				;              (DETERMINED BY PREVIOUS 101 OR 102 CODE.  FOLLOWED BY 1 BYTE
    69				;              (TRANSMISSION TYPE, AND POSSIBLY, OTHER BYTES
    70				;              (TYPE = 1 ASCII MODE TRANSFER.  NO BYTES FOLLOW
    71				;              (TYPE = 2 EBCDIC MODE TRANSFER.  NO BYTES FOLLOW
    72				;              (TYPE = 3 BINARY MODE TRANSFER.  THE RECEIVE FILE, IF
    73				;              (PRESENT, IS TO BE ERASED.  FOLLOWED BY 1 BYTE OF BINARY
    74				;              (PARAMETERS.
    75				;              (TYPE = 4 BINARY UPDATE MODE TRANSFER.  DONOR AND RECEIVER
    76				;              (WILL EXCHANGE CHECK RECORDS.  FOLLOWED BY 1 BYTE OF BINARY
    77				;              (PARAMETERS AND 2 BYTES OF UPDATE MODE BLOCKSIZE.
    78				;              (TYPE = 5 KATAKANA MODE TRANSFER.  NO BYTES FOLLOW
    79				;              (TYPE = 6 IMAGE MODE TRANSFER.  NO BYTES FOLLOW
    80				;              (POSSIBLE RESPONSES ARE  133 (UPDATE MODE NOT IMPLEMENTED
    81				;              (OR PARAMETERS NOT ACCEPTABLE), 104 (FILE OPENED), 116
    82				;              (FILE PROTECTION FAILURE), OR 117 (FILE OPEN FAILURE).
    83			000140	FENQCD== 140 ;REQUEST SLAVE DONOR TO SEND FILE ATTRIBUTES.  RETURNS 104
    84				;              (PLUS 1 BYTE COUNT OF BYTES FOLLOWING.
    85			000141	FATTCD== 141 ;PREPARE SLAVE RECEIVER TO OPEN FILE.  FOLLOWED BY 1 BYTE
    86				;              (COUNT OF BYTES FOLLOWING.  WHEN DONOR AND RECEIVER ARE BOTH
    87				;              (940 SEND 9 BYTES  3 BYTES FFDPT, 3 BYTES FDWD0, AND
    88				;              (3 BYTES FDWD2.  NO RESPONSE IS GIVEN.
    89			000142	INSCOD== 142 ;SET INSTALLER LICENSE.  FOLLOWED BY 6 BYTE CIPHER.
    90			000143	WHYCOD==: 143 ;SOLICIT EXPLANATION OF LATEST ERROR
    91			000144	RSPCOD==: 144 ;CODE FOLLOWED BY ASCII STRING TO BE PRINTED AT TERMINAL
    92				;              (STRING TERMINATED BY A NUL BYTE OR ANY CONTROL CODE.
    93			000145	BADCOD== 145 ;UNEXPECTED CONTROL CODE RECEIVED
    94			000146	ERRCOD== 146 ;FILE SYSTEM ERROR WRITING OR READING FILE
    95			000147	PERCOD== 147 ;FILE SYSTEM ERROR POSITIONING FILE
    96			000150	ERASCD== 150 ;FILE SYSTEM ERROR ERASING RECEIVE FILE
    97			000152	TRPCOD== 152 ;PROGRAM TRAP
    98			000153	FLKRCD== 153 ;LOOKUP FAILURE--PROBABLY SYNTAX
    99			000154	ULKFCD== 154 ;GFD FAILURE
   100			000160	ULKSCD== 160 ;GFD SUCCESS
   101			000161	FLKSCD== 161 ;FILE LOOKUP SUCCESS
   102			000177	MTOP== 177      ;UPPER BOUND FOR MESSAGE TYPES
   103				;TRANSMISSION PARAMETERS
   104			050000	MAXRS== ^D512*^D40             ;MAXIMUM RECORD SIZE--40 PAGES
   105			010000	MINRS== ^D512*^D8            ;MININUM RECORD SIZE--8 PAGES
   106			014000	TSTRS== ^D6144                 ;SAMPLE SIZE FOR STATISTICS (CONSTANT)
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-3
TPARAM	23-DEC-86 12:29	

   107				;                               WILL BE 2 PAGES FOR BF=6
   108				;BINARY PARAMETERS FOR ASCII, KATAKANA, AND IMAGE MODE
   109			000407	KMODE==:  407                   ;1000+0011+1=BYTESIZE=9,BLOCKING=4,FILL=LEFT
   110			001000	SMODE==: 1000                   ;000+0000+0  INDICATES SERIAL MODE
   111			000345	IXMODE==: 345            ;111+0010+1==BYTESIZE=8,BLOCKING=3,FILL=LEFT
   112			000351	XMODE==: 351            ;111+0100+1==BYTESIZE=8,BLOCKING=5,FILL=LEFT
   113			000311	AMODE==: 311            ;110+0100+1==BYTESIZE=7,BLOCKING=5,FILL=LEFT
   114				;ASCII CHARACTER VALUES
   115			000010	TABSIZ== 10
   116			000003	ETX==: 3        ;CONTROL-C
   117			000011	HT== 11
   118			000012	LF== 12
   119			000015	CR== 15
   120			000030	CAN==: 30
   121			000031	EM==: 31
   122			000033	ESC==: 33
   123			000036	RS== 36
   124			000037	US==: 37
   125			000040	BL== 40
   126			000050	LPAREN== 50
   127			000051	RPAREN== 51
   128			000072	COLON== 72
   129				;COMPRESSION OPTIONS
   130			000001	AUTO==:1
   131			000002	ASCII==:2
   132			000400	NONE==: 400  ;NO OPTIONS, SET TO KEEP COPT NON-ZERO
   133				;REPEATED CHAR COMPRESSION PARAMETERS
   134			000200	BIASP== 200                ;BIAS FOR PREFERRED CHARACTER COMPRESSION CODE
   135			000202	MAXP== ^D130                 ;MAXIMUM COUNT FOR PREFERRED CHARACTER
   136			000003	MINP== 3                   ;MININUM COUNT FOR PREFERRED CHARACTER
   137			000010	BIASC== 10                 ;BIAS FOR REPEATED CHARACTER COMPRESSION CODE
   138			000073	MAXC== ^D59                  ;MAXIMUM COUNT FOR REPEATED CHARACTER
   139			000004	MINC== 4                   ;MININUM COUNT FOR REPEATED CHARACTER
   140				;RANK COMPRESSION PARAMETERS
   141			000010	BIASPA== 10                  ;BIAS FOR PREFERRED BYTE COMPRESSION CODE
   142			000021	MAXPA== ^D17                  ;MAXIMUM COUNT FOR PREFERRED BYTE
   143			000002	MINPA== 2                   ;MININUM COUNT FOR PREFERRED BYTE
   144			000032	BIASA== 32                 ;BIAS FOR ALL TRANSLATING CHARACTERS
   145			000010	NM== ^D8                   ;MASTER CHARACTERS-- 32 THRU 41
   146			000007	LM== NM-1
   147			000025	NC== ^D21                  ;COMBINING CHARACTERS-- 32 THRU 56
   148			000024	LC== NC-1
   149			000076	NT== ^D62                    ;TRANSLATING CHARACTERS-- 32 THRU 127
   150			000075	LT== NT-1
   151				; CHECK BLOCK LAYOUT
   152			000000	FCK1== 0
   153			000400	FCK2== ^D256
   154			001000	FCK3== ^D512
   155				; DONOR AND RECEIVER FILENAME INDEXES
   156		777777	777777	FSIZE== -1
   157			000003	FEXT== 3
   158			000015	UNAME== 15
   159			000017	SYS== 17
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-4
TPARAM	23-DEC-86 12:29	

   160			000020	FNAME== 20
   161				; AUXCAL DEFINITIONS
   162			000000	IICHW== 0       ;INPUT IMAGE CHAR, WAIT
   163			000001	IICHS== 1       ;INPUT IMAGE CHAR, SKIP
   164			000003	OICH== 3        ;OUTPUT IMAGE CHAR
   165			000004	OICHI== 4       ;OUTPUT IMAGE CHAR IMMEDIATE
   166			000007	CLRBO==:7       ;CLEAR OUTPUT BUFFER
   167			000012	YELLOW==: 12     ;SEND YELLOW BALL
   168			000032	SDVIOS== 32     ;SET DEVIOS
   169			000034	IBIO== 34       ;INITIATE BLOCK I/O MODE
   170			000035	INBW== 35       ;INPUT A BLOCK (WAIT)
   171			000036	INBS== 36       ;INPUT A BLOCK (SKIP)
   172			000037	OB== 37         ;OUTPUT A BLOCK
   173			000040	TBI== 40        ;TERMINATE BLOCK INPUT
   174			000041	TBO== 41        ;TERMINATE BLOCK OUTPUT
   175			000042	LBIO== 42       ;LEAVE BLOCK I/O MODE
   176			000043	SLVPRT== 43     ;SLAVE COMMAND PORT
   177			000052	ASCSTG== 52     ;OUTPUT ASCII STRING
   178				; DEVIOS BITS
   179			000014	IOMOD==14       ;BINARY MODE
   180			020000	IODEND==20000   ;MASK FOR IODEND BIT (BIT 22)
   181			000200	NOECHO==200     ;NO ECHO BIT (AFFECTS COMMAND PORT)
   182				; UUO DEFINITIONS
   183				IFDEF UUOFLG<UUOTAB: BLOCK 0>
   184				DEFINE  OPD     (A,B) <U==U+1
   185				OPDEF A [U*1000000000]
   186				IFDEF UUOFLG<JRST B>>
   187			000000	U==0
   188			000001	 OPD OUTSTR,OSTRUU^U==U+1
   189			000002	 OPD INCHWL,INCHUU^U==U+1
   190			000003	 OPD OUTCHR,OCHRUU^U==U+1
   191			000004	 OPD OUTCHI,OCHIUU^U==U+1
   192			000005	 OPD CLRBFO,CLROUU^U==U+1
   193			000006	 OPD CLRBFI,CLRIUU^U==U+1
   194				;***  WARNING *** FLAGS IN MASTER ARE NOT PRESERVED FROM ONE FILE TO NEXT
   195				;***    SEE "SAVREG" IN TELECO.MAC WHICH ZEROES ALL ACCUMULATORS
   196				;FLAGS IN LH OF ACCUMULATOR F
   197			000001	LUDFLG== 1      ;LUD HAS BEEN OPENED IF 1
   198				;FLAGS IN RH OF ACCUMULATOR F
   199			000001	SORTFG== 1     ;SORT HAS BEEN PERFORMED IF 1
   200			000002	HSW== 2        ;RECORD HEADER HAS BEEN CREATED IF 1
   201			000004	LCO== 4        ;PERMIT LOWER CASE OUTPUT IF 1
   202			000010	LEFTFG== 10    ;LEFT FILL IF 1
   203			000020	SERFLG== 20    ;SERIAL MODE IF 1
   204			000040	UPDMOD== 40    ;READ CONTENTS FROM FILE BEFORE WRITING IF 1
   205			000100	IGNEOF== 100   ;IGNORE END OF BLOCK IF 1
   206			000200	CHGFLG== 200   ;PAGE CHANGED BY MASKING OPERATION IF 1
   207			000400	MASKFG== 400   ;PAGE MUST BE MASKED PRIOR TO USE
   208			001000	DEFFLG== 1000   ;IINIT TO CALL ROUTINE "DEFER" WHEN BLOCK INPUT DONE
   209			002000	MSGSW==  2000   ;ONCE-ONLY FLAG FOR COPYST
   210			004000	BI==     4000   ;INDICATES BLOCK INPUT STARTED IF 1
   211			010000	TI==    10000   ;INDICATES BLOCK INPUT TERMINATED IF 1
   212			020000	SWB==   20000   ;ONCE-ONLY SWITCH FOR SWBAC
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
FLAGS	23-DEC-86 12:29	

   213			040000	FILFND==  40000  ;FILE FOUND BY SLAVE IF 1.
   214			100000	EDIT10== 100000 ;EDIT-10 FILE BEING TRANSMITTED IN ASCII MODE IF 1
   215			200000	ILLCHR== 200000 ;DISALLOWED CHAR IN FILENAME (SEE GET10)
   216				; GENERAL-PURPOSE REGISTERS  (TOUCHED BY EVERYONE)
   217			000000	R0=0
   218			000001	R1=1
   219			000002	R2=2
   220				;REGISTERS TOUCHED ONLY BY A,ACTRANS,BCTRANS
   221				;R3-R5 USED IN CHECKSUMMING FILE (BEFORE TRANSMISSION)
   222			000003	R3=3            ;HOLDING REGISTER FOR C.  PRESERVE IN CW AND W MACROS
   223			000004	R4=4
   224			000004	RC=4          ;HOLDING REGISTER.  PRESERVE IN CW AND W MACROS.
   225			000005	R5=5
   226			000005	PREFER=5        ;PREFERRED COMPRESSION CHAR.
   227			000006	RCC=6            ;REGISTER USED FOR REPEAT COUNT
   228				; SPECIAL PURPOSE REGISTERS
   229			000007	C=7             ;CHARACTER BEING READ(WRITTEN) FROM(TO) FILE OR BEING
   230				;               WRITTEN(READ) TO(FROM) OUTPUT(INPUT) BUFFER.
   231			000010	RANK=10         ;RANK OF FIRST(SECOND) CHAR OF A MASTER-COMBINING
   232				;               PAIR.  **MUST** FOLLOW C.
   233			000011	AS=11           ;STATE FOR ROUTINE A.
   234			000012	GS=12           ;STATE FOR ROUTINE GB.
   235			000013	GX=13           ;INDEX FOR ROUTINE GB.
   236			000014	PS=14           ;STATE FOR ROUTINE PB.
   237			000015	PX=15           ;INDEX FOR ROUTINE PB.
   238			000016	F=16            ;FLAGS
   239			000017	P=17            ;PUSHDOWN LIST POINTER
   240				;CHANNEL ASSIGNMENTS
   241			000001	FIL== 1
   242			000002	TRPDSK== 2
   243			000003	LUD== 3
   244				DEFINE ERG(A,%B,%C),<
   245				 PUSHJ P,ERO
   246				 EXP %C
   247				%B:
   248				 IRP A,<
   249				 EXP A
   250				 >
   251				%C==.-%B
   252				 >
   253				DEFINE ERN(A,%B,%C),<
   254				 PUSHJ P,ERNO
   255				 EXP %C
   256				%B:
   257				 IRP A,<
   258				 EXP A
   259				 >
   260				%C==.-%B
   261				 >
   262				DEFINE LNKMSG(A),<
   263				 MOVEI C,A
   264				 PUSHJ P,SCOD
   265				 PUSHJ P,SNDYEL
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
LNKMSG	23-DEC-86 12:29	

   266				 >
   267				DEFINE DI(A,%B,%C),<
   268				 HRLZ R0,C
   269				 MOVE R1,[%C,,%B]
   270				 HRR (R1)
   271				 CAME (R1)
   272				 AOBJN R1,.-2
   273				 TLNN R1,400000
   274				 JSR BAD
   275				 HRRZ R1,(R1)
   276				 JRST @R1
   277				%B:
   278				 IRP A,<
   279				 DIS A
   280				 >
   281				%C==%B-.
   282				 >
   283				DEFINE DIS(A),<
   284				 XWD A
   285				 >
   286			000000	OFF==0
   287				DEFINE TIMER(A),<
   288				 IFG A,<PUSHJ P,STARTT
   289				 EXP A>
   290				 IFE A,<SETOM TIMFLG>
   291				 >
   292				TITLE RF -- CODE TO RECEIVE FILE 
   293
   294				ENTRY RF,DECOUT,EROFN,EROUN,TRAP,ALERT,STARTT,CRASH
   295				ENTRY FLKER,CORF,COSF,FPFRF,FPFSF,BAD,UIO,IOERR,IOERW,PER,PEW,ERASE
   296				ENTRY FLKR,INVU,OPF,FPF,ABTT,TRPER,UCC,UO,FWER,FPEW,FERER
   297				; EXTERNAL ROUTINES
   298				EXTERN IRF,ITF,SINIT,SPA,UPA,INITRN,CPOPJ1
   299				EXTERN GCOD,GBCOD,BGC,GC,GC60,ABIOIP,LVBI
   300				EXTERN COPYST,CKTIM,RUPCNT,SLOR,ELOR,SPOR,EPOR
   301				EXTERN RCR,SCR,VERIF,SACK,SNAK,RRANKT,DSTRY
   302				EXTERN ACR,BCR,PA,PB,GB,TRUNCATE
   303				 EXTERN ADIAG,BDIAG
   304				EXTERN SBYTE,SNDYEL,OPNROU,SUCROU,SCOD
   305				EXTERN GD,RESET,ABT,CLRCIR
   306				; CELLS CONTAINING EXECUTABLE INSTRUCTIONS:
   307				EXTERN RCV,T1,PCH,ACKROU
   308				; EXTERNAL STORAGE
   309				EXTERN TMP
   310				EXTERN DONOR,MASTER,BADD,UCHAR,NARG,CHCNT
   311				EXTERN RMODE,RPARAM,RMODE,BF,RBLOCK
   312				EXTERN SW10,SW370
   313				EXTERN RBLK,DBLK,RBCNT,RBSIZ,RBEXT,RBPRV,RBLIC,FDLIC,ORBSIZ
   314				EXTERN CCNT,BP,BP0,LRECL,RECL,RECL1,COUNTB
   315				EXTERN CPTOP1,CPTOP2
   316				EXTERN DCPTR,RCPTR,DNOR,RCVR,DPTR,RPTR,DPTR0,RPTR0,NUM,NUM0
   317				EXTERN URECL,UBP0,DCC,CHKCOUNT
   318				EXTERN LCOD1,IRTT
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
RF.MAC	23-DEC-86 12:29	

   319				EXTERN TIMFLG
   320				; RECEIVE FILE.
   321	000000'	260740	000000*	RF: PUSHJ P,IRF         ;INITIALIZE RECEIVERS AND FILE WRITERS
   322	000001'	260740	000000*	 PUSHJ P,ITF            ;WE WILL NEED THE FILE READERS TOO
   323	000002'	200000	000000*	 MOVE RMODE
   324	000003'	200040	000000*	 MOVE R1,RPARAM
   325	000004'	260740	000000*	 PUSHJ P,SPA            ;SELECT PARAMETERS FOR SPECIAL MODES
   326	000005'	202040	000003*	 MOVEM R1,RPARAM        ;AND SAVE
   327	000006'	260740	000000*	 PUSHJ P,UPA            ;UNPACK BINARY PARAMETERS
   328				; OPEN FILE FOR OUTPUT.  IF DONOR IS 10 ENTER THE NEW RBLIC.
   329	000007'	200000	000000*	 MOVE RBSIZ     ;SAVE OLD SIZE (ZEROED IF NEW FILE)
   330	000010'	202000	000000*	 MOVEM ORBSIZ
   331	000011'	402000	000006*	 SETZM RBCNT+6 ;ZERO REMAINDER OF RIB
   332	000012'	200040	001646'	 MOVE R1,[RBCNT+6,,RBCNT+7]
   33313'	251040	000000*	 BLT R1,RBLIC
   334	000014'	400000	000000	 SETZ R0,
   335	000015'	542000	000000*	 HRRM R0,RBEXT          ;MAKE SURE FILE GETS PRESENT DATE AND TIME
   336	000016'	200040	000002*	 MOVE R1,RMODE
   337	000017'	306040	000005	 CAIN R1,5              ;KATAKANA MODE
   338	000020'	515000	000200	 HRLZI 200              ;BIT 10 FOR KATAKANA FILE
   339	000021'	332000	000000*	 SKIPE SW10             ;ARE WE CONVERSING WITH A 10
   340	000022'	200000	000000*	 MOVE FDLIC             ;YES, GET FROM DONOR FILE
   341	000023'	404000	001647'	 AND R0,[1B2+1B3+1B8+1B9+1B10+1B11]
   342	000024'	202000	000013*	 MOVEM RBLIC
   343	000025'	515000	007000	 HRLZI 007000 ;ALL ALL NO, PRESENT TIME
   344	000026'	202000	000000*	 MOVEM RBPRV
   345	000027'	077040	000000*	 ENTER FIL,RBCNT
   346	000030'	264000	001054'	 JSR CORF               ;CANNOT OPEN RECEIVE FILE
   347	000031'	260740	000000*	 PUSHJ P,INITRN         ;INITIALIZE FOR TRANSMISSION
   348				; SEND OPNCOD IF MASTER, SUCCOD IF SLAVE
   349	000032'	200000	001650'	 MOVE [PUSHJ P,OPNROU]
   350	000033'	336000	000000*	 SKIPN MASTER           ;ARE WE MASTER
   351	000034'	200000	001651'	 MOVE [PUSHJ P,SUCROU]  ;NO, SLAVE
   352	000035'	202000	000000*	 MOVEM ACKROU
   353	000036'	660700	001000	 TRO F,DEFFLG           ;SET DEFFLG TO DEFER SENDING REPLY
   354	000037'	620700	002000	 TRZ F,MSGSW            ;CLEAR ONCE-ONLY SWITCH FOR COPYST
   355	000040'	402000	000000*	 SETZM CCNT             ;NO CHARS COPIED YET
   356	000041'	200040	000016*	 MOVE R1,RMODE
   357	000042'	200001	000052'	 MOVE PCHT(R1)
   358	000043'	202000	000000*	 MOVEM PCH
   359	000044'	254001	000044'	 JRST .(R1)
   360	000045'	254000	000061'	 JRST RFBEG             ;ASCII
   361	000046'	264000	001217'	 JSR UIO                ;EBCDIC UNIMPLEMENTED
   362	000047'	254000	000061'	 JRST RFBEG             ;BINARY
   363	000050'	254000	000221'	 JRST RF4
   364	000051'	254000	000061'	 JRST RFBEG             ;KATAKANA TREAT LIKE ASCII
   365	000052'	254000	000061'	 JRST RFBEG             ;IMAGE TREAT LIKE BINARY
   366			000052'	PCHT=.-1
   367	000053'	260740	000000*	 PUSHJ P,PA
   368	000054'	260740	000053*	 PUSHJ P,PA
   369	000055'	260740	000000*	 PUSHJ P,PB
   370	000056'	260740	000055*	 PUSHJ P,PB
   371	000057'	260740	000054*	 PUSHJ P,PA
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-2
RF.MAC	23-DEC-86 12:29	

   372	000060'	260740	000056*	 PUSHJ P,PB
   373
   374	000061'	260740	000000*	RFBEG: PUSHJ P,SINIT
   375	000062'	402000	000000*	 SETZM RECL1            ;NO DATA RECEIVED YET
   376				 TIMER 60^
   377	000063'	260740	001031'	 IFG 60,<PUSHJ P,STARTT
   378	000064'	000000	000060	 EXP 60>
   379	000065'	260740	000000*	 PUSHJ P,GBCOD
   380				 DI <<FPFCOD,FPF>,<OPFCOD,OPF>,<ERRCOD,FWER>,<PERCOD,FPEW>,<FINCD1,RFEND>,<ACMCOD,RFAC>,<BCMCOD
   381				,RFBC>>^
   382	000066'	514000	000007	 HRLZ R0,C
   383	000067'	200040	001652'	 MOVE R1,[..0001,,..0002]
   384	000070'	540001	000000	 HRR (R1)
   385	000071'	312001	000000	 CAME (R1)
   386	000072'	253040	000070'	 AOBJN R1,.-2
   387	000073'	607040	400000	 TLNN R1,400000
   388	000074'	264000	001160'	 JSR BAD
   389	000075'	550041	000000	 HRRZ R1,(R1)
   390	000076'	254020	000001	 JRST @R1
   391	000077'	000116	001451'	 XWD FPFCOD,FPF
   392	000100'	000117	001433'	 XWD OPFCOD,OPF
   393	000101'	000146	001604'	 XWD ERRCOD,FWER
   394	000102'	000147	001622'	 XWD PERCOD,FPEW
   395	000103'	000114	000530'	 XWD FINCD1,RFEND
   396	000104'	000111	000106'	 XWD ACMCOD,RFAC
   397	000105'	000110	000113'	 XWD BCMCOD,RFBC
   398
   399				; READ DATA RECORD, RANK COMPRESSION METHOD
   400	000106'	200000	001653'	RFAC: MOVE [PUSHJ P,ACR]
   401	000107'	202000	000000*	 MOVEM RCV
   402	000110'	260740	000000*	 PUSHJ P,RRANKT         ;READ RANKT TABLE
   403	000111'	260740	000000*	 PUSHJ P,ADIAG
   404	000112'	254000	000120'	 JRST RFDATA
   405
   406				; READ DATA RECORD, DUPLICATE COMPRESSION METHOD
   407	000113'	200000	001654'	RFBC: MOVE [PUSHJ P,BCR]
   408	000114'	202000	000107*	 MOVEM RCV
   409	000115'	260740	000000*	 PUSHJ P,BGC
   410	000116'	200240	000007	 MOVE PREFER,C          ;READ PREFERRED COMPRESSION CHARACTER
   411	000117'	260740	000000*	 PUSHJ P,BDIAG
   412
   413				; SET OUTPUT FILE CURSOR POSITION
   414	000120'	260740	000000*	RFDATA: PUSHJ P,COPYST
   415	000121'	200000	000000*	 MOVE BP0
   416	000122'	202000	000000*	 MOVEM BP
   417
   418				;READ 1 PAGE AT A TIME UNTIL END OF RECORD
   419	000123'	201000	001000	R1PAGE: MOVEI 1000
   420	000124'	220000	000000*	 IMUL BF
   421	000125'	602700	000020	 TRNE F,SERFLG
   422	000126'	201000	004400	 MOVEI ^D9*^D256
   423	000127'	202000	000000*	 MOVEM LRECL
   424	000130'	202000	000000*	 MOVEM COUNTB
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-3
RF.MAC	23-DEC-86 12:29	

   425	000131'	256000	000114*	 XCT RCV
   426	000132'	254000	000156'	 JRST RXPAGE            ;COUNTB EXHAUSTED
   427				; SOME CONTROL CODE READ.  CODE IN 'C'
   428	000133'	202340	000000*	 MOVEM C,IRTT
   429	000134'	200000	000127*	 MOVE LRECL
   430	000135'	274000	000130*	 SUB COUNTB
   431	000136'	272000	000122*	 ADDM BP
   432	000137'	272000	000062*	 ADDM RECL1
   433				 DI <<PERCOD,FPEW>,<ERRCOD,FWER>,<EORCOD,REOR>,<EOTCOD,REOT>,<FINCD1,RFEND>>^
   434	000140'	514000	000007	 HRLZ R0,C
   435	000141'	200040	001655'	 MOVE R1,[..0003,,..0004]
   436	000142'	540001	000000	 HRR (R1)
   437	000143'	312001	000000	 CAME (R1)
   438	000144'	253040	000142'	 AOBJN R1,.-2
   439	000145'	607040	400000	 TLNN R1,400000
   440	000146'	264000	001160'	 JSR BAD
   441	000147'	550041	000000	 HRRZ R1,(R1)
   442	000150'	254020	000001	 JRST @R1
   443	000151'	000147	001622'	 XWD PERCOD,FPEW
   444	000152'	000146	001604'	 XWD ERRCOD,FWER
   445	000153'	000134	000163'	 XWD EORCOD,REOR
   446	000154'	000135	000175'	 XWD EOTCOD,REOT
   447	000155'	000114	000530'	 XWD FINCD1,RFEND
   448	000156'	200000	000134*	RXPAGE: MOVE LRECL
   449	000157'	274000	000135*	 SUB COUNTB
   450	000160'	272000	000136*	 ADDM BP
   451	000161'	272000	000137*	 ADDM RECL1
   452	000162'	254000	000123'	 JRST R1PAGE
   453
   454	000163'	260740	000000*	REOR: PUSHJ P,VERIF     ;VERIFY RECORD CHECKSUM AND SKIP IF BAD
   455	000164'	254000	000167'	 JRST .+3               ;GOOD
   456	000165'	260740	000000*	REOR1: PUSHJ P,SNAK     ;SEND NAKCOD
   457	000166'	254000	000061'	 JRST RFBEG             ;START OVER
   458	000167'	200000	000160*	 MOVE BP
   459	000170'	202000	000121*	 MOVEM BP0
   460	000171'	260740	000000*	 PUSHJ P,SACK           ;SEND ACKCOD
   461	000172'	260740	000000*	 PUSHJ P,RUPCNT
   462	000173'	260740	000000*	 PUSHJ P,CKTIM          ;MAKE PROGRESS REPORT
   463	000174'	254000	000061'	 JRST RFBEG             ;GET NEXT RECORD
   464
   465	000175'	260740	000163*	REOT: PUSHJ P,VERIF
   466	000176'	254000	000200'	 JRST .+2
   467	000177'	254000	000165'	 JRST REOR1
   468	000200'	260740	000172*	REOT1: PUSHJ P,RUPCNT
   469	000201'	260740	000000*	 PUSHJ P,LVBI           ;TERMINATE BLOCK INPUT
   470	000202'	260740	000171*	 PUSHJ P,SACK           ;MUST FOLLOW LVBI OR GCOD MAY FAIL
   471	000203'	260740	000201*	 PUSHJ P,LVBI           ;SENSE IODEND FOR BLOCK TERMINATE REQUEST
   472	000204'	260740	000000*	 PUSHJ P,GC60
   473				 DI <<FINCD1,CLOUT>,<ERRCOD,FWER>,<PERCOD,FPEW>>^
   474	000205'	514000	000007	 HRLZ R0,C
   475	000206'	200040	001656'	 MOVE R1,[..0005,,..0006]
   476	000207'	540001	000000	 HRR (R1)
   477	000210'	312001	000000	 CAME (R1)
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-4
RF.MAC	23-DEC-86 12:29	

   478	000211'	253040	000207'	 AOBJN R1,.-2
   479	000212'	607040	400000	 TLNN R1,400000
   480	000213'	264000	001160'	 JSR BAD
   481	000214'	550041	000000	 HRRZ R1,(R1)
   482	000215'	254020	000001	 JRST @R1
   483	000216'	000114	000532'	 XWD FINCD1,CLOUT
   484	000217'	000146	001604'	 XWD ERRCOD,FWER
   485	000220'	000147	001622'	 XWD PERCOD,FPEW
   486
   487
   488				; RECEIVE UPDATE MODE.
   489
   490	000221'	660700	000040	RF4: TRO F,UPDMOD       ;SWITCH TELLS NEWBLK TO READ OLD CONTENTS
   491	000222'	260740	000000*	RF4BEG: PUSHJ P,RCR     ;READ CHECK RECORD
   492	000223'	264000	001160'	 JSR BAD                ;+1 - NAKCOD
   493	000224'	254000	000246'	 JRST RF4CK             ;+2 - GOOD CHECK RECORD
   494	000225'	254000	000230'	 JRST .+3               ;+3 - SOME OTHER TYPE
   495	000226'	260740	000165*	 PUSHJ P,SNAK           ;+4 - BAD CHECK RECORD
   496	000227'	254000	000222'	 JRST RF4BEG
   497				 DI <<FPFCOD,FPF>,<OPFCOD,OPF>,<ERRCOD,FWER>,<PERCOD,FPEW>,<FINCD1,RFEND>>^
   498	000230'	514000	000007	 HRLZ R0,C
   499	000231'	200040	001657'	 MOVE R1,[..0007,,..0010]
   500	000232'	540001	000000	 HRR (R1)
   501	000233'	312001	000000	 CAME (R1)
   502	000234'	253040	000232'	 AOBJN R1,.-2
   503	000235'	607040	400000	 TLNN R1,400000
   504	000236'	264000	001160'	 JSR BAD
   505	000237'	550041	000000	 HRRZ R1,(R1)
   506	000240'	254020	000001	 JRST @R1
   507	000241'	000116	001451'	 XWD FPFCOD,FPF
   508	000242'	000117	001433'	 XWD OPFCOD,OPF
   509	000243'	000146	001604'	 XWD ERRCOD,FWER
   510	000244'	000147	001622'	 XWD PERCOD,FPEW
   511	000245'	000114	000530'	 XWD FINCD1,RFEND
   512
   513				; BUILD CHECK RECORD TO EXCHANGE
   514
   515	000246'	260740	000120*	RF4CK: PUSHJ P,COPYST
   516	000247'	402000	000000*	BEX4: SETZM NUM0             ;NO. OF DATA BLOCKS TO EXPECT
   517	000250'	201000	000000*	 MOVEI DNOR
   518	000251'	202000	000000*	 MOVEM DCPTR
   519	000252'	201000	000000*	 MOVEI RCVR
   520	000253'	202000	000000*	 MOVEM RCPTR
   521	000254'	200000	000000*	 MOVE CHKCOUNT
   522	000255'	202000	000000*	 MOVEM DCC
   523	000256'	260740	000000*	 PUSHJ P,SPOR
   524	000257'	400140	000000	BEXL4: SETZ R3,         ;ZERO BITS 0-22 OF CHECKSUM
   525	000260'	400200	000000	 SETZ R4,               ;ZERO BITS 23-45 OF CHECKSUM
   526	000261'	400240	000000	 SETZ R5,               ;ZERO BITS 46-68 OF CHECKSUM
   527	000262'	200000	000000*	 MOVE RBLOCK
   528	000263'	202000	000156*	 MOVEM LRECL
   529	000264'	202000	000157*	 MOVEM COUNTB
   530	000265'	260740	000000*	BEXB4: PUSHJ P,GB
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-5
RF.MAC	23-DEC-86 12:29	

   531	000266'	254000	000356'	 JRST BEXCK4
   532	000267'	404140	001660'	 AND R3,[37,,777777]    ;EXTRACT 23 BITS
   533	000270'	404200	001660'	 AND R4,[37,,777777]    ;EXTRACT 23 BITS
   534	000271'	404240	001660'	 AND R5,[37,,777777]    ;EXTRACT 23 BITS
   535	000272'	200040	000251*	 MOVE R1,DCPTR
   536	000273'	200100	000253*	 MOVE R2,RCPTR
   537	000274'	202141	000000	 MOVEM R3,FCK1(R1)
   538	000275'	312142	000000	 CAME R3,FCK1(R2)
   539	000276'	505040	400000	 HRLI R1,400000
   540	000277'	202201	000400	 MOVEM R4,FCK2(R1)
   541	000300'	312202	000400	 CAME R4,FCK2(R2)
   542	000301'	505040	400000	 HRLI R1,400000
   543	000302'	202241	001000	 MOVEM R5,FCK3(R1)
   544	000303'	312242	001000	 CAME R5,FCK3(R2)
   545	000304'	505040	400000	 HRLI R1,400000
   546	000305'	603040	400000	 TLNE R1,400000
   547	000306'	350000	000247*	 AOS NUM0
   548	000307'	350000	000272*	 AOS DCPTR
   549	000310'	350000	000273*	 AOS RCPTR
   550	000311'	260740	000000*	 PUSHJ P,ELOR
   551	000312'	371000	000255*	 SOSL DCC
   552	000313'	254000	000257'	 JRST BEXL4
   553	000314'	201000	000250*	 MOVEI DNOR
   554	000315'	202000	000000*	 MOVEM DPTR0
   555	000316'	201000	000252*	 MOVEI RCVR
   556	000317'	202000	000000*	 MOVEM RPTR0
   557	000320'	200000	000000*	 MOVE RECL
   558	000321'	202000	000000*	 MOVEM URECL
   559	000322'	200000	000170*	 MOVE BP0
   560	000323'	202000	000000*	 MOVEM UBP0
   561				; RETURN COMPLETED CHECK RECORD
   562	000324'	201000	000135	SCK4: MOVEI EOTCOD
   563	000325'	260740	000000*	 PUSHJ P,SCR            ;TRANSMITTER TO LEAVE BLOCK INPUT MODE
   564				; PREPARE TO RECEIVE DATA RECORDS
   565	000326'	200000	000322*	REC4: MOVE BP0
   566	000327'	202000	000167*	 MOVEM BP
   567	000330'	200000	000315*	 MOVE DPTR0
   568	000331'	202000	000000*	 MOVEM DPTR
   569	000332'	200000	000317*	 MOVE RPTR0
   570	000333'	202000	000000*	 MOVEM RPTR
   571	000334'	200000	000306*	 MOVE NUM0
   572	000335'	202000	000000*	 MOVEM NUM
   573	000336'	402000	000161*	 SETZM RECL1            ;NO DATA RECEIVED
   574	000337'	402000	000320*	 SETZM RECL
   575				; LOOK FOR DATA RECORD OR NEW CHECK RECORD
   576	000340'	260740	000222*	 PUSHJ P,RCR
   577	000341'	254000	000324'	 JRST SCK4              ;+1 - NAK
   578	000342'	254000	000346'	 JRST BEXF4             ;+2 - CHECK RECORD--DONOR HAS NO MORE DATA
   579	000343'	254000	000365'	 JRST RFB4              ;+3 - OTHER TYPE, PROBABLY A DATA RECORD
   580	000344'	260740	000226*	 PUSHJ P,SNAK           ;+4 - BAD CHECK RECORD--TRY TO REREAD IT
   581	000345'	254000	000326'	 JRST REC4
   582	000346'	200000	000321*	BEXF4: MOVE URECL
   583	000347'	202000	000337*	 MOVEM RECL
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-6
RF.MAC	23-DEC-86 12:29	

   584	000350'	200000	000323*	 MOVE UBP0
   585	000351'	202000	000326*	 MOVEM BP0
   586	000352'	260740	000000*	 PUSHJ P,EPOR           ;ADVANCE BP0
   587	000353'	337000	000335*	 SKIPG NUM
   588	000354'	254000	000247'	 JRST BEX4              ;CONTINUE EXCHANGE
   589	000355'	264000	000731'	 JSR TRAP               ;INSUFFICIENT DATA
   590	000356'	221140	000015	BEXCK4: IMULI R3,^D13
   591	000357'	270140	000007	 ADD R3,C
   592	000360'	221200	000021	 IMULI R4,^D17
   593	000361'	270200	000007	 ADD R4,C
   594	000362'	221240	000023	 IMULI R5,^D19
   595	000363'	270240	000007	 ADD R5,C
   596	000364'	254000	000265'	 JRST BEXB4
   597
   598				; BETTER BE DATA RECORD.
   599
   600	000365'			RFB4: DI <<FINCD1,RFEND>,<ERRCOD,FWER>,<PERCOD,FPEW>,<ACMCOD,RFAC4>,<BCMCOD,RFBC4>>^
   601	000365'	514000	000007	 HRLZ R0,C
   602	000366'	200040	001661'	 MOVE R1,[..0011,,..0012]
   603	000367'	540001	000000	 HRR (R1)
   604	000370'	312001	000000	 CAME (R1)
   605	000371'	253040	000367'	 AOBJN R1,.-2
   606	000372'	607040	400000	 TLNN R1,400000
   607	000373'	264000	001160'	 JSR BAD
   608	000374'	550041	000000	 HRRZ R1,(R1)
   609	000375'	254020	000001	 JRST @R1
   610	000376'	000114	000530'	 XWD FINCD1,RFEND
   611	000377'	000146	001604'	 XWD ERRCOD,FWER
   612	000400'	000147	001622'	 XWD PERCOD,FPEW
   613	000401'	000111	000403'	 XWD ACMCOD,RFAC4
   614	000402'	000110	000410'	 XWD BCMCOD,RFBC4
   615
   616	000403'	200000	001653'	RFAC4: MOVE [PUSHJ P,ACR]
   617	000404'	202000	000131*	 MOVEM RCV
   618	000405'	260740	000110*	 PUSHJ P,RRANKT
   619	000406'	260740	000111*	 PUSHJ P,ADIAG
   620	000407'	254000	000415'	 JRST RFDAT4
   621	000410'	200000	001654'	RFBC4: MOVE [PUSHJ P,BCR]
   622	000411'	202000	000404*	 MOVEM RCV
   623	000412'	260740	000115*	 PUSHJ P,BGC
   624	000413'	200240	000007	 MOVE PREFER,C
   625	000414'	260740	000117*	 PUSHJ P,BDIAG
   626
   627	000415'	371000	000353*	RFDAT4: SOSL NUM
   628	000416'	254000	000435'	 JRST RFDB4
   629				; DUPLICATE SOME CODE FROM GBCOD HERE TO PRESERVE RECORD CHECKSUM
   630	000417'	260740	000412*	RFDD4: PUSHJ P,BGC
   631	000420'	302340	000030	 CAIE C,CAN
   632	000421'	254000	000424'	 JRST RFDE4
   633	000422'	260740	000417*	 PUSHJ P,BGC
   634	000423'	254000	000417'	 JRST RFDD4
   635	000424'	302340	000031	RFDE4: CAIE C,EM
   636	000425'	254000	000417'	 JRST RFDD4
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-7
RF.MAC	23-DEC-86 12:29	

   637	000426'	260740	000422*	 PUSHJ P,BGC
   638	000427'	307340	000177	 CAIG C,MTOP
   639	000430'	307340	000100	 CAIG C,MBOT
   640	000431'	254000	000417'	 JRST RFDD4
   641	000432'	202340	000000*	 MOVEM C,LCOD1
   642	000433'	202340	000133*	 MOVEM C,IRTT
   643	000434'	254000	000471'	 JRST RFDC4
   644	000435'	200000	000262*	RFDB4: MOVE RBLOCK
   645	000436'	202000	000263*	 MOVEM LRECL
   646	000437'	202000	000264*	 MOVEM COUNTB
   647	000440'	200040	000331*	 MOVE R1,DPTR
   648	000441'	200100	000333*	 MOVE R2,RPTR
   649	000442'	200001	000000	 MOVE FCK1(R1)
   650	000443'	312002	000000	 CAME FCK1(R2)
   651	000444'	254000	000462'	 JRST RFDA4             ;CHECKSUMS DIFFER-READ DATA
   652	000445'	200001	000400	 MOVE FCK2(R1)
   653	000446'	312002	000400	 CAME FCK2(R2)
   654	000447'	254000	000462'	 JRST RFDA4
   655	000450'	350000	000440*	 AOS DPTR
   656	000451'	350000	000441*	 AOS RPTR
   657	000452'	260740	000311*	 PUSHJ P,ELOR
   658	000453'	254000	000435'	 JRST RFDB4
   659	000454'	350000	000450*	RFDLN4: AOS DPTR
   660	000455'	350000	000451*	 AOS RPTR
   661	000456'	200000	000436*	 MOVE LRECL
   662	000457'	272000	000336*	 ADDM RECL1
   663	000460'	260740	000452*	 PUSHJ P,ELOR           ;ADVANCE RECL AND BP
   664	000461'	254000	000415'	 JRST RFDAT4
   665	000462'	256000	000411*	RFDA4: XCT RCV
   666	000463'	254000	000454'	 JRST RFDLN4            ;COUNTB EXHAUSTED
   667	000464'	350000	000415*	 AOS NUM        ;DON'T COUNT THIS RECORD AS RECEIVED YET
   668				; C CONTAINS RECORD TERMINATION TYPE
   669	000465'	202340	000433*	 MOVEM C,IRTT
   670				; A PHYSICAL RECORD MUST CONTAIN AN INTEGRAL NO. OF LOGICAL RECORDS
   671	000466'	200000	000437*	 MOVE COUNTB
   672	000467'	312000	000456*	 CAME LRECL
   673	000470'	260740	000000*	 PUSHJ P,DSTRY          ;DESTROY RECORD CHECKSUM TO FORCE RESEND
   674				; DISPATCH ON RECORD TERMINATION TYPE
   675	000471'			RFDC4: DI <<ERRCOD,FWER>,<PERCOD,FPEW>,<EORCOD,REOR4>,<EOTCOD,REOT4>>^
   676	000471'	514000	000007	 HRLZ R0,C
   677	000472'	200040	001662'	 MOVE R1,[..0013,,..0014]
   678	000473'	540001	000000	 HRR (R1)
   679	000474'	312001	000000	 CAME (R1)
   680	000475'	253040	000473'	 AOBJN R1,.-2
   681	000476'	607040	400000	 TLNN R1,400000
   682	000477'	264000	001160'	 JSR BAD
   683	000500'	550041	000000	 HRRZ R1,(R1)
   684	000501'	254020	000001	 JRST @R1
   685	000502'	000146	001604'	 XWD ERRCOD,FWER
   686	000503'	000147	001622'	 XWD PERCOD,FPEW
   687	000504'	000134	000506'	 XWD EORCOD,REOR4
   688	000505'	000135	000525'	 XWD EOTCOD,REOT4
   689
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-8
RF.MAC	23-DEC-86 12:29	

   690	000506'	260740	000175*	REOR4: PUSHJ P,VERIF
   691	000507'	254000	000512'	 JRST REOR24
   692	000510'	260740	000344*	REOR14: PUSHJ P,SNAK
   693	000511'	254000	000326'	 JRST REC4
   694	000512'	260740	000202*	REOR24: PUSHJ P,SACK
   695	000513'	260740	000200*	 PUSHJ P,RUPCNT
   696	000514'	260740	000173*	 PUSHJ P,CKTIM          ;MAKE PROGRESS REPORT
   697	000515'	260740	000352*	 PUSHJ P,EPOR           ;ADVANCE BP0 BY RECL
   698	000516'	200000	000454*	 MOVE DPTR
   699	000517'	202000	000330*	 MOVEM DPTR0
   700	000520'	200000	000455*	 MOVE RPTR
   701	000521'	202000	000332*	 MOVEM RPTR0
   702	000522'	200000	000464*	 MOVE NUM
   703	000523'	202000	000334*	 MOVEM NUM0
   704	000524'	254000	000326'	 JRST REC4
   705
   706	000525'	260740	000506*	REOT4: PUSHJ P,VERIF
   707	000526'	254000	000200'	 JRST REOT1             ;GOOD RECORD
   708	000527'	254000	000510'	 JRST REOR14            ;BAD RECORD
   709
   710
   711	000530'	260740	000513*	RFEND: PUSHJ P,RUPCNT
   712	000531'	334040	001663'	 SKIPA R1,[PUSHJ P,BGC]
   713	000532'	200040	001664'	CLOUT: MOVE R1,[PUSHJ P,GC]
   714	000533'	202040	000000*	 MOVEM R1,T1
   715	000534'	256000	000533*	 XCT T1
   716	000535'	202340	000000*	 MOVEM C,CHCNT          ;BYTE COUNT
   717	000536'	402000	000000*	 SETZM CPTOP1   ;NO. OF WHOLE BYTES
   718	000537'	402000	000000*	 SETZM CPTOP2   ;RESIDUAL BITS
   719	000540'	375000	000535*	CLOUT1: SOSGE CHCNT
   720	000541'	254000	000547'	 JRST CLOUT2
   721	000542'	256000	000534*	 XCT T1
   722	000543'	250340	000536*	 EXCH C,CPTOP1
   723	000544'	242340	000010	 LSH C,10
   724	000545'	272340	000543*	 ADDM C,CPTOP1
   725	000546'	254000	000540'	 JRST CLOUT1
   726				; READ RESIDUAL BITS
   727	000547'	256000	000542*	CLOUT2: XCT T1          ;READ PARTIAL BYTE COUNT (BITS) TO C
   728	000550'	602700	000020	 TRNE F,SERFLG
   729	000551'	202340	000537*	 MOVEM C,CPTOP2         ;SAVE
   730				; TERMINATE BLOCK INPUT MODE IF NOT ALREADY TERMINATED
   731	000552'	606700	010000	 TRNN F,TI
   732	000553'	260740	000203*	 PUSHJ P,LVBI
   733				; USE IMPLIED COUNT IN ASCII AND KATAKANA MODES.
   734	000554'	200040	000040*	 MOVE R1,CCNT   ;ACTUAL COUNT RECEIVED
   735	000555'	200000	000041*	 MOVE RMODE
   736	000556'	302000	000005	 CAIE 5
   737	000557'	306000	000001	 CAIN 1
   738	000560'	202040	000545*	 MOVEM R1,CPTOP1
   739	000561'	260740	000000*	 PUSHJ P,TRUNCATE       ;TRUNCATE FILE TO CORRECT SIZE
   740				 LNKMSG FINCD2^
   741	000562'	201340	000115	 MOVEI C,FINCD2
   742	000563'	260740	000000*	 PUSHJ P,SCOD
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-9
RF.MAC	23-DEC-86 12:29	

   743	000564'	260740	000000*	 PUSHJ P,SNDYEL
   744	000565'	260740	000553*	 PUSHJ P,LVBI           ;SENSE IODEND FROM TERMINATE BLOCK INPUT REQUEST
   745	000566'	263740	000000	 POPJ P,                ;RETURN FROM RF
   746
   747
   748				; ERROR PROCESSING.
   749
   750				; ERROR DETECTED.  SEND ERROR MESSAGE ACROSS CIRCUIT AND WAIT RETURN
   751				;       OF ABTCOD.  USE ERG MACRO TO SET UP ARGUMENT LIST:
   752				;(SLAVE)        ARG1 - CODE TO SEND
   753				;(SLAVE)        ARG2 - DISPATCH ADDRESS
   754				;(MASTER)       ARG3 - CODE TO SEND
   755				;(MASTER)       ARG4 - DISPATCH ADDRESS
   756				;(OPTIONAL)     ARG5 - MESSAGE ADDRESS
   757				;(OPTIONAL)     ARG6 - ADDR OF FILE BLOCK (RBLK OR DBLK) FOR PRINTING FILENAME
   758
   759	000567'	200057	000000	ERO: MOVE R1,(P)        ;INDEX TO NARG
   760	000570'	200001	000000	 MOVE (R1)
   761	000571'	124000	000000*	 DMOVEM NARG
   762	000572'	260740	000000*	 PUSHJ P,ABIOIP         ;ABANDON BLOCK I/O IN PROGRESS
   763				; SEND ESCAPES TO 370 DONOR SLAVE TO TRY TO INTERRUPT HIS TORE REQUEST.
   764	000573'	201340	000033	 MOVEI C,ESC
   765	000574'	336000	000000*	 SKIPN DONOR
   766	000575'	336000	000000*	 SKIPN SW370
   767	000576'	254000	000601'	 JRST .+3
   768	000577'	260740	000000*	 PUSHJ P,SBYTE
   769	000600'	260740	000577*	 PUSHJ P,SBYTE
   770	000601'	120000	000571*	 DMOVE NARG
   771	000602'	200341	000003	 MOVE C,3(R1)   ;ARG3
   772	000603'	336000	000033*	 SKIPN MASTER
   773	000604'	200341	000001	 MOVE C,1(R1)   ;ARG1
   774	000605'	260740	000563*	 PUSHJ P,SCOD   ;SEND CODE
   775	000606'	302340	000145	 CAIE C,BADCOD
   776	000607'	254000	000612'	 JRST .+3
   777	000610'	200340	000000*	 MOVE C,BADD
   778	000611'	260740	000600*	 PUSHJ P,SBYTE
   779	000612'	260740	000564*	 PUSHJ P,SNDYEL
   780				; WAIT RETURN OF ABORT CODE
   781				 TIMER 30^
   782	000613'	260740	001031'	 IFG 30,<PUSHJ P,STARTT
   783	000614'	000000	000030	 EXP 30>
   784	000615'	260740	000000*	 PUSHJ P,GCOD
   785	000616'	302340	000107	 CAIE C,ABTCOD
   786	000617'	306340	000145	 CAIN C,BADCOD
   787	000620'	254000	000622'	 JRST .+2
   788	000621'	254000	000615'	 JRST .-4
   789	000622'	306340	000145	 CAIN C,BADCOD
   790	000623'	254000	001536'	 JRST UCC
   791	000624'	120000	000601*	 DMOVE NARG
   792	000625'	336000	000603*	 SKIPN MASTER
   793	000626'	254021	000002	 JRST @2(R1)
   794	000627'	307000	000004	 CAIG 4         ;MORE THAN 4 ARGUMENTS
   795	000630'	254021	000004	 JRST @4(R1)
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-10
RF.MAC	23-DEC-86 12:29	

   796	000631'	001021	000005	 OUTSTR @5(R1)
   797	000632'	307000	000005	 CAIG 5         ;MORE THAN 5 ARGUMENTS
   798	000633'	254021	000004	 JRST @4(R1)
   799	000634'	200041	000006	 MOVE R1,6(R1)  ;DBLK (DONOR) OR RBLK (RECEIVER)
   800	000635'	260740	000720'	 PUSHJ P,EROFN  ;PRINT FILENAME
   801	000636'	120000	000624*	 DMOVE NARG
   802	000637'	254021	000004	 JRST @4(R1)
   803 
   804				; ERROR NOTIFICATION.  RETURN ABTCOD.  IF MASTER, OPTIONALLY PRINT
   805				;       MESSAGE AND FILENAME.  USE ERN MACRO TO SET UP
   806				;       ARGUMENT LIST:
   807				;(SLAVE)        ARG1 - DISPATCH ADDRESS
   808				;(MASTER)       ARG2 - DISPATCH ADDRESS
   809				;(OPTIONAL)     ARG3 - MESSAGE ADDR
   810				;(OPTIONAL)     ARG4 - ADDR OF FILE BLOCK (RBLK OR DBLK) FOR PRINTING FILENAME
   811
   812	000640'	200057	000000	ERNO: MOVE R1,(P)       ;INDEX TO NARG
   813	000641'	200001	000000	 MOVE (R1)
   814	000642'	124000	000636*	 DMOVEM NARG
   815	000643'	260740	000572*	 PUSHJ P,ABIOIP         ;ABANDON BLOCK I/O IN PROGRESS
   816	000644'	260740	000000*	 PUSHJ P,ABT            ;SEND ABTCOD.  PRESERVES REGISTERS
   817	000645'	120000	000642*	 DMOVE NARG
   818	000646'	336000	000625*	 SKIPN MASTER
   819	000647'	254021	000001	 JRST @1(R1)
   820	000650'	307000	000002	 CAIG 2                 ;MORE THAN 2 ARGUMENTS
   821	000651'	254021	000002	 JRST @2(R1)            ;NO, DISPATCH
   822	000652'	001021	000003	 OUTSTR @3(R1)          ;PRINT MESSAGE
   823	000653'	307000	000003	 CAIG 3                 ;MORE THAN 3 ARGUMENTS
   824	000654'	254021	000002	 JRST @2(R1)            ;NO, DISPATCH
   825	000655'	200041	000004	 MOVE R1,4(R1)          ;DBLK (DONOR) OR RBLK (RECEIVER)
   826	000656'	260740	000720'	 PUSHJ P,EROFN          ;PRINT FILENAME
   827	000657'	120000	000645*	 DMOVE NARG
   828	000660'	254021	000002	 JRST @2(R1)            ;DISPATCH
   829
   830				; PRINT (USERNAME:SYSNO).  R1=DBLK (DONOR) OR RBLK (RECEIVER)
   831	000661'	004000	000050	EROUN: OUTCHI LPAREN
   832	000662'	200100	001665'	 MOVE R2,[POINT 6,UNAME(R1)]
   833	000663'	261740	000001	 PUSH P,R1      ;SAVE R1 ON THE STACK
   834	000664'	261740	000003	 PUSH P,R3      ;SAVE R3 ON THE STACK
   835	000665'	200140	001666'	 MOVE R3,[-14,,1]       ;LOOP INDEX AND CHAR COUNT
   836	000666'	261740	000003	 PUSH P,R3              ;SAVE COUNT ON STACK
   837	000667'	134000	000002	 ILDB R0,R2
   838	000670'	332000	000000	 SKIPE R0
   839	000671'	552157	000000	 HRRZM R3,(P)           ;SAVE POSITION OF LAST NON-BLANK
   840	000672'	253140	000667'	 AOBJN R3,.-3
   841	000673'	262740	000003	 POP P,R3               ;RETREIVE POSITION
   842	000674'	200100	001665'	 MOVE R2,[POINT 6,UNAME(R1)]
   843	000675'	134000	000002	 ILDB R0,R2
   844	000676'	271000	000040	 ADDI 40
   845	000677'	003000	000000	 OUTCHR R0
   846	000700'	367140	000675'	 SOJG R3,.-3
   847	000701'	004000	000072	 OUTCHI COLON
   848	000702'	200001	000017	 MOVE SYS(R1)
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-11
RF.MAC	23-DEC-86 12:29	

   849	000703'	260740	000710'	 PUSHJ P,DECOUT         ;DESTROYS R1
   850	000704'	004000	000051	 OUTCHI RPAREN
   851	000705'	262740	000003	 POP P,R3       ;UNSAVE R3
   852	000706'	262740	000001	 POP P,R1       ;UNSAVE R1
   853	000707'	263740	000000	 POPJ P,
   854
   855				; PRINT DECIMAL NO. FROM R0.
   856	000710'	231000	000012	DECOUT: IDIVI R0,12
   857	000711'	506057	000000	 HRLM R1,(P)    ;SAVE DIGIT IN STACK
   858	000712'	332000	000000	 SKIPE R0       ;ARE WE DONE
   859	000713'	260740	000710'	 PUSHJ P,DECOUT         ;NO, CONTINUE
   860	000714'	554017	000000	 HLRZ R0,(P)    ;POP DIGIT OFF STACK
   861	000715'	271000	000060	 ADDI R0,"0"
   862	000716'	003000	000000	 OUTCHR R0
   863	000717'	263740	000000	 POPJ P,
   864
   865				; PRINT FILENAME.  R1=DBLK (DONOR) OR RBLK (RECEIVER)
   866	000720'	200001	777777	EROFN: MOVE FSIZE(R1)
   867	000721'	202000	000000*	 MOVEM TMP
   868	000722'	200100	001667'	 MOVE R2,[POINT 6,FNAME(R1)]
   869	000723'	134000	000002	EROFN1: ILDB R0,R2
   870	000724'	271000	000040	 ADDI 40
   871	000725'	003000	000000	 OUTCHR R0
   872	000726'	377000	000721*	 SOSG TMP
   873	000727'	263740	000000	 POPJ P,
   874	000730'	254000	000723'	 JRST EROFN1
   875
   876
   877				; TAKE SNAPSHOT OF PROGRAM FOR ANALYSIS.  NOT MUCH USE UNLESS PROGRAM
   878				;       IS LOADED WITH DDT.  A SPECIAL LOADER MUST BE USED TO ANALYZE
   879				;       CRASH.M OR CRASH.S.
   880
   881	000731'	000000	000000	TRAP: 0
   882	000732'	264000	000734'	 JSR CRASH
   883	000733'	264000	001136'	 JSR TRP
   884	000734'	000000	000000	CRASH: 0
   885	000735'	202740	001011'	 MOVEM 17,TRAP0+17
   886	000736'	201740	000772'	 MOVEI 17,TRAP0
   887	000737'	251740	001010'	 BLT 17,TRAP0+16
   888	000740'	050100	000767'	 OPEN TRPDSK,TRPDEV
   889	000741'	254000	000757'	 JRST CRRET
   890	000742'	515000	550000	 HRLZI (SIXBIT /M   /)
   891	000743'	336000	000646*	 SKIPN MASTER
   892	000744'	515000	630000	 HRLZI (SIXBIT /S  /)
   893	000745'	202000	000766'	 MOVEM TRPEXT
   894	000746'	077100	000763'	 ENTER TRPDSK,TRPDIR
   895	000747'	254000	000757'	 JRST CRRET
   896	000750'	201000	000017	 MOVEI 17
   897	000751'	274000	000000*	 SUB JOBREL##
   898	000752'	505000	000017	 HRLI 17
   899	000753'	207000	000000	 MOVSS 0,
   900	000754'	400040	000000	 SETZ 1,
   901	000755'	067100	000000	 OUTPUT TRPDSK,0
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-12
RF.MAC	23-DEC-86 12:29	

   902	000756'	071100	000000	 RELEASE TRPDSK,
   903	000757'	205740	000772'	CRRET: MOVSI 17,TRAP0
   904	000760'	251740	000016	 BLT 17,16
   905	000761'	200740	001011'	 MOVE 17,TRAP0+17
   906	000762'	254020	000734'	 JRST @CRASH
   907	000763'	000000	000003	TRPDIR: 3
   908	000764'	011447	143725	 XWD 11447,143725
   909	000765'	436241	635000	 SIXBIT /CRASH/
   910	000766'	550000	000000	TRPEXT: SIXBIT /M   /
   911	000767'	000000	000017	TRPDEV: 17
   912	000770'	446353	000000	 SIXBIT /DSK/
   913	000771'	000000	000000	 0
   914	000772'			TRAP0: BLOCK 20
   915
   916				; WE GOT SOMETHING IN INPUT BUFFER WHILE DOING BLOCK OUTPUT
   917				;       CHAR BEING HELD IN "C".
   918
   919
   920	001012'			ALERT: TIMER 30^
   921	001012'	260740	001031'	 IFG 30,<PUSHJ P,STARTT
   922	001013'	000000	000030	 EXP 30>
   923	001014'	260740	000001*	 PUSHJ P,GCOD+1
   924				 DI <<ERRCOD,FWER>,<PERCOD,FPEW>,<ERASCD,FERER>>^
   925	001015'	514000	000007	 HRLZ R0,C
   926	001016'	200040	001670'	 MOVE R1,[..0015,,..0016]
   927	001017'	540001	000000	 HRR (R1)
   928	001020'	312001	000000	 CAME (R1)
   929	001021'	253040	001017'	 AOBJN R1,.-2
   930	001022'	607040	400000	 TLNN R1,400000
   931	001023'	264000	001160'	 JSR BAD
   932	001024'	550041	000000	 HRRZ R1,(R1)
   933	001025'	254020	000001	 JRST @R1
   934	001026'	000146	001604'	 XWD ERRCOD,FWER
   935	001027'	000147	001622'	 XWD PERCOD,FPEW
   936	001030'	000150	001640'	 XWD ERASCD,FERER
   937
   938
   939				; TIMER LOGIC
   940
   941				; START TIMEOUT
   942	001031'	261740	000001	STARTT: PUSH P,R1
   943	001032'	400040	000000	 SETZ R1,
   944	001033'	047040	777741	 SETTIM R1,     ;CANCEL EXITING TIMER
   945	001034'	255000	000000	 JFCL
   946	001035'	550057	777777	 HRRZ R1,-1(P)
   947	001036'	550041	000000	 HRRZ R1,(R1)
   948	001037'	505040	000001	 HRLI R1,1      ;SECONDS
   949	001040'	047040	777741	 SETTIM R1,
   950	001041'	254000	001043'	 JRST .+2
   951	001042'	402000	000000*	 SETZM TIMFLG   ;STOP IGNORING TIMEOUTS
   952	001043'	262740	000001	 POP P,R1
   953	001044'	254000	000000*	 JRST CPOPJ1    ;SKIP RETURN
   954
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-13
RF.MAC	23-DEC-86 12:29	

   955				;       ERROR DETECTION.  REPORT THE ERROR AND WAIT FOR RETURN OF
   956				;       ABTCOD.
   957
   958				;LOOKUP FAILURE (SLAVE ONLY)
   959	001045'	000000	000000	FLKER: 0
   960				 ERG <FLKRCD,GD,FLKRCD,RESET>^
   961	001046'	260740	000567'	 PUSHJ P,ERO
   962	001047'	000000	000004	 EXP ..0017
   963	001050'	000000	000153	 EXP FLKRCD
   964	001051'	000000	000000*	 EXP GD
   965	001052'	000000	000153	 EXP FLKRCD
   966	001053'	000000	000000*	 EXP RESET
   967
   968				;CANNOT OPEN RECEIVE FILE
   969	001054'	000000	000000	CORF: 0
   970				 ERG <OPFCOD,GD,OPFCOD,RESET,ERR12,RBLK>^
   971	001055'	260740	000567'	 PUSHJ P,ERO
   972	001056'	000000	000006	 EXP ..0021
   973	001057'	000000	000117	 EXP OPFCOD
   974	001060'	000000	001051*	 EXP GD
   975	001061'	000000	000117	 EXP OPFCOD
   976	001062'	000000	001053*	 EXP RESET
   977	001063'	000000	001065'	 EXP ERR12
   978	001064'	000000	000000*	 EXP RBLK
   979	001065'			ERR12: ASCIZ"
   980	001065'	064250	340634	CANNOT OPEN 'COPY TO' FILE: "
	001066'	472372	420236
	001067'	502131	620116
	001070'	416372	054500
	001071'	522364	720214
	001072'	446310	535100
	001073'	000000	000000
   981
   982				;CANNOT OPEN SEND FILE
   983	001074'	000000	000000	COSF: 0
   984				 ERG <OPFCOD,GD,OPFCOD,RESET,ERR6,DBLK>^
   985	001075'	260740	000567'	 PUSHJ P,ERO
   986	001076'	000000	000006	 EXP ..0023
   987	001077'	000000	000117	 EXP OPFCOD
   988	001100'	000000	001060*	 EXP GD
   989	001101'	000000	000117	 EXP OPFCOD
   990	001102'	000000	001062*	 EXP RESET
   991	001103'	000000	001105'	 EXP ERR6
   992	001104'	000000	000000*	 EXP DBLK
   993	001105'			ERR6: ASCIZ"
   994	001105'	064252	547202	UNABLE OPEN 'COPY FROM' FILE: "
	001106'	412310	520236
	001107'	502131	620116
	001110'	416372	054500
	001111'	432451	746516
	001112'	202151	146212
	001113'	351000	000000
   995
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-14
RF.MAC	23-DEC-86 12:29	

   996				;FILE PROTECTION ERROR--RECEIVE FILE
   997	001114'	000000	000000	FPFRF: 0
   998				 ERG <FPFCOD,GD,FPFCOD,RESET,NOTW,RBLK>^
   999	001115'	260740	000567'	 PUSHJ P,ERO
  1000	001116'	000000	000006	 EXP ..0025
  1001	001117'	000000	000116	 EXP FPFCOD
  1002	001120'	000000	001100*	 EXP GD
  1003	001121'	000000	000116	 EXP FPFCOD
  1004	001122'	000000	001102*	 EXP RESET
  1005	001123'	000000	001467'	 EXP NOTW
  1006	001124'	000000	001064*	 EXP RBLK
  1007
  1008				;FILE PROTECTION ERROR--SEND FILE
  1009	001125'	000000	000000	FPFSF: 0
  1010				 ERG <FPFCOD,GD,FPFCOD,RESET,NOTR,DBLK>^
  1011	001126'	260740	000567'	 PUSHJ P,ERO
  1012	001127'	000000	000006	 EXP ..0027
  1013	001130'	000000	000116	 EXP FPFCOD
  1014	001131'	000000	001120*	 EXP GD
  1015	001132'	000000	000116	 EXP FPFCOD
  1016	001133'	000000	001122*	 EXP RESET
  1017	001134'	000000	001475'	 EXP NOTR
  1018	001135'	000000	001104*	 EXP DBLK
  1019
  1020				;PROGRAM TRAP
  1021	001136'	000000	000000	TRP: 0
  1022				 ERG <TRPCOD,GD,TRPCOD,RESET,TRPM1>^
  1023	001137'	260740	000567'	 PUSHJ P,ERO
  1024	001140'	000000	000005	 EXP ..0031
  1025	001141'	000000	000152	 EXP TRPCOD
  1026	001142'	000000	001131*	 EXP GD
  1027	001143'	000000	000152	 EXP TRPCOD
  1028	001144'	000000	001133*	 EXP RESET
  1029	001145'	000000	001146'	 EXP TRPM1
  1030	001146'			TRPM1: ASCIZ "
  1031	001146'	064252	451202	TRANSMISSION ABORTED DUE TO CONTROLLER TRAP
	001147'	472471	544646
	001150'	516231	747100
	001151'	406051	751250
	001152'	426104	042252
	001153'	425012	447500
	001154'	416371	652244
	001155'	476311	442644
	001156'	202512	240640
  1032	001157'	064240	000000	"
  1033
  1034				;UNEXPECTED CONTROL CODE
  1035	001160'	000000	000000	BAD: 0
  1036	001161'	200040	001671'	 MOVE R1,[BADTL,,BADT]
  1037	001162'	540001	000000	 HRR (R1)
  1038	001163'	312001	000000	 CAME (R1)
  1039	001164'	253040	001162'	 AOBJN R1,.-2
  1040	001165'	607040	400000	 TLNN R1,400000
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-15
RF.MAC	23-DEC-86 12:29	

  1041	001166'	254000	001171'	 JRST BAD10
  1042	001167'	550041	000000	 HRRZ R1,(R1)
  1043	001170'	254020	000001	 JRST @R1
  1044	001171'	202340	000610*	BAD10: MOVEM C,BADD
  1045				 ERG <BADCOD,GD,BADCOD,RESET,BADMSG>^
  1046	001172'	260740	000567'	 PUSHJ P,ERO
  1047	001173'	000000	000005	 EXP ..0033
  1048	001174'	000000	000145	 EXP BADCOD
  1049	001175'	000000	001142*	 EXP GD
  1050	001176'	000000	000145	 EXP BADCOD
  1051	001177'	000000	001144*	 EXP RESET
  1052	001200'	000000	001201'	 EXP BADMSG
  1053	001201'			BADMSG: ASCIZ"
  1054	001201'	064252	451202	TRANSFER ABORTED DUE TO UNEXPECTED SLAVE CODE
	001202'	472470	642644
	001203'	202030	247644
	001204'	522130	420210
	001205'	526124	052236
	001206'	202531	642660
	001207'	502130	352212
	001210'	421012	346202
	001211'	532124	041636
  1055	001212'	422121	505000	"
  1056	001213'			BADT:
  1057				 DIS <BADCOD,UCC>^
  1058	001213'	000145	001536'	 XWD BADCOD,UCC
  1059				 DIS <TRPCOD,TRPER>^
  1060	001214'	000152	001520'	 XWD TRPCOD,TRPER
  1061				 DIS <ABTCOD,ABTT>^
  1062	001215'	000107	001503'	 XWD ABTCOD,ABTT
  1063				 DIS <NICOD,UO>^
  1064	001216'	000133	001563'	 XWD NICOD,UO
  1065		777777	777774	BADTL==BADT-.
  1066
  1067				;UNIMPLEMENTED OPERATION REQUIRED
  1068	001217'	000000	000000	UIO: 0
  1069				 ERG <NICOD,GD,NICOD,RESET,UIOMSG>^
  1070	001220'	260740	000567'	 PUSHJ P,ERO
  1071	001221'	000000	000005	 EXP ..0035
  1072	001222'	000000	000133	 EXP NICOD
  1073	001223'	000000	001175*	 EXP GD
  1074	001224'	000000	000133	 EXP NICOD
  1075	001225'	000000	001177*	 EXP RESET
  1076	001226'	000000	001227'	 EXP UIOMSG
  1077	001227'			UIOMSG: ASCIZ"
  1078	001227'	064252	451202	TRANSFER ABORTED DUE TO UNIMPLEMENTED CONTROLLER OPERATION
	001230'	472470	642644
	001231'	202030	247644
	001232'	522130	420210
	001233'	526124	052236
	001234'	202531	644632
	001235'	502310	546612
	001236'	472510	542100
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-16
RF.MAC	23-DEC-86 12:29	

	001237'	416371	652244
	001240'	476311	442644
	001241'	202372	042644
	001242'	406511	147634
  1079	001243'	064240	000000	"
  1080
  1081				;FILE SYSTEM ERROR READING SEND FILE
  1082	001244'	000000	000000	IOERR: 0
  1083				 ERG <ERRCOD,GD,ERRCOD,RESET,RDER,DBLK>^
  1084	001245'	260740	000567'	 PUSHJ P,ERO
  1085	001246'	000000	000006	 EXP ..0037
  1086	001247'	000000	000146	 EXP ERRCOD
  1087	001250'	000000	001223*	 EXP GD
  1088	001251'	000000	000146	 EXP ERRCOD
  1089	001252'	000000	001225*	 EXP RESET
  1090	001253'	000000	001255'	 EXP RDER
  1091	001254'	000000	001135*	 EXP DBLK
  1092	001255'			RDER: ASCIZ"
  1093	001255'	064252	451202	TRANSFER ABORTED DUE TO ERROR READING: "
	001256'	472470	642644
	001257'	202030	247644
	001260'	522130	420210
	001261'	526124	052236
	001262'	202132	251236
	001263'	511012	242602
	001264'	422231	643564
	001265'	200000	000000
  1094
  1095				;FILE SYSTEM ERROR WRITING RECEIVE FILE
  1096	001266'	000000	000000	IOERW: 0
  1097				 ERG <ERRCOD,GD,ERRCOD,RESET,WTER,RBLK>^
  1098	001267'	260740	000567'	 PUSHJ P,ERO
  1099	001270'	000000	000006	 EXP ..0041
  1100	001271'	000000	000146	 EXP ERRCOD
  1101	001272'	000000	001250*	 EXP GD
  1102	001273'	000000	000146	 EXP ERRCOD
  1103	001274'	000000	001252*	 EXP RESET
  1104	001275'	000000	001277'	 EXP WTER
  1105	001276'	000000	001124*	 EXP RBLK
  1106	001277'			WTER: ASCIZ"
  1107	001277'	064252	451202	TRANSFER ABORTED DUE TO ERROR WRITING: "
	001300'	472470	642644
	001301'	202030	247644
	001302'	522130	420210
	001303'	526124	052236
	001304'	202132	251236
	001305'	511012	751222
	001306'	522231	643564
	001307'	200000	000000
  1108
  1109				;FILE SYSTEM ERROR POSITIONING SEND FILE
  1110	001310'	000000	000000	PER: 0
  1111				 ERG <PERCOD,GD,PERCOD,RESET,PERMSG,DBLK>^
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-17
RF.MAC	23-DEC-86 12:29	

  1112	001311'	260740	000567'	 PUSHJ P,ERO
  1113	001312'	000000	000006	 EXP ..0043
  1114	001313'	000000	000147	 EXP PERCOD
  1115	001314'	000000	001272*	 EXP GD
  1116	001315'	000000	000147	 EXP PERCOD
  1117	001316'	000000	001274*	 EXP RESET
  1118	001317'	000000	001321'	 EXP PERMSG
  1119	001320'	000000	001254*	 EXP DBLK
  1120	001321'			PERMSG: ASCIZ"
  1121	001321'	064252	451202	TRANSFER ABORTED DUE TO ERROR POSITIONING: "
	001322'	472470	642644
	001323'	202030	247644
	001324'	522130	420210
	001325'	526124	052236
	001326'	202132	251236
	001327'	511012	047646
	001330'	446511	147634
	001331'	446350	735100
	001332'	000000	000000
  1122
  1123				;FILE SYSTEM ERROR POSITIONING RECEIVE FILE
  1124	001333'	000000	000000	PEW: 0
  1125				 ERG <PERCOD,GD,PERCOD,RESET,PERMSG,RBLK>^
  1126	001334'	260740	000567'	 PUSHJ P,ERO
  1127	001335'	000000	000006	 EXP ..0045
  1128	001336'	000000	000147	 EXP PERCOD
  1129	001337'	000000	001314*	 EXP GD
  1130	001340'	000000	000147	 EXP PERCOD
  1131	001341'	000000	001316*	 EXP RESET
  1132	001342'	000000	001321'	 EXP PERMSG
  1133	001343'	000000	001276*	 EXP RBLK
  1134
  1135				;FILE SYSTEM ERROR ERASING (TRUNCATING) RECEIVE FILE
  1136	001344'	000000	000000	ERASE: 0
  1137				 ERG <ERASCD,GD,ERASCD,RESET,ERAS,RBLK>^
  1138	001345'	260740	000567'	 PUSHJ P,ERO
  1139	001346'	000000	000006	 EXP ..0047
  1140	001347'	000000	000150	 EXP ERASCD
  1141	001350'	000000	001337*	 EXP GD
  1142	001351'	000000	000150	 EXP ERASCD
  1143	001352'	000000	001341*	 EXP RESET
  1144	001353'	000000	001355'	 EXP ERAS
  1145	001354'	000000	001343*	 EXP RBLK
  1146	001355'			ERAS: ASCIZ"
  1147	001355'	064252	451202	TRANSFER ABORTED DUE TO ERROR ERASING: "
	001356'	472470	642644
	001357'	202030	247644
	001360'	522130	420210
	001361'	526124	052236
	001362'	202132	251236
	001363'	511010	551202
	001364'	516231	643564
	001365'	200000	000000
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-18
RF.MAC	23-DEC-86 12:29	

  1148
  1149
  1150				;       ERROR REPORTED.  REFLECT ABTCOD.
  1151
  1152
  1153				;FLKRCD - LOOKUP FAILED ON SLAVE SYSTEM
  1154	001366'	336000	000574*	FLKR: SKIPN DONOR
  1155	001367'	254000	001376'	 JRST FLKR1
  1156				 ERN <GD,RESET,ERR12,RBLK>^
  1157	001370'	260740	000640'	 PUSHJ P,ERNO
  1158	001371'	000000	000004	 EXP ..0051
  1159	001372'	000000	001350*	 EXP GD
  1160	001373'	000000	001352*	 EXP RESET
  1161	001374'	000000	001065'	 EXP ERR12
  1162	001375'	000000	001354*	 EXP RBLK
  1163	001376'			FLKR1: ERN <GD,RESET,ERR5,DBLK>^
  1164	001376'	260740	000640'	 PUSHJ P,ERNO
  1165	001377'	000000	000004	 EXP ..0053
  1166	001400'	000000	001372*	 EXP GD
  1167	001401'	000000	001373*	 EXP RESET
  1168	001402'	000000	001404'	 EXP ERR5
  1169	001403'	000000	001320*	 EXP DBLK
  1170	001404'			ERR5: ASCIZ"
  1171	001404'	064252	547202	UNABLE LOCATE 'COPY FROM' FILE: "
	001405'	412310	520230
	001406'	476070	152212
	001407'	201170	347640
	001410'	545010	651236
	001411'	465164	043222
	001412'	462127	220000
  1172
  1173				;ULKFCD (FROM LUD LOOKUP) - CANNOT GFD ON SLAVE SYSTEM
  1174	001413'			INVU: ERN <GD,INVU1,LUDMSG>^
  1175	001413'	260740	000640'	 PUSHJ P,ERNO
  1176	001414'	000000	000003	 EXP ..0055
  1177	001415'	000000	001400*	 EXP GD
  1178	001416'	000000	001420'	 EXP INVU1
  1179	001417'	000000	001425'	 EXP LUDMSG
  1180	001420'	201040	001375*	INVU1: MOVEI R1,RBLK    ;IF CONTROLLER IS DONOR, PRINT INFO. ABOUT RECEIVER
  1181	001421'	336000	001366*	 SKIPN DONOR            ;ARE WE DONOR
  1182	001422'	201040	001403*	 MOVEI R1,DBLK          ;NO, PRINT INFO. ABOUT TRANSMITTER
  1183	001423'	260740	000661'	 PUSHJ P,EROUN          ;PRINT USER NAME AND SYSTEM
  1184	001424'	254000	001401*	 JRST RESET
  1185	001425'			LUDMSG: ASCIZ"
  1186	001425'	064252	547202	UNABLE TO LOCATE FD FOR "
	001426'	412310	520250
	001427'	475011	447606
	001430'	406510	520214
	001431'	421010	647644
	001432'	200000	000000
  1187
  1188				;OPFCOD--OPEN FAILURE
  1189	001433'	336000	001421*	OPF: SKIPN DONOR
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-19
RF.MAC	23-DEC-86 12:29	

  1190	001434'	254000	001443'	 JRST OPF1
  1191				 ERN <GD,RESET,ERR12,RBLK>^
  1192	001435'	260740	000640'	 PUSHJ P,ERNO
  1193	001436'	000000	000004	 EXP ..0057
  1194	001437'	000000	001415*	 EXP GD
  1195	001440'	000000	001424*	 EXP RESET
  1196	001441'	000000	001065'	 EXP ERR12
  1197	001442'	000000	001420*	 EXP RBLK
  1198	001443'			OPF1: ERN <GD,RESET,ERR6,DBLK>^
  1199	001443'	260740	000640'	 PUSHJ P,ERNO
  1200	001444'	000000	000004	 EXP ..0061
  1201	001445'	000000	001437*	 EXP GD
  1202	001446'	000000	001440*	 EXP RESET
  1203	001447'	000000	001105'	 EXP ERR6
  1204	001450'	000000	001422*	 EXP DBLK
  1205
  1206				;FPFCOD--FILE PROTECTION FAILURE
  1207	001451'	336000	001433*	FPF: SKIPN DONOR
  1208	001452'	254000	001461'	 JRST FPF1
  1209				 ERN <GD,RESET,NOTW,RBLK>^
  1210	001453'	260740	000640'	 PUSHJ P,ERNO
  1211	001454'	000000	000004	 EXP ..0063
  1212	001455'	000000	001445*	 EXP GD
  1213	001456'	000000	001446*	 EXP RESET
  1214	001457'	000000	001467'	 EXP NOTW
  1215	001460'	000000	001442*	 EXP RBLK
  1216	001461'			FPF1: ERN <GD,RESET,NOTR,DBLK>^
  1217	001461'	260740	000640'	 PUSHJ P,ERNO
  1218	001462'	000000	000004	 EXP ..0065
  1219	001463'	000000	001455*	 EXP GD
  1220	001464'	000000	001456*	 EXP RESET
  1221	001465'	000000	001475'	 EXP NOTR
  1222	001466'	000000	001450*	 EXP DBLK
  1223	001467'			NOTW: ASCIZ"
  1224	001467'	064250	442606	DECLARED NOT WRITABLE: "
	001470'	462032	242610
	001471'	202351	752100
	001472'	536451	152202
	001473'	412310	535100
	001474'	000000	000000
  1225	001475'			NOTR: ASCIZ"
  1226	001475'	064250	442606	DECLARED NOT READABLE: "
	001476'	462032	242610
	001477'	202351	752100
	001500'	512130	142202
	001501'	412310	535100
	001502'	000000	000000
  1227
  1228				;ABTCOD--REQUESTED ABORT
  1229	001503'	336000	000743*	ABTT: SKIPN MASTER
  1230	001504'	254000	001463*	 JRST GD
  1231				 ERN <GD,ABTT1,ABTT2>^
  1232	001505'	260740	000640'	 PUSHJ P,ERNO
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-20
RF.MAC	23-DEC-86 12:29	

  1233	001506'	000000	000003	 EXP ..0067
  1234	001507'	000000	001504*	 EXP GD
  1235	001510'	000000	001512'	 EXP ABTT1
  1236	001511'	000000	001514'	 EXP ABTT2
  1237	001512'	260740	000000*	ABTT1: PUSHJ P,CLRCIR
  1238	001513'	254000	001464*	 JRST RESET     ;CLRCIR RESTORES REGISTERS 
  1239	001514'			ABTT2: ASCIZ"
  1240	001514'	064250	141236	ABORT REQUESTED
	001515'	512504	051212
	001516'	506530	551650
  1241	001517'	426101	505000	"
  1242
  1243				;TRPCOD--PROGRAM TRAP
  1244	001520'			TRPER: ERN <GD,RESET,TRPM2>^
  1245	001520'	260740	000640'	 PUSHJ P,ERNO
  1246	001521'	000000	000003	 EXP ..0071
  1247	001522'	000000	001507*	 EXP GD
  1248	001523'	000000	001513*	 EXP RESET
  1249	001524'	000000	001525'	 EXP TRPM2
  1250	001525'			TRPM2: ASCIZ"
  1251	001525'	064252	451202	TRANSMISSION ABORTED DUE TO SLAVE TRAP
	001526'	472471	544646
	001527'	516231	747100
	001530'	406051	751250
	001531'	426104	042252
	001532'	425012	447500
	001533'	516310	153212
	001534'	202512	240640
  1252	001535'	064240	000000	"
  1253
  1254				;BADCOD--UNEXPECTED CONTROL CODE
  1255	001536'	602700	004000	UCC: TRNE F,BI
  1256	001537'	260740	000426*	 PUSHJ P,BGC
  1257	001540'	606700	004000	 TRNN F,BI
  1258	001541'	260740	000000*	 PUSHJ P,GC
  1259	001542'	202340	000000*	 MOVEM C,UCHAR
  1260				 ERN <GD,RESET,UCCMSG>^
  1261	001543'	260740	000640'	 PUSHJ P,ERNO
  1262	001544'	000000	000003	 EXP ..0073
  1263	001545'	000000	001522*	 EXP GD
  1264	001546'	000000	001523*	 EXP RESET
  1265	001547'	000000	001550'	 EXP UCCMSG
  1266	001550'			UCCMSG: ASCIZ"
  1267	001550'	064252	451202	TRANSFER ABORTED DUE TO UNEXPECTED CONTROLLER CODE
	001551'	472470	642644
	001552'	202030	247644
	001553'	522130	420210
	001554'	526124	052236
	001555'	202531	642660
	001556'	502130	352212
	001557'	421010	347634
	001560'	522451	746230
	001561'	426444	041636
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-21
RF.MAC	23-DEC-86 12:29	

  1268	001562'	422121	505000	"
  1269
  1270				;NICOD--UNIMPLEMENTED OPERATION
  1271	001563'			UO: ERN <GD,RESET,UOMSG>^
  1272	001563'	260740	000640'	 PUSHJ P,ERNO
  1273	001564'	000000	000003	 EXP ..0075
  1274	001565'	000000	001545*	 EXP GD
  1275	001566'	000000	001546*	 EXP RESET
  1276	001567'	000000	001570'	 EXP UOMSG
  1277	001570'			UOMSG: ASCIZ"
  1278	001570'	064252	451202	TRANSFER ABORTED DUE TO UNIMPLEMENTED SLAVE OPERATION
	001571'	472470	642644
	001572'	202030	247644
	001573'	522130	420210
	001574'	526124	052236
	001575'	202531	644632
	001576'	502310	546612
	001577'	472510	542100
	001600'	516310	153212
	001601'	202372	042644
	001602'	406511	147634
  1279	001603'	064240	000000	"
  1280
  1281				;ERRCOD--FILE SYSTEM ERROR READING SEND FILE OR WRITING RECEIVE FILE
  1282	001604'	336000	001451*	FWER: SKIPN DONOR
  1283	001605'	254000	001614'	 JRST FRER
  1284				 ERN <GD,RESET,WTER,RBLK>^
  1285	001606'	260740	000640'	 PUSHJ P,ERNO
  1286	001607'	000000	000004	 EXP ..0077
  1287	001610'	000000	001565*	 EXP GD
  1288	001611'	000000	001566*	 EXP RESET
  1289	001612'	000000	001277'	 EXP WTER
  1290	001613'	000000	001460*	 EXP RBLK
  1291	001614'			FRER: ERN <GD,RESET,RDER,DBLK>^
  1292	001614'	260740	000640'	 PUSHJ P,ERNO
  1293	001615'	000000	000004	 EXP ..0101
  1294	001616'	000000	001610*	 EXP GD
  1295	001617'	000000	001611*	 EXP RESET
  1296	001620'	000000	001255'	 EXP RDER
  1297	001621'	000000	001466*	 EXP DBLK
  1298
  1299				;PERCOD--FILE SYSTEM ERROR POSITIONING SEND OR RECEIVE FILE
  1300	001622'	336000	001604*	FPEW: SKIPN DONOR
  1301	001623'	254000	001632'	 JRST FPER
  1302				 ERN <GD,RESET,PERMSG,RBLK>^
  1303	001624'	260740	000640'	 PUSHJ P,ERNO
  1304	001625'	000000	000004	 EXP ..0103
  1305	001626'	000000	001616*	 EXP GD
  1306	001627'	000000	001617*	 EXP RESET
  1307	001630'	000000	001321'	 EXP PERMSG
  1308	001631'	000000	001613*	 EXP RBLK
  1309	001632'			FPER: ERN <GD,RESET,PERMSG,DBLK>^
  1310	001632'	260740	000640'	 PUSHJ P,ERNO
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-22
RF.MAC	23-DEC-86 12:29	

  1311	001633'	000000	000004	 EXP ..0105
  1312	001634'	000000	001626*	 EXP GD
  1313	001635'	000000	001627*	 EXP RESET
  1314	001636'	000000	001321'	 EXP PERMSG
  1315	001637'	000000	001621*	 EXP DBLK
  1316
  1317				;ERASCD--FILE SYSTEM ERROR ERASING RECEIVE FILE
  1318	001640'			FERER: ERN <GD,RESET,ERAS,RBLK>^
  1319	001640'	260740	000640'	 PUSHJ P,ERNO
  1320	001641'	000000	000004	 EXP ..0107
  1321	001642'	000000	001634*	 EXP GD
  1322	001643'	000000	001635*	 EXP RESET
  1323	001644'	000000	001355'	 EXP ERAS
  1324	001645'	000000	001631*	 EXP RBLK
  1325
  1326				        END
  1327
NO ERRORS DETECTED
PROGRAM BREAK IS 001672
4K CORE USED
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 2
RF.MAC	23-DEC-86 12:29		SYMBOL TABLE

ABIOIP		000643'	EXT	CLOUT		000532'		FCK2		000400	SPD	IOERW		001266'	ENT
ABT		000644'	EXT	CLOUT1		000540'		FCK3		001000	SPD	IOMOD		000014	SPD
ABTCOD		000107	SIN	CLOUT2		000547'		FDLIC		000022'	EXT	IRF		000000'	EXT
ABTT		001503'	ENT	CLRBFI	006000	000000		FENQCD		000140	SPD	IRTT		000465'	EXT
ABTT1		001512'		CLRBFO	005000	000000		FERER		001640'	ENT	ITF		000001'	EXT
ABTT2		001514'		CLRBO		000007	SIN	FEXT		000003	SPD	IXMODE		000345	SIN
ACKCOD		000112	SPD	CLRCIR		001512'	EXT	FIL		000001	SPD	JOBREL		000751'	EXT
ACKROU		000035'	EXT	COLON		000072	SPD	FILFND		040000	SPD	KATCAP		000040	SIN
ACMCOD		000111	SPD	COPYST		000246'	EXT	FINCD1		000114	SPD	KMODE		000407	SIN
ACR		001653'	EXT	CORF		001054'	ENT	FINCD2		000115	SPD	LBIO		000042	SPD
ACRCAP		000100	SIN	COSF		001074'	ENT	FIXCOD		000130	SPD	LC		000024	SPD
ADIAG		000406'	EXT	COUNTB		000466'	EXT	FLKCOD		000103	SPD	LCO		000004	SPD
ALERT		001012'	ENT	CPACOD		000121	SPD	FLKER		001045'	ENT	LCOD1		000432'	EXT
AMODE		000311	SIN	CPOPJ1		001044'	EXT	FLKFCD		000106	SPD	LEFTFG		000010	SPD
AS		000011		CPTOP1		000560'	EXT	FLKR		001366'	ENT	LF		000012	SPD
ASCII		000002	SIN	CPTOP2		000551'	EXT	FLKR1		001376'		LM		000007	SPD
ASCSTG		000052	SPD	CR		000015	SPD	FLKRCD		000153	SPD	LOGCOD		000131	SIN
AUTO		000001	SIN	CRASH		000734'	ENT	FLKSCD		000161	SPD	LPAREN		000050	SPD
BAD		001160'	ENT	CRRET		000757'		FNAME		000020	SPD	LRECL		000467'	EXT
BAD10		001171'		DBLK		001637'	EXT	FPER		001632'		LT		000075	SPD
BADCOD		000145	SPD	DCC		000312'	EXT	FPEW		001622'	ENT	LUD		000003	SPD
BADD		001171'	EXT	DCPTR		000307'	EXT	FPF		001451'	ENT	LUDFLG		000001	SPD
BADMSG		001201'		DECOUT		000710'	ENT	FPF1		001461'		LUDMSG		001425'	
BADT		001213'		DEFFLG		001000	SPD	FPFCOD		000116	SPD	LVBI		000565'	EXT
BADTL	777777	777774	SPD	DNOR		000314'	EXT	FPFRF		001114'	ENT	MASKFG		000400	SPD
BCMCOD		000110	SPD	DNRCOD		000101	SPD	FPFSF		001125'	ENT	MASTER		001503'	EXT
BCR		001654'	EXT	DONOR		001622'	EXT	FRER		001614'		MAXC		000073	SPD
BDIAG		000414'	EXT	DPTR		000516'	EXT	FSIZE	777777	777777	SPD	MAXP		000202	SPD
BEX4		000247'		DPTR0		000517'	EXT	FWER		001604'	ENT	MAXPA		000021	SPD
BEXB4		000265'		DSTRY		000470'	EXT	GB		000265'	EXT	MAXRS		050000	SPD
BEXCK4		000356'		EDIT10		100000	SPD	GBCOD		000065'	EXT	MBOT		000100	SPD
BEXF4		000346'		ELOR		000460'	EXT	GC		001664'	EXT	MINC		000004	SPD
BEXL4		000257'		EM		000031	SIN	GC60		000204'	EXT	MINP		000003	SPD
BF		000124'	EXT	EORCOD		000134	SPD	GCOD		000615'	EXT	MINPA		000002	SPD
BGC		001663'	EXT	EOTCOD		000135	SPD	GD		001642'	EXT	MINRS		010000	SPD
BI		004000	SPD	EPOR		000515'	EXT	GS		000012		MSGSW		002000	SPD
BIASA		000032	SPD	ERAS		001355'		GX		000013		MTOP		000177	SPD
BIASC		000010	SPD	ERASCD		000150	SPD	HSW		000002	SPD	NAKCOD		000113	SPD
BIASP		000200	SPD	ERASE		001344'	ENT	HT		000011	SPD	NARG		000657'	EXT
BIASPA		000010	SPD	ERNO		000640'		IBIO		000034	SPD	NC		000025	SPD
BINCAP		000020	SIN	ERO		000567'		IGNEOF		000100	SPD	NICOD		000133	SPD
BL		000040	SPD	EROFN		000720'	ENT	IICHS		000001	SPD	NM		000010	SPD
BP		000327'	EXT	EROFN1		000723'		IICHW		000000	SPD	NOECHO		000200	SPD
BP0		000351'	EXT	EROUN		000661'	ENT	ILLCHR		200000	SPD	NONE		000400	SIN
BZCOD		000120	SPD	ERR12		001065'		INBS		000036	SPD	NOTR		001475'	
C		000007		ERR5		001404'		INBW		000035	SPD	NOTW		001467'	
CAN		000030	SIN	ERR6		001105'		INCHWL	002000	000000		NT		000076	SPD
CCNT		000554'	EXT	ERRCOD		000146	SPD	INITRN		000031'	EXT	NUM		000522'	EXT
CHCNT		000540'	EXT	ESC		000033	SIN	INSCOD		000142	SPD	NUM0		000523'	EXT
CHGFLG		000200	SPD	ETX		000003	SIN	INVU		001413'	ENT	OB		000037	SPD
CHKCOD		000132	SPD	F		000016		INVU1		001420'		OFF		000000	SPD
CHKCOU		000254'	EXT	FATTCD		000141	SPD	IODEND		020000	SPD	OICH		000003	SPD
CKTIM		000514'	EXT	FCK1		000000	SPD	IOERR		001244'	ENT	OICHI		000004	SPD
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 2-2
RF.MAC	23-DEC-86 12:29		SYMBOL TABLE

ONLCOD		000122	SPD	REOR4		000506'		SUCROU		001651'	EXT	..0001	777777	777771	SPD
OPF		001433'	ENT	REOT		000175'		SW10		000021'	EXT	..0002		000077'	
OPF1		001443'		REOT1		000200'		SW370		000575'	EXT	..0003	777777	777773	SPD
OPFCOD		000117	SPD	REOT4		000525'		SWB		020000	SPD	..0004		000151'	
OPNCOD		000137	SPD	RESET		001643'	EXT	SYS		000017	SPD	..0005	777777	777775	SPD
OPNROU		001650'	EXT	RF		000000'	ENT	T1		000547'	EXT	..0006		000216'	
ORBSIZ		000010'	EXT	RF4		000221'		TABSIZ		000010	SPD	..0007	777777	777773	SPD
OUTCHI	004000	000000		RF4BEG		000222'		TBI		000040	SPD	..0010		000241'	
OUTCHR	003000	000000		RF4CK		000246'		TBO		000041	SPD	..0011	777777	777773	SPD
OUTSTR	001000	000000		RFAC		000106'		TESTNG		000001	SPD	..0012		000376'	
P		000017		RFAC4		000403'		TI		010000	SPD	..0013	777777	777774	SPD
PA		000057'	EXT	RFB4		000365'		TIMFLG		001042'	EXT	..0014		000502'	
PB		000060'	EXT	RFBC		000113'		TMP		000726'	EXT	..0015	777777	777775	SPD
PCH		000043'	EXT	RFBC4		000410'		TRAP		000731'	ENT	..0016		001026'	
PCHT		000052'		RFBEG		000061'		TRAP0		000772'		..0017		000004	SPD
PER		001310'	ENT	RFDA4		000462'		TRICOD		000125	SPD	..0020		001050'	
PERCOD		000147	SPD	RFDAT4		000415'		TRP		001136'		..0021		000006	SPD
PERMSG		001321'		RFDATA		000120'		TRPCOD		000152	SPD	..0022		001057'	
PEW		001333'	ENT	RFDB4		000435'		TRPDEV		000767'		..0023		000006	SPD
PREFER		000005		RFDC4		000471'		TRPDIR		000763'		..0024		001077'	
PS		000014		RFDD4		000417'		TRPDSK		000002	SPD	..0025		000006	SPD
PX		000015		RFDE4		000424'		TRPER		001520'	ENT	..0026		001117'	
QUICOD		000136	SIN	RFDLN4		000454'		TRPEXT		000766'		..0027		000006	SPD
R0		000000		RFEND		000530'		TRPM1		001146'		..0030		001130'	
R1		000001		RMODE		000555'	EXT	TRPM2		001525'		..0031		000005	SPD
R1PAGE		000123'		RPARAM		000005'	EXT	TRUCOD		000124	SPD	..0032		001141'	
R2		000002		RPAREN		000051	SPD	TRUNCA		000561'	EXT	..0033		000005	SPD
R3		000003		RPTR		000520'	EXT	TSTRS		014000	SPD	..0034		001174'	
R4		000004		RPTR0		000521'	EXT	U		000006	SPD	..0035		000005	SPD
R5		000005		RRANKT		000405'	EXT	UBP0		000350'	EXT	..0036		001222'	
RANK		000010		RS		000036	SPD	UCC		001536'	ENT	..0037		000006	SPD
RBCNT		000027'	EXT	RSPCOD		000144	SIN	UCCMSG		001550'		..0040		001247'	
RBEXT		000015'	EXT	RUPCNT		000530'	EXT	UCHAR		001542'	EXT	..0041		000006	SPD
RBLIC		000024'	EXT	RXPAGE		000156'		UIO		001217'	ENT	..0042		001271'	
RBLK		001645'	EXT	SACK		000512'	EXT	UIOMSG		001227'		..0043		000006	SPD
RBLOCK		000435'	EXT	SBYTE		000611'	EXT	ULKCOD		000105	SPD	..0044		001313'	
RBPRV		000026'	EXT	SCK4		000324'		ULKFCD		000154	SPD	..0045		000006	SPD
RBSIZ		000007'	EXT	SCOD		000605'	EXT	ULKSCD		000160	SPD	..0046		001336'	
RC		000004		SCR		000325'	EXT	UNAME		000015	SPD	..0047		000006	SPD
RCC		000006		SDVIOS		000032	SPD	UO		001563'	ENT	..0050		001347'	
RCPTR		000310'	EXT	SERFLG		000020	SPD	UOMSG		001570'		..0051		000004	SPD
RCR		000340'	EXT	SETTIM	047000	777741		UPA		000006'	EXT	..0052		001372'	
RCV		000462'	EXT	SINIT		000061'	EXT	UPDCAP		000010	SIN	..0053		000004	SPD
RCVCOD		000102	SPD	SLOR		000000	EXT	UPDMOD		000040	SPD	..0054		001400'	
RCVR		000316'	EXT	SLVPRT		000043	SPD	URECL		000346'	EXT	..0055		000003	SPD
RDER		001255'		SMODE		001000	SIN	US		000037	SIN	..0056		001415'	
REC4		000326'		SNAK		000510'	EXT	VARCOD		000127	SPD	..0057		000004	SPD
RECL		000347'	EXT	SNDYEL		000612'	EXT	VERIF		000525'	EXT	..0060		001437'	
RECL1		000457'	EXT	SORTFG		000001	SPD	VERNUM		000001	SIN	..0061		000004	SPD
REOR		000163'		SPA		000004'	EXT	WHYCOD		000143	SIN	..0062		001445'	
REOR1		000165'		SPOR		000256'	EXT	WTER		001277'		..0063		000004	SPD
REOR14		000510'		STARTT		001031'	ENT	XMODE		000351	SIN	..0064		001455'	
REOR24		000512'		SUCCOD		000104	SPD	YELLOW		000012	SIN	..0065		000004	SPD
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 2-3
RF.MAC	23-DEC-86 12:29		SYMBOL TABLE

..0066		001463'		
..0067		000003	SPD	
..0070		001507'		
..0071		000003	SPD	
..0072		001522'		
..0073		000003	SPD	
..0074		001545'		
..0075		000003	SPD	
..0076		001565'		
..0077		000004	SPD	
..0100		001610'		
..0101		000004	SPD	
..0102		001616'		
..0103		000004	SPD	
..0104		001626'		
..0105		000004	SPD	
..0106		001634'		

RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

ABIOIP	   299%	   762	   815
ABT	   305%	   816
ABTCOD	    28#	   785	  1062
ABTT	   296	  1062	  1229#
ABTT1	  1235	  1237#
ABTT2	  1236	  1239#
ACKCOD	    31#
ACKROU	   307%	   352
ACMCOD	    30#	   396	   613
ACR	   302%	   400	   616
ACRCAP	     2#
ADIAG	   303%	   403	   619
ALERT	   294	   920#
AMODE	   113#
AS	   233#
ASCII	   131#
ASCSTG	   177#
AUTO	   130#
BAD	   295	   388	   440	   480	   492	   504	   607	   682	   931	  1035#
BAD10	  1041	  1044#
BADCOD	    93#	   775	   786	   789	  1048	  1050	  1058
BADD	   310%	   777	  1044
BADMSG	  1052	  1053#
BADT	  1036	  1056#	  1065
BADTL	  1036	  1065#
BCMCOD	    29#	   397	   614
BCR	   302%	   407	   621
BDIAG	   303%	   411	   625
BEX4	   516#	   588
BEXB4	   530#	   596
BEXCK4	   531	   590#
BEXF4	   578	   582#
BEXL4	   524#	   552
BF	   311%	   420
BGC	   299%	   409	   623	   630	   633	   637	   712	  1256
BI	   210#	  1255	  1257
BIASA	   144#
BIASC	   137#
BIASP	   134#
BIASPA	   141#
BINCAP	     4#
BL	   125#
BP	   314%	   416	   431	   450	   458	   566
BP0	   314%	   415	   459	   559	   565	   585
BZCOD	    41#
C	   229#	   382	   410	   428	   434	   474	   498	   591	   593	   595	   601	   624	   631	   635
	   638	   639	   641	   642	   669	   676	   716	   722	   723	   724	   729	   741	   764	   771
	   773	   775	   777	   785	   786	   789	   925	  1044	  1259
CAN	   120#	   631
CCNT	   314%	   355	   734
CHCNT	   310%	   716	   719
CHGFLG	   206#
CHKCOD	    61#
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

CHKCOU	   317%	   521
CKTIM	   300%	   462	   696
CLOUT	   483	   713#
CLOUT1	   719#	   725
CLOUT2	   720	   727#
CLRBO	   166#
CLRCIR	   305%	  1237
COLON	   128#	   847
COPYST	   300%	   414	   515
CORF	   295	   346	   969#
COSF	   295	   983#
COUNTB	   314%	   424	   430	   449	   529	   646	   671
CPACOD	    43#
CPOPJ1	   298%	   953
CPTOP1	   315%	   717	   722	   724	   738
CPTOP2	   315%	   718	   729
CR	   119#
CRASH	   294	   882	   884#	   906
CRRET	   889	   895	   903#
DBLK	   313%	   992	  1018	  1091	  1119	  1169	  1182	  1204	  1222	  1297	  1315
DCC	   317%	   522	   551
DCPTR	   316%	   518	   535	   548
DECOUT	   294	   849	   856#	   859
DEFFLG	   208#	   353
DNOR	   316%	   517	   553
DNRCOD	    12#
DONOR	   310%	   765	  1154	  1181	  1189	  1207	  1282	  1300
DPTR	   316%	   568	   647	   655	   659	   698
DPTR0	   316%	   554	   567	   699
DSTRY	   301%	   673
EDIT10	   214#
ELOR	   300%	   550	   657	   663
EM	   121#	   635
EORCOD	    63#	   445	   687
EOTCOD	    64#	   446	   562	   688
EPOR	   300%	   586	   697
ERAS	  1144	  1146#	  1323
ERASCD	    96#	   936	  1140	  1142
ERASE	   295	  1136#
ERNO	   812#	  1157	  1164	  1175	  1192	  1199	  1210	  1217	  1232	  1245	  1261	  1272	  1285	  1292
	  1303	  1310	  1319
ERO	   759#	   961	   971	   985	   999	  1011	  1023	  1046	  1070	  1084	  1098	  1112	  1126	  1138
EROFN	   294	   800	   826	   866#
EROFN1	   869#	   874
EROUN	   294	   831#	  1183
ERR12	   977	   979#	  1161	  1196
ERR5	  1168	  1170#
ERR6	   991	   993#	  1203
ERRCOD	    94#	   393	   444	   484	   509	   611	   685	   934	  1086	  1088	  1100	  1102
ESC	   122#	   764
ETX	   116#
F	   238#	   353	   354	   421	   490	   728	   731	  1255	  1257
FATTCD	    85#
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

FCK1	   152#	   537	   538	   649	   650
FCK2	   153#	   540	   541	   652	   653
FCK3	   154#	   543	   544
FDLIC	   313%	   340
FENQCD	    83#
FERER	   296	   936	  1318#
FEXT	   157#
FIL	   241#	   345
FILFND	   213#
FINCD1	    33#	   395	   447	   483	   511	   610
FINCD2	    38#	   741
FIXCOD	    58#
FLKCOD	    14#
FLKER	   295	   959#
FLKFCD	    27#
FLKR	   296	  1154#
FLKR1	  1155	  1163#
FLKRCD	    98#	   963	   965
FLKSCD	   101#
FNAME	   160#	   868
FPER	  1301	  1309#
FPEW	   296	   394	   443	   485	   510	   612	   686	   935	  1300#
FPF	   296	   391	   507	  1207#
FPF1	  1208	  1216#
FPFCOD	    39#	   391	   507	  1001	  1003	  1013	  1015
FPFRF	   295	   997#
FPFSF	   295	  1009#
FRER	  1283	  1291#
FSIZE	   156#	   866
FWER	   296	   393	   444	   484	   509	   611	   685	   934	  1282#
GB	   302%	   530
GBCOD	   299%	   379
GC	   299%	   713	  1258
GC60	   299%	   472
GCOD	   299%	   784	   923
GD	   305%	   964	   974	   988	  1002	  1014	  1026	  1049	  1073	  1087	  1101	  1115	  1129	  1141
	  1159	  1166	  1177	  1194	  1201	  1212	  1219	  1230	  1234	  1247	  1263	  1274	  1287	  1294
	  1305	  1312	  1321
GS	   234#
GX	   235#
HSW	   200#
HT	   117#
IBIO	   169#
IGNEOF	   205#
IICHS	   163#
IICHW	   162#
ILLCHR	   215#
INBS	   171#
INBW	   170#
INITRN	   298%	   347
INSCOD	    89#
INVU	   296	  1174#
INVU1	  1178	  1180#
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

IODEND	   180#
IOERR	   295	  1082#
IOERW	   295	  1096#
IOMOD	   179#
IRF	   298%	   321
IRTT	   318%	   428	   642	   669
ITF	   298%	   322
IXMODE	   111#
JOBREL	   897%	   897
KATCAP	     3#
KMODE	   109#
LBIO	   175#
LC	   148#
LCO	   201#
LCOD1	   318%	   641
LEFTFG	   202#
LF	   118#
LM	   146#
LOGCOD	    60#
LPAREN	   126#	   831
LRECL	   314%	   423	   429	   448	   528	   645	   661	   672
LT	   150#
LUD	   243#
LUDFLG	   197#
LUDMSG	  1179	  1185#
LVBI	   299%	   469	   471	   732	   744
MASKFG	   207#
MASTER	   310%	   350	   772	   792	   818	   891	  1229
MAXC	   138#
MAXP	   135#
MAXPA	   142#
MAXRS	   104#
MBOT	    11#	   639
MINC	   139#
MINP	   136#
MINPA	   143#
MINRS	   105#
MSGSW	   209#	   354
MTOP	   102#	   638
NAKCOD	    32#
NARG	   310%	   761	   770	   791	   801	   814	   817	   827
NC	   147#	   148
NICOD	    62#	  1064	  1072	  1074
NM	   145#	   146
NOECHO	   181#
NONE	   132#
NOTR	  1017	  1221	  1225#
NOTW	  1005	  1214	  1223#
NT	   149#	   150
NUM	   316%	   572	   587	   627	   667	   702
NUM0	   316%	   516	   547	   571	   703
OB	   172#
OFF	   286#
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

OICH	   164#
OICHI	   165#
ONLCOD	    48#
OPF	   296	   392	   508	  1189#
OPF1	  1190	  1198#
OPFCOD	    40#	   392	   508	   973	   975	   987	   989
OPNCOD	    67#
OPNROU	   304%	   349
ORBSIZ	   313%	   330
P	   239#	   321	   322	   325	   327	   347	   349	   351	   367	   368	   369	   370	   371	   372
	   374	   377	   379	   400	   402	   403	   407	   409	   411	   414	   454	   456	   460	   461
	   462	   465	   468	   469	   470	   471	   472	   491	   495	   515	   523	   530	   550	   563
	   576	   580	   586	   616	   618	   619	   621	   623	   625	   630	   633	   637	   657	   663
	   673	   690	   692	   694	   695	   696	   697	   706	   711	   712	   713	   732	   739	   742
	   743	   744	   745	   759	   762	   768	   769	   774	   778	   779	   782	   784	   800	   812
	   815	   816	   826	   833	   834	   836	   839	   841	   849	   851	   852	   853	   857	   859
	   860	   863	   873	   921	   923	   942	   946	   952	   961	   971	   985	   999	  1011	  1023
	  1046	  1070	  1084	  1098	  1112	  1126	  1138	  1157	  1164	  1175	  1183	  1192	  1199	  1210
	  1217	  1232	  1237	  1245	  1256	  1258	  1261	  1272	  1285	  1292	  1303	  1310	  1319
PA	   302%	   367	   368	   371
PB	   302%	   369	   370	   372
PCH	   307%	   358
PCHT	   357	   366#
PER	   295	  1110#
PERCOD	    95#	   394	   443	   485	   510	   612	   686	   935	  1114	  1116	  1128	  1130
PERMSG	  1118	  1120#	  1132	  1307	  1314
PEW	   295	  1124#
PREFER	   226#	   410	   624
PS	   236#
PX	   237#
QUICOD	    65#
R0	   217#	   334	   335	   341	   382	   434	   474	   498	   601	   676	   837	   838	   843	   845
	   856	   858	   860	   861	   862	   869	   871	   925
R1	   218#	   324	   326	   332	   333	   336	   337	   356	   357	   359	   383	   384	   385	   386
	   387	   389	   390	   435	   436	   437	   438	   439	   441	   442	   475	   476	   477	   478
	   479	   481	   482	   499	   500	   501	   502	   503	   505	   506	   535	   537	   539	   540
	   542	   543	   545	   546	   602	   603	   604	   605	   606	   608	   609	   647	   649	   652
	   677	   678	   679	   680	   681	   683	   684	   712	   713	   714	   734	   738	   759	   760
	   771	   773	   793	   795	   796	   798	   799	   802	   812	   813	   819	   821	   822	   824
	   825	   828	   832	   833	   842	   848	   852	   857	   866	   868	   926	   927	   928	   929
	   930	   932	   933	   942	   943	   944	   946	   947	   948	   949	   952	  1036	  1037	  1038
	  1039	  1040	  1042	  1043	  1180	  1182
R1PAGE	   419#	   452
R2	   219#	   536	   538	   541	   544	   648	   650	   653	   832	   837	   842	   843	   868	   869
R3	   222#	   524	   532	   537	   538	   590	   591	   834	   835	   836	   839	   840	   841	   846
	   851
R4	   223#	   525	   533	   540	   541	   592	   593
R5	   225#	   526	   534	   543	   544	   594	   595
RANK	   231#
RBCNT	   313%	   331	   332	   345
RBEXT	   313%	   335
RBLIC	   313%	   333	   342
RBLK	   313%	   978	  1006	  1105	  1133	  1145	  1162	  1180	  1197	  1215	  1290	  1308	  1324
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

RBLOCK	   311%	   527	   644
RBPRV	   313%	   344
RBSIZ	   313%	   329
RC	   224#
RCC	   227#
RCPTR	   316%	   520	   536	   549
RCR	   301%	   491	   576
RCV	   307%	   401	   408	   425	   617	   622	   665
RCVCOD	    13#
RCVR	   316%	   519	   555
RDER	  1090	  1092#	  1296
REC4	   565#	   581	   693	   704
RECL	   314%	   557	   574	   583
RECL1	   314%	   375	   432	   451	   573	   662
REOR	   445	   454#
REOR1	   456#	   467
REOR14	   692#	   708
REOR24	   691	   694#
REOR4	   687	   690#
REOT	   446	   465#
REOT1	   468#	   707
REOT4	   688	   706#
RESET	   305%	   966	   976	   990	  1004	  1016	  1028	  1051	  1075	  1089	  1103	  1117	  1131	  1143
	  1160	  1167	  1184	  1195	  1202	  1213	  1220	  1238	  1248	  1264	  1275	  1288	  1295	  1306
	  1313	  1322
RF	   294	   321#
RF4	   363	   490#
RF4BEG	   491#	   496
RF4CK	   493	   515#
RFAC	   396	   400#
RFAC4	   613	   616#
RFB4	   579	   600#
RFBC	   397	   407#
RFBC4	   614	   621#
RFBEG	   360	   362	   364	   365	   374#	   457	   463
RFDA4	   651	   654	   665#
RFDAT4	   620	   627#	   664
RFDATA	   404	   414#
RFDB4	   628	   644#	   658
RFDC4	   643	   675#
RFDD4	   630#	   634	   636	   640
RFDE4	   632	   635#
RFDLN4	   659#	   666
RFEND	   395	   447	   511	   610	   711#
RMODE	   311%	   323	   336	   356	   735
RPARAM	   311%	   324	   326
RPAREN	   127#	   850
RPTR	   316%	   570	   648	   656	   660	   700
RPTR0	   316%	   556	   569	   701
RRANKT	   301%	   402	   618
RS	   123#
RSPCOD	    91#
RUPCNT	   300%	   461	   468	   695	   711
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

RXPAGE	   426	   448#
SACK	   301%	   460	   470	   694
SBYTE	   304%	   768	   769	   778
SCK4	   562#	   577
SCOD	   304%	   742	   774
SCR	   301%	   563
SDVIOS	   168#
SERFLG	   203#	   421	   728
SINIT	   298%	   374
SLOR	   300%
SLVPRT	   176#
SMODE	   110#
SNAK	   301%	   456	   495	   580	   692
SNDYEL	   304%	   743	   779
SORTFG	   199#
SPA	   298%	   325
SPOR	   300%	   523
STARTT	   294	   377	   782	   921	   942#
SUCCOD	    20#
SUCROU	   304%	   351
SW10	   312%	   339
SW370	   312%	   766
SWB	   212#
SYS	   159#	   848
T1	   307%	   714	   715	   721	   727
TABSIZ	   115#
TBI	   173#
TBO	   174#
TESTNG	     7#
TI	   211#	   731
TIMFLG	   319%	   951
TMP	   309%	   867	   872
TRAP	   294	   589	   881#
TRAP0	   885	   886	   887	   903	   905	   914#
TRICOD	    53#
TRP	   883	  1021#
TRPCOD	    97#	  1025	  1027	  1060
TRPDEV	   888	   911#
TRPDIR	   894	   907#
TRPDSK	   242#	   888	   894	   901	   902
TRPER	   296	  1060	  1244#
TRPEXT	   893	   910#
TRPM1	  1029	  1030#
TRPM2	  1249	  1250#
TRUCOD	    51#
TRUNCA	   302%	   739
TSTRS	   106#
U	   187#	   188	   188#	   189	   189#	   190	   190#	   191	   191#	   192	   192#	   193	   193#	   194
UBP0	   317%	   560	   584
UCC	   296	   790	  1058	  1255#
UCCMSG	  1265	  1266#
UCHAR	   310%	  1259
UIO	   295	   361	  1068#
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

UIOMSG	  1076	  1077#
ULKCOD	    21#
ULKFCD	    99#
ULKSCD	   100#
UNAME	   158#	   832	   842
UO	   296	  1064	  1271#
UOMSG	  1276	  1277#
UPA	   298%	   327
UPDCAP	     5#
UPDMOD	   204#	   490
URECL	   317%	   558	   582
US	   124#
UUOFLG	   183	   189	   190	   191	   192	   193	   194
VARCOD	    56#
VERIF	   301%	   454	   465	   690	   706
VERNUM	     9#
WHYCOD	    90#
WTER	  1104	  1106#	  1289
XMODE	   112#
YELLOW	   167#
..0001	   383	   398#
..0002	   383	   391#	   398
..0003	   435	   448#
..0004	   435	   443#	   448
..0005	   475	   486#
..0006	   475	   483#	   486
..0007	   499	   512#
..0010	   499	   507#	   512
..0011	   602	   615#
..0012	   602	   610#	   615
..0013	   677	   689#
..0014	   677	   685#	   689
..0015	   926	   937#
..0016	   926	   934#	   937
..0017	   962	   967#
..0020	   963#	   967
..0021	   972	   979#
..0022	   973#	   979
..0023	   986	   993#
..0024	   987#	   993
..0025	  1000	  1007#
..0026	  1001#	  1007
..0027	  1012	  1019#
..0030	  1013#	  1019
..0031	  1024	  1030#
..0032	  1025#	  1030
..0033	  1047	  1053#
..0034	  1048#	  1053
..0035	  1071	  1077#
..0036	  1072#	  1077
..0037	  1085	  1092#
..0040	  1086#	  1092
..0041	  1099	  1106#
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Symbol cross reference

..0042	  1100#	  1106
..0043	  1113	  1120#
..0044	  1114#	  1120
..0045	  1127	  1134#
..0046	  1128#	  1134
..0047	  1139	  1146#
..0050	  1140#	  1146
..0051	  1158	  1163#
..0052	  1159#	  1163
..0053	  1165	  1170#
..0054	  1166#	  1170
..0055	  1176	  1180#
..0056	  1177#	  1180
..0057	  1193	  1198#
..0060	  1194#	  1198
..0061	  1200	  1205#
..0062	  1201#	  1205
..0063	  1211	  1216#
..0064	  1212#	  1216
..0065	  1218	  1223#
..0066	  1219#	  1223
..0067	  1233	  1237#
..0070	  1234#	  1237
..0071	  1246	  1250#
..0072	  1247#	  1250
..0073	  1262	  1266#
..0074	  1263#	  1266
..0075	  1273	  1277#
..0076	  1274#	  1277
..0077	  1286	  1291#
..0100	  1287#	  1291
..0101	  1293	  1298#
..0102	  1294#	  1298
..0103	  1304	  1309#
..0104	  1305#	  1309
..0105	  1311	  1316#
..0106	  1312#	  1316
..0107	  1320	  1325#
..0110	  1321#	  1325
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Macro/Opdef cross reference

CLRBFI	   194#
CLRBFO	   193#
DI	   267#	   380	   433	   473	   497	   600	   675	   924
DIS	   283#	   391	   392	   393	   394	   395	   396	   397	   443	   444	   445	   446	   447	   483
	   484	   485	   507	   508	   509	   510	   511	   610	   611	   612	   613	   614	   685	   686
	   687	   688	   934	   935	   936	  1057	  1059	  1061	  1063
ERG	   244#	   960	   970	   984	   998	  1010	  1022	  1045	  1069	  1083	  1097	  1111	  1125	  1137
ERN	   253#	  1156	  1163	  1174	  1191	  1198	  1209	  1216	  1231	  1244	  1260	  1271	  1284	  1291
	  1302	  1309	  1318
INCHWL	   190#
LNKMSG	   262#	   740
OPD	   184#	   188	   189	   190	   191	   192	   193
OUTCHI	   192#	   831	   847	   850
OUTCHR	   191#	   845	   862	   871
OUTSTR	   189#	   796	   822
SETTIM	   944	   949
TIMER	   287#	   376	   781	   920
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Opcode cross reference

ADD	   591	   593	   595
ADDI	   844	   861	   870
ADDM	   431	   432	   450	   451	   662	   724
AND	   341	   532	   533	   534
AOBJN	   386	   438	   478	   502	   605	   680	   840	   929	  1039
AOS	   547	   548	   549	   655	   656	   659	   660	   667
ASCIZ	   979	   993	  1030	  1053	  1077	  1092	  1106	  1120	  1146	  1170	  1185	  1223	  1225	  1239
	  1250	  1266	  1277
BLOCK	   914
BLT	   333	   887	   904
CAIE	   631	   635	   736	   775	   785
CAIG	   638	   639	   794	   797	   820	   823
CAIN	   337	   737	   786	   789
CAME	   385	   437	   477	   501	   538	   541	   544	   604	   650	   653	   672	   679	   928	  1038
DEFINE	   184	   244	   253	   262	   267	   283	   287
DMOVE	   770	   791	   801	   817	   827
DMOVEM	   761	   814
END	  1326
ENTER	   345	   894
ENTRY	   294	   295	   296
EXCH	   722
EXP	   378	   783	   922	   962	   963	   964	   965	   966	   972	   973	   974	   975	   976	   977
	   978	   986	   987	   988	   989	   990	   991	   992	  1000	  1001	  1002	  1003	  1004	  1005
	  1006	  1012	  1013	  1014	  1015	  1016	  1017	  1018	  1024	  1025	  1026	  1027	  1028	  1029
	  1047	  1048	  1049	  1050	  1051	  1052	  1071	  1072	  1073	  1074	  1075	  1076	  1085	  1086
	  1087	  1088	  1089	  1090	  1091	  1099	  1100	  1101	  1102	  1103	  1104	  1105	  1113	  1114
	  1115	  1116	  1117	  1118	  1119	  1127	  1128	  1129	  1130	  1131	  1132	  1133	  1139	  1140
	  1141	  1142	  1143	  1144	  1145	  1158	  1159	  1160	  1161	  1162	  1165	  1166	  1167	  1168
	  1169	  1176	  1177	  1178	  1179	  1193	  1194	  1195	  1196	  1197	  1200	  1201	  1202	  1203
	  1204	  1211	  1212	  1213	  1214	  1215	  1218	  1219	  1220	  1221	  1222	  1233	  1234	  1235
	  1236	  1246	  1247	  1248	  1249	  1262	  1263	  1264	  1265	  1273	  1274	  1275	  1276	  1286
	  1287	  1288	  1289	  1290	  1293	  1294	  1295	  1296	  1297	  1304	  1305	  1306	  1307	  1308
	  1311	  1312	  1313	  1314	  1315	  1320	  1321	  1322	  1323	  1324
EXTERN	   298	   299	   300	   301	   302	   303	   304	   305	   307	   309	   310	   311	   312	   313
	   314	   315	   316	   317	   318	   319
HLRZ	   860
HRLI	   539	   542	   545	   898	   948
HRLM	   857
HRLZ	   382	   434	   474	   498	   601	   676	   925
HRLZI	   338	   343	   890	   892
HRR	   384	   436	   476	   500	   603	   678	   927	  1037
HRRM	   335
HRRZ	   389	   441	   481	   505	   608	   683	   932	   946	   947	  1042
HRRZM	   839
IDIVI	   856
IFDEF	   183	   189	   190	   191	   192	   193	   194
IFE	   379	   784	   923
IFG	   377	   782	   921
ILDB	   837	   843	   869
IMUL	   420
IMULI	   590	   592	   594
IRP	   391	   443	   483	   507	   610	   685	   934	   963	   973	   987	  1001	  1013	  1025	  1048
	  1072	  1086	  1100	  1114	  1128	  1140	  1159	  1166	  1177	  1194	  1201	  1212	  1219	  1234
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Opcode cross reference

	  1247	  1263	  1274	  1287	  1294	  1305	  1312	  1321
JFCL	   945
JRST	   359	   360	   362	   363	   364	   365	   390	   404	   426	   442	   452	   455	   457	   463
	   466	   467	   482	   493	   494	   496	   506	   531	   552	   577	   578	   579	   581	   588
	   596	   609	   620	   628	   632	   634	   636	   640	   643	   651	   654	   658	   664	   666
	   684	   691	   693	   704	   707	   708	   720	   725	   767	   776	   787	   788	   790	   793
	   795	   798	   802	   819	   821	   824	   828	   874	   889	   895	   906	   933	   950	   953
	  1041	  1043	  1155	  1184	  1190	  1208	  1230	  1238	  1283	  1301
JSR	   346	   361	   388	   440	   480	   492	   504	   589	   607	   682	   882	   883	   931
LSH	   723
MOVE	   323	   324	   329	   332	   336	   340	   349	   351	   356	   357	   383	   400	   407	   410
	   415	   429	   435	   448	   458	   475	   499	   521	   527	   535	   536	   557	   559	   565
	   567	   569	   571	   582	   584	   602	   616	   621	   624	   644	   647	   648	   649	   652
	   661	   671	   677	   698	   700	   702	   713	   734	   735	   759	   760	   771	   773	   777
	   799	   812	   813	   825	   832	   835	   842	   848	   866	   868	   905	   926	  1036
MOVEI	   419	   422	   517	   519	   553	   555	   562	   741	   764	   886	   896	  1180	  1182
MOVEM	   326	   330	   342	   344	   352	   358	   401	   408	   416	   423	   424	   428	   459	   518
	   520	   522	   528	   529	   537	   540	   543	   554	   556	   558	   560	   566	   568	   570
	   572	   583	   585	   617	   622	   641	   642	   645	   646	   669	   699	   701	   703	   714
	   716	   729	   738	   867	   885	   893	  1044	  1259
MOVSI	   903
MOVSS	   899
OPDEF	   189	   190	   191	   192	   193	   194
OPEN	   888
OUTPUT	   901
POINT	   832	   842	   868
POP	   841	   851	   852	   952
POPJ	   745	   853	   863	   873
PUSH	   833	   834	   836	   942
PUSHJ	   321	   322	   325	   327	   347	   349	   351	   367	   368	   369	   370	   371	   372	   374
	   377	   379	   400	   402	   403	   407	   409	   411	   414	   454	   456	   460	   461	   462
	   465	   468	   469	   470	   471	   472	   491	   495	   515	   523	   530	   550	   563	   576
	   580	   586	   616	   618	   619	   621	   623	   625	   630	   633	   637	   657	   663	   673
	   690	   692	   694	   695	   696	   697	   706	   711	   712	   713	   732	   739	   742	   743
	   744	   762	   768	   769	   774	   778	   779	   782	   784	   800	   815	   816	   826	   849
	   859	   921	   923	   961	   971	   985	   999	  1011	  1023	  1046	  1070	  1084	  1098	  1112
	  1126	  1138	  1157	  1164	  1175	  1183	  1192	  1199	  1210	  1217	  1232	  1237	  1245	  1256
	  1258	  1261	  1272	  1285	  1292	  1303	  1310	  1319
RELEAS	   902
SETZ	   334	   524	   525	   526	   900	   943
SETZM	   331	   355	   375	   516	   573	   574	   717	   718	   951
SIXBIT	   890	   892	   909	   910	   912
SKIPA	   712
SKIPE	   339	   838	   858
SKIPG	   587
SKIPN	   350	   765	   766	   772	   792	   818	   891	  1154	  1181	  1189	  1207	  1229	  1282	  1300
SOJG	   846
SOSG	   872
SOSGE	   719
SOSL	   551	   627
SUB	   430	   449	   897
TITLE	   292
TLNE	   546
RF -- CODE TO RECEIVE FILE 	MACRO 12.5-46.0 08:12 25-OCT-87
RF.MAC	23-DEC-86 12:29		Opcode cross reference

TLNN	   387	   439	   479	   503	   606	   681	   930	  1040
TRNE	   421	   728	  1255
TRNN	   731	  1257
TRO	   353	   490
TRZ	   354
XCT	   425	   665	   715	   721	   727
XWD	   391	   392	   393	   394	   395	   396	   397	   443	   444	   445	   446	   447	   483	   484
	   485	   507	   508	   509	   510	   511	   610	   611	   612	   613	   614	   685	   686	   687
	   688	   908	   934	   935	   936	  1058	  1060	  1062	  1064 ZADv