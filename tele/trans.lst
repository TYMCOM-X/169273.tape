TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1
TPARAM	23-DEC-86 12:29	

     1				;PROGRAM CAPABILITIES
     2			000100	ACRCAP==:100                 ;I MAY RECEIVE RANK COMPRESSED DATA RECORD
     3			000040	KATCAP==:40                  ;I MAY RECEIVE KATAKANA DATA
     4			000020	BINCAP==:20                  ;I MAY RECEIVE BINARY DATA
     5			000010	UPDCAP==:10                  ;I MAY RECEIVE BINARY UPDATE MODE DATA
     6				;ASSEMBLY AND TEST SWITCHES
     7			000001	TESTNG== 1                   ;PRINT LOGIN MESSAGES FROM SLAVE HOST
     8				;PROTOCOL VERSION
     9			000001	VERNUM==:1
    10				;MESSAGE TYPES
    11			000100	MBOT== 100      ;LOWER BOUND FOR MESSAGE TYPES
    12			000101	DNRCOD== 101 ;REQUEST SLAVE TO BE DONOR.  NO RESPONSE.
    13			000102	RCVCOD== 102 ;REQUEST SLAVE TO BE RECEIVER.  NO RESPONSE.
    14			000103	FLKCOD== 103 ;ASCII FILE NAME FOLLOWS AFTER 1 BYTE GIVING COUNT.
    15				;              (RETURNS FAILCD IF FILE NOT FOUND OR FLKSCD IF FILE FOUND.
    16				;              (IF THE SLAVE & CONTROLLER ARE BOTH 940 THEN THE USUAL
    17				;              (SECURITY RULES ARE RELAXEED AND THE LOOKUP SUCCEEDS
    18				;              (IF THE FILE IS PRESENT, RETURNING 9 BYTES CONTAINING
    19				;              (INFORMATION FROM THE FIRST 3 WORDS OF THE FD ENTRY.
    20			000104	SUCCOD== 104 ;OPTION ACCEPTED
    21			000105	ULKCOD== 105 ;ASCII USERNAME FOLLOWS AFTER 1 BYTE GIVING COUNT.
    22				;              (LOOKS UP THE USER NAME IN THE LUD AND RETURNS A ULKSCD IF
    23				;              (FOUND AND A ULKRCD IF NOT FOUND.  IF THE SLAVE & CONTROLLER
    24				;              (ARE BOTH 940 THEN A SUPER GFD IS PERFORMED TO REACH THE
    25				;              (FILE DIRECTORY OF THE SPECIFIED USER, AND GAN, FDPT, AND UUN
    26				;              (FROM THE LUD ENTRY ARE RETURNED AS 9 BYTES.
    27			000106	FLKFCD== 106 ;FILE NOT FOUND--NOT CONSIDERED AN ERROR
    28			000107	ABTCOD==: 107 ;STOP WHAT YOU ARE DOING, ABORT
    29			000110	BCMCOD== 110 ;START DATA RECORD, BINARY COMPRESSION METHOD
    30			000111	ACMCOD== 111 ;START DATA RECORD, ASCII COMPRESSION METHOD
    31			000112	ACKCOD== 112 ;ACKNOWLEDGEE RECORD CHECKSUM AND BYTECOUNT MATCH
    32			000113	NAKCOD== 113 ;CHECKSUM AND/OR BYTECOUNT DO NOT MATCH
    33			000114	FINCD1== 114 ;DONOR HAS SENT ALL RECORDS IN FILE AND IS HAPPY.  FOLLOWED
    34				;              (BY 1 BYTE COUNT OF BYTES FOLLOWING  TOTAL FILE BYTES SENT
    35				;              (BY DONOR.  USED BY UPDATE MODE CLOSE TO TRUNCATE FILE TO
    36				;              (THE CORRECT DATA LENGTH.  WHEN DONOR AND RECEIVER
    37				;              (ARE BOTH 940 THIS WILL BE 3 BYTES CONTAINING CPTOP.
    38			000115	FINCD2== 115 ;RECEIVER HAS WRITTEN AND CLOSED FILE SUCCESSFULLY
    39			000116	FPFCOD== 116 ;FILE PROTECTION FAILURE
    40			000117	OPFCOD== 117 ;OPEN FAILURE
    41			000120	BZCOD==  120 ;BUFFER ZAPPED
    42				; OPTION TYPES 121-130 RESPOND 104 OR 133 IF NOT IMPLEMENTED
    43			000121	CPACOD== 121 ;SPECIFY COMPRESSION.  FOLLOWED BY 1 BYTE
    44				;              (0= NONE
    45				;              (1= BINARY
    46				;              (2= ASCII
    47				;              (3= ASCII AUTO
    48			000122	ONLCOD== 122 ;ON LOWER CASE.  FOLLOWED BY A BYTE OF ALL 1'S TO PERMIT
    49				;              (LOWER CASE, ALL 0'S TO CONVERT LOWER TO UPPER CASE
    50				;              (DEFAULT IS TO PERMIT LOWER CASE
    51			000124	TRUCOD== 124 ;FOLLOWED BY 1 BYTE INDICATING COLUMN TO BEGIN
    52				;              (TRUNCATION.  IF 0 THEN TURN OFF TRUNCATION.
    53			000125	TRICOD== 125 ;REMOVE TRAILING BLANKS.  FOLLOWED BY A BYTE OF ALL 1'S
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-2
TPARAM	23-DEC-86 12:29	

    54				;              (TO SUPPRESS TRAILING BLANKS OR A BYTE OF ALL 0'S TO KEEP
    55				;              (TRAILING BLANKS  (DEFAULT)
    56			000127	VARCOD== 127 ;PRODUCE VARIABLE LENGTH RECORDS (DEFAULT)
    57				;              (FOLLOWED BY 4 BYTES GIVING MAXIMUM RECORD SIZE
    58			000130	FIXCOD== 130 ;PAD WITH BLANKS TO MAKE FIXED LENGTH RECORDS.
    59				;              (FOLLOWED BY 4 BYES OF RECORD LENGTH.
    60			000131	LOGCOD==:131 ;TELL SLAVE TO LOG OFF
    61			000132	CHKCOD== 132 ;START DATA CHECKSUM RECORD
    62			000133	NICOD==  133 ;REQUESTED OPERATION IS NOT IMPLEMENTED
    63			000134	EORCOD== 134 ;END OF TRANSMISSION RECORD
    64			000135	EOTCOD== 135 ;TRANSMISSION RECORD IS LAST IN FILE
    65			000136	QUICOD==:136 ;ABORT THE CURRENT OPERATION, QUIT SLAVE, AND RETURN
    66				;              (TO OPERATING SYSTEM COMMAND LEVEL.
    67			000137	OPNCOD== 137 ;REQUEST SLAVE OPEN FILE FOR DATA TRANSFER (DIRECTION
    68				;              (DETERMINED BY PREVIOUS 101 OR 102 CODE.  FOLLOWED BY 1 BYTE
    69				;              (TRANSMISSION TYPE, AND POSSIBLY, OTHER BYTES
    70				;              (TYPE = 1 ASCII MODE TRANSFER.  NO BYTES FOLLOW
    71				;              (TYPE = 2 EBCDIC MODE TRANSFER.  NO BYTES FOLLOW
    72				;              (TYPE = 3 BINARY MODE TRANSFER.  THE RECEIVE FILE, IF
    73				;              (PRESENT, IS TO BE ERASED.  FOLLOWED BY 1 BYTE OF BINARY
    74				;              (PARAMETERS.
    75				;              (TYPE = 4 BINARY UPDATE MODE TRANSFER.  DONOR AND RECEIVER
    76				;              (WILL EXCHANGE CHECK RECORDS.  FOLLOWED BY 1 BYTE OF BINARY
    77				;              (PARAMETERS AND 2 BYTES OF UPDATE MODE BLOCKSIZE.
    78				;              (TYPE = 5 KATAKANA MODE TRANSFER.  NO BYTES FOLLOW
    79				;              (TYPE = 6 IMAGE MODE TRANSFER.  NO BYTES FOLLOW
    80				;              (POSSIBLE RESPONSES ARE  133 (UPDATE MODE NOT IMPLEMENTED
    81				;              (OR PARAMETERS NOT ACCEPTABLE), 104 (FILE OPENED), 116
    82				;              (FILE PROTECTION FAILURE), OR 117 (FILE OPEN FAILURE).
    83			000140	FENQCD== 140 ;REQUEST SLAVE DONOR TO SEND FILE ATTRIBUTES.  RETURNS 104
    84				;              (PLUS 1 BYTE COUNT OF BYTES FOLLOWING.
    85			000141	FATTCD== 141 ;PREPARE SLAVE RECEIVER TO OPEN FILE.  FOLLOWED BY 1 BYTE
    86				;              (COUNT OF BYTES FOLLOWING.  WHEN DONOR AND RECEIVER ARE BOTH
    87				;              (940 SEND 9 BYTES  3 BYTES FFDPT, 3 BYTES FDWD0, AND
    88				;              (3 BYTES FDWD2.  NO RESPONSE IS GIVEN.
    89			000142	INSCOD== 142 ;SET INSTALLER LICENSE.  FOLLOWED BY 6 BYTE CIPHER.
    90			000143	WHYCOD==: 143 ;SOLICIT EXPLANATION OF LATEST ERROR
    91			000144	RSPCOD==: 144 ;CODE FOLLOWED BY ASCII STRING TO BE PRINTED AT TERMINAL
    92				;              (STRING TERMINATED BY A NUL BYTE OR ANY CONTROL CODE.
    93			000145	BADCOD== 145 ;UNEXPECTED CONTROL CODE RECEIVED
    94			000146	ERRCOD== 146 ;FILE SYSTEM ERROR WRITING OR READING FILE
    95			000147	PERCOD== 147 ;FILE SYSTEM ERROR POSITIONING FILE
    96			000150	ERASCD== 150 ;FILE SYSTEM ERROR ERASING RECEIVE FILE
    97			000152	TRPCOD== 152 ;PROGRAM TRAP
    98			000153	FLKRCD== 153 ;LOOKUP FAILURE--PROBABLY SYNTAX
    99			000154	ULKFCD== 154 ;GFD FAILURE
   100			000160	ULKSCD== 160 ;GFD SUCCESS
   101			000161	FLKSCD== 161 ;FILE LOOKUP SUCCESS
   102			000177	MTOP== 177      ;UPPER BOUND FOR MESSAGE TYPES
   103				;TRANSMISSION PARAMETERS
   104			050000	MAXRS== ^D512*^D40             ;MAXIMUM RECORD SIZE--40 PAGES
   105			010000	MINRS== ^D512*^D8            ;MININUM RECORD SIZE--8 PAGES
   106			014000	TSTRS== ^D6144                 ;SAMPLE SIZE FOR STATISTICS (CONSTANT)
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-3
TPARAM	23-DEC-86 12:29	

   107				;                               WILL BE 2 PAGES FOR BF=6
   108				;BINARY PARAMETERS FOR ASCII, KATAKANA, AND IMAGE MODE
   109			000407	KMODE==:  407                   ;1000+0011+1=BYTESIZE=9,BLOCKING=4,FILL=LEFT
   110			001000	SMODE==: 1000                   ;000+0000+0  INDICATES SERIAL MODE
   111			000345	IXMODE==: 345            ;111+0010+1==BYTESIZE=8,BLOCKING=3,FILL=LEFT
   112			000351	XMODE==: 351            ;111+0100+1==BYTESIZE=8,BLOCKING=5,FILL=LEFT
   113			000311	AMODE==: 311            ;110+0100+1==BYTESIZE=7,BLOCKING=5,FILL=LEFT
   114				;ASCII CHARACTER VALUES
   115			000010	TABSIZ== 10
   116			000003	ETX==: 3        ;CONTROL-C
   117			000011	HT== 11
   118			000012	LF== 12
   119			000015	CR== 15
   120			000030	CAN==: 30
   121			000031	EM==: 31
   122			000033	ESC==: 33
   123			000036	RS== 36
   124			000037	US==: 37
   125			000040	BL== 40
   126			000050	LPAREN== 50
   127			000051	RPAREN== 51
   128			000072	COLON== 72
   129				;COMPRESSION OPTIONS
   130			000001	AUTO==:1
   131			000002	ASCII==:2
   132			000400	NONE==: 400  ;NO OPTIONS, SET TO KEEP COPT NON-ZERO
   133				;REPEATED CHAR COMPRESSION PARAMETERS
   134			000200	BIASP== 200                ;BIAS FOR PREFERRED CHARACTER COMPRESSION CODE
   135			000202	MAXP== ^D130                 ;MAXIMUM COUNT FOR PREFERRED CHARACTER
   136			000003	MINP== 3                   ;MININUM COUNT FOR PREFERRED CHARACTER
   137			000010	BIASC== 10                 ;BIAS FOR REPEATED CHARACTER COMPRESSION CODE
   138			000073	MAXC== ^D59                  ;MAXIMUM COUNT FOR REPEATED CHARACTER
   139			000004	MINC== 4                   ;MININUM COUNT FOR REPEATED CHARACTER
   140				;RANK COMPRESSION PARAMETERS
   141			000010	BIASPA== 10                  ;BIAS FOR PREFERRED BYTE COMPRESSION CODE
   142			000021	MAXPA== ^D17                  ;MAXIMUM COUNT FOR PREFERRED BYTE
   143			000002	MINPA== 2                   ;MININUM COUNT FOR PREFERRED BYTE
   144			000032	BIASA== 32                 ;BIAS FOR ALL TRANSLATING CHARACTERS
   145			000010	NM== ^D8                   ;MASTER CHARACTERS-- 32 THRU 41
   146			000007	LM== NM-1
   147			000025	NC== ^D21                  ;COMBINING CHARACTERS-- 32 THRU 56
   148			000024	LC== NC-1
   149			000076	NT== ^D62                    ;TRANSLATING CHARACTERS-- 32 THRU 127
   150			000075	LT== NT-1
   151				; CHECK BLOCK LAYOUT
   152			000000	FCK1== 0
   153			000400	FCK2== ^D256
   154			001000	FCK3== ^D512
   155				; DONOR AND RECEIVER FILENAME INDEXES
   156		777777	777777	FSIZE== -1
   157			000003	FEXT== 3
   158			000015	UNAME== 15
   159			000017	SYS== 17
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-4
TPARAM	23-DEC-86 12:29	

   160			000020	FNAME== 20
   161				; AUXCAL DEFINITIONS
   162			000000	IICHW== 0       ;INPUT IMAGE CHAR, WAIT
   163			000001	IICHS== 1       ;INPUT IMAGE CHAR, SKIP
   164			000003	OICH== 3        ;OUTPUT IMAGE CHAR
   165			000004	OICHI== 4       ;OUTPUT IMAGE CHAR IMMEDIATE
   166			000007	CLRBO==:7       ;CLEAR OUTPUT BUFFER
   167			000012	YELLOW==: 12     ;SEND YELLOW BALL
   168			000032	SDVIOS== 32     ;SET DEVIOS
   169			000034	IBIO== 34       ;INITIATE BLOCK I/O MODE
   170			000035	INBW== 35       ;INPUT A BLOCK (WAIT)
   171			000036	INBS== 36       ;INPUT A BLOCK (SKIP)
   172			000037	OB== 37         ;OUTPUT A BLOCK
   173			000040	TBI== 40        ;TERMINATE BLOCK INPUT
   174			000041	TBO== 41        ;TERMINATE BLOCK OUTPUT
   175			000042	LBIO== 42       ;LEAVE BLOCK I/O MODE
   176			000043	SLVPRT== 43     ;SLAVE COMMAND PORT
   177			000052	ASCSTG== 52     ;OUTPUT ASCII STRING
   178				; DEVIOS BITS
   179			000014	IOMOD==14       ;BINARY MODE
   180			020000	IODEND==20000   ;MASK FOR IODEND BIT (BIT 22)
   181			000200	NOECHO==200     ;NO ECHO BIT (AFFECTS COMMAND PORT)
   182				; UUO DEFINITIONS
   183				IFDEF UUOFLG<UUOTAB: BLOCK 0>
   184				DEFINE  OPD     (A,B) <U==U+1
   185				OPDEF A [U*1000000000]
   186				IFDEF UUOFLG<JRST B>>
   187			000000	U==0
   188			000001	 OPD OUTSTR,OSTRUU^U==U+1
   189			000002	 OPD INCHWL,INCHUU^U==U+1
   190			000003	 OPD OUTCHR,OCHRUU^U==U+1
   191			000004	 OPD OUTCHI,OCHIUU^U==U+1
   192			000005	 OPD CLRBFO,CLROUU^U==U+1
   193			000006	 OPD CLRBFI,CLRIUU^U==U+1
   194				DEFINE W(A),<
   195				 MOVE C,A
   196				 PUSHJ P,CW
   197				 >
   198				DEFINE W1(A,%B),<
   199				 MOVE C,A
   200				 CAIG C,EM
   201				 CAIG C,CAN-1
   202				 JRST %B
   203				 W [CAN]
   204				 MOVE C,A
   205				%B: PUSHJ P,CW
   206				 >
   207				DEFINE W2(A,%B,%C),<
   208				 MOVE C,A
   209				 CAIG C,EM
   210				 CAIG C,CAN-1
   211				 JRST %B
   212				REPEAT 2,<
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1
W	23-DEC-86 12:29	

   213				 W [CAN]
   214				 W A
   215				>
   216				 JRST %C
   217				%B: REPEAT 2,<PUSHJ P,CW>
   218				%C:
   219				 >
   220				DEFINE W3(A,%B,%C),<
   221				 MOVE C,A
   222				 CAIG C,EM
   223				 CAIG C,CAN-1
   224				 JRST %B
   225				REPEAT 3,<
   226				 W [CAN]
   227				 W A
   228				>
   229				 JRST %C
   230				%B: REPEAT 3,<PUSHJ P,CW>
   231				%C:
   232				 >
   233				;***  WARNING *** FLAGS IN MASTER ARE NOT PRESERVED FROM ONE FILE TO NEXT
   234				;***    SEE "SAVREG" IN TELECO.MAC WHICH ZEROES ALL ACCUMULATORS
   235				;FLAGS IN LH OF ACCUMULATOR F
   236			000001	LUDFLG== 1      ;LUD HAS BEEN OPENED IF 1
   237				;FLAGS IN RH OF ACCUMULATOR F
   238			000001	SORTFG== 1     ;SORT HAS BEEN PERFORMED IF 1
   239			000002	HSW== 2        ;RECORD HEADER HAS BEEN CREATED IF 1
   240			000004	LCO== 4        ;PERMIT LOWER CASE OUTPUT IF 1
   241			000010	LEFTFG== 10    ;LEFT FILL IF 1
   242			000020	SERFLG== 20    ;SERIAL MODE IF 1
   243			000040	UPDMOD== 40    ;READ CONTENTS FROM FILE BEFORE WRITING IF 1
   244			000100	IGNEOF== 100   ;IGNORE END OF BLOCK IF 1
   245			000200	CHGFLG== 200   ;PAGE CHANGED BY MASKING OPERATION IF 1
   246			000400	MASKFG== 400   ;PAGE MUST BE MASKED PRIOR TO USE
   247			001000	DEFFLG== 1000   ;IINIT TO CALL ROUTINE "DEFER" WHEN BLOCK INPUT DONE
   248			002000	MSGSW==  2000   ;ONCE-ONLY FLAG FOR COPYST
   249			004000	BI==     4000   ;INDICATES BLOCK INPUT STARTED IF 1
   250			010000	TI==    10000   ;INDICATES BLOCK INPUT TERMINATED IF 1
   251			020000	SWB==   20000   ;ONCE-ONLY SWITCH FOR SWBAC
   252			040000	FILFND==  40000  ;FILE FOUND BY SLAVE IF 1.
   253			100000	EDIT10== 100000 ;EDIT-10 FILE BEING TRANSMITTED IN ASCII MODE IF 1
   254			200000	ILLCHR== 200000 ;DISALLOWED CHAR IN FILENAME (SEE GET10)
   255				; GENERAL-PURPOSE REGISTERS  (TOUCHED BY EVERYONE)
   256			000000	R0=0
   257			000001	R1=1
   258			000002	R2=2
   259				;REGISTERS TOUCHED ONLY BY A,ACTRANS,BCTRANS
   260				;R3-R5 USED IN CHECKSUMMING FILE (BEFORE TRANSMISSION)
   261			000003	R3=3            ;HOLDING REGISTER FOR C.  PRESERVE IN CW AND W MACROS
   262			000004	R4=4
   263			000004	RC=4          ;HOLDING REGISTER.  PRESERVE IN CW AND W MACROS.
   264			000005	R5=5
   265			000005	PREFER=5        ;PREFERRED COMPRESSION CHAR.
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1
REGS	23-DEC-86 12:29	

   266			000006	RCC=6            ;REGISTER USED FOR REPEAT COUNT
   267				; SPECIAL PURPOSE REGISTERS
   268			000007	C=7             ;CHARACTER BEING READ(WRITTEN) FROM(TO) FILE OR BEING
   269				;               WRITTEN(READ) TO(FROM) OUTPUT(INPUT) BUFFER.
   270			000010	RANK=10         ;RANK OF FIRST(SECOND) CHAR OF A MASTER-COMBINING
   271				;               PAIR.  **MUST** FOLLOW C.
   272			000011	AS=11           ;STATE FOR ROUTINE A.
   273			000012	GS=12           ;STATE FOR ROUTINE GB.
   274			000013	GX=13           ;INDEX FOR ROUTINE GB.
   275			000014	PS=14           ;STATE FOR ROUTINE PB.
   276			000015	PX=15           ;INDEX FOR ROUTINE PB.
   277			000016	F=16            ;FLAGS
   278			000017	P=17            ;PUSHDOWN LIST POINTER
   279				TITLE TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA
   280				;       INCLUDES COMPRESSION AND DECOMPRESSION LOGIC
   281
   282				ENTRY ACTRANS,BCTRANS,ACR,BCR
   283				ENTRY SWBAC
   284				ENTRY CPOPJ,CPOPJ1
   285				ENTRY AC1,AAR1
   286				ENTRY DNOR,RCVR,ST,STE,RANKT
   287				; EXTERNAL ROUTINES
   288				EXTERN BGC,CW,TRAP
   289				 EXTERN ADIAG,BDIAG
   290				; CELLS CONTAINING EXECUTABLE INSTRUCTIONS:
   291				EXTERN BCR1X,ACR1X,AAR1X,G,PCH,TRANS
   292				; EXTERNAL STORAGE:
   293				EXTERN AC6,COPT,CCR,RECTYP,T1,T2
   294
   295				; RECEIVER DECOMPRESSION ROUTINES
   296
   297				; DECOMPRESS RECORD BY RANK ROUTINE
   298				;       RETURN WHEN COUNTB IS ALL USED UP
   299				;       SKIP RETURN IF CONTROL CODE IS ENCOUNTERED
   300	000000'	256000	000000*	ACR: XCT ACR1X  ;USUALLY CONTAINS JRST AAR1
   301
   302				; LOW-LEVEL CODE WITHIN ACR TO UNDO DUPLICATE CHAR COMPRESSION
   303	000001'	256000	000000*	AAR1: XCT AAR1X ;USUALLY CONTAINS PUSHJ P,BGC
   304	000002'	307340	000031	 CAIG C,EM
   305	000003'	254000	000016'	 JRST AAR7
   306 
   307
   308	000004'	307340	000127	ACR5: CAIG C,NT+BIASA-1
   309	000005'	254000	000060'	 JRST ACR2              ;TRANSLATING CHAR
   310				; COMBINED CHARACTER PAIR
   311	000006'	275340	000130	 SUBI C,BIASA+NT
   312	000007'	231340	000025	 IDIVI C,NC             ;REMAINDER GOES TO R10
   313	000010'	200347	004366'	 MOVE C,RANKT(C)        ;TRANSLATE FIRST OF PAIR
   314	000011'	256000	000000*	ACR5A: XCT PCH          ;WRITE THE CHAR
   315	000012'	254000	000067'	 JRST ACR7
   316				; COUNTB USED UP.  MODIFY ACR1X TO START AT ACR6 NEXT.
   317	000013'	200000	005473'	 MOVE [JRST ACR6]
   318	000014'	202000	000000*	 MOVEM ACR1X
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1
TRANS.MAC	23-DEC-86 12:29	

   319	000015'	263740	000000	 POPJ P,
   320
   321	000016'	307340	000027	AAR7: CAIG C,CAN-1
   322	000017'	254000	000042'	 JRST AAR4
   323	000020'	302340	000031	 CAIE C,EM
   324	000021'	254000	000056'	 JRST AARCAN            ;ESCAPED BYTE
   325				; CONTROL CODE
   326	000022'	260740	000000*	 PUSHJ P,BGC
   327	000023'	307340	000077	 CAIG C,77
   328	000024'	254000	000027'	 JRST .+3
   329	000025'	350017	000000	 AOS (P)
   330	000026'	263740	000000	 POPJ P,                ;SKIP RETUR CONTROL CODE
   331				; DUPLICATED BYTE
   332	000027'	275340	000004	 SUBI C,BIASC-MINC
   333	000030'	202340	000006	 MOVEM C,RCC            ;REPEATED CHAR COUNT
   334	000031'	260740	000022*	 PUSHJ P,BGC
   335	000032'	202340	000004	 MOVEM C,RC             ;REPEATED CHAR
   336	000033'	200000	005474'	 MOVE [JRST AAR2]
   337	000034'	202000	000001*	 MOVEM AAR1X            ;MODIFY AAR1X TO JUMP TO AAR2 NEXT
   338	000035'	200340	000004	AAR2: MOVE C,RC
   339	000036'	365300	000004'	 SOJGE RCC,ACR5         ;HANDLE COMPRESSED DATA
   340	000037'	200000	005475'	 MOVE [PUSHJ P,BGC]
   341	000040'	202000	000034*	 MOVEM AAR1X            ;RESTORE AAR1X
   342	000041'	254000	000001'	 JRST AAR1              ;AND FETCH NEXT CHAR
   343				; PREFERRED CHAR COMPRESSION
   344	000042'			AAR4:
   345	000042'	606340	777770	 IFG 1,<TRNN C,-10
   346	000043'	264000	000000*	 JSR TRAP>
   347	000044'	275340	000006	 SUBI C,BIASPA-MINPA
   348	000045'	202340	000006	 MOVEM C,RCC
   349	000046'	400400	000000	 SETZ RANK,             ;SECOND OF PAIR IS OF RANK 0
   350	000047'	200000	005476'	 MOVE [JRST AAR5]
   351	000050'	202000	000040*	 MOVEM AAR1X
   352	000051'	200340	004366'	AAR5: MOVE C,RANKT      ;TRANSLATE TO MASTER CHAR OF RANK 0
   353	000052'	365300	000011'	 SOJGE RCC,ACR5A        ;RANK0=RANK1=0
   354	000053'	200000	005475'	 MOVE [PUSHJ P,BGC]
   355	000054'	202000	000050*	 MOVEM AAR1X            ;RESTORE AAR1X
   356	000055'	254000	000001'	 JRST AAR1              ;AND FETCH NEXT CHAR
   357				; ESCAPED BYTE
   358	000056'	260740	000031*	AARCAN: PUSHJ P,BGC
   359	000057'	254000	000062'	 JRST ACR4
   360
   361				; TRANSLATING CHAR
   362	000060'	275340	000032	ACR2: SUBI C,BIASA      ;SUBTRACT BIAS
   363	000061'	200347	004366'	ACR3: MOVE C,RANKT(C)   ;TRANSLATE
   364	000062'	256000	000011*	ACR4: XCT PCH           ;WRITE BYTE TO FILE
   365	000063'	254000	000000'	 JRST ACR               ;FETCH NEXT
   366	000064'	263740	000000	 POPJ P,                ;COUNTB EXHAUSTED
   367	000065'	200000	005477'	ACR6: MOVE [JRST AAR1]
   368	000066'	202000	000014*	 MOVEM ACR1X
   369	000067'	200350	004366'	ACR7: MOVE C,RANKT(RANK)
   370	000070'	256000	000062*	 XCT PCH                ;WRITE THE CHAR
   371	000071'	256000	000066*	 XCT ACR1X              ;ACR1X ALWAYS CONTAINS A JRST INST.
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-2
TRANS.MAC	23-DEC-86 12:29	

   372	000072'	263740	000000	 POPJ P,                ;COUNTB EXHAUSTED.
   373
   374
   375				; DECOMPRESS RECORD WITH DUPLICATE COMPRESSION
   376				;       RETURN WHEN COUNTB IS EXHAUSTED
   377				;       SKIP RETURN IF CONTROL CODE IS ENCOUNTERED
   378	000073'	256000	000000*	BCR: XCT BCR1X  ;USUALLY CONTAINS PUSHJ P,BGC 
   379	000074'	307340	000031	 CAIG C,EM
   380	000075'	307340	000027	 CAIG C,CAN-1
   381	000076'	254000	000135'	 JRST BCR8
   382	000077'	302340	000031	 CAIE C,EM
   383	000100'	254000	000134'	 JRST BCRCAN    ;GOT DATA ESCAPE
   384	000101'	260740	000056*	 PUSHJ P,BGC
   385	000102'	307340	000177	 CAIG C,BIASP-1
   386	000103'	254000	000115'	 JRST BCR2
   387				; PREFERRED CHARACTER COMPRESSION
   388	000104'	275340	000175	 SUBI C,BIASP-MINP
   389	000105'	202340	000006	 MOVEM C,RCC    ;REPEATED CHAR COUNT
   390	000106'	200000	005500'	 MOVE [JRST BCR3]
   391	000107'	202000	000073*	 MOVEM BCR1X
   392	000110'	200340	000005	BCR3: MOVE C,PREFER
   393	000111'	365300	000135'	 SOJGE RCC,BCR8
   394	000112'	200000	005475'	 MOVE [PUSHJ P,BGC]
   395	000113'	202000	000107*	 MOVEM BCR1X    ;RESTORE BCR1X
   396	000114'	254000	000073'	 JRST BCR       ;AND FETCH NEXT CHAR
   397	000115'	307340	000077	BCR2: CAIG C,77
   398	000116'	254000	000121'	 JRST BCR5
   399				; CONTROL CODE
   400	000117'	350017	000000	 AOS (P)
   401	000120'	263740	000000	 POPJ P,        ;SKIP RETURN WITH C=CONTROL CODE
   402				; REPEATED CHAR COMPRESSION
   403	000121'	275340	000004	BCR5: SUBI C,BIASC-MINC
   404	000122'	202340	000006	 MOVEM C,RCC    ;REPEATED CHAR COUNT
   405	000123'	260740	000101*	 PUSHJ P,BGC
   406	000124'	202340	000004	 MOVEM C,RC     ;REPEATED CHAR
   407	000125'	200000	005501'	 MOVE [JRST BCR6]
   408	000126'	202000	000113*	 MOVEM BCR1X    ;MODIFY BCR1X TO JUMP TO BCR6 NOW
   409	000127'	200340	000004	BCR6: MOVE C,RC
   410	000130'	365300	000135'	 SOJGE RCC,BCR8
   411	000131'	200000	005475'	 MOVE [PUSHJ P,BGC]
   412	000132'	202000	000126*	 MOVEM BCR1X    ;RESTORE BCR1X
   413	000133'	254000	000073'	 JRST BCR       ;AND FETCH NEXT CHAR
   414	000134'	260740	000123*	BCRCAN: PUSHJ P,BGC
   415	000135'	256000	000070*	BCR8: XCT PCH   ;WRITE CHAR TO FILE
   416	000136'	254000	000073'	 JRST BCR       ;AND FETCH NEXT
   417	000137'	263740	000000	 POPJ P,        ;COUNTB EXHAUSTED
   418
   419				; DUPLICATE COMPRESSION CODE.  TEDIOUSLY WRITTEN TO MINIMIZE
   420				; EXECUTION TIME.  MODIFY WITH CAUTION.
   421	000140'	662700	000002	BCTRANS: TROE F,HSW     ;SHOULD WE GENERATE A HEADER
   422	000141'	254000	000151'	 JRST BCT0      ;NO, ALREADY DONE
   423	000142'	260740	000000*	 PUSHJ P,BDIAG
   424				 W [EM]^
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-3
TRANS.MAC	23-DEC-86 12:29	

   425	000143'	200340	005502'	 MOVE C,[EM]
   426	000144'	260740	000000*	 PUSHJ P,CW
   427				 W RECTYP^
   428	000145'	200340	000000*	 MOVE C,RECTYP
   429	000146'	260740	000144*	 PUSHJ P,CW
   430				 W PREFER^
   431	000147'	200340	000005	 MOVE C,PREFER
   432	000150'	260740	000146*	 PUSHJ P,CW
   433	000151'	200000	000000*	BCT0: MOVE COPT         ;CHECK COMPRESSION OPTIONS
   434	000152'	602000	000001	 TRNE R0,AUTO
   435	000153'	254000	000170'	 JRST S0                ;START COMPRESSION
   436	000154'	256000	000000*	BCT1: XCT G             ;FETCH BYTE
   437	000155'	254000	000157'	 JRST .+2
   438	000156'	263740	000000	 POPJ P,                ;FINISHED BLOCK
   439	000157'	307340	000031	 CAIG C,EM
   440	000160'	307340	000027	 CAIG C,CAN-1
   441	000161'	254000	000166'	 JRST BCT2
   442	000162'	202340	000004	 MOVEM C,RC
   443				 W [CAN]^
   444	000163'	200340	005503'	 MOVE C,[CAN]
   445	000164'	260740	000150*	 PUSHJ P,CW
   446	000165'	200340	000004	 MOVE C,RC
   447	000166'	260740	000164*	BCT2: PUSHJ P,CW
   448	000167'	254000	000154'	 JRST BCT1
   449
   450	000170'	256000	000154*	S0: XCT G
   451	000171'	254000	000174'	 JRST S0B
   452	000172'	263740	000000	 POPJ P,
   453	000173'	200340	000003	S0A: MOVE C,R3  ;*R3 USED THROUGHOUT.  CHECK TO SEE IF PRESERVED
   454	000174'	312340	000005	S0B: CAME C,PREFER
   455	000175'	254000	000262'	 JRST D0
   456	000176'	256000	000170*	 XCT G
   457	000177'	254000	000212'	 JRST S0C
   458				; OUTPUT 1 PREFERRED CHAR AND EXIT
   459	000200'	200200	000005	S1: MOVE RC,PREFER
   460				; OUTPUT 1 NON-PREFERRED CHAR AND EXIT
   461	000201'			D2: W1 RC^
   462	000201'	200340	000004	 MOVE C,RC
   463	000202'	307340	000031	 CAIG C,EM
   464	000203'	307340	000027	 CAIG C,CAN-1
   465	000204'	254000	000210'	 JRST ..0001
   466	000205'	200340	005503'	 MOVE C,[CAN]
   467	000206'	260740	000166*	 PUSHJ P,CW
   468	000207'	200340	000004	 MOVE C,RC
   469	000210'	260740	000206*	..0001: PUSHJ P,CW
   470	000211'	263740	000000	 POPJ P,
   471	000212'	312340	000005	S0C: CAME C,PREFER
   472	000213'	254000	000445'	 JRST S2
   473	000214'	256000	000176*	 XCT G
   474	000215'	254000	000237'	 JRST S0D
   475				; OUTPUT 2 PREFERRED CHAR AND EXIT
   476	000216'	200200	000005	S3: MOVE RC,PREFER
   477				; OUTPUT 2 NON-PREFERRED CHAR AND EXIT
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-4
TRANS.MAC	23-DEC-86 12:29	

   478	000217'			D4: W2 RC^
   479	000217'	200340	000004	 MOVE C,RC
   480	000220'	307340	000031	 CAIG C,EM
   481	000221'	307340	000027	 CAIG C,CAN-1
   482	000222'	254000	000234'	 JRST ..0002
   483	000223'	200340	005503'	 MOVE C,[CAN]
   484	000224'	260740	000210*	 PUSHJ P,CW
   485	000225'	200340	000004	 MOVE C,RC
   486	000226'	260740	000224*	 PUSHJ P,CW
   487	000227'	200340	005503'	 MOVE C,[CAN]
   488	000230'	260740	000226*	 PUSHJ P,CW
   489	000231'	200340	000004	 MOVE C,RC
   490	000232'	260740	000230*	 PUSHJ P,CW
   491	000233'	254000	000236'	 JRST ..0003
   492	000234'	260740	000232*	PUSHJ P,CW
   493	000235'	260740	000234*	PUSHJ P,CW
   494	000236'	263740	000000	 POPJ P,
   495	000237'	312340	000005	S0D: CAME C,PREFER
   496	000240'	254000	000457'	 JRST S4
   497	000241'	201300	000176	 MOVEI RCC,MAXP-MINP-1   ;CHAR REPEATED 3 OR MORE TIMES
   498	000242'	256000	000214*	S0E: XCT G
   499	000243'	254000	000252'	 JRST S0F
   500				; OUTPUT 3 OR MORE PREFERRED CHAR AND EXIT
   501	000244'			S5: W [EM]^
   502	000244'	200340	005502'	 MOVE C,[EM]
   503	000245'	260740	000235*	 PUSHJ P,CW
   504	000246'	201340	000376	 MOVEI C,BIASP+MAXP-MINP-1
   505	000247'	274340	000006	 SUB C,RCC
   506	000250'	260740	000245*	 PUSHJ P,CW
   507	000251'	263740	000000	 POPJ P,
   508	000252'	312340	000005	S0F: CAME C,PREFER
   509	000253'	254000	000500'	 JRST S6
   510	000254'	365300	000242'	 SOJGE RCC,S0E
   511				; OUTPUT 130 PREFERRED CHAR AND CONTINUE
   512				 W [EM]^
   513	000255'	200340	005502'	 MOVE C,[EM]
   514	000256'	260740	000250*	 PUSHJ P,CW
   515				 W [BIASP+MAXP-MINP]^
   516	000257'	200340	005504'	 MOVE C,[BIASP+MAXP-MINP]
   517	000260'	260740	000256*	 PUSHJ P,CW
   518	000261'	254000	000170'	 JRST S0
   519
   520	000262'	202340	000004	D0: MOVEM C,RC        ;FOUND NON-PREFERRED CHAR
   521	000263'	256000	000242*	D1: XCT G
   522	000264'	254000	000266'	 JRST .+2
   523	000265'	254000	000201'	 JRST D2
   524	000266'	312340	000004	 CAME C,RC
   525	000267'	254000	000353'	 JRST D3
   526	000270'	256000	000263*	 XCT G
   527	000271'	254000	000273'	 JRST .+2
   528	000272'	254000	000217'	 JRST D4
   529	000273'	312340	000004	 CAME C,RC
   530	000274'	254000	000365'	 JRST D5
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-5
TRANS.MAC	23-DEC-86 12:29	

   531	000275'	256000	000270*	 XCT G
   532	000276'	254000	000324'	 JRST D1A
   533				; OUTPUT 3 NON-PREFERRED CHAR AND EXIT
   534				 W3 RC^
   535	000277'	200340	000004	 MOVE C,RC
   536	000300'	307340	000031	 CAIG C,EM
   537	000301'	307340	000027	 CAIG C,CAN-1
   538	000302'	254000	000320'	 JRST ..0004
   539	000303'	200340	005503'	 MOVE C,[CAN]
   540	000304'	260740	000260*	 PUSHJ P,CW
   541	000305'	200340	000004	 MOVE C,RC
   542	000306'	260740	000304*	 PUSHJ P,CW
   543	000307'	200340	005503'	 MOVE C,[CAN]
   544	000310'	260740	000306*	 PUSHJ P,CW
   545	000311'	200340	000004	 MOVE C,RC
   546	000312'	260740	000310*	 PUSHJ P,CW
   547	000313'	200340	005503'	 MOVE C,[CAN]
   548	000314'	260740	000312*	 PUSHJ P,CW
   549	000315'	200340	000004	 MOVE C,RC
   550	000316'	260740	000314*	 PUSHJ P,CW
   551	000317'	254000	000323'	 JRST ..0005
   552	000320'	260740	000316*	PUSHJ P,CW
   553	000321'	260740	000320*	PUSHJ P,CW
   554	000322'	260740	000321*	PUSHJ P,CW
   555	000323'	263740	000000	 POPJ P,
   556	000324'	312340	000004	D1A: CAME C,RC
   557	000325'	254000	000406'	 JRST D7
   558	000326'	201300	000066	 MOVEI RCC,MAXC-MINC-1   ;REPEATED 4 OR MORE TIMES
   559	000327'	256000	000275*	D1B: XCT G
   560	000330'	254000	000341'	 JRST D1C
   561				; OUTPUT 4 OR MORE NON-PREFERRED CHAR AND EXIT
   562	000331'			D8: W [EM]^
   563	000331'	200340	005502'	 MOVE C,[EM]
   564	000332'	260740	000322*	 PUSHJ P,CW
   565	000333'	201340	000076	 MOVEI C,BIASC+MAXC-MINC-1
   566	000334'	274340	000006	 SUB C,RCC
   567	000335'	260740	000332*	 PUSHJ P,CW
   568				 W RC^
   569	000336'	200340	000004	 MOVE C,RC
   570	000337'	260740	000335*	 PUSHJ P,CW
   571	000340'	263740	000000	 POPJ P,
   572	000341'	312340	000004	D1C: CAME C,RC
   573	000342'	254000	000434'	 JRST D9
   574	000343'	365300	000327'	 SOJGE RCC,D1B
   575				; OUTPUT 59 NON-PREFERRED CHAR AND CONTINUE
   576				 W [EM]^
   577	000344'	200340	005502'	 MOVE C,[EM]
   578	000345'	260740	000337*	 PUSHJ P,CW
   579				 W [BIASC+MAXC-MINC]^
   580	000346'	200340	005505'	 MOVE C,[BIASC+MAXC-MINC]
   581	000347'	260740	000345*	 PUSHJ P,CW
   582				 W RC^
   583	000350'	200340	000004	 MOVE C,RC
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-6
TRANS.MAC	23-DEC-86 12:29	

   584	000351'	260740	000347*	 PUSHJ P,CW
   585	000352'	254000	000170'	 JRST S0
   586				; FOUND DIFFERENT CHAR AFTER 1 NON-PREFERRED CHAR
   587	000353'	202340	000003	D3: MOVEM C,R3
   588				 W1 RC^
   589	000354'	200340	000004	 MOVE C,RC
   590	000355'	307340	000031	 CAIG C,EM
   591	000356'	307340	000027	 CAIG C,CAN-1
   592	000357'	254000	000363'	 JRST ..0006
   593	000360'	200340	005503'	 MOVE C,[CAN]
   594	000361'	260740	000351*	 PUSHJ P,CW
   595	000362'	200340	000004	 MOVE C,RC
   596	000363'	260740	000361*	..0006: PUSHJ P,CW
   597	000364'	254000	000173'	 JRST S0A       ;TEST NEW CHAR FOR PREFERRED
   598				; FOUND DIFFERENT CHAR AFTER 2 NON-PREFERRED CHAR
   599	000365'	202340	000003	D5: MOVEM C,R3
   600				 W2 RC^
   601	000366'	200340	000004	 MOVE C,RC
   602	000367'	307340	000031	 CAIG C,EM
   603	000370'	307340	000027	 CAIG C,CAN-1
   604	000371'	254000	000403'	 JRST ..0007
   605	000372'	200340	005503'	 MOVE C,[CAN]
   606	000373'	260740	000363*	 PUSHJ P,CW
   607	000374'	200340	000004	 MOVE C,RC
   608	000375'	260740	000373*	 PUSHJ P,CW
   609	000376'	200340	005503'	 MOVE C,[CAN]
   610	000377'	260740	000375*	 PUSHJ P,CW
   611	000400'	200340	000004	 MOVE C,RC
   612	000401'	260740	000377*	 PUSHJ P,CW
   613	000402'	254000	000405'	 JRST ..0010
   614	000403'	260740	000401*	PUSHJ P,CW
   615	000404'	260740	000403*	PUSHJ P,CW
   616	000405'	254000	000173'	 JRST S0A
   617				; FOUND DIFFERENT CHAR AFTER 3 NON-PREFERRED CHAR
   618	000406'	202340	000003	D7: MOVEM C,R3
   619				 W3 RC^
   620	000407'	200340	000004	 MOVE C,RC
   621	000410'	307340	000031	 CAIG C,EM
   622	000411'	307340	000027	 CAIG C,CAN-1
   623	000412'	254000	000430'	 JRST ..0011
   624	000413'	200340	005503'	 MOVE C,[CAN]
   625	000414'	260740	000404*	 PUSHJ P,CW
   626	000415'	200340	000004	 MOVE C,RC
   627	000416'	260740	000414*	 PUSHJ P,CW
   628	000417'	200340	005503'	 MOVE C,[CAN]
   629	000420'	260740	000416*	 PUSHJ P,CW
   630	000421'	200340	000004	 MOVE C,RC
   631	000422'	260740	000420*	 PUSHJ P,CW
   632	000423'	200340	005503'	 MOVE C,[CAN]
   633	000424'	260740	000422*	 PUSHJ P,CW
   634	000425'	200340	000004	 MOVE C,RC
   635	000426'	260740	000424*	 PUSHJ P,CW
   636	000427'	254000	000433'	 JRST ..0012
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-7
TRANS.MAC	23-DEC-86 12:29	

   637	000430'	260740	000426*	PUSHJ P,CW
   638	000431'	260740	000430*	PUSHJ P,CW
   639	000432'	260740	000431*	PUSHJ P,CW
   640	000433'	254000	000173'	 JRST S0A
   641				; FOUND DIFFERENT CHAR AFTER 4 OR MORE NON-PREFERRED CHAR
   642	000434'	202340	000003	D9: MOVEM C,R3
   643				 W [EM]^
   644	000435'	200340	005502'	 MOVE C,[EM]
   645	000436'	260740	000432*	 PUSHJ P,CW
   646	000437'	201340	000076	 MOVEI C,BIASC+MAXC-MINC-1
   647	000440'	274340	000006	 SUB C,RCC
   648	000441'	260740	000436*	 PUSHJ P,CW
   649				 W RC^
   650	000442'	200340	000004	 MOVE C,RC
   651	000443'	260740	000441*	 PUSHJ P,CW
   652	000444'	254000	000173'	 JRST S0A
   653				; FOUND DIFFERENT CHAR AFTER 1 PREFERRED CHAR
   654	000445'	202340	000004	S2: MOVEM C,RC
   655				 W1 PREFER^
   656	000446'	200340	000005	 MOVE C,PREFER
   657	000447'	307340	000031	 CAIG C,EM
   658	000450'	307340	000027	 CAIG C,CAN-1
   659	000451'	254000	000455'	 JRST ..0013
   660	000452'	200340	005503'	 MOVE C,[CAN]
   661	000453'	260740	000443*	 PUSHJ P,CW
   662	000454'	200340	000005	 MOVE C,PREFER
   663	000455'	260740	000453*	..0013: PUSHJ P,CW
   664	000456'	254000	000263'	 JRST D1
   665				; FOUND DIFFERENT CHAR AFTER 2 PREFERRED CHAR
   666	000457'	202340	000004	S4: MOVEM C,RC
   667				 W2 PREFER^
   668	000460'	200340	000005	 MOVE C,PREFER
   669	000461'	307340	000031	 CAIG C,EM
   670	000462'	307340	000027	 CAIG C,CAN-1
   671	000463'	254000	000475'	 JRST ..0014
   672	000464'	200340	005503'	 MOVE C,[CAN]
   673	000465'	260740	000455*	 PUSHJ P,CW
   674	000466'	200340	000005	 MOVE C,PREFER
   675	000467'	260740	000465*	 PUSHJ P,CW
   676	000470'	200340	005503'	 MOVE C,[CAN]
   677	000471'	260740	000467*	 PUSHJ P,CW
   678	000472'	200340	000005	 MOVE C,PREFER
   679	000473'	260740	000471*	 PUSHJ P,CW
   680	000474'	254000	000477'	 JRST ..0015
   681	000475'	260740	000473*	PUSHJ P,CW
   682	000476'	260740	000475*	PUSHJ P,CW
   683	000477'	254000	000263'	 JRST D1
   684				; FOUND DIFFERENT CHAR AFTER 3 OR MORE PREFERRED CHAR
   685	000500'	202340	000004	S6: MOVEM C,RC
   686				 W [EM]^
   687	000501'	200340	005502'	 MOVE C,[EM]
   688	000502'	260740	000476*	 PUSHJ P,CW
   689	000503'	201340	000376	 MOVEI C,BIASP+MAXP-MINP-1
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-8
TRANS.MAC	23-DEC-86 12:29	

   690	000504'	274340	000006	 SUB C,RCC
   691	000505'	260740	000502*	 PUSHJ P,CW
   692	000506'	254000	000263'	 JRST D1
   693				; COMPRESSION BY RANK METHOD.
   694
   695	000507'	662700	000002	ACTRANS: TROE F,HSW     ;SHOULD WE GENERATE A HEADER
   696	000510'	254000	000525'	 JRST A0        ;NO
   697	000511'	260740	000000*	 PUSHJ P,ADIAG
   698				 W [EM]^
   699	000512'	200340	005502'	 MOVE C,[EM]
   700	000513'	260740	000505*	 PUSHJ P,CW
   701				 W RECTYP^
   702	000514'	200340	000145*	 MOVE C,RECTYP
   703	000515'	260740	000513*	 PUSHJ P,CW
   704	000516'	606700	000001	 TRNN F,SORTFG  ;DO WE NEED TO RUN SORT
   705	000517'	260740	005366'	 PUSHJ P,SORT   ;YES
   706	000520'	620700	000001	 TRZ F,SORTFG
   707	000521'	200100	005506'	 MOVE R2,[-NT,,0]
   708	000522'	200342	004366'	 MOVE C,RANKT(R2)
   709	000523'	260740	000515*	 PUSHJ P,CW
   710	000524'	253100	000522'	 AOBJN R2,.-2
   711
   712	000525'	260740	000676'	A0: PUSHJ P,A
   713	000526'	254000	000531'	 JRST A0B
   714	000527'	263740	000000	 POPJ P,
   715	000530'	200340	000003	A0A: MOVE C,R3
   716	000531'	302340	000130	A0B: CAIE C,NT+BIASA
   717	000532'	254000	000557'	 JRST AD0
   718	000533'	260740	000676'	 PUSHJ P,A
   719	000534'	254000	000540'	 JRST A0C
   720				; OUTPUT PREFERRED BYTE AND EXIT
   721				 W [NT+BIASA]^
   722	000535'	200340	005507'	 MOVE C,[NT+BIASA]
   723	000536'	260740	000523*	 PUSHJ P,CW
   724	000537'	263740	000000	 POPJ P,
   725	000540'	302340	000130	A0C: CAIE C,NT+BIASA
   726	000541'	254000	000665'	 JRST AS2
   727	000542'	201300	000016	 MOVEI RCC,MAXPA-MINPA-1
   728	000543'	260740	000676'	A0D: PUSHJ P,A
   729	000544'	254000	000551'	 JRST A0E
   730				; OUTPUT 2 OR MORE PREFERRED BYTES AND EXIT
   731	000545'	201340	000026	 MOVEI C,BIASPA+MAXPA-MINPA-1
   732	000546'	274340	000006	 SUB C,RCC
   733	000547'	260740	000536*	 PUSHJ P,CW
   734	000550'	263740	000000	 POPJ P,
   735	000551'	302340	000130	A0E: CAIE C,NT+BIASA
   736	000552'	254000	000671'	 JRST AS4
   737	000553'	365300	000543'	 SOJGE RCC,A0D
   738				; OUTPUT 17 PREFERRED BYTES AND CONTINUE
   739				 W [BIASPA+MAXPA-MINPA]^
   740	000554'	200340	005510'	 MOVE C,[BIASPA+MAXPA-MINPA]
   741	000555'	260740	000547*	 PUSHJ P,CW
   742	000556'	254000	000525'	 JRST A0
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-9
TRANS.MAC	23-DEC-86 12:29	

   743	000557'	202340	000004	AD0: MOVEM C,RC
   744	000560'	260740	000676'	AD1A: PUSHJ P,A
   745	000561'	254000	000565'	 JRST AD1B
   746				; OUTPUT BYTE AND EXIT
   747				 W RC^
   748	000562'	200340	000004	 MOVE C,RC
   749	000563'	260740	000555*	 PUSHJ P,CW
   750	000564'	263740	000000	 POPJ P,
   751	000565'	312340	000004	AD1B: CAME C,RC
   752	000566'	254000	000635'	 JRST AD3
   753	000567'	260740	000676'	 PUSHJ P,A
   754	000570'	254000	000575'	 JRST AD1C
   755				; OUTPUT 2 BYTES AND EXIT
   756	000571'	200340	000004	 MOVE C,RC
   757				 REPEAT 2,<PUSHJ P,CW>
   758	000572'	260740	000563*	PUSHJ P,CW
   759	000573'	260740	000572*	PUSHJ P,CW
   760	000574'	263740	000000	 POPJ P,
   761	000575'	312340	000004	AD1C: CAME C,RC
   762	000576'	254000	000641'	 JRST AD5
   763	000577'	260740	000676'	 PUSHJ P,A
   764	000600'	254000	000606'	 JRST AD1D
   765				; OUTPUT 3 BYTES AND EXIT
   766	000601'	200340	000004	 MOVE C,RC
   767				 REPEAT 3,<PUSHJ P,CW>
   768	000602'	260740	000573*	PUSHJ P,CW
   769	000603'	260740	000602*	PUSHJ P,CW
   770	000604'	260740	000603*	PUSHJ P,CW
   771	000605'	263740	000000	 POPJ P,
   772	000606'	312340	000004	AD1D: CAME C,RC
   773	000607'	254000	000646'	 JRST AD7
   774	000610'	201300	000066	 MOVEI RCC,MAXC-MINC-1
   775	000611'	260740	000676'	AD1E: PUSHJ P,A
   776	000612'	254000	000623'	 JRST AD1F
   777				; OUTPUT 4 OR MORE REPEATED BYTES AND EXIT
   778				 W [EM]^
   779	000613'	200340	005502'	 MOVE C,[EM]
   780	000614'	260740	000604*	 PUSHJ P,CW
   781	000615'	201340	000076	 MOVEI C,BIASC+MAXC-MINC-1
   782	000616'	274340	000006	 SUB C,RCC
   783	000617'	260740	000614*	 PUSHJ P,CW
   784				 W RC^
   785	000620'	200340	000004	 MOVE C,RC
   786	000621'	260740	000617*	 PUSHJ P,CW
   787	000622'	263740	000000	 POPJ P,
   788	000623'	312340	000004	AD1F: CAME C,RC
   789	000624'	254000	000654'	 JRST AD9
   790	000625'	365300	000611'	 SOJGE RCC,AD1E
   791				; OUTPUT 59 REPEATED BYTES AND CONTINUE
   792				 W [EM]^
   793	000626'	200340	005502'	 MOVE C,[EM]
   794	000627'	260740	000621*	 PUSHJ P,CW
   795				 W [BIASC+MAXC-MINC]^
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-10
TRANS.MAC	23-DEC-86 12:29	

   796	000630'	200340	005505'	 MOVE C,[BIASC+MAXC-MINC]
   797	000631'	260740	000627*	 PUSHJ P,CW
   798				 W RC^
   799	000632'	200340	000004	 MOVE C,RC
   800	000633'	260740	000631*	 PUSHJ P,CW
   801	000634'	254000	000525'	 JRST A0
   802				; FOUND DIFFERENT BYTE AFTER 1 NON-PREFERRED BYTE
   803	000635'	202340	000003	AD3: MOVEM C,R3
   804				 W RC^
   805	000636'	200340	000004	 MOVE C,RC
   806	000637'	260740	000633*	 PUSHJ P,CW
   807	000640'	254000	000530'	 JRST A0A
   808				; FOUND DIFFERENT BYTE AFTER 2 NON-PREFERRED BYTE
   809	000641'	202340	000003	AD5: MOVEM C,R3
   810	000642'	200340	000004	 MOVE C,RC
   811				 REPEAT 2,<PUSHJ P,CW>
   812	000643'	260740	000637*	PUSHJ P,CW
   813	000644'	260740	000643*	PUSHJ P,CW
   814	000645'	254000	000530'	 JRST A0A
   815				; FOUND DIFFERENT BYTE AFTER 3 NON-PREFERRED BYTE
   816	000646'	202340	000003	AD7: MOVEM C,R3
   817	000647'	200340	000004	 MOVE C,RC
   818				 REPEAT 3,<PUSHJ P,CW>
   819	000650'	260740	000644*	PUSHJ P,CW
   820	000651'	260740	000650*	PUSHJ P,CW
   821	000652'	260740	000651*	PUSHJ P,CW
   822	000653'	254000	000530'	 JRST A0A
   823				; FOUND DIFFERENT BYTE AFTER 4 OR MORE NON-PREFERRED BYTE
   824	000654'	202340	000003	AD9: MOVEM C,R3
   825				 W [EM]^
   826	000655'	200340	005502'	 MOVE C,[EM]
   827	000656'	260740	000652*	 PUSHJ P,CW
   828	000657'	201340	000076	 MOVEI C,BIASC+MAXC-MINC-1
   829	000660'	274340	000006	 SUB C,RCC
   830	000661'	260740	000656*	 PUSHJ P,CW
   831				 W RC^
   832	000662'	200340	000004	 MOVE C,RC
   833	000663'	260740	000661*	 PUSHJ P,CW
   834	000664'	254000	000530'	 JRST A0A
   835				; FOUND NON-PREFERRED BYTE AFTER 1 PREFERRED BYTE
   836	000665'	202340	000004	AS2: MOVEM C,RC
   837				 W [NT+BIASA]^
   838	000666'	200340	005507'	 MOVE C,[NT+BIASA]
   839	000667'	260740	000663*	 PUSHJ P,CW
   840	000670'	254000	000560'	 JRST AD1A
   841				; FOUND NON-PREFERRED BYTE AFTER 2 OR MORE PREFERRED BYTE
   842	000671'	202340	000004	AS4: MOVEM C,RC
   843	000672'	201340	000026	 MOVEI C,BIASPA+MAXPA-MINPA-1
   844	000673'	274340	000006	 SUB C,RCC
   845	000674'	260740	000667*	 PUSHJ P,CW
   846	000675'	254000	000560'	 JRST AD1A
   847
   848				; GET COMPRESSED BY RANK BYTE.  SKIP FOR END OF BLOCK
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-11
TRANS.MAC	23-DEC-86 12:29	

   849	000676'	254011	000000	A: JRST 0(AS)           ;DISPATCH TO APPROPRIATE CODE
   850	000677'	256000	000327*	AC1: XCT G
   851	000700'	254000	000705'	 JRST AC4
   852	000701'	350017	000000	AC2: AOS (P)            ;FOR SKIP RETURN FROM A
   853	000702'	200340	000000*	AC3: MOVE C,AC6         ;RETRIEVE CHAR
   854	000703'	201440	000677'	 MOVEI AS,AC1
   855	000704'	263740	000000	 POPJ P,
   856	000705'	202340	000001	AC4: MOVEM C,R1         ;SAVE CHAR TEMPORARILY
   857	000706'	200347	004766'	 MOVE C,RANKC(C)        ;REPLACE CHAR BY ITS RANK
   858	000707'	307340	000007	 CAIG C,LM              ;IS IT A MASTER
   859	000710'	254000	000722'	 JRST MS1               ;YES
   860	000711'	307340	000075	 CAIG C,LT              ;NO, IS IT TRANSLATING THEN
   861	000712'	254000	000720'	 JRST TR1               ;YES
   862	000713'	435040	000400	 IORI R1,400            ;PREVENT ESCAPED CHAR FROM STARTING A DUP STRING
   863	000714'	202040	000702*	 MOVEM R1,AC6           ;SAVE FOR NEXT TIME
   864				; ESCAPED BYTE
   865	000715'	201440	000702'	AC5: MOVEI AS,AC3       ;SET TO GET SAVED BYTE NEXT
   866	000716'	201340	000030	 MOVEI C,CAN
   867	000717'	263740	000000	 POPJ P,
   868				; TRANSLATING CHAR
   869	000720'	271340	000032	TR1: ADDI C,BIASA
   870	000721'	263740	000000	 POPJ P,
   871				; MASTER CHAR
   872	000722'	202340	000010	MS1: MOVEM C,RANK      ;SAVE RANK
   873	000723'	256000	000677*	 XCT G
   874	000724'	254000	000731'	 JRST MS2
   875	000725'	201440	000701'	 MOVEI AS,AC2           ;SET TO DO SKIP RETURN NEXT
   876	000726'	200340	000010	 MOVE C,RANK           ;C MAY BE DESTROYED BY GA OR GB CODE AT END
   877	000727'	271340	000032	 ADDI C,BIASA           ;TRANSLATE LAST CHAR IN BLOCK
   878	000730'	263740	000000	 POPJ P,
   879	000731'	202340	000001	MS2: MOVEM C,R1         ;SAVE 2ND CHAR TEMPORARILY
   880	000732'	200347	004766'	 MOVE C,RANKC(C)
   881	000733'	307340	000024	 CAIG C,LC              ;IS IT COMBINING
   882	000734'	254000	000753'	 JRST MS3               ;YES
   883	000735'	307340	000075	 CAIG C,LT              ;NO, TRANSLATING THEN?
   884	000736'	254000	000745'	 JRST TR2               ;YES
   885	000737'	435040	000400	 IORI R1,400
   886	000740'	202040	000714*	 MOVEM R1,AC6           ;SAVE BYTE TO BE ESCAPED
   887	000741'	201440	000715'	 MOVEI AS,AC5           ;SET TO DO ESCAPE PAIR NEXT
   888	000742'	200340	000010	 MOVE C,RANK
   889	000743'	271340	000032	 ADDI C,BIASA           ;TRANSLATE MASTER CHAR
   890	000744'	263740	000000	 POPJ P,
   891	000745'	271340	000032	TR2: ADDI C,BIASA
   892	000746'	202340	000740*	 MOVEM C,AC6            ;SAVE TRANSLATED TRANSLATING CHAR
   893	000747'	201440	000702'	 MOVEI AS,AC3           ;SET TO OUTPUT JUST AC6 NEXT
   894	000750'	200340	000010	 MOVE C,RANK
   895	000751'	271340	000032	 ADDI C,BIASA           ;TRANSLATE MASTER CHAR
   896	000752'	263740	000000	 POPJ P,
   897				; COMBINING CHAR (8*21 COMBOS-- 130 THRU 377)
   898	000753'	270350	000756'	MS3: ADD C,NCRT(RANK)  ;RANK*NC
   899	000754'	271340	000130	 ADDI C,BIASA+NT        ;BIAS FOR COMBO=130
   900	000755'	263740	000000	 POPJ P,
   901			000000	Y==0
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-12
TRANS.MAC	23-DEC-86 12:29	

   902	000756'			NCRT:
   903				 REPEAT NM,<
   904				 EXP Y*NC
   905				Y==Y+1
   906				 >
   907
   908	000756'	000000	000000	 EXP Y*NC
   909			000001	Y==Y+1
   910 
   911
   912	000757'	000000	000025	 EXP Y*NC
   913			000002	Y==Y+1
   914 
   915
   916	000760'	000000	000052	 EXP Y*NC
   917			000003	Y==Y+1
   918 
   919
   920	000761'	000000	000077	 EXP Y*NC
   921			000004	Y==Y+1
   922 
   923
   924	000762'	000000	000124	 EXP Y*NC
   925			000005	Y==Y+1
   926 
   927
   928	000763'	000000	000151	 EXP Y*NC
   929			000006	Y==Y+1
   930 
   931
   932	000764'	000000	000176	 EXP Y*NC
   933			000007	Y==Y+1
   934 
   935
   936	000765'	000000	000223	 EXP Y*NC
   937			000010	Y==Y+1
   938 
   939				; SOME STORAGE ARRAYS
   940	000766'			DNOR: BLOCK ^D256*3      ;DONOR CHECK BLOCK
   941	002366'			RCVR: BLOCK ^D256*3      ;RECEIVER CHECK BLOCK
   942	003766'			ST:   BLOCK ^D256       ;COUNT OF CHAR. FREQUENCY INDEXED BY CHAR
   943	004366'			STE:
   944	004366'			RANKT: BLOCK ^D256      ;CHARACTER VALUE INDEXED BY RANK
   945	004766'			RANKC:          ;RANK INDEXED BY CHARACTER VALUE
   946	004766'			WORK: BLOCK ^D256
   947
   948				; SUBROUTINES USED TO SWITCH TO COMPRESSION BY RANK METHOD
   949
   950	005366'	400000	000000	SORT: SETZ R0,
   951	005367'	200040	005511'	 MOVE R1,[ST-STE,,RANKT]
   952	005370'	202001	000000	 MOVEM 0(R1)    ;INITIALIZE RANKT
   953	005371'	271000	000001	 ADDI 1
   954	005372'	253040	005370'	 AOBJN R1,.-2
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-13
TRANS.MAC	23-DEC-86 12:29	

   955				; MOVE ST TO WORK
   956	005373'	200040	005512'	 MOVE R1,[ST,,WORK]
   957	005374'	251040	000000*	 BLT R1,WORK+STE-ST-1
   958				; DO SORT
   959	005375'	201040	000377	 MOVEI R1,STE-ST-1
   960	005376'	200100	000001	SORT1: MOVE R2,R1
   961	005377'	200002	004766'	SORT2: MOVE WORK(R2)
   962	005400'	317001	004766'	 CAMG WORK(R1)
   963	005401'	254000	005412'	 JRST SORT4
   964	005402'	365100	005377'	SORT3: SOJGE R2,SORT2
   965	005403'	365040	005376'	 SOJGE R1,SORT1
   966				; INVERT RANKT TO RANKC
   967	005404'	201040	000377	 MOVEI R1,STE-ST-1
   968	005405'	200101	004366'	 MOVE R2,RANKT(R1)
   969	005406'	202042	004766'	 MOVEM R1,RANKC(R2)
   970	005407'	365040	005405'	 SOJGE R1,.-2
   971	005410'	660700	000001	 TRO F,SORTFG           ;INDICATE SORT AS DONE
   972	005411'	263740	000000	 POPJ P,
   973				; SWITCH ITEMS
   974	005412'	250001	004766'	SORT4: EXCH R0,WORK(R1)
   975	005413'	202002	004766'	 MOVEM WORK(R2)
   976	005414'	200002	004366'	 MOVE RANKT(R2)
   977	005415'	250001	004366'	 EXCH R0,RANKT(R1)
   978	005416'	202002	004366'	 MOVEM RANKT(R2)
   979	005417'	254000	005402'	 JRST SORT3
   980
   981				; TEST TO SEE IF COMPRESSION BY RANK METHOD IS LIKELY TO FAIL.
   982				;       NO SKIP FOR SUCCESS
   983				;       SKIP FOR FAILURE
   984				; T1=TOTAL OF CHARS RANKC(0) THRU RANKC(20)  (COMBINING)
   985				; T2=TOTAL OF CHARS RANKC(62) THRU RANKC(255)  (REQUIRING ESCAPE)
   986	005420'	400000	000000	THRESH: SETZ R0,
   987	005421'	200140	005513'	 MOVE R3,[-NC,,RANKT]
   988	005422'	200103	000000	 MOVE R2,0(R3)
   989	005423'	270002	003766'	 ADD ST(R2)
   990	005424'	253140	005422'	 AOBJN R3,.-2
   991	005425'	202000	000000*	 MOVEM T1
   992	005426'	400000	000000	 SETZ R0,
   993	005427'	200140	005514'	 MOVE R3,[NT+ST-STE,,RANKT+NT]
   994	005430'	200103	000000	 MOVE R2,0(R3)
   995	005431'	270002	003766'	 ADD ST(R2)
   996	005432'	253140	005430'	 AOBJN R3,.-2
   997	005433'	202000	000000*	 MOVEM T2
   998				; DO NOT COMPRESS IF TRUE.  ASSUME ONLY 10 PCT. OF COMBINING CHARS COMBINE
   999				;       TO MAKE TEST SENSITIVE TO PRESENCE OF CHARS REQUIRING ESCAPE
  1000				; .9*T1 + 2*T2 + [NT+2] > T1 + T2
  1001				; T2 + [NT+2] > .1*T1
  1002				; 10*T2 + 10*[NT+2] > T1
  1003	005434'	200000	005433*	 MOVE T2
  1004	005435'	221000	000012	 IMULI ^D10
  1005	005436'	271000	001200	 ADDI ^D10*<NT+2>
  1006	005437'	250000	005425*	 EXCH R0,T1
  1007	005440'	317000	005437*	 CAMG T1
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 1-14
TRANS.MAC	23-DEC-86 12:29	

  1008	005441'	350017	000000	CPOPJ1: AOS (P)
  1009	005442'	263740	000000	CPOPJ: POPJ P,
  1010
  1011				; SKIP IF COMPRESSION BY RANK SHOULD NOT BE APPLIED
  1012
  1013	005443'	200040	000151*	SWAC: MOVE R1,COPT      ;PICK UP COMPRESSION OPTIONS
  1014	005444'	606040	000002	 TRNN R1,ASCII
  1015	005445'	254000	005441'	 JRST CPOPJ1
  1016	005446'	200000	000000*	 MOVE CCR               ;ASSUME WE WILL GET 50% COMPRESSION
  1017	005447'	307000	000200	 CAIG 2*<NT+2>          ;ARE THERE ENUF CHARS LEFT TO JUSTIFY SENDING RANKT
  1018	005450'	254000	005441'	 JRST CPOPJ1            ;NO
  1019	005451'	602040	000001	 TRNE R1,AUTO           ;TEST FOR AUTO OPTION
  1020	005452'	260740	005420'	 PUSHJ P,THRESH         ;PERFORM TEST
  1021	005453'	263740	000000	 POPJ P,                ;NON-SKIP RETURN FOR SUCCESS
  1022	005454'	254000	005441'	 JRST CPOPJ1            ;INSUFFICIENT COMPRESSION
  1023
  1024				; SELECT DUPLICATE OR COMPRESSION BY RANK METHOD
  1025	005455'	200000	005515'	SWBAC: MOVE [PUSHJ P,BCTRANS]
  1026	005456'	202000	000000*	 MOVEM TRANS            ;DUPLICATE COMPRESSION ASSUMED
  1027	005457'	201000	000110	 MOVEI BCMCOD
  1028	005460'	202000	000514*	 MOVEM RECTYP
  1029	005461'	260740	005366'	 PUSHJ P,SORT
  1030	005462'	200240	004366'	 MOVE PREFER,RANKT
  1031				; TEST TO SEE IF WE SHOULD BE USING COMPRESSION BY RANK
  1032	005463'	260740	005443'	 PUSHJ P,SWAC
  1033	005464'	254000	005466'	 JRST TA4       ;YES
  1034	005465'	263740	000000	 POPJ P,        ;NO
  1035	005466'	201000	000111	TA4: MOVEI ACMCOD
  1036	005467'	202000	005460*	 MOVEM RECTYP
  1037	005470'	200000	005516'	 MOVE [PUSHJ P,ACTRANS]
  1038	005471'	202000	005456*	 MOVEM TRANS
  1039	005472'	263740	000000	 POPJ P,
  1040
  1041				 END
  1042
NO ERRORS DETECTED
PROGRAM BREAK IS 005517
3K CORE USED
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 2
TRANS.MAC	23-DEC-86 12:29		SYMBOL TABLE

A		000676'		BADCOD		000145	SPD	DNRCOD		000101	SPD	LPAREN		000050	SPD
A0		000525'		BCMCOD		000110	SPD	EDIT10		100000	SPD	LT		000075	SPD
A0A		000530'		BCR		000073'	ENT	EM		000031	SIN	LUDFLG		000001	SPD
A0B		000531'		BCR1X		000132'	EXT	EORCOD		000134	SPD	MASKFG		000400	SPD
A0C		000540'		BCR2		000115'		EOTCOD		000135	SPD	MAXC		000073	SPD
A0D		000543'		BCR3		000110'		ERASCD		000150	SPD	MAXP		000202	SPD
A0E		000551'		BCR5		000121'		ERRCOD		000146	SPD	MAXPA		000021	SPD
AAR1		000001'	ENT	BCR6		000127'		ESC		000033	SIN	MAXRS		050000	SPD
AAR1X		000054'	EXT	BCR8		000135'		ETX		000003	SIN	MBOT		000100	SPD
AAR2		000035'		BCRCAN		000134'		F		000016		MINC		000004	SPD
AAR4		000042'		BCT0		000151'		FATTCD		000141	SPD	MINP		000003	SPD
AAR5		000051'		BCT1		000154'		FCK1		000000	SPD	MINPA		000002	SPD
AAR7		000016'		BCT2		000166'		FCK2		000400	SPD	MINRS		010000	SPD
AARCAN		000056'		BCTRAN		000140'	ENT	FCK3		001000	SPD	MS1		000722'	
ABTCOD		000107	SIN	BDIAG		000142'	EXT	FENQCD		000140	SPD	MS2		000731'	
AC1		000677'	ENT	BGC		005475'	EXT	FEXT		000003	SPD	MS3		000753'	
AC2		000701'		BI		004000	SPD	FILFND		040000	SPD	MSGSW		002000	SPD
AC3		000702'		BIASA		000032	SPD	FINCD1		000114	SPD	MTOP		000177	SPD
AC4		000705'		BIASC		000010	SPD	FINCD2		000115	SPD	NAKCOD		000113	SPD
AC5		000715'		BIASP		000200	SPD	FIXCOD		000130	SPD	NC		000025	SPD
AC6		000746'	EXT	BIASPA		000010	SPD	FLKCOD		000103	SPD	NCRT		000756'	
ACKCOD		000112	SPD	BINCAP		000020	SIN	FLKFCD		000106	SPD	NICOD		000133	SPD
ACMCOD		000111	SPD	BL		000040	SPD	FLKRCD		000153	SPD	NM		000010	SPD
ACR		000000'	ENT	BZCOD		000120	SPD	FLKSCD		000161	SPD	NOECHO		000200	SPD
ACR1X		000071'	EXT	C		000007		FNAME		000020	SPD	NONE		000400	SIN
ACR2		000060'		CAN		000030	SIN	FPFCOD		000116	SPD	NT		000076	SPD
ACR3		000061'		CCR		005446'	EXT	FSIZE	777777	777777	SPD	OB		000037	SPD
ACR4		000062'		CHGFLG		000200	SPD	G		000723'	EXT	OICH		000003	SPD
ACR5		000004'		CHKCOD		000132	SPD	GS		000012		OICHI		000004	SPD
ACR5A		000011'		CLRBFI	006000	000000		GX		000013		ONLCOD		000122	SPD
ACR6		000065'		CLRBFO	005000	000000		HSW		000002	SPD	OPFCOD		000117	SPD
ACR7		000067'		CLRBO		000007	SIN	HT		000011	SPD	OPNCOD		000137	SPD
ACRCAP		000100	SIN	COLON		000072	SPD	IBIO		000034	SPD	OUTCHI	004000	000000	
ACTRAN		000507'	ENT	COPT		005443'	EXT	IGNEOF		000100	SPD	OUTCHR	003000	000000	
AD0		000557'		CPACOD		000121	SPD	IICHS		000001	SPD	OUTSTR	001000	000000	
AD1A		000560'		CPOPJ		005442'	ENT	IICHW		000000	SPD	P		000017	
AD1B		000565'		CPOPJ1		005441'	ENT	ILLCHR		200000	SPD	PCH		000135'	EXT
AD1C		000575'		CR		000015	SPD	INBS		000036	SPD	PERCOD		000147	SPD
AD1D		000606'		CW		000674'	EXT	INBW		000035	SPD	PREFER		000005	
AD1E		000611'		D0		000262'		INCHWL	002000	000000		PS		000014	
AD1F		000623'		D1		000263'		INSCOD		000142	SPD	PX		000015	
AD3		000635'		D1A		000324'		IODEND		020000	SPD	QUICOD		000136	SIN
AD5		000641'		D1B		000327'		IOMOD		000014	SPD	R0		000000	
AD7		000646'		D1C		000341'		IXMODE		000345	SIN	R1		000001	
AD9		000654'		D2		000201'		KATCAP		000040	SIN	R2		000002	
ADIAG		000511'	EXT	D3		000353'		KMODE		000407	SIN	R3		000003	
AMODE		000311	SIN	D4		000217'		LBIO		000042	SPD	R4		000004	
AS		000011		D5		000365'		LC		000024	SPD	R5		000005	
AS2		000665'		D7		000406'		LCO		000004	SPD	RANK		000010	
AS4		000671'		D8		000331'		LEFTFG		000010	SPD	RANKC		004766'	
ASCII		000002	SIN	D9		000434'		LF		000012	SPD	RANKT		004366'	ENT
ASCSTG		000052	SPD	DEFFLG		001000	SPD	LM		000007	SPD	RC		000004	
AUTO		000001	SIN	DNOR		000766'	ENT	LOGCOD		000131	SIN	RCC		000006	
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87 PAGE 2-2
TRANS.MAC	23-DEC-86 12:29		SYMBOL TABLE

RCVCOD		000102	SPD	U		000006	SPD	
RCVR		002366'	ENT	ULKCOD		000105	SPD	
RECTYP		005467'	EXT	ULKFCD		000154	SPD	
RPAREN		000051	SPD	ULKSCD		000160	SPD	
RS		000036	SPD	UNAME		000015	SPD	
RSPCOD		000144	SIN	UPDCAP		000010	SIN	
S0		000170'		UPDMOD		000040	SPD	
S0A		000173'		US		000037	SIN	
S0B		000174'		VARCOD		000127	SPD	
S0C		000212'		VERNUM		000001	SIN	
S0D		000237'		WHYCOD		000143	SIN	
S0E		000242'		WORK		004766'		
S0F		000252'		XMODE		000351	SIN	
S1		000200'		Y		000010	SPD	
S2		000445'		YELLOW		000012	SIN	
S3		000216'		..0001		000210'		
S4		000457'		..0002		000234'		
S5		000244'		..0003		000236'		
S6		000500'		..0004		000320'		
SDVIOS		000032	SPD	..0005		000323'		
SERFLG		000020	SPD	..0006		000363'		
SLVPRT		000043	SPD	..0007		000403'		
SMODE		001000	SIN	..0010		000405'		
SORT		005366'		..0011		000430'		
SORT1		005376'		..0012		000433'		
SORT2		005377'		..0013		000455'		
SORT3		005402'		..0014		000475'		
SORT4		005412'		..0015		000477'		
SORTFG		000001	SPD	
ST		003766'	ENT	
STE		004366'	ENT	
SUCCOD		000104	SPD	
SWAC		005443'		
SWB		020000	SPD	
SWBAC		005455'	ENT	
SYS		000017	SPD	
T1		005440'	EXT	
T2		005434'	EXT	
TA4		005466'		
TABSIZ		000010	SPD	
TBI		000040	SPD	
TBO		000041	SPD	
TESTNG		000001	SPD	
THRESH		005420'		
TI		010000	SPD	
TR1		000720'		
TR2		000745'		
TRANS		005471'	EXT	
TRAP		000043'	EXT	
TRICOD		000125	SPD	
TRPCOD		000152	SPD	

TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Symbol cross reference

A	   712	   718	   728	   744	   753	   763	   775	   849#
A0	   696	   712#	   742	   801
A0A	   715#	   807	   814	   822	   834
A0B	   713	   716#
A0C	   719	   725#
A0D	   728#	   737
A0E	   729	   735#
AAR1	   285	   303#	   342	   356	   367
AAR1X	   291%	   303	   337	   341	   351	   355
AAR2	   336	   338#
AAR4	   322	   344#
AAR5	   350	   352#
AAR7	   305	   321#
AARCAN	   324	   358#
ABTCOD	    28#
AC1	   285	   850#	   854
AC2	   852#	   875
AC3	   853#	   865	   893
AC4	   851	   856#
AC5	   865#	   887
AC6	   293%	   853	   863	   886	   892
ACKCOD	    31#
ACMCOD	    30#	  1035
ACR	   282	   300#	   365
ACR1X	   291%	   300	   318	   368	   371
ACR2	   309	   362#
ACR3	   363#
ACR4	   359	   364#
ACR5	   308#	   339
ACR5A	   314#	   353
ACR6	   317	   367#
ACR7	   315	   369#
ACRCAP	     2#
ACTRAN	   282	   695#	  1037
AD0	   717	   743#
AD1A	   744#	   840	   846
AD1B	   745	   751#
AD1C	   754	   761#
AD1D	   764	   772#
AD1E	   775#	   790
AD1F	   776	   788#
AD3	   752	   803#
AD5	   762	   809#
AD7	   773	   816#
AD9	   789	   824#
ADIAG	   289%	   697
AMODE	   113#
AS	   272#	   849	   854	   865	   875	   887	   893
AS2	   726	   836#
AS4	   736	   842#
ASCII	   131#	  1014
ASCSTG	   177#
AUTO	   130#	   434	  1019
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Symbol cross reference

BADCOD	    93#
BCMCOD	    29#	  1027
BCR	   282	   378#	   396	   413	   416
BCR1X	   291%	   378	   391	   395	   408	   412
BCR2	   386	   397#
BCR3	   390	   392#
BCR5	   398	   403#
BCR6	   407	   409#
BCR8	   381	   393	   410	   415#
BCRCAN	   383	   414#
BCT0	   422	   433#
BCT1	   436#	   448
BCT2	   441	   447#
BCTRAN	   282	   421#	  1025
BDIAG	   289%	   423
BGC	   288%	   326	   334	   340	   354	   358	   384	   394	   405	   411	   414
BI	   249#
BIASA	   144#	   308	   311	   362	   716	   722	   725	   735	   838	   869	   877	   889	   891	   895
	   899
BIASC	   137#	   332	   403	   565	   580	   646	   781	   796	   828
BIASP	   134#	   385	   388	   504	   516	   689
BIASPA	   141#	   347	   731	   740	   843
BINCAP	     4#
BL	   125#
BZCOD	    41#
C	   268#	   304	   308	   311	   312	   313	   321	   323	   327	   332	   333	   335	   338	   345
	   347	   348	   352	   362	   363	   369	   379	   380	   382	   385	   388	   389	   392	   397
	   403	   404	   406	   409	   425	   428	   431	   439	   440	   442	   444	   446	   453	   454
	   462	   463	   464	   466	   468	   471	   479	   480	   481	   483	   485	   487	   489	   495
	   502	   504	   505	   508	   513	   516	   520	   524	   529	   535	   536	   537	   539	   541
	   543	   545	   547	   549	   556	   563	   565	   566	   569	   572	   577	   580	   583	   587
	   589	   590	   591	   593	   595	   599	   601	   602	   603	   605	   607	   609	   611	   618
	   620	   621	   622	   624	   626	   628	   630	   632	   634	   642	   644	   646	   647	   650
	   654	   656	   657	   658	   660	   662	   666	   668	   669	   670	   672	   674	   676	   678
	   685	   687	   689	   690	   699	   702	   708	   715	   716	   722	   725	   731	   732	   735
	   740	   743	   748	   751	   756	   761	   766	   772	   779	   781	   782	   785	   788	   793
	   796	   799	   803	   805	   809	   810	   816	   817	   824	   826	   828	   829	   832	   836
	   838	   842	   843	   844	   853	   856	   857	   858	   860	   866	   869	   872	   876	   877
	   879	   880	   881	   883	   888	   889	   891	   892	   894	   895	   898	   899
CAN	   120#	   321	   380	   440	   444	   464	   466	   481	   483	   487	   537	   539	   543	   547
	   591	   593	   603	   605	   609	   622	   624	   628	   632	   658	   660	   670	   672	   676
	   866
CCR	   293%	  1016
CHGFLG	   245#
CHKCOD	    61#
CLRBO	   166#
COLON	   128#
COPT	   293%	   433	  1013
CPACOD	    43#
CPOPJ	   284	  1009#
CPOPJ1	   284	  1008#	  1015	  1018	  1022
CR	   119#
CW	   288%	   426	   429	   432	   445	   447	   467	   469	   484	   486	   488	   490	   492	   493
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Symbol cross reference

	   503	   506	   514	   517	   540	   542	   544	   546	   548	   550	   552	   553	   554	   564	   567
	   570	   578	   581	   584	   594	   596	   606	   608	   610	   612	   614	   615	   625	   627
	   629	   631	   633	   635	   637	   638	   639	   645	   648	   651	   661	   663	   673	   675
	   677	   679	   681	   682	   688	   691	   700	   703	   709	   723	   733	   741	   749	   758
	   759	   768	   769	   770	   780	   783	   786	   794	   797	   800	   806	   812	   813	   819
	   820	   821	   827	   830	   833	   839	   845
D0	   455	   520#
D1	   521#	   664	   683	   692
D1A	   532	   556#
D1B	   559#	   574
D1C	   560	   572#
D2	   461#	   523
D3	   525	   587#
D4	   478#	   528
D5	   530	   599#
D7	   557	   618#
D8	   562#
D9	   573	   642#
DEFFLG	   247#
DNOR	   286	   940#
DNRCOD	    12#
EDIT10	   253#
EM	   121#	   304	   323	   379	   382	   425	   439	   463	   480	   502	   513	   536	   563	   577
	   590	   602	   621	   644	   657	   669	   687	   699	   779	   793	   826
EORCOD	    63#
EOTCOD	    64#
ERASCD	    96#
ERRCOD	    94#
ESC	   122#
ETX	   116#
F	   277#	   421	   695	   704	   706	   971
FATTCD	    85#
FCK1	   152#
FCK2	   153#
FCK3	   154#
FENQCD	    83#
FEXT	   157#
FILFND	   252#
FINCD1	    33#
FINCD2	    38#
FIXCOD	    58#
FLKCOD	    14#
FLKFCD	    27#
FLKRCD	    98#
FLKSCD	   101#
FNAME	   160#
FPFCOD	    39#
FSIZE	   156#
G	   291%	   436	   450	   456	   473	   498	   521	   526	   531	   559	   850	   873
GS	   273#
GX	   274#
HSW	   239#	   421	   695
HT	   117#
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Symbol cross reference

IBIO	   169#
IGNEOF	   244#
IICHS	   163#
IICHW	   162#
ILLCHR	   254#
INBS	   171#
INBW	   170#
INSCOD	    89#
IODEND	   180#
IOMOD	   179#
IXMODE	   111#
KATCAP	     3#
KMODE	   109#
LBIO	   175#
LC	   148#	   881
LCO	   240#
LEFTFG	   241#
LF	   118#
LM	   146#	   858
LOGCOD	    60#
LPAREN	   126#
LT	   150#	   860	   883
LUDFLG	   236#
MASKFG	   246#
MAXC	   138#	   558	   565	   580	   646	   774	   781	   796	   828
MAXP	   135#	   497	   504	   516	   689
MAXPA	   142#	   727	   731	   740	   843
MAXRS	   104#
MBOT	    11#
MINC	   139#	   332	   403	   558	   565	   580	   646	   774	   781	   796	   828
MINP	   136#	   388	   497	   504	   516	   689
MINPA	   143#	   347	   727	   731	   740	   843
MINRS	   105#
MS1	   859	   872#
MS2	   874	   879#
MS3	   882	   898#
MSGSW	   248#
MTOP	   102#
NAKCOD	    32#
NC	   147#	   148	   312	   908	   912	   916	   920	   924	   928	   932	   936	   987
NCRT	   898	   902#
NICOD	    62#
NM	   145#	   146	   903
NOECHO	   181#
NONE	   132#
NT	   149#	   150	   308	   311	   707	   716	   722	   725	   735	   838	   899	   993	  1005	  1017
OB	   172#
OICH	   164#
OICHI	   165#
ONLCOD	    48#
OPFCOD	    40#
OPNCOD	    67#
P	   278#	   319	   326	   329	   330	   334	   340	   354	   358	   366	   372	   384	   394	   400
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Symbol cross reference

	   401	   405	   411	   414	   417	   423	   426	   429	   432	   438	   445	   447	   452	   467	   469
	   470	   484	   486	   488	   490	   492	   493	   494	   503	   506	   507	   514	   517	   540
	   542	   544	   546	   548	   550	   552	   553	   554	   555	   564	   567	   570	   571	   578
	   581	   584	   594	   596	   606	   608	   610	   612	   614	   615	   625	   627	   629	   631
	   633	   635	   637	   638	   639	   645	   648	   651	   661	   663	   673	   675	   677	   679
	   681	   682	   688	   691	   697	   700	   703	   705	   709	   712	   714	   718	   723	   724
	   728	   733	   734	   741	   744	   749	   750	   753	   758	   759	   760	   763	   768	   769
	   770	   771	   775	   780	   783	   786	   787	   794	   797	   800	   806	   812	   813	   819
	   820	   821	   827	   830	   833	   839	   845	   852	   855	   867	   870	   878	   890	   896
	   900	   972	  1008	  1009	  1020	  1021	  1025	  1029	  1032	  1034	  1037	  1039
PCH	   291%	   314	   364	   370	   415
PERCOD	    95#
PREFER	   265#	   392	   431	   454	   459	   471	   476	   495	   508	   656	   662	   668	   674	   678
	  1030
PS	   275#
PX	   276#
QUICOD	    65#
R0	   256#	   434	   950	   974	   977	   986	   992	  1006
R1	   257#	   856	   862	   863	   879	   885	   886	   951	   952	   954	   956	   957	   959	   960
	   962	   965	   967	   968	   969	   970	   974	   977	  1013	  1014	  1019
R2	   258#	   707	   708	   710	   960	   961	   964	   968	   969	   975	   976	   978	   988	   989
	   994	   995
R3	   261#	   453	   587	   599	   618	   642	   715	   803	   809	   816	   824	   987	   988	   990
	   993	   994	   996
R4	   262#
R5	   264#
RANK	   270#	   349	   369	   872	   876	   888	   894	   898
RANKC	   857	   880	   945#	   969
RANKT	   286	   313	   352	   363	   369	   708	   944#	   951	   968	   976	   977	   978	   987	   993
	  1030
RC	   263#	   335	   338	   406	   409	   442	   446	   459	   462	   468	   476	   479	   485	   489
	   520	   524	   529	   535	   541	   545	   549	   556	   569	   572	   583	   589	   595	   601
	   607	   611	   620	   626	   630	   634	   650	   654	   666	   685	   743	   748	   751	   756
	   761	   766	   772	   785	   788	   799	   805	   810	   817	   832	   836	   842
RCC	   266#	   333	   339	   348	   353	   389	   393	   404	   410	   497	   505	   510	   558	   566
	   574	   647	   690	   727	   732	   737	   774	   782	   790	   829	   844
RCVCOD	    13#
RCVR	   286	   941#
RECTYP	   293%	   428	   702	  1028	  1036
RPAREN	   127#
RS	   123#
RSPCOD	    91#
S0	   435	   450#	   518	   585
S0A	   453#	   597	   616	   640	   652
S0B	   451	   454#
S0C	   457	   471#
S0D	   474	   495#
S0E	   498#	   510
S0F	   499	   508#
S1	   459#
S2	   472	   654#
S3	   476#
S4	   496	   666#
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Symbol cross reference

S5	   501#
S6	   509	   685#
SDVIOS	   168#
SERFLG	   242#
SLVPRT	   176#
SMODE	   110#
SORT	   705	   950#	  1029
SORT1	   960#	   965
SORT2	   961#	   964
SORT3	   964#	   979
SORT4	   963	   974#
SORTFG	   238#	   704	   706	   971
ST	   286	   942#	   951	   956	   957	   959	   967	   989	   993	   995
STE	   286	   943#	   951	   957	   959	   967	   993
SUCCOD	    20#
SWAC	  1013#	  1032
SWB	   251#
SWBAC	   283	  1025#
SYS	   159#
T1	   293%	   991	  1006	  1007
T2	   293%	   997	  1003
TA4	  1033	  1035#
TABSIZ	   115#
TBI	   173#
TBO	   174#
TESTNG	     7#
THRESH	   986#	  1020
TI	   250#
TR1	   861	   869#
TR2	   884	   891#
TRANS	   291%	  1026	  1038
TRAP	   288%	   346
TRICOD	    53#
TRPCOD	    97#
TRUCOD	    51#
TSTRS	   106#
U	   187#	   188	   188#	   189	   189#	   190	   190#	   191	   191#	   192	   192#	   193	   193#	   194
ULKCOD	    21#
ULKFCD	    99#
ULKSCD	   100#
UNAME	   158#
UPDCAP	     5#
UPDMOD	   243#
US	   124#
UUOFLG	   183	   189	   190	   191	   192	   193	   194
VARCOD	    56#
VERNUM	     9#
WHYCOD	    90#
WORK	   946#	   956	   957	   961	   962	   974	   975
XMODE	   112#
Y	   901#	   908	   909	   909#	   912	   913	   913#	   916	   917	   917#	   920	   921	   921#	   924
	   925	   925#	   928	   929	   929#	   932	   933	   933#	   936	   937	   937#
YELLOW	   167#
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Symbol cross reference

..0001	   465	   469#
..0002	   482	   492#
..0003	   491	   494#
..0004	   538	   552#
..0005	   551	   555#
..0006	   592	   596#
..0007	   604	   614#
..0010	   613	   616#
..0011	   623	   637#
..0012	   636	   640#
..0013	   659	   663#
..0014	   671	   681#
..0015	   680	   683#
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Macro/Opdef cross reference

CLRBFI	   194#
CLRBFO	   193#
INCHWL	   190#
OPD	   184#	   188	   189	   190	   191	   192	   193
OUTCHI	   192#
OUTCHR	   191#
OUTSTR	   189#
W	   194#	   424	   427	   430	   443	   466	   483	   485	   487	   489	   501	   512	   515	   539
	   541	   543	   545	   547	   549	   562	   568	   576	   579	   582	   593	   605	   607	   609
	   611	   624	   626	   628	   630	   632	   634	   643	   649	   660	   672	   674	   676	   678
	   686	   698	   701	   721	   739	   747	   778	   784	   792	   795	   798	   804	   825	   831
	   837
W1	   198#	   461	   588	   655
W2	   207#	   478	   600	   667
W3	   220#	   534	   619
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Opcode cross reference

ADD	   898	   989	   995
ADDI	   869	   877	   889	   891	   895	   899	   953	  1005
AOBJN	   710	   954	   990	   996
AOS	   329	   400	   852	  1008
BLOCK	   940	   941	   942	   944	   946
BLT	   957
CAIE	   323	   382	   716	   725	   735
CAIG	   304	   308	   321	   327	   379	   380	   385	   397	   439	   440	   463	   464	   480	   481
	   536	   537	   590	   591	   602	   603	   621	   622	   657	   658	   669	   670	   858	   860
	   881	   883	  1017
CAME	   454	   471	   495	   508	   524	   529	   556	   572	   751	   761	   772	   788
CAMG	   962	  1007
DEFINE	   184	   194	   198	   207	   220
END	  1041
ENTRY	   282	   283	   284	   285	   286
EXCH	   974	   977	  1006
EXP	   908	   912	   916	   920	   924	   928	   932	   936
EXTERN	   288	   289	   291	   293
IDIVI	   312
IFDEF	   183	   189	   190	   191	   192	   193	   194
IFG	   345
IMULI	  1004
IORI	   862	   885
JRST	   305	   309	   315	   317	   322	   324	   328	   336	   342	   350	   356	   359	   365	   367
	   381	   383	   386	   390	   396	   398	   407	   413	   416	   422	   435	   437	   441	   448
	   451	   455	   457	   465	   472	   474	   482	   491	   496	   499	   509	   518	   522	   523
	   525	   527	   528	   530	   532	   538	   551	   557	   560	   573	   585	   592	   597	   604
	   613	   616	   623	   636	   640	   652	   659	   664	   671	   680	   683	   692	   696	   713
	   717	   719	   726	   729	   736	   742	   745	   752	   754	   762	   764	   773	   776	   789
	   801	   807	   814	   822	   834	   840	   846	   849	   851	   859	   861	   874	   882	   884
	   963	   979	  1015	  1018	  1022	  1033
JSR	   346
MOVE	   313	   317	   336	   338	   340	   350	   352	   354	   363	   367	   369	   390	   392	   394
	   407	   409	   411	   425	   428	   431	   433	   444	   446	   453	   459	   462	   466	   468
	   476	   479	   483	   485	   487	   489	   502	   513	   516	   535	   539	   541	   543	   545
	   547	   549	   563	   569	   577	   580	   583	   589	   593	   595	   601	   605	   607	   609
	   611	   620	   624	   626	   628	   630	   632	   634	   644	   650	   656	   660	   662	   668
	   672	   674	   676	   678	   687	   699	   702	   707	   708	   715	   722	   740	   748	   756
	   766	   779	   785	   793	   796	   799	   805	   810	   817	   826	   832	   838	   853	   857
	   876	   880	   888	   894	   951	   956	   960	   961	   968	   976	   987	   988	   993	   994
	  1003	  1013	  1016	  1025	  1030	  1037
MOVEI	   497	   504	   558	   565	   646	   689	   727	   731	   774	   781	   828	   843	   854	   865
	   866	   875	   887	   893	   959	   967	  1027	  1035
MOVEM	   318	   333	   335	   337	   341	   348	   351	   355	   368	   389	   391	   395	   404	   406
	   408	   412	   442	   520	   587	   599	   618	   642	   654	   666	   685	   743	   803	   809
	   816	   824	   836	   842	   856	   863	   872	   879	   886	   892	   952	   969	   975	   978
	   991	   997	  1026	  1028	  1036	  1038
OPDEF	   189	   190	   191	   192	   193	   194
POPJ	   319	   330	   366	   372	   401	   417	   438	   452	   470	   494	   507	   555	   571	   714
	   724	   734	   750	   760	   771	   787	   855	   867	   870	   878	   890	   896	   900	   972
	  1009	  1021	  1034	  1039
PUSHJ	   326	   334	   340	   354	   358	   384	   394	   405	   411	   414	   423	   426	   429	   432
	   445	   447	   467	   469	   484	   486	   488	   490	   492	   493	   503	   506	   514	   517
TRANS -- ROUTINES FOR TRANSMITTING AND RECEIVING DATA	MACRO 12.5-46.0 08:13 25-OCT-87
TRANS.MAC	23-DEC-86 12:29		Opcode cross reference

	   540	   542	   544	   546	   548	   550	   552	   553	   554	   564	   567	   570	   578	   581	   584
	   594	   596	   606	   608	   610	   612	   614	   615	   625	   627	   629	   631	   633	   635
	   637	   638	   639	   645	   648	   651	   661	   663	   673	   675	   677	   679	   681	   682
	   688	   691	   697	   700	   703	   705	   709	   712	   718	   723	   728	   733	   741	   744
	   749	   753	   758	   759	   763	   768	   769	   770	   775	   780	   783	   786	   794	   797
	   800	   806	   812	   813	   819	   820	   821	   827	   830	   833	   839	   845	  1020	  1025
	  1029	  1032	  1037
REPEAT	   483	   492	   539	   552	   605	   614	   624	   637	   672	   681	   757	   767	   811	   818
	   903
SETZ	   349	   950	   986	   992
SOJGE	   339	   353	   393	   410	   510	   574	   737	   790	   964	   965	   970
SUB	   505	   566	   647	   690	   732	   782	   829	   844
SUBI	   311	   332	   347	   362	   388	   403
TITLE	   279
TRNE	   434	  1019
TRNN	   345	   704	  1014
TRO	   971
TROE	   421	   695
TRZ	   706
XCT	   300	   303	   314	   364	   370	   371	   378	   415	   436	   450	   456	   473	   498	   521
	   526	   531	   559	   850	   873. 