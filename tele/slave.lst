SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
TPARAM	23-DEC-86 12:29		USRPPN - LUD ROUTINES

     1				;PROGRAM CAPABILITIES
     2			000100	ACRCAP==:100                 ;I MAY RECEIVE RANK COMPRESSED DATA RECORD
     3			000040	KATCAP==:40                  ;I MAY RECEIVE KATAKANA DATA
     4			000020	BINCAP==:20                  ;I MAY RECEIVE BINARY DATA
     5			000010	UPDCAP==:10                  ;I MAY RECEIVE BINARY UPDATE MODE DATA
     6				;ASSEMBLY AND TEST SWITCHES
     7			000001	TESTNG== 1                   ;PRINT LOGIN MESSAGES FROM SLAVE HOST
     8				;PROTOCOL VERSION
     9			000001	VERNUM==:1
    10				;MESSAGE TYPES
    11			000100	MBOT== 100      ;LOWER BOUND FOR MESSAGE TYPES
    12			000101	DNRCOD== 101 ;REQUEST SLAVE TO BE DONOR.  NO RESPONSE.
    13			000102	RCVCOD== 102 ;REQUEST SLAVE TO BE RECEIVER.  NO RESPONSE.
    14			000103	FLKCOD== 103 ;ASCII FILE NAME FOLLOWS AFTER 1 BYTE GIVING COUNT.
    15				;              (RETURNS FAILCD IF FILE NOT FOUND OR FLKSCD IF FILE FOUND.
    16				;              (IF THE SLAVE & CONTROLLER ARE BOTH 940 THEN THE USUAL
    17				;              (SECURITY RULES ARE RELAXEED AND THE LOOKUP SUCCEEDS
    18				;              (IF THE FILE IS PRESENT, RETURNING 9 BYTES CONTAINING
    19				;              (INFORMATION FROM THE FIRST 3 WORDS OF THE FD ENTRY.
    20			000104	SUCCOD== 104 ;OPTION ACCEPTED
    21			000105	ULKCOD== 105 ;ASCII USERNAME FOLLOWS AFTER 1 BYTE GIVING COUNT.
    22				;              (LOOKS UP THE USER NAME IN THE LUD AND RETURNS A ULKSCD IF
    23				;              (FOUND AND A ULKRCD IF NOT FOUND.  IF THE SLAVE & CONTROLLER
    24				;              (ARE BOTH 940 THEN A SUPER GFD IS PERFORMED TO REACH THE
    25				;              (FILE DIRECTORY OF THE SPECIFIED USER, AND GAN, FDPT, AND UUN
    26				;              (FROM THE LUD ENTRY ARE RETURNED AS 9 BYTES.
    27			000106	FLKFCD== 106 ;FILE NOT FOUND--NOT CONSIDERED AN ERROR
    28			000107	ABTCOD==: 107 ;STOP WHAT YOU ARE DOING, ABORT
    29			000110	BCMCOD== 110 ;START DATA RECORD, BINARY COMPRESSION METHOD
    30			000111	ACMCOD== 111 ;START DATA RECORD, ASCII COMPRESSION METHOD
    31			000112	ACKCOD== 112 ;ACKNOWLEDGEE RECORD CHECKSUM AND BYTECOUNT MATCH
    32			000113	NAKCOD== 113 ;CHECKSUM AND/OR BYTECOUNT DO NOT MATCH
    33			000114	FINCD1== 114 ;DONOR HAS SENT ALL RECORDS IN FILE AND IS HAPPY.  FOLLOWED
    34				;              (BY 1 BYTE COUNT OF BYTES FOLLOWING  TOTAL FILE BYTES SENT
    35				;              (BY DONOR.  USED BY UPDATE MODE CLOSE TO TRUNCATE FILE TO
    36				;              (THE CORRECT DATA LENGTH.  WHEN DONOR AND RECEIVER
    37				;              (ARE BOTH 940 THIS WILL BE 3 BYTES CONTAINING CPTOP.
    38			000115	FINCD2== 115 ;RECEIVER HAS WRITTEN AND CLOSED FILE SUCCESSFULLY
    39			000116	FPFCOD== 116 ;FILE PROTECTION FAILURE
    40			000117	OPFCOD== 117 ;OPEN FAILURE
    41			000120	BZCOD==  120 ;BUFFER ZAPPED
    42				; OPTION TYPES 121-130 RESPOND 104 OR 133 IF NOT IMPLEMENTED
    43			000121	CPACOD== 121 ;SPECIFY COMPRESSION.  FOLLOWED BY 1 BYTE
    44				;              (0= NONE
    45				;              (1= BINARY
    46				;              (2= ASCII
    47				;              (3= ASCII AUTO
    48			000122	ONLCOD== 122 ;ON LOWER CASE.  FOLLOWED BY A BYTE OF ALL 1'S TO PERMIT
    49				;              (LOWER CASE, ALL 0'S TO CONVERT LOWER TO UPPER CASE
    50				;              (DEFAULT IS TO PERMIT LOWER CASE
    51			000124	TRUCOD== 124 ;FOLLOWED BY 1 BYTE INDICATING COLUMN TO BEGIN
    52				;              (TRUNCATION.  IF 0 THEN TURN OFF TRUNCATION.
    53			000125	TRICOD== 125 ;REMOVE TRAILING BLANKS.  FOLLOWED BY A BYTE OF ALL 1'S
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-2
TPARAM	23-DEC-86 12:29		USRPPN - LUD ROUTINES

    54				;              (TO SUPPRESS TRAILING BLANKS OR A BYTE OF ALL 0'S TO KEEP
    55				;              (TRAILING BLANKS  (DEFAULT)
    56			000127	VARCOD== 127 ;PRODUCE VARIABLE LENGTH RECORDS (DEFAULT)
    57				;              (FOLLOWED BY 4 BYTES GIVING MAXIMUM RECORD SIZE
    58			000130	FIXCOD== 130 ;PAD WITH BLANKS TO MAKE FIXED LENGTH RECORDS.
    59				;              (FOLLOWED BY 4 BYES OF RECORD LENGTH.
    60			000131	LOGCOD==:131 ;TELL SLAVE TO LOG OFF
    61			000132	CHKCOD== 132 ;START DATA CHECKSUM RECORD
    62			000133	NICOD==  133 ;REQUESTED OPERATION IS NOT IMPLEMENTED
    63			000134	EORCOD== 134 ;END OF TRANSMISSION RECORD
    64			000135	EOTCOD== 135 ;TRANSMISSION RECORD IS LAST IN FILE
    65			000136	QUICOD==:136 ;ABORT THE CURRENT OPERATION, QUIT SLAVE, AND RETURN
    66				;              (TO OPERATING SYSTEM COMMAND LEVEL.
    67			000137	OPNCOD== 137 ;REQUEST SLAVE OPEN FILE FOR DATA TRANSFER (DIRECTION
    68				;              (DETERMINED BY PREVIOUS 101 OR 102 CODE.  FOLLOWED BY 1 BYTE
    69				;              (TRANSMISSION TYPE, AND POSSIBLY, OTHER BYTES
    70				;              (TYPE = 1 ASCII MODE TRANSFER.  NO BYTES FOLLOW
    71				;              (TYPE = 2 EBCDIC MODE TRANSFER.  NO BYTES FOLLOW
    72				;              (TYPE = 3 BINARY MODE TRANSFER.  THE RECEIVE FILE, IF
    73				;              (PRESENT, IS TO BE ERASED.  FOLLOWED BY 1 BYTE OF BINARY
    74				;              (PARAMETERS.
    75				;              (TYPE = 4 BINARY UPDATE MODE TRANSFER.  DONOR AND RECEIVER
    76				;              (WILL EXCHANGE CHECK RECORDS.  FOLLOWED BY 1 BYTE OF BINARY
    77				;              (PARAMETERS AND 2 BYTES OF UPDATE MODE BLOCKSIZE.
    78				;              (TYPE = 5 KATAKANA MODE TRANSFER.  NO BYTES FOLLOW
    79				;              (TYPE = 6 IMAGE MODE TRANSFER.  NO BYTES FOLLOW
    80				;              (POSSIBLE RESPONSES ARE  133 (UPDATE MODE NOT IMPLEMENTED
    81				;              (OR PARAMETERS NOT ACCEPTABLE), 104 (FILE OPENED), 116
    82				;              (FILE PROTECTION FAILURE), OR 117 (FILE OPEN FAILURE).
    83			000140	FENQCD== 140 ;REQUEST SLAVE DONOR TO SEND FILE ATTRIBUTES.  RETURNS 104
    84				;              (PLUS 1 BYTE COUNT OF BYTES FOLLOWING.
    85			000141	FATTCD== 141 ;PREPARE SLAVE RECEIVER TO OPEN FILE.  FOLLOWED BY 1 BYTE
    86				;              (COUNT OF BYTES FOLLOWING.  WHEN DONOR AND RECEIVER ARE BOTH
    87				;              (940 SEND 9 BYTES  3 BYTES FFDPT, 3 BYTES FDWD0, AND
    88				;              (3 BYTES FDWD2.  NO RESPONSE IS GIVEN.
    89			000142	INSCOD== 142 ;SET INSTALLER LICENSE.  FOLLOWED BY 6 BYTE CIPHER.
    90			000143	WHYCOD==: 143 ;SOLICIT EXPLANATION OF LATEST ERROR
    91			000144	RSPCOD==: 144 ;CODE FOLLOWED BY ASCII STRING TO BE PRINTED AT TERMINAL
    92				;              (STRING TERMINATED BY A NUL BYTE OR ANY CONTROL CODE.
    93			000145	BADCOD== 145 ;UNEXPECTED CONTROL CODE RECEIVED
    94			000146	ERRCOD== 146 ;FILE SYSTEM ERROR WRITING OR READING FILE
    95			000147	PERCOD== 147 ;FILE SYSTEM ERROR POSITIONING FILE
    96			000150	ERASCD== 150 ;FILE SYSTEM ERROR ERASING RECEIVE FILE
    97			000152	TRPCOD== 152 ;PROGRAM TRAP
    98			000153	FLKRCD== 153 ;LOOKUP FAILURE--PROBABLY SYNTAX
    99			000154	ULKFCD== 154 ;GFD FAILURE
   100			000160	ULKSCD== 160 ;GFD SUCCESS
   101			000161	FLKSCD== 161 ;FILE LOOKUP SUCCESS
   102			000177	MTOP== 177      ;UPPER BOUND FOR MESSAGE TYPES
   103				;TRANSMISSION PARAMETERS
   104			050000	MAXRS== ^D512*^D40             ;MAXIMUM RECORD SIZE--40 PAGES
   105			010000	MINRS== ^D512*^D8            ;MININUM RECORD SIZE--8 PAGES
   106			014000	TSTRS== ^D6144                 ;SAMPLE SIZE FOR STATISTICS (CONSTANT)
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-3
TPARAM	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   107				;                               WILL BE 2 PAGES FOR BF=6
   108				;BINARY PARAMETERS FOR ASCII, KATAKANA, AND IMAGE MODE
   109			000407	KMODE==:  407                   ;1000+0011+1=BYTESIZE=9,BLOCKING=4,FILL=LEFT
   110			001000	SMODE==: 1000                   ;000+0000+0  INDICATES SERIAL MODE
   111			000345	IXMODE==: 345            ;111+0010+1==BYTESIZE=8,BLOCKING=3,FILL=LEFT
   112			000351	XMODE==: 351            ;111+0100+1==BYTESIZE=8,BLOCKING=5,FILL=LEFT
   113			000311	AMODE==: 311            ;110+0100+1==BYTESIZE=7,BLOCKING=5,FILL=LEFT
   114				;ASCII CHARACTER VALUES
   115			000010	TABSIZ== 10
   116			000003	ETX==: 3        ;CONTROL-C
   117			000011	HT== 11
   118			000012	LF== 12
   119			000015	CR== 15
   120			000030	CAN==: 30
   121			000031	EM==: 31
   122			000033	ESC==: 33
   123			000036	RS== 36
   124			000037	US==: 37
   125			000040	BL== 40
   126			000050	LPAREN== 50
   127			000051	RPAREN== 51
   128			000072	COLON== 72
   129				;COMPRESSION OPTIONS
   130			000001	AUTO==:1
   131			000002	ASCII==:2
   132			000400	NONE==: 400  ;NO OPTIONS, SET TO KEEP COPT NON-ZERO
   133				;REPEATED CHAR COMPRESSION PARAMETERS
   134			000200	BIASP== 200                ;BIAS FOR PREFERRED CHARACTER COMPRESSION CODE
   135			000202	MAXP== ^D130                 ;MAXIMUM COUNT FOR PREFERRED CHARACTER
   136			000003	MINP== 3                   ;MININUM COUNT FOR PREFERRED CHARACTER
   137			000010	BIASC== 10                 ;BIAS FOR REPEATED CHARACTER COMPRESSION CODE
   138			000073	MAXC== ^D59                  ;MAXIMUM COUNT FOR REPEATED CHARACTER
   139			000004	MINC== 4                   ;MININUM COUNT FOR REPEATED CHARACTER
   140				;RANK COMPRESSION PARAMETERS
   141			000010	BIASPA== 10                  ;BIAS FOR PREFERRED BYTE COMPRESSION CODE
   142			000021	MAXPA== ^D17                  ;MAXIMUM COUNT FOR PREFERRED BYTE
   143			000002	MINPA== 2                   ;MININUM COUNT FOR PREFERRED BYTE
   144			000032	BIASA== 32                 ;BIAS FOR ALL TRANSLATING CHARACTERS
   145			000010	NM== ^D8                   ;MASTER CHARACTERS-- 32 THRU 41
   146			000007	LM== NM-1
   147			000025	NC== ^D21                  ;COMBINING CHARACTERS-- 32 THRU 56
   148			000024	LC== NC-1
   149			000076	NT== ^D62                    ;TRANSLATING CHARACTERS-- 32 THRU 127
   150			000075	LT== NT-1
   151				; CHECK BLOCK LAYOUT
   152			000000	FCK1== 0
   153			000400	FCK2== ^D256
   154			001000	FCK3== ^D512
   155				; DONOR AND RECEIVER FILENAME INDEXES
   156		777777	777777	FSIZE== -1
   157			000003	FEXT== 3
   158			000015	UNAME== 15
   159			000017	SYS== 17
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-4
TPARAM	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   160			000020	FNAME== 20
   161				; AUXCAL DEFINITIONS
   162			000000	IICHW== 0       ;INPUT IMAGE CHAR, WAIT
   163			000001	IICHS== 1       ;INPUT IMAGE CHAR, SKIP
   164			000003	OICH== 3        ;OUTPUT IMAGE CHAR
   165			000004	OICHI== 4       ;OUTPUT IMAGE CHAR IMMEDIATE
   166			000007	CLRBO==:7       ;CLEAR OUTPUT BUFFER
   167			000012	YELLOW==: 12     ;SEND YELLOW BALL
   168			000032	SDVIOS== 32     ;SET DEVIOS
   169			000034	IBIO== 34       ;INITIATE BLOCK I/O MODE
   170			000035	INBW== 35       ;INPUT A BLOCK (WAIT)
   171			000036	INBS== 36       ;INPUT A BLOCK (SKIP)
   172			000037	OB== 37         ;OUTPUT A BLOCK
   173			000040	TBI== 40        ;TERMINATE BLOCK INPUT
   174			000041	TBO== 41        ;TERMINATE BLOCK OUTPUT
   175			000042	LBIO== 42       ;LEAVE BLOCK I/O MODE
   176			000043	SLVPRT== 43     ;SLAVE COMMAND PORT
   177			000052	ASCSTG== 52     ;OUTPUT ASCII STRING
   178				; DEVIOS BITS
   179			000014	IOMOD==14       ;BINARY MODE
   180			020000	IODEND==20000   ;MASK FOR IODEND BIT (BIT 22)
   181			000200	NOECHO==200     ;NO ECHO BIT (AFFECTS COMMAND PORT)
   182				; UUO DEFINITIONS
   183				IFDEF UUOFLG<UUOTAB: BLOCK 0>
   184				DEFINE  OPD     (A,B) <U==U+1
   185				OPDEF A [U*1000000000]
   186				IFDEF UUOFLG<JRST B>>
   187			000000	U==0
   188			000001	 OPD OUTSTR,OSTRUU^U==U+1
   189			000002	 OPD INCHWL,INCHUU^U==U+1
   190			000003	 OPD OUTCHR,OCHRUU^U==U+1
   191			000004	 OPD OUTCHI,OCHIUU^U==U+1
   192			000005	 OPD CLRBFO,CLROUU^U==U+1
   193			000006	 OPD CLRBFI,CLRIUU^U==U+1
   194				;***  WARNING *** FLAGS IN MASTER ARE NOT PRESERVED FROM ONE FILE TO NEXT
   195				;***    SEE "SAVREG" IN TELECO.MAC WHICH ZEROES ALL ACCUMULATORS
   196				;FLAGS IN LH OF ACCUMULATOR F
   197			000001	LUDFLG== 1      ;LUD HAS BEEN OPENED IF 1
   198				;FLAGS IN RH OF ACCUMULATOR F
   199			000001	SORTFG== 1     ;SORT HAS BEEN PERFORMED IF 1
   200			000002	HSW== 2        ;RECORD HEADER HAS BEEN CREATED IF 1
   201			000004	LCO== 4        ;PERMIT LOWER CASE OUTPUT IF 1
   202			000010	LEFTFG== 10    ;LEFT FILL IF 1
   203			000020	SERFLG== 20    ;SERIAL MODE IF 1
   204			000040	UPDMOD== 40    ;READ CONTENTS FROM FILE BEFORE WRITING IF 1
   205			000100	IGNEOF== 100   ;IGNORE END OF BLOCK IF 1
   206			000200	CHGFLG== 200   ;PAGE CHANGED BY MASKING OPERATION IF 1
   207			000400	MASKFG== 400   ;PAGE MUST BE MASKED PRIOR TO USE
   208			001000	DEFFLG== 1000   ;IINIT TO CALL ROUTINE "DEFER" WHEN BLOCK INPUT DONE
   209			002000	MSGSW==  2000   ;ONCE-ONLY FLAG FOR COPYST
   210			004000	BI==     4000   ;INDICATES BLOCK INPUT STARTED IF 1
   211			010000	TI==    10000   ;INDICATES BLOCK INPUT TERMINATED IF 1
   212			020000	SWB==   20000   ;ONCE-ONLY SWITCH FOR SWBAC
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
FLAGS	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   213			040000	FILFND==  40000  ;FILE FOUND BY SLAVE IF 1.
   214			100000	EDIT10== 100000 ;EDIT-10 FILE BEING TRANSMITTED IN ASCII MODE IF 1
   215			200000	ILLCHR== 200000 ;DISALLOWED CHAR IN FILENAME (SEE GET10)
   216				; GENERAL-PURPOSE REGISTERS  (TOUCHED BY EVERYONE)
   217			000000	R0=0
   218			000001	R1=1
   219			000002	R2=2
   220				;REGISTERS TOUCHED ONLY BY A,ACTRANS,BCTRANS
   221				;R3-R5 USED IN CHECKSUMMING FILE (BEFORE TRANSMISSION)
   222			000003	R3=3            ;HOLDING REGISTER FOR C.  PRESERVE IN CW AND W MACROS
   223			000004	R4=4
   224			000004	RC=4          ;HOLDING REGISTER.  PRESERVE IN CW AND W MACROS.
   225			000005	R5=5
   226			000005	PREFER=5        ;PREFERRED COMPRESSION CHAR.
   227			000006	RCC=6            ;REGISTER USED FOR REPEAT COUNT
   228				; SPECIAL PURPOSE REGISTERS
   229			000007	C=7             ;CHARACTER BEING READ(WRITTEN) FROM(TO) FILE OR BEING
   230				;               WRITTEN(READ) TO(FROM) OUTPUT(INPUT) BUFFER.
   231			000010	RANK=10         ;RANK OF FIRST(SECOND) CHAR OF A MASTER-COMBINING
   232				;               PAIR.  **MUST** FOLLOW C.
   233			000011	AS=11           ;STATE FOR ROUTINE A.
   234			000012	GS=12           ;STATE FOR ROUTINE GB.
   235			000013	GX=13           ;INDEX FOR ROUTINE GB.
   236			000014	PS=14           ;STATE FOR ROUTINE PB.
   237			000015	PX=15           ;INDEX FOR ROUTINE PB.
   238			000016	F=16            ;FLAGS
   239			000017	P=17            ;PUSHDOWN LIST POINTER
   240				;CHANNEL ASSIGNMENTS
   241			000001	FIL== 1
   242			000002	TRPDSK== 2
   243			000003	LUD== 3
   244				DEFINE LNKMSG(A),<
   245				 MOVEI C,A
   246				 PUSHJ P,SCOD
   247				 PUSHJ P,SNDYEL
   248				 >
   249				DEFINE DI(A,%B,%C),<
   250				 HRLZ R0,C
   251				 MOVE R1,[%C,,%B]
   252				 HRR (R1)
   253				 CAME (R1)
   254				 AOBJN R1,.-2
   255				 TLNN R1,400000
   256				 JSR BAD
   257				 HRRZ R1,(R1)
   258				 JRST @R1
   259				%B:
   260				 IRP A,<
   261				 DIS A
   262				 >
   263				%C==%B-.
   264				 >
   265				DEFINE DIS(A),<
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
DI	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   266				 XWD A
   267				 >
   268				TITLE SLAVE - SLAVE FOR PDP - 10 TELECOPY
   269
   270				ENTRY GD,RESET
   271				ENTRY CKTIM,ABT,COPYST,ZAPINT,ESCRTN,PANIC,RBLK,DBLK,CLRCIR
   272				 ENTRY ADIAG,BDIAG
   273				;EXTERNAL ROUTINES REFERENCED
   274				EXTERN RF,TF,GC,GCOD,BIOMOD,BIOEND,SBYTE,SCOD,SNDYEL,CPOPJ1
   275				EXTERN CRASH,TRAP,BAD,OPF,FPF,UIO
   276				;EXTERNAL STORAGE USED
   277				EXTERN CHCNT,NONAME,SYSTYP,SW10,SW940,SW370
   278				EXTERN AUXPRT,BMOD,MASTER,DONOR,TIMFLG
   279				EXTERN BPARAM,RPARAM,TPARAM,RMODE,TMODE,COPT
   280				EXTERN FIX,VRECL
   281				EXTERN RBCNT,RBNAM,RBEXT,RBPPN,RBLIC,FDLIC,OFDLIC
   282	000137			LOC 137
   283	000137	000001	000001	1,,1
   284	000000'			RELOC
   285	000000'			PDL: BLOCK 40
   286	000040'			UNAM: BLOCK ^D16
   287			000042'	FNAM==UNAM+2
   288	000060'	000000	000000	UNAMEE: 0
   289	000061'	047000	000000	START: RESET
   290	000062'	400000	000000	 SETZ R0,
   291	000063'	201740	000001	 MOVEI P,R1
   292	000064'	251740	000016	 BLT P,F
   293	000065'	200740	001375'	 MOVE P,[IOWD 40,PDL]
   294	000066'	402000	000000*	 SETZM BMOD     ;NOT IN BLOCK I/O MODE
   295	000067'	476000	000000*	 SETOM AUXPRT
   296	000070'	402000	000000*	 SETZM MASTER
   297				 IFG 0,<HRROI R1,SLVPRT
   298				 AUXCAL R1,R1
   299				 HALT
   300				 MOVEM R1,AUXPRT>
   301	000071'	504040	000067*	 HRL R1,AUXPRT
   302	000072'	541040	000032	 HRRI R1,SDVIOS
   303	000073'	042040	000214	 AUXCAL R1,IOMOD+NOECHO
   304	000074'	260740	000000*	 PUSHJ P,BIOMOD         ;ENTER BLOCK I/O MODE
   305				; INITIALIZE INTERRUPTS
   306	000075'	201040	000410'	        MOVEI R1,INTTAB
   307	000076'	505040	000006	        HRLI R1,6       ;ENABLE AND CLEAR INTERRUPT SYSTEM
   308	000077'	047040	777745	        INTADR R1,
   309	000100'	255000	000000	        JFCL
   310	000101'	550040	000071*	        HRRZ R1,AUXPRT
   311	000102'	505040	007001	        HRLI R1,7001    ;CIR ZAP (7) ON CHANNEL 1
   312	000103'	047040	777736	        TINASS R1,
   313	000104'	255000	000000	        JFCL
   314	000105'	505040	000004	        HRLI R1,4
   315	000106'	541040	000002	        HRRI R1,2        ;TIMER (4) AN CHANNEL 2
   316	000107'	047040	777742	        INTASS R1,
   317	000110'	255000	000000	        JFCL
   318	000111'	550040	000101*	        HRRZ R1,AUXPRT
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   319	000112'	541040	005003	        HRRI R1,5003    ;CHARS LOST (5) ON CHANNEL 3
   320	000113'	047040	777736	        S R1,
   321	000114'	255000	000000	        JFCL
   322	000115'	205040	740000	        MOVSI R1,740000
   323	000116'	047040	777744	        INTENB R1,      ;ENABLE CHANNELS 1-3
   324	000117'	255000	000000	        JFCL
   325	000120'	400040	000000	        SETZ R1,
   326	000121'	047040	777741	        SETTIM R1,
   327	000122'	255000	000000	        JFCL
   328	000123'	200040	001376'	        MOVE R1,[XWD 1,^D300]   ;5 MINUTES
   329	000124'	047040	777741	        SETTIM R1,
   330	000125'	255000	000000	        JFCL
   331	000126'	402000	000000*	        SETZM TIMFLG    ;DON'T IGNORE TIMEOUTS NOW.
   332				; HANDSHAKE CODE
   333	000127'	201340	000001	 MOVEI C,1
   334	000130'	260740	000000*	 PUSHJ P,SBYTE
   335	000131'	201340	000002	 MOVEI C,2
   336	000132'	260740	000130*	 PUSHJ P,SBYTE
   337	000133'	201340	000003	 MOVEI C,3
   338	000134'	260740	000132*	 PUSHJ P,SBYTE
   339	000135'	201340	000004	 MOVEI C,4
   340	000136'	260740	000134*	 PUSHJ P,SBYTE
   341	000137'	201340	000173	 MOVEI C,3+ACRCAP+KATCAP+BINCAP+UPDCAP
   342	000140'	260740	000136*	 PUSHJ P,SBYTE
   343	000141'	201340	000001	 MOVEI C,VERNUM
   344	000142'	260740	000140*	 PUSHJ P,SBYTE
   345	000143'	260740	000000*	START1: PUSHJ P,GC
   346	000144'	302340	000001	 CAIE C,1
   347	000145'	254000	000143'	 JRST START1
   348	000146'	260740	000143*	 PUSHJ P,GC
   349	000147'	302340	000002	 CAIE C,2
   350	000150'	254000	000143'	 JRST START1
   351	000151'	260740	000146*	 PUSHJ P,GC
   352	000152'	302340	000003	 CAIE C,3
   353	000153'	254000	000143'	 JRST START1
   354	000154'	260740	000151*	 PUSHJ P,GC
   355	000155'	302340	000004	 CAIE C,4
   356	000156'	254000	000143'	 JRST START1
   357	000157'	260740	000161'	 PUSHJ P,GSYSTYP
   358	000160'	254000	000235'	 JRST GD
   359
   360	000161'	260740	000154*	GSYSTYP: PUSHJ P,GC
   361	000162'	405340	000177	 ANDI C,177
   362	000163'	202340	000000*	        MOVEM C,SYSTYP
   363	000164'	606340	000170	        TRNN C,170
   364	000165'	264000	000000*	        JSR TRAP
   365	000166'	402000	000000*	        SETZM SW10
   366	000167'	402000	000000*	        SETZM SW940
   367	000170'	402000	000000*	        SETZM SW370
   368	000171'	260740	000161*	        PUSHJ P,GC
   369	000172'	302000	000001	        CAIE VERNUM
   370	000173'	264000	000165*	RESET: JSR TRAP
   371				; SET DEFAULT PARAMETERS FOR THIS TYPE OF CONTROLLER
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-2
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   372	000174'	200040	000163*	        MOVE R1,SYSTYP
   373	000175'	405040	000007	        ANDI R1,7
   374	000176'	254001	000177'	        JRST .+1(R1)
   375	000177'	264000	000173*	        JSR TRAP        ;0
   376	000200'	254000	000221'	        JRST SET940     ;1
   377	000201'	264000	000177*	        JSR TRAP        ;2
   378	000202'	254000	000212'	        JRST SET10      ;3
   379	000203'	254000	000207'	        JRST SET370     ;4
   380	000204'	264000	000201*	        JSR TRAP        ;5
   381	000205'	264000	000204*	        JSR TRAP        ;6
   382	000206'	264000	000205*	        JSR TRAP        ;7
   383	000207'	476000	000170*	SET370: SETOM SW370
   384	000210'	201100	000001	        MOVEI R2,AUTO
   385	000211'	254000	000223'	        JRST SET9A
   386	000212'	476000	000166*	SET10:  SETOM SW10
   387	000213'	201040	000351	        MOVEI R1,XMODE
   388	000214'	202040	000000*	        MOVEM R1,TPARAM
   389	000215'	202040	000000*	        MOVEM R1,RPARAM
   390	000216'	201040	000003	        MOVEI R1,3      ;BINARY MODE
   391	000217'	201100	000003	        MOVEI R2,AUTO+ASCII
   392	000220'	254000	000231'	        JRST SET9B
   393	000221'	476000	000167*	SET940: SETOM SW940
   394	000222'	201100	000003	        MOVEI R2,AUTO+ASCII
   395	000223'	201040	000001	SET9A:  MOVEI R1,1
   396	000224'	202040	000000*	        MOVEM R1,TMODE
   397	000225'	201040	000311	        MOVEI R1,AMODE
   398	000226'	202040	000214*	        MOVEM R1,TPARAM
   399	000227'	202040	000215*	        MOVEM R1,RPARAM
   400	000230'	334040	000224*	        SKIPA R1,TMODE
   401	000231'	202040	000230*	SET9B:  MOVEM R1,TMODE
   402	000232'	202040	000000*	        MOVEM R1,RMODE
   403	000233'	202100	000000*	        MOVEM R2,COPT
   404	000234'	263740	000000	        POPJ P,
   405
   406				; GENERAL DISPATCHER
   407	000235'	070040	000040	GD: CLOSE FIL,40        ;KEEP FILE OUT OF UFD
   408	000236'	071040	000000	 RELEASE FIL,
   409	000237'	476000	000126*	 SETOM TIMFLG           ;IGNORE TIMEOUTS
   410	000240'	200740	001375'	 MOVE P,[IOWD 40,PDL]
   411	000241'	260740	000000*	 PUSHJ P,GCOD
   412				 DI <<DNRCOD,SEND>,<RCVCOD,REC>,<LOGCOD,LOG>,<QUICOD,QUIT>,<WHYCOD,WHY>>^
   413	000242'	514000	000007	 HRLZ R0,C
   414	000243'	200040	001377'	 MOVE R1,[..0001,,..0002]
   415	000244'	540001	000000	 HRR (R1)
   416	000245'	312001	000000	 CAME (R1)
   417	000246'	253040	000244'	 AOBJN R1,.-2
   418	000247'	607040	400000	 TLNN R1,400000
   419	000250'	264000	000000*	 JSR BAD
   420	000251'	550041	000000	 HRRZ R1,(R1)
   421	000252'	254020	000001	 JRST @R1
   422	000253'	000101	000551'	 XWD DNRCOD,SEND
   423	000254'	000102	000600'	 XWD RCVCOD,REC
   424	000255'	000131	000520'	 XWD LOGCOD,LOG
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-3
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   425	000256'	000136	000355'	 XWD QUICOD,QUIT
   426	000257'	000143	000537'	 XWD WHYCOD,WHY
   427
   428	000260'			SETVAR: REPEAT 4,<PUSHJ P,GC>
   429	000260'	260740	000171*	PUSHJ P,GC
   430	000261'	260740	000260*	PUSHJ P,GC
   431	000262'	260740	000261*	PUSHJ P,GC
   432	000263'	260740	000262*	PUSHJ P,GC
   433	000264'	525340	377777	 HRLOI C,377777
   434	000265'	202340	000000*	 MOVEM C,VRECL
   435	000266'	402000	000000*	 SETZM FIX
   436	000267'			SETV1: LNKMSG SUCCOD^
   437	000267'	201340	000104	 MOVEI C,SUCCOD
   438	000270'	260740	000000*	 PUSHJ P,SCOD
   439	000271'	260740	000000*	 PUSHJ P,SNDYEL
   440	000272'	264000	000351'	 JSR RETURN
   441
   442	000273'			SETFIX: REPEAT 4,<PUSHJ P,GC>
   443	000273'	260740	000263*	PUSHJ P,GC
   444	000274'	260740	000273*	PUSHJ P,GC
   445	000275'	260740	000274*	PUSHJ P,GC
   446	000276'	260740	000275*	PUSHJ P,GC
   447	000277'			SETF1: LNKMSG NICOD^
   448	000277'	201340	000133	 MOVEI C,NICOD
   449	000300'	260740	000270*	 PUSHJ P,SCOD
   450	000301'	260740	000271*	 PUSHJ P,SNDYEL
   451	000302'	264000	000351'	 JSR RETURN
   452
   453	000303'			TRIM:
   454	000303'	260740	000276*	TRUNCATE: PUSHJ P,GC
   455	000304'	307340	000000	 CAIG C,0
   456	000305'	254000	000267'	 JRST SETV1
   457	000306'	254000	000277'	 JRST SETF1
   458
   459	000307'	260740	000303*	ONLC: PUSHJ P,GC
   460	000310'	620700	000004	 TRZ F,LCO      ;ASSUME LOWER CASE OUTPUT PROHIBITTED
   461	000311'	602340	000200	 TRNE C,200
   462	000312'	660700	000004	 TRO F,LCO      ;PERMIT
   463	000313'	254000	000267'	 JRST SETV1
   464
   465	000314'	260740	000307*	CPAR: PUSHJ P,GC
   466	000315'	307340	000003	 CAIG C,ASCII+AUTO
   467	000316'	254000	000320'	 JRST .+2
   468	000317'	254000	000277'	 JRST SETF1
   469	000320'	202340	000233*	 MOVEM C,COPT
   470	000321'	254000	000267'	 JRST SETV1
   471
   472	000322'	201340	000104	SFATT: MOVEI C,SUCCOD
   473	000323'	260740	000300*	 PUSHJ P,SCOD
   474	000324'	201340	000006	 MOVEI C,6
   475	000325'	260740	000142*	 PUSHJ P,SBYTE
   476	000326'	201040	000006	 MOVEI R1,6
   477	000327'	200100	001400'	 MOVE R2,[POINT 6,RBLIC]
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-4
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   478	000330'	134340	000002	 ILDB C,R2
   479	000331'	260740	000325*	 PUSHJ P,SBYTE
   480	000332'	367040	000330'	 SOJG R1,.-2
   481	000333'	260740	000301*	 PUSHJ P,SNDYEL
   482	000334'	264000	000351'	 JSR RETURN
   483
   484	000335'	336000	000212*	RFATT: SKIPN SW10
   485	000336'	264000	000250*	 JSR BAD
   486	000337'	260740	000314*	 PUSHJ P,GC
   487	000340'	405340	000177	 ANDI C,177
   488	000341'	302340	000006	 CAIE C,6
   489	000342'	264000	000206*	 JSR TRAP
   490	000343'	201040	000006	 MOVEI R1,6
   491	000344'	200100	001401'	 MOVE R2,[POINT 6,FDLIC]
   492	000345'	260740	000337*	 PUSHJ P,GC
   493	000346'	136340	000002	 IDPB C,R2
   494	000347'	367040	000345'	 SOJG R1,.-2
   495	000350'	264000	000351'	 JSR RETURN
   496
   497	000351'	000000	000000	RETURN: 0
   498	000352'	336000	000000*	 SKIPN DONOR
   499	000353'	254000	000602'	 JRST RMOD
   500	000354'	254000	000553'	 JRST SMOD
   501
   502	000355'	525040	377777	QUIT: HRLOI R1,377777
   503	000356'	047040	777744	 INTENB R1,
   504	000357'	255000	000000	 JFCL
   505	000360'	260740	000000*	 PUSHJ P,BIOEND
   506	000361'	047000	000000	 RESET
   507	000362'	047040	000012	 EXIT 1,
   508
   509				; TIMER INTERRUPT
   510	000363'	336000	000237*	TIMADR: SKIPN TIMFLG
   511	000364'	254000	000375'	        JRST TIMA1
   512	000365'	331000	000363*	        SKIPL TIMFLG
   513	000366'	402000	000365*	        SETZM TIMFLG
   514	000367'	261740	000001	        PUSH P,R1
   515	000370'	200040	001376'	        MOVE R1,[XWD 1,^D300]
   516	000371'	047040	777741	        SETTIM R1,
   517	000372'	255000	000000	        JFCL
   518	000373'	262740	000001	        POP P,R1
   519	000374'	047000	777755	        DISMIS
   520	000375'	264000	000000*	TIMA1: IFG TESTNG,<JSR CRASH>
   521	000376'	201040	000520'	        MOVEI R1,ENDIT
   522	000377'	202040	000412'	        MOVEM R1,TIMRTN-1
   523	000400'	047000	777755	        DISMIS
   524
   525				; BUFFER ZAP
   526	000401'	264000	000375*	BZADR: IFG TESTNG,<JSR CRASH>
   527	000402'	200040	000520'	 MOVE R1,ENDIT
   528	000403'	202040	000414'	 MOVEM R1,BZRTN-1
   529	000404'	047000	777755	 DISMIS
   530
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-5
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   531				; CIRCUIT ZAP
   532	000405'	200040	000520'	ZAPADR: MOVE R1,ENDIT
   533	000406'	202040	000410'	 MOVEM R1,ZAPRTN-1
   534	000407'	047000	777755	 DISMIS
   535
   536	000410'	000000	000000	INTTAB: 0
   537	000411'	000000	000405'	ZAPRTN: ZAPADR          ;CIRCUIT ZAP ON CHANNEL 1
   538	000412'	000000	000000	        0
   539	000413'	000000	000363'	TIMRTN: TIMADR          ;TIMER ON CHANNEL 2
   540	000414'	000000	000000	        0
   541	000415'	000000	000401'	BZRTN: BZADR            ;BUFFER ZAP ON CHANNEL 3
   542	000416'			        BLOCK ^D70-6
   543
   544	000516'	000000	000000	ZAPINT: 0       ;JSR HERE TO FAKE CIRCUIT ZAP INTERRUPT
   545	000517'	264000	000401*	 IFG TESTNG,<JSR CRASH>
   546	000520'			LOG:
   547	000520'	525040	377777	ENDIT:  HRLOI R1,377777
   548	000521'	047040	777744	        INTENB R1,      ;DISABLE ALL CHANNELS
   549	000522'	255000	000000	        JFCL
   550	000523'	260740	000360*	        PUSHJ P,BIOEND  ;LEAVE BLOCK I/O MODE
   551	000524'	047000	000000	        RESET
   552	000525'	205040	000001	        MOVSI R1,1
   553	000526'	541040	000531'	 HRRI R1,LOGNAM
   554	000527'	047040	000035	 RUN R1,
   555	000530'	254200	000000	 HALT
   556	000531'	637163	000000	LOGNAM: SIXBIT /SYS/
   557	000532'	545747	576564	 SIXBIT /LOGOUT/
   558	000533'	000000	000000	 EXP 0,0,0,0
	000534'	000000	000000
	000535'	000000	000000
	000536'	000000	000000
   559
   560				; PRINT LATEST ERROR INFORMATION
   561	000537'	201340	000144	WHY:    MOVEI C,RSPCOD
   562	000540'	260740	000323*	        PUSHJ P,SCOD
   563	000541'	504040	000111*	        HRL R1,AUXPRT
   564	000542'	541040	000052	        HRRI R1,ASCSTG  ;OUTPUT ASCII STRING
   565	000543'	042040	000547'	        AUXCAL R1,WHYNOT
   566	000544'	541040	000004	        HRRI R1,OICHI   ;OUTPUT IMAGE CHAR IMMEDIATE
   567	000545'	042040	000000	        AUXCAL R1,0
   568	000546'	254000	000235'	        JRST GD
   569	000547'	536213	120234	WHYNOT: ASCIZ "WHY NOT?"
	000550'	476507	700000
   570
   571	000551'	476000	000352*	SEND: SETOM DONOR
   572	000552'	402000	000366*	 SETZM TIMFLG           ;STOP IGNORING TIMEOUTS
   573	000553'	260740	000241*	SMOD: PUSHJ P,GCOD
   574				 DI <<FLKCOD,GFNAM>,<FENQCD,SFATT>,<OPNCOD,TFBEG>,<CPACOD,CPAR>,<ONLCOD,ONLC>,<TRUCOD,TRUNCATE>
   575				,<TRICOD,TRIM>,<VARCOD,SETVAR>,<FIXCOD,SETFIX>,<OPFCOD,OPF>,<FPFCOD,FPF>>^
   576	000554'	514000	000007	 HRLZ R0,C
   577	000555'	200040	001402'	 MOVE R1,[..0003,,..0004]
   578	000556'	540001	000000	 HRR (R1)
   579	000557'	312001	000000	 CAME (R1)
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-6
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   580	000560'	253040	000556'	 AOBJN R1,.-2
   581	000561'	607040	400000	 TLNN R1,400000
   582	000562'	264000	000336*	 JSR BAD
   583	000563'	550041	000000	 HRRZ R1,(R1)
   584	000564'	254020	000001	 JRST @R1
   585	000565'	000103	000674'	 XWD FLKCOD,GFNAM
   586	000566'	000140	000322'	 XWD FENQCD,SFATT
   587	000567'	000137	000627'	 XWD OPNCOD,TFBEG
   588	000570'	000121	000314'	 XWD CPACOD,CPAR
   589	000571'	000122	000307'	 XWD ONLCOD,ONLC
   590	000572'	000124	000303'	 XWD TRUCOD,TRUNCATE
   591	000573'	000125	000303'	 XWD TRICOD,TRIM
   592	000574'	000127	000260'	 XWD VARCOD,SETVAR
   593	000575'	000130	000273'	 XWD FIXCOD,SETFIX
   594	000576'	000117	000000*	 XWD OPFCOD,OPF
   595	000577'	000116	000000*	 XWD FPFCOD,FPF
   596
   597	000600'	402000	000551*	REC: SETZM DONOR
   598	000601'	402000	000552*	 SETZM TIMFLG           ;STOP IGNORING TIMEOUTS
   599	000602'	260740	000553*	RMOD: PUSHJ P,GCOD
   600				 DI <<FLKCOD,GFNAM>,<FATTCD,RFATT>,<OPNCOD,RFBEG>,<CPACOD,CPAR>,<ONLCOD,ONLC>,<TRUCOD,TRUNCATE>
   601				,<TRICOD,TRIM>,<VARCOD,SETVAR>,<FIXCOD,SETFIX>,<OPFCOD,OPF>,<FPFCOD,FPF>>^
   602	000603'	514000	000007	 HRLZ R0,C
   603	000604'	200040	001403'	 MOVE R1,[..0005,,..0006]
   604	000605'	540001	000000	 HRR (R1)
   605	000606'	312001	000000	 CAME (R1)
   606	000607'	253040	000605'	 AOBJN R1,.-2
   607	000610'	607040	400000	 TLNN R1,400000
   608	000611'	264000	000562*	 JSR BAD
   609	000612'	550041	000000	 HRRZ R1,(R1)
   610	000613'	254020	000001	 JRST @R1
   611	000614'	000103	000674'	 XWD FLKCOD,GFNAM
   612	000615'	000141	000335'	 XWD FATTCD,RFATT
   613	000616'	000137	000633'	 XWD OPNCOD,RFBEG
   614	000617'	000121	000314'	 XWD CPACOD,CPAR
   615	000620'	000122	000307'	 XWD ONLCOD,ONLC
   616	000621'	000124	000303'	 XWD TRUCOD,TRUNCATE
   617	000622'	000125	000303'	 XWD TRICOD,TRIM
   618	000623'	000127	000260'	 XWD VARCOD,SETVAR
   619	000624'	000130	000273'	 XWD FIXCOD,SETFIX
   620	000625'	000117	000576*	 XWD OPFCOD,OPF
   621	000626'	000116	000577*	 XWD FPFCOD,FPF
   622
   623				; BEGIN TRANSMISSION
   624	000627'	201100	000226*	TFBEG: MOVEI R2,TPARAM
   625	000630'	260740	000637'	 PUSHJ P,MODES
   626	000631'	260740	000000*	 PUSHJ P,TF
   627	000632'	254000	000235'	 JRST GD
   628
   629				; BEGIN RECEIVE
   630	000633'	201100	000227*	RFBEG: MOVEI R2,RPARAM
   631	000634'	260740	000637'	 PUSHJ P,MODES
   632	000635'	260740	000000*	 PUSHJ P,RF
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-7
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   633	000636'	254000	000235'	 JRST GD
   634
   635				; READ AND DECIPHER OPNCOD RECORD.  R2 POINTS TO APPROPRIATE TABLE
   636	000637'	260740	000345*	MODES: PUSHJ P,GC
   637	000640'	202340	000231*	 MOVEM C,TMODE
   638	000641'	202340	000232*	 MOVEM C,RMODE
   639				; MODE 2 (EBCDIC) NOT SUPPORTED
   640	000642'	306340	000002	 CAIN C,2
   641	000643'	264000	000000*	 JSR UIO
   642	000644'	307340	000006	 CAIG C,6
   643	000645'	307340	000000	 CAIG C,0
   644	000646'	264000	000643*	 JSR UIO
   645	000647'	307340	000004	 CAIG C,4
   646	000650'	307340	000002	 CAIG C,2
   647	000651'	263740	000000	 POPJ P,
   648				; READ BINARY PARAMETERS
   649	000652'	260740	000637*	 PUSHJ P,GC
   650	000653'	202342	000000	 MOVEM C,(R2)
   651	000654'	202340	000000*	 MOVEM C,BPARAM
   652	000655'	200342	000001	 MOVE C,1(R2)   ;TMODE
   653	000656'	307340	000003	 CAIG C,3
   654	000657'	263740	000000	 POPJ P,
   655				; READ BLOCKING
   656	000660'	260740	000652*	 PUSHJ P,GC
   657	000661'	242340	000010	 LSH C,10
   658	000662'	202342	000002	 MOVEM C,2(R2)  ;BLOCKING
   659	000663'	260740	000660*	 PUSHJ P,GC
   660	000664'	272342	000002	 ADDM C,2(R2)
   661	000665'	263740	000000	 POPJ P,
   662
   663				; DUMMY ROUTINES NEEDED BY TRANSMISSION LOGIC
   664	000666'			COPYST:
   665	000666'			ADIAG:
   666	000666'			BDIAG:
   667	000666'	263740	000000	CKTIM: POPJ P,
   668				; DUMMY CELLS REFERENCED FROM TRANSMISSION LOGIC
   669	000667'			RBLK:
   670	000667'			DBLK:
   671	000667'			CLRCIR:
   672	000667'			ESCRTN:
   673	000667'	000000	000000	PANIC: 0
   674				; SEND ABTCOD TO CONTROLLER
   675	000670'			ABT: LNKMSG ABTCOD^
   676	000670'	201340	000107	 MOVEI C,ABTCOD
   677	000671'	260740	000540*	 PUSHJ P,SCOD
   678	000672'	260740	000333*	 PUSHJ P,SNDYEL
   679	000673'	263740	000000	 POPJ P,
   680
   681				;       READ (USERNAME)FILENAME
   682
   683	000674'	402000	000040'	GFNAM:  SETZM UNAM
   684	000675'	200100	001404'	        MOVE R2,[UNAM,,UNAM+1]
   685	000676'	251100	000060'	        BLT R2,UNAMEE
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-8
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   686	000677'	200100	001405'	        MOVE R2,[POINT 6,UNAM]
   687	000700'	402000	000000*	        SETZM RBPPN
   688	000701'	476000	000000*	        SETOM NONAME            ;SET NO-NAME ENTERED SWITCH
   689	000702'	260740	000663*	        PUSHJ P,GC              ;GET COUNT FOR STRING
   690	000703'	202340	000000*	        MOVEM C,CHCNT           ;SAVE
   691				;SKIP OVER LEADING BLANKS
   692	000704'	375000	000703*	GFNAM5: SOSGE CHCNT
   693	000705'	254000	000723'	        JRST GFD2
   694	000706'	260740	000702*	        PUSHJ P,GC
   695	000707'	306340	000040	        CAIN C,40
   696	000710'	254000	000704'	        JRST GFNAM5
   697	000711'	302340	000050	        CAIE C,LPAREN
   698				        JRST [ MOVEM C,NONAME   ;NO USER NAME DEFAULTS TO LOGGED IN NAME
   699	000712'	254000	001406'	                JRST GFD4]
   700	000713'	375000	000704*	GFNAM6: SOSGE CHCNT
   701	000714'	254000	000723'	        JRST GFD2
   702	000715'	260740	000706*	        PUSHJ P,GC
   703	000716'	306340	000051	        CAIN C,RPAREN
   704	000717'	254000	000723'	        JRST GFD2
   705	000720'	275340	000040	        SUBI C,40               ;CONVERT TO SIXBIT
   706	000721'	136340	000002	        IDPB C,R2
   707	000722'	254000	000713'	        JRST GFNAM6
   708				; LOOK UP USER NAME
   709	000723'	120000	000040'	GFD2:   DMOVE UNAM
   710	000724'	260740	001052'	        PUSHJ P,USRPPN
   711				        JRST [ MOVEI C,ULKFCD     ;USER NOT IN LUD
   712	000725'	254000	001410'	                JRST GFD3]
   713	000726'	202000	000700*	        MOVEM RBPPN             ;SAVE PPN IN LOOKUP BLOCK
   714	000727'	201340	000160	        MOVEI C,ULKSCD
   715	000730'	260740	000671*	GFD3:   PUSHJ P,SCOD
   716	000731'	260740	000672*	        PUSHJ P,SNDYEL
   717	000732'	200100	001412'	GFD4:   MOVE R2,[POINT 6,FNAM]
   718	000733'	331340	000701*	        SKIPL C,NONAME
   719	000734'	254000	000740'	        JRST G10FN3
   720	000735'	375000	000713*	G10FN2: SOSGE CHCNT
   721	000736'	254000	000743'	        JRST G10FN4
   722	000737'	260740	000715*	        PUSHJ P,GC
   723	000740'	275340	000040	G10FN3: SUBI C,40
   724	000741'	136340	000002	        IDPB C,R2       ;DEPOSIT BYTE IN FNAM
   725	000742'	254000	000735'	        JRST G10FN2
   726	000743'	620700	200000	G10FN4: TRZ F,ILLCHR    ;SAY NO ERROR
   727	000744'	260740	001004'	        PUSHJ P,GET10   ;MOVE FNAM TO RBNAM
   728	000745'	606700	200000	        TRNN F,ILLCHR   ;TEST FOR SYNTAX ERROR
   729	000746'	254000	000753'	        JRST G10FN6     ;NO
   730	000747'			G10FN5: LNKMSG FLKRCD^
   731	000747'	201340	000153	 MOVEI C,FLKRCD
   732	000750'	260740	000730*	 PUSHJ P,SCOD
   733	000751'	260740	000731*	 PUSHJ P,SNDYEL
   734	000752'	264000	000351'	        JSR RETURN
   735	000753'	041040	000017	G10FN6: INIT FIL,17
   736	000754'	446353	000000	        SIXBIT /DSK/
   737	000755'	000000	000000	        0
   738	000756'	254000	000747'	        JRST G10FN5
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-9
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   739	000757'	201000	000014	        MOVEI 14
   740	000760'	202000	000000*	        MOVEM RBCNT
   741	000761'	076040	000760*	        LOOKUP FIL,RBCNT
   742				        JRST [ MOVEI C,FLKFCD   ;FILE NOT FOUND
   743				                PUSHJ P,SCOD
   744	000762'	254000	001413'	                JRST G10FN7]
   745	000763'	201340	000161	        MOVEI C,FLKSCD
   746	000764'	260740	000750*	        PUSHJ P,SCOD
   747	000765'	200000	000000*	        MOVE RBLIC
   748	000766'	201040	000000*	        MOVEI R1,FDLIC
   749	000767'	336000	000600*	        SKIPN DONOR
   750	000770'	201040	000000*	        MOVEI R1,OFDLIC
   751	000771'	202001	000000	        MOVEM (R1)
   752				; SEND FD ATTRIBUTES TO PDP-10 CONTROLLER
   753	000772'	336000	000335*	        SKIPN SW10
   754	000773'	254000	001002'	        JRST G10FN7
   755	000774'	201040	000006	        MOVEI R1,6
   756	000775'	200100	001400'	        MOVE R2,[POINT 6,RBLIC]
   757	000776'	134340	000002	        ILDB C,R2
   758	000777'	435340	000200	        IORI C,200
   759	001000'	260740	000331*	        PUSHJ P,SBYTE
   760	001001'	367040	000776'	        SOJG R1,.-3
   761	001002'	260740	000751*	G10FN7: PUSHJ P,SNDYEL
   762	001003'	264000	000351'	        JSR RETURN
   763
   764				;ROUTINE TO BREAK DOWN A STRING IN FNAM INTO PDP-10
   765				;FORMAT OF FILENAME AND EXTENSION IN RBNAM
   766	001004'	200140	001416'	GET10:	MOVE R3,[POINT 6,RBNAM]
   767	001005'	200100	001412'		MOVE R2,[POINT 6,FNAM]
   768	001006'	402000	000000*	        SETZM RBNAM
   769	001007'	402000	000000*	        SETZM RBEXT
   770	001010'	201040	000006		MOVEI R1,6
   771	001011'	134000	000002	GETN:	ILDB R0,R2
   772	001012'	306000	000016		CAIN R0,"."-40
   773	001013'	254000	001027'		JRST GETEXT
   774	001014'	322000	001417'		JUMPE R0,[POPJ P,0]
   775	001015'	260740	001042'		PUSHJ P,CHKCHR
   776	001016'	136000	000003		IDPB R0,R3
   777	001017'	367040	001011'		SOJG R1,GETN
   778	001020'	306000	000000	GET1:	CAIN R0,0
   779	001021'	263740	000000		POPJ P,0
   780	001022'	260740	001042'		PUSHJ P,CHKCHR
   781	001023'	134000	000002		ILDB R0,R2
   782	001024'	306000	000016		CAIN R0,"."-40
   783	001025'	254000	001027'		JRST GETEXT
   784	001026'	254000	001020'		JRST GET1
   785	001027'	400000	000000	GETEXT:	SETZ R0,
   786	001030'	361040	001033'		SOJL R1,.+3
   787	001031'	136000	000003		IDPB R0,R3
   788	001032'	254000	001030'		JRST .-2
   789	001033'	201040	000003		MOVEI R1,3
   790	001034'	134000	000002		ILDB R0,R2
   791	001035'	322000	001417'		JUMPE R0,[POPJ P,0]
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-10
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   792	001036'	260740	001042'		PUSHJ P,CHKCHR
   793	001037'	136000	000003		IDPB R0,R3
   794	001040'	367040	001034'		SOJG R1,.-4
   795	001041'	263740	000000		POPJ P,0
   796
   797
   798	001042'	305000	000020	CHKCHR:	CAIGE R0,"0"-40	;ERROR IF LESS THAN ZERO
   799	001043'	254000	001050'		JRST BADCHR
   800	001044'	307000	000031		CAIG R0,"9"-40	;OK IF LESS THAN 9
   801	001045'	263740	000000		POPJ P,0
   802	001046'	301000	000041		CAIL R0,"A"-40
   803	001047'	303000	000072		CAILE R0,"Z"-40
   804	001050'	660700	200000	BADCHR:	TRO F,ILLCHR
   805	001051'	263740	000000		POPJ P,0
   806
   807				SUBTTL USRPPN - LUD ROUTINES
   808
   809			000005	HA==    5       ;USED ONLY BY HASHER - REGISTER PRESERVED BY HASHER
   810			000006	HB==    HA+1    ;USED ONLY BY HASHER - REGISTER PRESERVED BY HASHER
   811			000007	HC==    HA+2    ;USED ONLY BY HASHER - REGISTER PRESERVED BY HASHER
   812			000010	HD==    HA+3    ;USED ONLY BY HASHER - REGISTER PRESERVED BY HASHER
   813			000011	HE==    HA+4    ;USED ONLY BY HASHER - REGISTER PRESERVED BY HASHER
   814				;USRPPN CONVERTS A USER NAME TO A PPN
   815				;  CALL WITH USER NAME IN R0 AND R1
   816				;  SKIP RETURN WITH PPN IN R0 IF SUCCESSFUL
   817				;  NON-SKIP RETURN IN UNSUCCESSFUL
   818				;  R1, R2, AND R3 ARE NOT PRESERVED. R0 NOT PRESERVED ON FAILURE
   819	001052'	607700	000001	USRPPN::TLNN    F,LUDFLG        ;SKIP IF THE LUD HAS BEEN OPENED
   820	001053'	260740	001153'	        PUSHJ   P,GETLUD        ;TRY TO OPEN THE LUD
   821	001054'	607700	000001	        TLNN    F,LUDFLG        ;SKIP IF THE LUD HAS BEEN OPENED
   822	001055'	263740	000000	        POPJ    P,              ;FAIL RETURN FROM USRPPN
   823	001056'	260740	001103'	        PUSHJ   P,HASHER        ;HASH THE USER NAME
   824	001057'	260740	001065'	        PUSHJ   P,FINNAM        ;FIND NAME IN LUD
   825	001060'	263740	000000	        POPJ    P,              ;FAIL RETURN
   826	001061'	200002	001174'	        MOVE    R0,LUDBLK(R2)   ;GET PPN
   827	001062'	254000	000000*	        JRST    CPOPJ1          ;RETURN PPN IN R0
   828
   829				;RETURN IF NOT FOUND
   830				;RETURN+1 IF NOT FOUND BUT USER WAS THERE(DELETED IN LUD)
   831				;RETURN+2 IF FOUND
   832	001063'	336042	001174'	TYP1:   SKIPN   R1,LUDBLK(R2)
   833	001064'	263740	000000	        POPJ    P,              ;FAIL RETURN FROM USRPPN
   834	001065'	316040	001374'	FINNAM: CAMN R1,LUDL
   835	001066'	254000	001074'	        JRST TYP2
   836	001067'	074160	000001	        USETI   LUD,@R1
   837	001070'	066140	001172'	        INPUT   LUD,LUDLST
   838	001071'	063140	760000	        STATZ   LUD,760000
   839	001072'	263740	000000	        POPJ P,         ;*** ERROR IN LUD
   840	001073'	202040	001374'	        MOVEM   R1,LUDL         ;SAVE LUD LOCATOR
   841	001074'	400100	000000	TYP2:   SETZ    R2,
   842	001075'	323040	001063'	TYP3:   JUMPLE  R1,TYP1
   843	001076'	316002	001200'	        CAMN    R0,LUDBLK+4(R2)
   844	001077'	254000	001062*	        JRST    CPOPJ1          ;SUCCESS RETURN FROM USRPPN
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-11
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   845	001100'	135040	001420'	        LDB     R1,[POINT 7,LUDBLK+2(R2),35]
   846	001101'	270100	000001	        ADD     R2,R1
   847	001102'	254000	001075'	        JRST    TYP3
   848	001103'	261740	000005	HASHER: PUSH    P,HA
   849	001104'	261740	000006	        PUSH    P,HB
   850	001105'	261740	000007	        PUSH    P,HC
   851	001106'	261740	000010	        PUSH    P,HD
   852	001107'	261740	000011	        PUSH    P,HE
   853	001110'	201300	000000	        MOVEI   HB,0
   854	001111'	200340	001421'	        MOVE    HC,[555555555555]
   855	001112'	200400	001422'	        MOVE    HD,[361275431652]
   856	001113'	200440	001423'	        MOVE    HE,[612754316523]
   857	001114'	260740	001135'	        PUSHJ   P,RND
   858	001115'	260740	001135'	        PUSHJ   P,RND
   859	001116'	260740	001135'	        PUSHJ   P,RND
   860	001117'	260740	001135'	        PUSHJ   P,RND
   861	001120'	430440	000010	        XOR     HE,HD
   862	001121'	200000	000011	        MOVE    R0,HE
   863	001122'	621000	400000	        TLZ     R0,400000
   864	001123'	231000	001567	        IDIVI   R0,^D887
   865	001124'	200000	000011	        MOVE    R0,HE
   866	001125'	430000	000007	        XOR     R0,HC
   867	001126'	271040	000001	        ADDI    R1,1
   868	001127'	262740	000011	        POP     P,HE
   869	001130'	262740	000010	        POP     P,HD
   870	001131'	262740	000007	        POP     P,HC
   871	001132'	262740	000006	        POP     P,HB
   872	001133'	262740	000005	        POP     P,HA
   873	001134'	263740	000000	        POPJ    P,
   874	001135'	270400	000000	RND:    ADD     HD,R0
   875	001136'	245000	777756	        ROTC    R0,-22
   876	001137'	201240	000005	        MOVEI   HA,5
   877	001140'	200106	000010	RND1:   MOVE    R2,HC+1(HB)
   878	001141'	224100	001424'	        MUL     R2,[5*5*5*5*5*5*5*5*5*5*5*5*5*5*5]
   879	001142'	272146	000011	        ADDM    R3,HD+1(HB)
   880	001143'	342300	001151'	        AOJE    HB,RND2
   881	001144'	211300	000001	        MOVNI   HB,1
   882	001145'	602400	000001	        TRNE    HD,1
   883	001146'	331000	000011	        SKIPL   HE
   884	001147'	201300	000000	        MOVEI   HB,0
   885	001150'	250340	000011	        EXCH    HC,HE
   886	001151'	367240	001140'	RND2:   SOJG    HA,RND1
   887	001152'	263740	000000	        POPJ    P,
   888
   889	001153'	050140	001162'	GETLUD: OPEN    LUD,LUDTAB      ;INIT THE DEVICE SYS
   890	001154'	263740	000000	        POPJ P,         ;*** CANNOT ACCESS SYS
   891	001155'	076140	001165'	        LOOKUP  LUD,LOKLUD      ;LOOKUP THE LUD
   892	001156'	263740	000000	        POPJ    P,              ;FAIL RETURN FROM GETLUD
   893	001157'	476000	001374'	        SETOM LUDL              ;NOTHING IN BUFFER YET
   894	001160'	661700	000001	        TLO     F,LUDFLG        ;MARK LUD AS OPENED
   895	001161'	263740	000000	        POPJ    P,              ;SUCCESS RETURN FROM GETLUD
   896	001162'	000000	000017	LUDTAB: XWD     0,17            ;DUMP MODE
   897	001163'	637163	000000	        SIXBIT  /SYS/           ;DEVICE SYS
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 1-12
SLAVE.MAC	23-DEC-86 12:29		USRPPN - LUD ROUTINES

   898	001164'	000000	000000	        0                       ;NO BUFFERS
   899
   900	001165'	546544	000000	LOKLUD: SIXBIT  /LUD/           ;FILE NAME
   901	001166'	637163	000000	        SIXBIT  /SYS/           ;EXTENSION
   902	001167'	000000	000000	        0
   903	001170'	000000	000000	        0
   904
   905	001171'	000000	000000	        0
   906	001172'	777600	001173'	LUDLST: IOWD    200,LUDBLK      ;BUFFER
   907	001173'	000000	000000	        0
   908	001174'			LUDBLK: BLOCK   200
   909	001374'	777777	777777	LUDL::  -1                      ;BLOCK NO. IN LUD (SEE USRPPN)
   910			000061'	        END START
   911
NO ERRORS DETECTED
PROGRAM BREAK IS 001425
3K CORE USED
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 2
SLAVE.MAC	23-DEC-86 12:29		SYMBOL TABLE

ABT		000670'	ENT	DISMIS	047000	777755		GFD4		000732'		MAXC		000073	SPD
ABTCOD		000107	SIN	DNRCOD		000101	SPD	GFNAM		000674'		MAXP		000202	SPD
ACKCOD		000112	SPD	DONOR		000767'	EXT	GFNAM5		000704'		MAXPA		000021	SPD
ACMCOD		000111	SPD	EDIT10		100000	SPD	GFNAM6		000713'		MAXRS		050000	SPD
ACRCAP		000100	SIN	EM		000031	SIN	GS		000012		MBOT		000100	SPD
ADIAG		000666'	ENT	ENDIT		000520'		GSYSTY		000161'		MINC		000004	SPD
AMODE		000311	SIN	EORCOD		000134	SPD	GX		000013		MINP		000003	SPD
AS		000011		EOTCOD		000135	SPD	HA		000005	SPD	MINPA		000002	SPD
ASCII		000002	SIN	ERASCD		000150	SPD	HASHER		001103'		MINRS		010000	SPD
ASCSTG		000052	SPD	ERRCOD		000146	SPD	HB		000006	SPD	MODES		000637'	
AUTO		000001	SIN	ESC		000033	SIN	HC		000007	SPD	MSGSW		002000	SPD
AUXPRT		000541'	EXT	ESCRTN		000667'	ENT	HD		000010	SPD	MTOP		000177	SPD
BAD		000611'	EXT	ETX		000003	SIN	HE		000011	SPD	NAKCOD		000113	SPD
BADCHR		001050'		EXIT	047000	000012		HSW		000002	SPD	NC		000025	SPD
BADCOD		000145	SPD	F		000016		HT		000011	SPD	NICOD		000133	SPD
BCMCOD		000110	SPD	FATTCD		000141	SPD	IBIO		000034	SPD	NM		000010	SPD
BDIAG		000666'	ENT	FCK1		000000	SPD	IGNEOF		000100	SPD	NOECHO		000200	SPD
BI		004000	SPD	FCK2		000400	SPD	IICHS		000001	SPD	NONAME		001406'	EXT
BIASA		000032	SPD	FCK3		001000	SPD	IICHW		000000	SPD	NONE		000400	SIN
BIASC		000010	SPD	FDLIC		001401'	EXT	ILLCHR		200000	SPD	NT		000076	SPD
BIASP		000200	SPD	FENQCD		000140	SPD	INBS		000036	SPD	OB		000037	SPD
BIASPA		000010	SPD	FEXT		000003	SPD	INBW		000035	SPD	OFDLIC		000770'	EXT
BINCAP		000020	SIN	FIL		000001	SPD	INCHWL	002000	000000		OICH		000003	SPD
BIOEND		000523'	EXT	FILFND		040000	SPD	INSCOD		000142	SPD	OICHI		000004	SPD
BIOMOD		000074'	EXT	FINCD1		000114	SPD	INTADR	047000	777745		ONLC		000307'	
BL		000040	SPD	FINCD2		000115	SPD	INTASS	047000	777742		ONLCOD		000122	SPD
BMOD		000066'	EXT	FINNAM		001065'		INTENB	047000	777744		OPF		000625'	EXT
BPARAM		000654'	EXT	FIX		000266'	EXT	INTTAB		000410'		OPFCOD		000117	SPD
BZADR		000401'		FIXCOD		000130	SPD	IODEND		020000	SPD	OPNCOD		000137	SPD
BZCOD		000120	SPD	FLKCOD		000103	SPD	IOMOD		000014	SPD	OUTCHI	004000	000000	
BZRTN		000415'		FLKFCD		000106	SPD	IXMODE		000345	SIN	OUTCHR	003000	000000	
C		000007		FLKRCD		000153	SPD	KATCAP		000040	SIN	OUTSTR	001000	000000	
CAN		000030	SIN	FLKSCD		000161	SPD	KMODE		000407	SIN	P		000017	
CHCNT		000735'	EXT	FNAM		000042'	SPD	LBIO		000042	SPD	PANIC		000667'	ENT
CHGFLG		000200	SPD	FNAME		000020	SPD	LC		000024	SPD	PDL		000000'	
CHKCHR		001042'		FPF		000626'	EXT	LCO		000004	SPD	PERCOD		000147	SPD
CHKCOD		000132	SPD	FPFCOD		000116	SPD	LEFTFG		000010	SPD	PREFER		000005	
CKTIM		000666'	ENT	FSIZE	777777	777777	SPD	LF		000012	SPD	PS		000014	
CLRBFI	006000	000000		G10FN2		000735'		LM		000007	SPD	PX		000015	
CLRBFO	005000	000000		G10FN3		000740'		LOG		000520'		QUICOD		000136	SIN
CLRBO		000007	SIN	G10FN4		000743'		LOGCOD		000131	SIN	QUIT		000355'	
CLRCIR		000667'	ENT	G10FN5		000747'		LOGNAM		000531'		R0		000000	
COLON		000072	SPD	G10FN6		000753'		LOKLUD		001165'		R1		000001	
COPT		000320'	EXT	G10FN7		001002'		LPAREN		000050	SPD	R2		000002	
COPYST		000666'	ENT	GC		000737'	EXT	LT		000075	SPD	R3		000003	
CPACOD		000121	SPD	GCOD		000602'	EXT	LUD		000003	SPD	R4		000004	
CPAR		000314'		GD		000235'	ENT	LUDBLK		001174'		R5		000005	
CPOPJ1		001077'	EXT	GET1		001020'		LUDFLG		000001	SPD	RANK		000010	
CR		000015	SPD	GET10		001004'		LUDL		001374'	INT	RBCNT		000761'	EXT
CRASH		000517'	EXT	GETEXT		001027'		LUDLST		001172'		RBEXT		001007'	EXT
DBLK		000667'	ENT	GETLUD		001153'		LUDTAB		001162'		RBLIC		001400'	EXT
DEFFLG		001000	SPD	GETN		001011'		MASKFG		000400	SPD	RBLK		000667'	ENT
DISMIS	047000	777755		GFD2		000723'		MASTER		000070'	EXT	RBNAM		001416'	EXT
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87 PAGE 2-2
SLAVE.MAC	23-DEC-86 12:29		SYMBOL TABLE

RBPPN		000726'	EXT	TBO		000041	SPD	
RC		000004		TESTNG		000001	SPD	
RCC		000006		TF		000631'	EXT	
RCVCOD		000102	SPD	TFBEG		000627'		
REC		000600'		TI		010000	SPD	
RESET		000173'	ENT	TIMA1		000375'		
RESET	047000	000000		TIMADR		000363'		
RETURN		000351'		TIMFLG		000601'	EXT	
RF		000635'	EXT	TIMRTN		000413'		
RFATT		000335'		TINASS	047000	777736		
RFBEG		000633'		TMODE		000640'	EXT	
RMOD		000602'		TPARAM		000627'	EXT	
RMODE		000641'	EXT	TRAP		000342'	EXT	
RND		001135'		TRICOD		000125	SPD	
RND1		001140'		TRIM		000303'		
RND2		001151'		TRPCOD		000152	SPD	
RPARAM		000633'	EXT	TRPDSK		000002	SPD	
RPAREN		000051	SPD	TRUCOD		000124	SPD	
RS		000036	SPD	TRUNCA		000303'		
RSPCOD		000144	SIN	TSTRS		014000	SPD	
RUN	047000	000035		TYP1		001063'		
SBYTE		001000'	EXT	TYP2		001074'		
SCOD		001414'	EXT	TYP3		001075'		
SDVIOS		000032	SPD	U		000006	SPD	
SEND		000551'		UIO		000646'	EXT	
SERFLG		000020	SPD	ULKCOD		000105	SPD	
SET10		000212'		ULKFCD		000154	SPD	
SET370		000207'		ULKSCD		000160	SPD	
SET940		000221'		UNAM		000040'		
SET9A		000223'		UNAME		000015	SPD	
SET9B		000231'		UNAMEE		000060'		
SETF1		000277'		UPDCAP		000010	SIN	
SETFIX		000273'		UPDMOD		000040	SPD	
SETTIM	047000	777741		US		000037	SIN	
SETV1		000267'		USRPPN		001052'	INT	
SETVAR		000260'		VARCOD		000127	SPD	
SFATT		000322'		VERNUM		000001	SIN	
SLVPRT		000043	SPD	VRECL		000265'	EXT	
SMOD		000553'		WHY		000537'		
SMODE		001000	SIN	WHYCOD		000143	SIN	
SNDYEL		001002'	EXT	WHYNOT		000547'		
SORTFG		000001	SPD	XMODE		000351	SIN	
START		000061'		YELLOW		000012	SIN	
START1		000143'		ZAPADR		000405'		
SUCCOD		000104	SPD	ZAPINT		000516'	ENT	
SW10		000772'	EXT	ZAPRTN		000411'		
SW370		000207'	EXT	..0001	777777	777773	SPD	
SW940		000221'	EXT	..0002		000253'		
SWB		020000	SPD	..0003	777777	777765	SPD	
SYS		000017	SPD	..0004		000565'		
SYSTYP		000174'	EXT	..0005	777777	777765	SPD	
TABSIZ		000010	SPD	..0006		000614'		

SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Symbol cross reference

ABT	   271	   675#
ABTCOD	    28#	   676
ACKCOD	    31#
ACMCOD	    30#
ACRCAP	     2#	   341
ADIAG	   272	   665#
AMODE	   113#	   397
AS	   233#
ASCII	   131#	   391	   394	   466
ASCSTG	   177#	   564
AUTO	   130#	   384	   391	   394	   466
AUXPRT	   278%	   295	   301	   310	   318	   563
BAD	   275%	   419	   485	   582	   608
BADCHR	   799	   804#
BADCOD	    93#
BCMCOD	    29#
BDIAG	   272	   666#
BI	   210#
BIASA	   144#
BIASC	   137#
BIASP	   134#
BIASPA	   141#
BINCAP	     4#	   341
BIOEND	   274%	   505	   550
BIOMOD	   274%	   304
BL	   125#
BMOD	   278%	   294
BPARAM	   279%	   651
BZADR	   526#	   541
BZCOD	    41#
BZRTN	   528	   541#
C	   229#	   333	   335	   337	   339	   341	   343	   346	   349	   352	   355	   361	   362	   363
	   413	   433	   434	   437	   448	   455	   461	   466	   469	   472	   474	   478	   487	   488
	   493	   561	   576	   602	   637	   638	   640	   642	   643	   645	   646	   650	   651	   652
	   653	   657	   658	   660	   676	   690	   695	   697	   698	   703	   705	   706	   711	   714
	   718	   723	   724	   731	   742	   745	   757	   758
CAN	   120#
CHCNT	   277%	   690	   692	   700	   720
CHGFLG	   206#
CHKCHR	   775	   780	   792	   798#
CHKCOD	    61#
CKTIM	   271	   667#
CLRBO	   166#
CLRCIR	   271	   671#
COLON	   128#
COPT	   279%	   403	   469
COPYST	   271	   664#
CPACOD	    43#	   588	   614
CPAR	   465#	   588	   614
CPOPJ1	   274%	   827	   844
CR	   119#
CRASH	   275%	   520	   526	   545
DBLK	   271	   670#
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Symbol cross reference

DEFFLG	   208#
DNRCOD	    12#	   422
DONOR	   278%	   498	   571	   597	   749
EDIT10	   214#
EM	   121#
ENDIT	   521	   527	   532	   547#
EORCOD	    63#
EOTCOD	    64#
ERASCD	    96#
ERRCOD	    94#
ESC	   122#
ESCRTN	   271	   672#
ETX	   116#
F	   238#	   292	   460	   462	   726	   728	   804	   819	   821	   894
FATTCD	    85#	   612
FCK1	   152#
FCK2	   153#
FCK3	   154#
FDLIC	   281%	   491	   748
FENQCD	    83#	   586
FEXT	   157#
FIL	   241#	   407	   408	   735	   741
FILFND	   213#
FINCD1	    33#
FINCD2	    38#
FINNAM	   824	   834#
FIX	   280%	   435
FIXCOD	    58#	   593	   619
FLKCOD	    14#	   585	   611
FLKFCD	    27#	   742
FLKRCD	    98#	   731
FLKSCD	   101#	   745
FNAM	   287#	   717	   767
FNAME	   160#
FPF	   275%	   595	   621
FPFCOD	    39#	   595	   621
FSIZE	   156#
G10FN2	   720#	   725
G10FN3	   719	   723#
G10FN4	   721	   726#
G10FN5	   730#	   738
G10FN6	   729	   735#
G10FN7	   744	   754	   761#
GC	   274%	   345	   348	   351	   354	   360	   368	   429	   430	   431	   432	   443	   444	   445
	   446	   454	   459	   465	   486	   492	   636	   649	   656	   659	   689	   694	   702	   722
GCOD	   274%	   411	   573	   599
GD	   270	   358	   407#	   568	   627	   633
GET1	   778#	   784
GET10	   727	   766#
GETEXT	   773	   783	   785#
GETLUD	   820	   889#
GETN	   771#	   777
GFD2	   693	   701	   704	   709#
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Symbol cross reference

GFD3	   712	   715#
GFD4	   699	   717#
GFNAM	   585	   611	   683#
GFNAM5	   692#	   696
GFNAM6	   700#	   707
GS	   234#
GSYSTY	   357	   360#
GX	   235#
HA	   809#	   810	   811	   812	   813	   848	   872	   876	   886
HASHER	   823	   848#
HB	   810#	   849	   853	   871	   877	   879	   880	   881	   884
HC	   811#	   850	   854	   866	   870	   877	   885
HD	   812#	   851	   855	   861	   869	   874	   879	   882
HE	   813#	   852	   856	   861	   862	   865	   868	   883	   885
HSW	   200#
HT	   117#
IBIO	   169#
IGNEOF	   205#
IICHS	   163#
IICHW	   162#
ILLCHR	   215#	   726	   728	   804
INBS	   171#
INBW	   170#
INSCOD	    89#
INTTAB	   306	   536#
IODEND	   180#
IOMOD	   179#	   303
IXMODE	   111#
KATCAP	     3#	   341
KMODE	   109#
LBIO	   175#
LC	   148#
LCO	   201#	   460	   462
LEFTFG	   202#
LF	   118#
LM	   146#
LOG	   424	   546#
LOGCOD	    60#	   424
LOGNAM	   553	   556#
LOKLUD	   891	   900#
LPAREN	   126#	   697
LT	   150#
LUD	   243#	   836	   837	   838	   889	   891
LUDBLK	   826	   832	   843	   845	   906	   908#
LUDFLG	   197#	   819	   821	   894
LUDL	   834	   840	   893	   909#
LUDLST	   837	   906#
LUDTAB	   889	   896#
MASKFG	   207#
MASTER	   278%	   296
MAXC	   138#
MAXP	   135#
MAXPA	   142#
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Symbol cross reference

MAXRS	   104#
MBOT	    11#
MINC	   139#
MINP	   136#
MINPA	   143#
MINRS	   105#
MODES	   625	   631	   636#
MSGSW	   209#
MTOP	   102#
NAKCOD	    32#
NC	   147#	   148
NICOD	    62#	   448
NM	   145#	   146
NOECHO	   181#	   303
NONAME	   277%	   688	   698	   718
NONE	   132#
NT	   149#	   150
OB	   172#
OFDLIC	   281%	   750
OICH	   164#
OICHI	   165#	   566
ONLC	   459#	   589	   615
ONLCOD	    48#	   589	   615
OPF	   275%	   594	   620
OPFCOD	    40#	   594	   620
OPNCOD	    67#	   587	   613
P	   239#	   291	   292	   293	   304	   334	   336	   338	   340	   342	   344	   345	   348	   351
	   354	   357	   360	   368	   404	   410	   411	   429	   430	   431	   432	   438	   439	   443
	   444	   445	   446	   449	   450	   454	   459	   465	   473	   475	   479	   481	   486	   492
	   505	   514	   518	   550	   562	   573	   599	   625	   626	   631	   632	   636	   647	   649
	   654	   656	   659	   661	   667	   677	   678	   679	   689	   694	   702	   710	   715	   716
	   722	   727	   732	   733	   743	   746	   759	   761	   774	   775	   779	   780	   791	   792
	   795	   801	   805	   820	   822	   823	   824	   825	   833	   839	   848	   849	   850	   851
	   852	   857	   858	   859	   860	   868	   869	   870	   871	   872	   873	   887	   890	   892
	   895
PANIC	   271	   673#
PDL	   285#	   293	   410
PERCOD	    95#
PREFER	   226#
PS	   236#
PX	   237#
QUICOD	    65#	   425
QUIT	   425	   502#
R0	   217#	   290	   413	   576	   602	   771	   772	   774	   776	   778	   781	   782	   785	   787
	   790	   791	   793	   798	   800	   802	   803	   826	   843	   862	   863	   864	   865	   866
	   874	   875
R1	   218#	   291	   301	   302	   303	   306	   307	   308	   310	   311	   312	   314	   315	   316
	   318	   319	   320	   322	   323	   325	   326	   328	   329	   372	   373	   374	   387	   388
	   389	   390	   395	   396	   397	   398	   399	   400	   401	   402	   414	   415	   416	   417
	   418	   420	   421	   476	   480	   490	   494	   502	   503	   514	   515	   516	   518	   521
	   522	   527	   528	   532	   533	   547	   548	   552	   553	   554	   563	   564	   565	   566
	   567	   577	   578	   579	   580	   581	   583	   584	   603	   604	   605	   606	   607	   609
	   610	   748	   750	   751	   755	   760	   770	   777	   786	   789	   794	   832	   834	   836
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Symbol cross reference

	   840	   842	   845	   846	   867
R2	   219#	   384	   391	   394	   403	   477	   478	   491	   493	   624	   630	   650	   652	   658
	   660	   684	   685	   686	   706	   717	   724	   756	   757	   767	   771	   781	   790	   826
	   832	   841	   843	   845	   846	   877	   878
R3	   222#	   766	   776	   787	   793	   879
R4	   223#
R5	   225#
RANK	   231#
RBCNT	   281%	   740	   741
RBEXT	   281%	   769
RBLIC	   281%	   477	   747	   756
RBLK	   271	   669#
RBNAM	   281%	   766	   768
RBPPN	   281%	   687	   713
RC	   224#
RCC	   227#
RCVCOD	    13#	   423
REC	   423	   597#
RESET	   270	   370#
RETURN	   440	   451	   482	   495	   497#	   734	   762
RF	   274%	   632
RFATT	   484#	   612
RFBEG	   613	   630#
RMOD	   499	   599#
RMODE	   279%	   402	   638
RND	   857	   858	   859	   860	   874#
RND1	   877#	   886
RND2	   880	   886#
RPARAM	   279%	   389	   399	   630
RPAREN	   127#	   703
RS	   123#
RSPCOD	    91#	   561
SBYTE	   274%	   334	   336	   338	   340	   342	   344	   475	   479	   759
SCOD	   274%	   438	   449	   473	   562	   677	   715	   732	   743	   746
SDVIOS	   168#	   302
SEND	   422	   571#
SERFLG	   203#
SET10	   378	   386#
SET370	   379	   383#
SET940	   376	   393#
SET9A	   385	   395#
SET9B	   392	   401#
SETF1	   447#	   457	   468
SETFIX	   442#	   593	   619
SETV1	   436#	   456	   463	   470
SETVAR	   428#	   592	   618
SFATT	   472#	   586
SLVPRT	   176#
SMOD	   500	   573#
SMODE	   110#
SNDYEL	   274%	   439	   450	   481	   678	   716	   733	   761
SORTFG	   199#
START	   289#	   910
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Symbol cross reference

START1	   345#	   347	   350	   353	   356
SUCCOD	    20#	   437	   472
SW10	   277%	   365	   386	   484	   753
SW370	   277%	   367	   383
SW940	   277%	   366	   393
SWB	   212#
SYS	   159#
SYSTYP	   277%	   362	   372
TABSIZ	   115#
TBI	   173#
TBO	   174#
TESTNG	     7#	   520	   526	   545
TF	   274%	   626
TFBEG	   587	   624#
TI	   211#
TIMA1	   511	   520#
TIMADR	   510#	   539
TIMFLG	   278%	   331	   409	   510	   512	   513	   572	   598
TIMRTN	   522	   539#
TMODE	   279%	   396	   400	   401	   637
TPARAM	   279%	   388	   398	   624
TRAP	   275%	   364	   370	   375	   377	   380	   381	   382	   489
TRICOD	    53#	   591	   617
TRIM	   453#	   591	   617
TRPCOD	    97#
TRPDSK	   242#
TRUCOD	    51#	   590	   616
TRUNCA	   454#	   590	   616
TSTRS	   106#
TYP1	   832#	   842
TYP2	   835	   841#
TYP3	   842#	   847
U	   187#	   188	   188#	   189	   189#	   190	   190#	   191	   191#	   192	   192#	   193	   193#	   194
UIO	   275%	   641	   644
ULKCOD	    21#
ULKFCD	    99#	   711
ULKSCD	   100#	   714
UNAM	   286#	   287	   683	   684	   686	   709
UNAME	   158#
UNAMEE	   288#	   685
UPDCAP	     5#	   341
UPDMOD	   204#
US	   124#
USRPPN	   710	   819#
UUOFLG	   183	   189	   190	   191	   192	   193	   194
VARCOD	    56#	   592	   618
VERNUM	     9#	   343	   369
VRECL	   280%	   434
WHY	   426	   561#
WHYCOD	    90#	   426
WHYNOT	   565	   569#
XMODE	   112#	   387
YELLOW	   167#
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Symbol cross reference

ZAPADR	   532#	   537
ZAPINT	   271	   544#
ZAPRTN	   533	   537#
..0001	   414	   427#
..0002	   414	   422#	   427
..0003	   577	   596#
..0004	   577	   585#	   596
..0005	   603	   622#
..0006	   603	   611#	   622
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Macro/Opdef cross reference

CLRBFI	   194#
CLRBFO	   193#
DI	   249#	   412	   574	   600
DIS	   265#	   422	   423	   424	   425	   426	   585	   586	   587	   588	   589	   590	   591	   592
	   593	   594	   595	   611	   612	   613	   614	   615	   616	   617	   618	   619	   620	   621
DISMIS	   519	   523	   529	   534
EXIT	   507
INCHWL	   190#
INTADR	   308
INTASS	   316
INTENB	   323	   503	   548
LNKMSG	   244#	   436	   447	   675	   730
OPD	   184#	   188	   189	   190	   191	   192	   193
OUTCHI	   192#
OUTCHR	   191#
OUTSTR	   189#
RESET	   289	   506	   551
RUN	   554
SETTIM	   326	   329	   516
TINASS	   312	   320
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Opcode cross reference

ADD	   846	   874
ADDI	   867
ADDM	   660	   879
ANDI	   361	   373	   487
AOBJN	   417	   580	   606
AOJE	   880
ASCIZ	   569
AUXCAL	   303	   565	   567
BLOCK	   285	   286	   542	   908
BLT	   292	   685
CAIE	   346	   349	   352	   355	   369	   488	   697
CAIG	   455	   466	   642	   643	   645	   646	   653	   800
CAIGE	   798
CAIL	   802
CAILE	   803
CAIN	   640	   695	   703	   772	   778	   782
CAME	   416	   579	   605
CAMN	   834	   843
CLOSE	   407
DEFINE	   184	   244	   249	   265
DMOVE	   709
END	   910
ENTRY	   270	   271	   272
EXCH	   885
EXP	   558
EXTERN	   274	   275	   277	   278	   279	   280	   281
HALT	   555
HRL	   301	   563
HRLI	   307	   311	   314
HRLOI	   433	   502	   547
HRLZ	   413	   576	   602
HRR	   415	   578	   604
HRRI	   302	   315	   319	   553	   564	   566
HRRZ	   310	   318	   420	   583	   609
IDIVI	   864
IDPB	   493	   706	   724	   776	   787	   793
IFDEF	   183	   189	   190	   191	   192	   193	   194
IFG	   297	   520	   526	   545
ILDB	   478	   757	   771	   781	   790
INIT	   735
INPUT	   837
IORI	   758
IOWD	   293	   410	   906
IRP	   422	   585	   611
JFCL	   309	   313	   317	   321	   324	   327	   330	   504	   517	   549
JRST	   347	   350	   353	   356	   358	   374	   376	   378	   379	   385	   392	   421	   456	   457
	   463	   467	   468	   470	   499	   500	   511	   568	   584	   610	   627	   633	   693	   696
	   698	   699	   701	   704	   707	   711	   712	   719	   721	   725	   729	   738	   742	   744
	   754	   773	   783	   784	   788	   799	   827	   835	   844	   847
JSR	   364	   370	   375	   377	   380	   381	   382	   419	   440	   451	   482	   485	   489	   495
	   520	   526	   545	   582	   608	   641	   644	   734	   762
JUMPE	   774	   791
JUMPLE	   842
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Opcode cross reference

LDB	   845
LOC	   282
LOOKUP	   741	   891
LSH	   657
MOVE	   293	   328	   372	   410	   414	   477	   491	   515	   527	   532	   577	   603	   652	   684
	   686	   717	   747	   756	   766	   767	   826	   854	   855	   856	   862	   865	   877
MOVEI	   291	   306	   333	   335	   337	   339	   341	   343	   384	   387	   390	   391	   394	   395
	   397	   437	   448	   472	   474	   476	   490	   521	   561	   624	   630	   676	   711	   714
	   731	   739	   742	   745	   748	   750	   755	   770	   789	   853	   876	   884
MOVEM	   362	   388	   389	   396	   398	   399	   401	   402	   403	   434	   469	   522	   528	   533
	   637	   638	   650	   651	   658	   690	   698	   713	   740	   751	   840
MOVNI	   881
MOVSI	   322	   552
MUL	   878
OPDEF	   189	   190	   191	   192	   193	   194
OPEN	   889
POINT	   477	   491	   686	   717	   756	   766	   767	   845
POP	   518	   868	   869	   870	   871	   872
POPJ	   404	   647	   654	   661	   667	   679	   774	   779	   791	   795	   801	   805	   822	   825
	   833	   839	   873	   887	   890	   892	   895
PUSH	   514	   848	   849	   850	   851	   852
PUSHJ	   304	   334	   336	   338	   340	   342	   344	   345	   348	   351	   354	   357	   360	   368
	   411	   429	   430	   431	   432	   438	   439	   443	   444	   445	   446	   449	   450	   454
	   459	   465	   473	   475	   479	   481	   486	   492	   505	   550	   562	   573	   599	   625
	   626	   631	   632	   636	   649	   656	   659	   677	   678	   689	   694	   702	   710	   715
	   716	   722	   727	   732	   733	   743	   746	   759	   761	   775	   780	   792	   820	   823
	   824	   857	   858	   859	   860
RELEAS	   408
RELOC	   284
REPEAT	   428	   442
ROTC	   875
SETOM	   295	   383	   386	   393	   409	   571	   688	   893
SETZ	   290	   325	   785	   841
SETZM	   294	   296	   331	   365	   366	   367	   435	   513	   572	   597	   598	   683	   687	   768
	   769
SIXBIT	   556	   557	   736	   897	   900	   901
SKIPA	   400
SKIPL	   512	   718	   883
SKIPN	   484	   498	   510	   749	   753	   832
SOJG	   480	   494	   760	   777	   794	   886
SOJL	   786
SOSGE	   692	   700	   720
STATZ	   838
SUBI	   705	   723
SUBTTL	   807
TITLE	   268
TLNN	   418	   581	   607	   819	   821
TLO	   894
TLZ	   863
TRNE	   461	   882
TRNN	   363	   728
TRO	   462	   804
TRZ	   460	   726
SLAVE - SLAVE FOR PDP - 10 TELECOPY	MACRO 12.5-46.0 08:12 25-OCT-87
SLAVE.MAC	23-DEC-86 12:29		Opcode cross reference

USETI	   836
XOR	   861	   866
XWD	   328	   422	   423	   424	   425	   426	   515	   585	   586	   587	   588	   589	   590	   591
	   592	   593	   594	   595	   611	   612	   613	   614	   615	   616	   617	   618	   619	   620
	   621	   896  +@
d