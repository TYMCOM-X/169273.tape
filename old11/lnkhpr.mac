	.NLIST
.IF DF .HLIST
	.NLIST
.ENDC
	.LIST
	.SBTTL	LNKHPR - Nexilis/JRG
	.SBTTL	LNKHPR - Parameter definations for type H link

XLIST=!1

.IF NDF ..SAT		;Default is base
  ..SAT=!0
.ENDC

.IF NDF ..TPC		;DEFAULT IS NO TERMINAL PROTOCOL CONVERSION
  ..TPC=!0
.ENDC

.IF NE ..TPC		;IF HAVE TERMINAL PROTOCOL CONVERSION
  ..SAT=!0		;THEN MUST HAVE BASE SUPPORT!
.ENDC

; Pure status bits - in LDHST0 word of LDB

$L0DIR	=! $BIT15			; Input from neighbor direction
$L0SAT	=! $BIT07			; Satellite header instead of normal

; Impure status bits - in LDHST1 word of LDB

$L1BSY	=! $BIT15			; Line is busy
$L1FLW	=! $BIT14			; Packet level should send flow control
$L1UNV	=! $BIT13			; Line is unavailable

$L1DWN	=! $BIT07			; Line is down

; Flags - in LDHAFG word of LDB

$ILOW	=! $BIT15			; Receiving low order byte of word
$IRMA	=! $BIT14			; Output interrupt IRMA timer bit
$OACTV	=! $BIT13			; Output of byte is in progress
$IGNOR	=! $BIT12			; Ignore incoming reset pattern
$BYTE1	=! $BIT11			; Waiting for 1st byte of input frame
$ABUTT	=! $BIT10			; Next message abutts this one

$RESET	=! $BIT07			; Sending reset pattern

; Timer duration values

TIME.D	=! 20.				; Non-acknowledgement take-down timer
TIME.I	=! 10.				; Non-input master reset timer
TIME.R	=! 4.				; Ignore reset on input timer

; Constants

.RESET	=! 5253				; TYMNET reset pattern header word

;DEFINE STATUS BITS FOR THE SDLHS1 WORD IN THE SDB

$H1LCT=!100000		;LOCAL COPY TERMINAL
$H1TCD=!040000		;TYMSHARE MODE COMMAND DECODER
$H1XD1=!020000		;EXPECTING TERMINAL TYPE AND HIGH 6 BITS OF NODE #
$H1XD2=!010000		;EXPECTING LOW 6 BITS OF NODE # AND PORT NUMBER
$H1AUX=!004000		;BUILDING AUX CIRCUIT
$H1INC=!002000		;INCOMING CONNECT
$H1INX=!001000		;INPUT EXPECTED
$H1GBR=!000400		;GREEN BALL RECEIVED
$H1PRJ=!000200		;RECEIVING PROJECT CODE (THIS SHOULD BE A SIGN BIT SINCE
			;  IT IS TESTED IN THE DATA INPUT LOOP!)
$H1SEL=!000100		;THIS TERMINAL IS A SELECTRIC
$H1TPC=!000040		;This socket is using the terminal protocol converter
$H1DTP=!000020		;Disconnect pending (we have sent a yellow ball to
			;  clear the pipe before sending a zapper!)
$H1GBP=!000010		;Green ball is pending
$H1TBA=!000004		;Terminal buffer assigned to socket
$H1CRD=!000002		;STATE OF CR DELAY FLAG (TOWARD TYMNET)
$H1SPR=!000001		;THIS IS A SUPERVISORY CONNECTION TO A LNKF INTERFACE

;DEFINE STATUS BITS FOR THE SDLHS2 WORD IN THE SDB

$H2PWM=!000001		;USER IS TYPING IN HIS PASSWORD

;DEFINE MESSAGE TYPES AND SUB-TYPES FOR SUPERVISOR MESSAGES

;MESSAGES RECEIVED FROM THE SUPERVISOR

.SMTKO=!0		;TAKE OVER
.SMPCB=!1		;PUT CHARACTER INTO BUFFER
.SMCPT=!2		;CHANGE PERMUTER TABLE ENTRY
.SMCMM=!3		;CHANGE MEMORY OR MISCELLANEOUS
  .S3LCR=!0		;  LOGIN CHARACTER RESPONSE
  .S3CBF=!4		;  CLEAR BUFFER
  .S3SCT=!12		;  SET CONGESTION TIMEOUT
  .S3BOT=!14		;  GO TO BOOTSTRAP
  .S3DOU=!15		;  DIALOUT CIRCUIT
  .S3RLS=!16		;  REPORT LINE SPEEDS
  .S3DLD=!17		;  DOWNLOAD NEIGHBOR
.SMRDM=!4		;READ MEMROY
.SMLGI=!5		;LOGIN STATUS
  .S5IIS=!5		;  INTERNALLY-INITIATED LOGIN STATUS
  .S5EIL=!11		;  EXTERNALLY-INITIATED LOGIN
  .S5IIL=!12		;  INTERNALLY-INITIATED LOGIN
.SMTOD=!6		;SUPERVISOR TIME-OF-DAY
.SMINV=!7		;INVOICE NUMBER

;MESSAGES SENT TO THE SUPERVISOR

.SMTKR=!0		;TAKEOVER RESPONSE
.SMLGC=!1		;LOGIN CHARACTER
.SMREJ=!2		;REJECT
.SMMDR=!3		;MEMORY DATA OR REPORTS
  .S3ZAP=!0		;  CIRCUIT ZAPPED
  .S3PTA=!1		;  PERMUTER TABLE CHANGE ACKNOWLEDGMENT
  .S3HUD=!2		;  HOST UP/DOWN
  .S3BZP=!3		;  BUFFER ZAPPED
  .S3LRS=!4		;  LINE RESET
  .S3LOU=!5		;  LINE OUT
  .S3LES=!6		;  LINE ERRORS OR LINE SPEED
  .S3LOC=!7		;  LINE OVERLOAD OR SUPERVISOR CONGESTION
  .S3UNH=!10		;  HOST UNHAPPY

  .S3BAK=!11		;  BAD ACKNOWLEDGEMENT
  .S3TMP=!12		;  TEMPERATURE REPORT
  .S3NM1=!13		;  NODE MESSAGE 1
  .S3NM2=!14		;  NODE MESSAGE 2
  .S3NM3=!15		;  NODE MESSAGE 3
  .S3TRC=!16		;  TYMCOM TRACE
  .S3SSC=!17		;  SOFT SBOD CRASH IN TYMCOM
  .S3CSE=!20		;  CHECK-SUM ERROR
  .S3LOP=!21		;  LOOPBACK
  .S3TCN=!22		;  TYMCOM CONSTIPATED
  .S3NOV=!23		;  NODE OVERLOADED
  .S3LNS=!24		;  LINE SNIPPED (BAD FRAME CONTENTS)
    .EFRL0=!100024	;    RECORD LENGTH = 0
    .EFILS=!100124	;    INVALID LENGTH FOR SUPERVISOR MESSAGE
    .EFILF=!100224	;    INVALID LENGTH FOR FLOW CONTROL MESSAGE
    .EFCPS=!100324	;    CHARACTER PAIR SPLIT
    .EFBCN=!100424	;    BAD CHANNEL NUMBER
  .S3SLR=!25		;  SYNC LINE RETRANSMISSIONS
  .S3CRS=!26		;  CRASH
  .S3SLE=!27		;  SYNC LINE ERRORS
  .S3SLO=!30		;  SYNC LINE OUT
  .S3RRC=!31		;  RETRANSMISSIONS RECEIVED
  .S3RST=!32		;  RETRANSMISSIONS SENT
  .S3BTK=!33		;  BACK-TALK
  .S3BBO=!34		;  BAD BOOTSTRAP CHECKSUM
  .S3DLA=!35		;  DOWNLOAD ACKNOWLEDGEMENT
.SMLIP=!4		;SEND LOGIN CHARACTER PAIR
.SMMS5=!5		;MISCELLANEOUS
  .S5AHO=!4		;  AUXCIRCUIT HOST # REPORT
  .S5AUX=!5		;  AUXILIARY CIRCUIT REQUEST
  .S5HSC=!6		;  HOST STATUS CHANGE
.SMMS6=!6		;MISCELLANEOUS AND REPORT P-TABLE RANGE
  .S6RPK=!0		;  REPORT KEY
  .S6PRC=!1		;  REPORT COOST
  .S6HOP=!2		;  SET HOST OUT OF PORTS
  .S6HHP=!3		;  HOST HAS PORTS
  .S6TOD=!4		;  TIME OF DAY REQUEST
  .S6OHN=!6		;  ORRIGINATING HOST NUMBER FOR TERMINAL CIRCUITS
.SMACC=!7		;ACCOUNTING
  .S7INV=!7		;INVOICE NUMBER
  .S7ICC=!10		;INPUT CHARACTER COUNT
  .S7OCC=!11		;OUTPUT CHARACTER COUNT UPDATE
  .S7OCH=!12		;OUTPUT CHARACTER COUNT - FINAL, HOST DOWN
  .S7OCZ=!13		;OUTPUT CHARACTER COUNT - FINAL, ZAPPER FROM HOST
  .S7OCU=!14		;OUTPUT CHARACTER COUNT - FINAL, ZAPPER FROM USER
  .S7PRJ=!15		;PROJECT CODE CHARACTERS
  .S7INF=!16		;ADDITIONAL INFORMATION

;DEFINE CHARACTER VALUES

.CCESC=!0		;ESCAPE CHARACTER
.CCPRE=!1		;PREFIX CHARACTER
  .PCECC=!0		;  ECHO CONTROL (OLD STYLE)
    $ECECO=!10		;    ECHO ON
    $ECECI=!04		;    ECHO CONTROL-I
    $ECELC=!02		;    ECHO LINE FEED WITH CARRIAGE RETURN
    $ECECL=!01		;    ECHO CARRIAGE RETURN WITH LINE FEED
  .PCCIR=!20		;  CR DELAY FLAG AND INPUT BAUD RATE (OLD STYLE)
    $ECCRD=!10		;    CR delay flag
    $ECIBR=!07		;    Input baud rate
  .PCPOR=!40		;  PARITY AND OUTPUT BAUD RATE (OLD STYLE)
  .PCPAH=!60		;  PARAMETER A (3 BITS) AND HALF DUPLEX (OLD STYLE)
  .PCPMD=!100		;  PARAMETER D
  .PCPMC=!120		;  PARAMETER C
  .PCPMB=!140		;  PARAMETER B
  .PCPMA=!160		;  PARAMETER A
  .PCOBR=!200		;  OUTPUT BAUD RATE
  .PCQFL=!220		;  QUERY FIELD
    .QFPMD=!4		;    PARAMETER D
    .QFPMC=!5		;    PARAMETER C
    .QFPMB=!6		;    PARAMETER B
    .QFPMA=!7		;    PARAMETER A
    .QFOBR=!10		;    OUTPUT BAUD RATE
  .PCQBT=!240		;  QUERY BIT
    .QBECN=!0		;    ECHO CONTROL
    .QBECI=!2		;    ECHO CONTROL I
    .QBECL=!4		;    ECHO CR WITH LF
    .QBELC=!6		;    ECHO LF WITH CR
    .QBHDP=!10		;    HALF DUPLEX
    .QBPAR=!12		;    PARITY
    .QBXEN=!14		;    XON/OFF ENABLE
    .QBCRD=!16		;    CR DELAY FLAG
    .QBECH=!20		;    ECHO CONTROL-H
    .QBRXE=!22		;    REVERSE X-ENABLE
    .QBKAT=!24		;    KATAKANA
    .QBTOB=!26		;    TERMINATE OUTPUT ON BREAK
    .QBECE=!30		;    ECHO-ESC
    .QBQMD=!32		;    "Q" MODE
  .PCSBT=!300		;  SET BIT
  .PCE2T=!340		;  ENTER 2741 TRANSPARANCY MODE
  .PCL2T=!341		;  LEAVE 2741 TRANSPARANCY MODE
  .PCCON=!360		;  CONTROL INFORMATION
    .CIHNG=!0		;    HANG CHARACTER
    .CITRH=!1		;    TURNAROUND HANG CHARACTER
    .CIETR=!2		;    ENTER TRANSPARANCY MODE
    .CILTR=!3		;    LEAVE TRANSPARANCY MODE
    .CIEAD=!4		;    ENTER ALTERNATE DEVICE MODE
    .CILAD=!5		;    LEAVE ALTERNATE DEVICE MODE
    .CIENC=!10		;    ENTER NETWORK COMPRESSION MODE
    .CILNC=!11		;    LEAVE NETWORK COMPRESSION MODE
    .CIBRK=!13		;    BREAK DETECTED OR REQUESTED
    .CIGRY=!14		;    GRAY BALL
    .CIBLK=!15		;    BLACK BALL
    .CIORG=!16		;    ORANGE BALL
    .CIYEL=!17		;    YELLOW BALL
.CCGBL=!2		;CHARACTER GOBBLER
.CCZAP=!3		;CIRCUIT ZAPPER
.CCLDE=!4		;LEAVE DEFERED ECHO MODE COMMAND
.CCGRN=!5		;GREEN BALL
.CCRED=!6		;RED BALL
.CCEDE=!7		;ENTER DEFERED ECHO MODE COMMAND

;DEFINE MULTIPLIER VALUES FOR ERROR COUNTERS

.TVERC=!64.		;CHECKSUM ERRORS
.TVERB=!1.		;LOOPBACK ERRORS
.TVERS=!8.		;RETRANSMISSIONS RECEIVED
.TVERX=!8.		;RETRANSMISSIONS SENT

;DEFINE SUB-FUNCTIONS FOR SUPERVISORY CONNECTIONS

;FUNCTIONS SENT TO THE GATEWAY:

.SFSHT=!0		;HOST IS SHUT
.SFANS=!1		;HOST IS ANSWERED
.SFSAD=!2		;HOST SAD BITS
.SFTOD=!3		;TIME OF DAY REQUEST

;FUNCTIONS SENT TO THE HOST:

.SFTIM=!0		;TIME REPORT

;DEFINE MACRO USED TO GET WORD FROM SUPERVISOR MESSAGE

	.MACRO	SPRWRD  REG
	CLR	REG
	BISB	(R2)+,REG
	SWAB	REG
	BISB	(R2)+,REG
	.ENDM

	.NLIST
.IF DF .HLIST
	.LIST
.ENDC
	.LIST
